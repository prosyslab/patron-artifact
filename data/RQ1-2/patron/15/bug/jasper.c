/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 216 "/usr/lib/gcc/x86_64-linux-gnu/8/include/stddef.h"
typedef unsigned long size_t;
#line 328 "/usr/lib/gcc/x86_64-linux-gnu/8/include/stddef.h"
typedef int wchar_t;
#line 41 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef int __int32_t;
#line 147 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __gid_t;
#line 152 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 153 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 160 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __time_t;
#line 162 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __suseconds_t;
#line 193 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __ssize_t;
#line 108 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __ssize_t ssize_t;
#line 8 "/usr/include/x86_64-linux-gnu/bits/types/struct_timeval.h"
struct timeval {
   __time_t tv_sec ;
   __suseconds_t tv_usec ;
};
#line 40 "/usr/lib/gcc/x86_64-linux-gnu/8/include/stdarg.h"
typedef __builtin_va_list __gnuc_va_list;
#line 4 "/usr/include/x86_64-linux-gnu/bits/types/__FILE.h"
struct _IO_FILE ;
#line 7 "/usr/include/x86_64-linux-gnu/bits/types/FILE.h"
typedef struct _IO_FILE FILE;
#line 36 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
struct _IO_marker ;
#line 37
struct _IO_codecvt ;
#line 38
struct _IO_wide_data ;
#line 43 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
typedef void _IO_lock_t;
#line 49 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   struct _IO_codecvt *_codecvt ;
   struct _IO_wide_data *_wide_data ;
   struct _IO_FILE *_freeres_list ;
   void *_freeres_buf ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[20] ;
};
#line 52 "/usr/include/stdio.h"
typedef __gnuc_va_list va_list;
#line 58 "/usr/include/stdint.h"
typedef signed char int_fast8_t;
#line 60 "/usr/include/stdint.h"
typedef long int_fast16_t;
#line 61 "/usr/include/stdint.h"
typedef long int_fast32_t;
#line 62 "/usr/include/stdint.h"
typedef long int_fast64_t;
#line 71 "/usr/include/stdint.h"
typedef unsigned char uint_fast8_t;
#line 73 "/usr/include/stdint.h"
typedef unsigned long uint_fast16_t;
#line 74 "/usr/include/stdint.h"
typedef unsigned long uint_fast32_t;
#line 75 "/usr/include/stdint.h"
typedef unsigned long uint_fast64_t;
#line 173 "../../../src/libjasper/include/jasper/jas_stream.h"
typedef void jas_stream_obj_t;
#line 179 "../../../src/libjasper/include/jasper/jas_stream.h"
struct __anonstruct_25 {
   int (*read_)(jas_stream_obj_t * , char * , int  ) ;
   int (*write_)(jas_stream_obj_t * , char * , int  ) ;
   long (*seek_)(jas_stream_obj_t * , long  , int  ) ;
   int (*close_)(jas_stream_obj_t * ) ;
};
#line 193 "../../../src/libjasper/include/jasper/jas_stream.h"
typedef struct __anonstruct_25 jas_stream_ops_t;
#line 199 "../../../src/libjasper/include/jasper/jas_stream.h"
struct __anonstruct_26 {
   int openmode_ ;
   int bufmode_ ;
   int flags_ ;
   unsigned char *bufbase_ ;
   unsigned char *bufstart_ ;
   int bufsize_ ;
   unsigned char *ptr_ ;
   int cnt_ ;
   unsigned char tinybuf_[17] ;
   jas_stream_ops_t *ops_ ;
   jas_stream_obj_t *obj_ ;
   long rwcnt_ ;
   long rwlimit_ ;
};
#line 242 "../../../src/libjasper/include/jasper/jas_stream.h"
typedef struct __anonstruct_26 jas_stream_t;
#line 251 "../../../src/libjasper/include/jasper/jas_stream.h"
struct __anonstruct_27 {
   int fd ;
   int flags ;
   char pathname[21] ;
};
#line 255 "../../../src/libjasper/include/jasper/jas_stream.h"
typedef struct __anonstruct_27 jas_stream_fileobj_t;
#line 264 "../../../src/libjasper/include/jasper/jas_stream.h"
struct __anonstruct_28 {
   unsigned char *buf_ ;
   int bufsize_ ;
   int_fast32_t len_ ;
   int_fast32_t pos_ ;
   int growable_ ;
   int myalloc_ ;
};
#line 284 "../../../src/libjasper/include/jasper/jas_stream.h"
typedef struct __anonstruct_28 jas_stream_memobj_t;
#line 98 "../../../src/libjasper/include/jasper/jas_seq.h"
typedef int_fast32_t jas_seqent_t;
#line 105 "../../../src/libjasper/include/jasper/jas_seq.h"
struct __anonstruct_29 {
   int flags_ ;
   int_fast32_t xstart_ ;
   int_fast32_t ystart_ ;
   int_fast32_t xend_ ;
   int_fast32_t yend_ ;
   int_fast32_t numrows_ ;
   int_fast32_t numcols_ ;
   jas_seqent_t **rows_ ;
   int_fast32_t maxrows_ ;
   jas_seqent_t *data_ ;
   int_fast32_t datasize_ ;
};
#line 140 "../../../src/libjasper/include/jasper/jas_seq.h"
typedef struct __anonstruct_29 jas_matrix_t;
#line 142 "../../../src/libjasper/include/jasper/jas_seq.h"
typedef jas_matrix_t jas_seq2d_t;
#line 143 "../../../src/libjasper/include/jasper/jas_seq.h"
typedef jas_matrix_t jas_seq_t;
#line 213 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast8_t jas_iccuint8_t;
#line 214 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast16_t jas_iccuint16_t;
#line 215 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast32_t jas_iccuint32_t;
#line 216 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef int_fast32_t jas_iccsint32_t;
#line 217 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef int_fast32_t jas_iccs15fixed16_t;
#line 219 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast64_t jas_iccuint64_t;
#line 220 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast32_t jas_iccsig_t;
#line 224 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef jas_iccsig_t jas_iccattrname_t;
#line 227 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_30 {
   jas_iccuint16_t year ;
   jas_iccuint16_t month ;
   jas_iccuint16_t day ;
   jas_iccuint16_t hour ;
   jas_iccuint16_t min ;
   jas_iccuint16_t sec ;
};
#line 234 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_30 jas_icctime_t;
#line 237 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_31 {
   jas_iccs15fixed16_t x ;
   jas_iccs15fixed16_t y ;
   jas_iccs15fixed16_t z ;
};
#line 241 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_31 jas_iccxyz_t;
#line 244 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_32 {
   jas_iccuint32_t numents ;
   jas_iccuint16_t *ents ;
};
#line 247 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_32 jas_icccurv_t;
#line 250 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_33 {
   jas_iccuint32_t asclen ;
   char *ascdata ;
   jas_iccuint32_t uclangcode ;
   jas_iccuint32_t uclen ;
   unsigned char *ucdata ;
   jas_iccuint16_t sccode ;
   jas_iccuint8_t maclen ;
   unsigned char macdata[69] ;
};
#line 259 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_33 jas_icctxtdesc_t;
#line 262 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_34 {
   char *string ;
};
#line 264 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_34 jas_icctxt_t;
#line 266 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_35 {
   jas_iccuint8_t numinchans ;
   jas_iccuint8_t numoutchans ;
   jas_iccsint32_t e[3][3] ;
   jas_iccuint8_t clutlen ;
   jas_iccuint8_t *clut ;
   jas_iccuint16_t numintabents ;
   jas_iccuint8_t **intabs ;
   jas_iccuint8_t *intabsbuf ;
   jas_iccuint16_t numouttabents ;
   jas_iccuint8_t **outtabs ;
   jas_iccuint8_t *outtabsbuf ;
};
#line 278 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_35 jas_icclut8_t;
#line 280 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_36 {
   jas_iccuint8_t numinchans ;
   jas_iccuint8_t numoutchans ;
   jas_iccsint32_t e[3][3] ;
   jas_iccuint8_t clutlen ;
   jas_iccuint16_t *clut ;
   jas_iccuint16_t numintabents ;
   jas_iccuint16_t **intabs ;
   jas_iccuint16_t *intabsbuf ;
   jas_iccuint16_t numouttabents ;
   jas_iccuint16_t **outtabs ;
   jas_iccuint16_t *outtabsbuf ;
};
#line 292 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_36 jas_icclut16_t;
#line 294
struct jas_iccattrval_s ;
#line 296 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_37 {
   void (*destroy)(struct jas_iccattrval_s * ) ;
   int (*copy)(struct jas_iccattrval_s * , struct jas_iccattrval_s * ) ;
   int (*input)(struct jas_iccattrval_s * , jas_stream_t * , int  ) ;
   int (*output)(struct jas_iccattrval_s * , jas_stream_t * ) ;
   int (*getsize)(struct jas_iccattrval_s * ) ;
   void (*dump)(struct jas_iccattrval_s * , FILE * ) ;
};
#line 303 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_37 jas_iccattrvalops_t;
#line 310 "../../../src/libjasper/include/jasper/jas_icc.h"
union __anonunion_38 {
   jas_iccxyz_t xyz ;
   jas_icccurv_t curv ;
   jas_icctxtdesc_t txtdesc ;
   jas_icctxt_t txt ;
   jas_icclut8_t lut8 ;
   jas_icclut16_t lut16 ;
};
#line 306 "../../../src/libjasper/include/jasper/jas_icc.h"
struct jas_iccattrval_s {
   int refcnt ;
   jas_iccsig_t type ;
   jas_iccattrvalops_t *ops ;
   union __anonunion_38 data ;
};
#line 318 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct jas_iccattrval_s jas_iccattrval_t;
#line 321 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_39 {
   jas_iccuint32_t size ;
   jas_iccsig_t cmmtype ;
   jas_iccuint32_t version ;
   jas_iccsig_t clas ;
   jas_iccsig_t colorspc ;
   jas_iccsig_t refcolorspc ;
   jas_icctime_t ctime ;
   jas_iccsig_t magic ;
   jas_iccsig_t platform ;
   jas_iccuint32_t flags ;
   jas_iccsig_t maker ;
   jas_iccsig_t model ;
   jas_iccuint64_t attr ;
   jas_iccsig_t intent ;
   jas_iccxyz_t illum ;
   jas_iccsig_t creator ;
};
#line 338 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_39 jas_icchdr_t;
#line 340 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_40 {
   jas_iccsig_t name ;
   jas_iccattrval_t *val ;
};
#line 343 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_40 jas_iccattr_t;
#line 345 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_41 {
   int numattrs ;
   int maxattrs ;
   jas_iccattr_t *attrs ;
};
#line 349 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_41 jas_iccattrtab_t;
#line 351 "../../../src/libjasper/include/jasper/jas_icc.h"
struct jas_icctagtabent_s {
   jas_iccuint32_t tag ;
   jas_iccuint32_t off ;
   jas_iccuint32_t len ;
   void *data ;
   struct jas_icctagtabent_s *first ;
};
#line 357 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct jas_icctagtabent_s jas_icctagtabent_t;
#line 359 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_42 {
   jas_iccuint32_t numents ;
   jas_icctagtabent_t *ents ;
};
#line 362 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_42 jas_icctagtab_t;
#line 365 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_43 {
   jas_icchdr_t hdr ;
   jas_icctagtab_t tagtab ;
   jas_iccattrtab_t *attrtab ;
};
#line 369 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_43 jas_iccprof_t;
#line 371 "../../../src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_44 {
   jas_iccuint32_t type ;
   jas_iccattrvalops_t ops ;
};
#line 374 "../../../src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_44 jas_iccattrvalinfo_t;
#line 78 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef int jas_clrspc_t;
#line 137 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef double jas_cmreal_t;
#line 139
struct jas_cmpxform_s ;
#line 141 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_45 {
   long *buf ;
   int prec ;
   int sgnd ;
   int width ;
   int height ;
};
#line 147 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_45 jas_cmcmptfmt_t;
#line 149 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_46 {
   int numcmpts ;
   jas_cmcmptfmt_t *cmptfmts ;
};
#line 152 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_46 jas_cmpixmap_t;
#line 154 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_47 {
   void (*destroy)(struct jas_cmpxform_s * ) ;
   int (*apply)(struct jas_cmpxform_s * , jas_cmreal_t * , jas_cmreal_t * , int  ) ;
   void (*dump)(struct jas_cmpxform_s * ) ;
};
#line 158 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_47 jas_cmpxformops_t;
#line 160 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_48 {
   jas_cmreal_t *data ;
   int size ;
};
#line 163 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_48 jas_cmshapmatlut_t;
#line 165 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_49 {
   int mono ;
   int order ;
   int useluts ;
   int usemat ;
   jas_cmshapmatlut_t luts[3] ;
   jas_cmreal_t mat[3][4] ;
};
#line 172 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_49 jas_cmshapmat_t;
#line 174 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_50 {
   int order ;
};
#line 176 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_50 jas_cmshaplut_t;
#line 178 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_51 {
   int inclrspc ;
   int outclrspc ;
};
#line 181 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_51 jas_cmclrspcconv_t;
#line 190 "../../../src/libjasper/include/jasper/jas_cm.h"
union __anonunion_52 {
   double dummy ;
   jas_cmshapmat_t shapmat ;
   jas_cmshaplut_t shaplut ;
   jas_cmclrspcconv_t clrspcconv ;
};
#line 185 "../../../src/libjasper/include/jasper/jas_cm.h"
struct jas_cmpxform_s {
   int refcnt ;
   jas_cmpxformops_t *ops ;
   int numinchans ;
   int numoutchans ;
   union __anonunion_52 data ;
};
#line 196 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct jas_cmpxform_s jas_cmpxform_t;
#line 198 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_53 {
   int numpxforms ;
   int maxpxforms ;
   jas_cmpxform_t **pxforms ;
};
#line 202 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_53 jas_cmpxformseq_t;
#line 204 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_54 {
   int numinchans ;
   int numoutchans ;
   jas_cmpxformseq_t *pxformseq ;
};
#line 208 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_54 jas_cmxform_t;
#line 215 "../../../src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_55 {
   int clrspc ;
   int numchans ;
   int refclrspc ;
   int numrefchans ;
   jas_iccprof_t *iccprof ;
   jas_cmpxformseq_t *pxformseqs[13] ;
};
#line 222 "../../../src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_55 jas_cmprof_t;
#line 121 "../../../src/libjasper/include/jasper/jas_image.h"
typedef int_fast32_t jas_image_coord_t;
#line 127 "../../../src/libjasper/include/jasper/jas_image.h"
typedef int_fast32_t jas_image_cmpttype_t;
#line 138 "../../../src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_56 {
   jas_image_coord_t tlx_ ;
   jas_image_coord_t tly_ ;
   jas_image_coord_t hstep_ ;
   jas_image_coord_t vstep_ ;
   jas_image_coord_t width_ ;
   jas_image_coord_t height_ ;
   int prec_ ;
   int sgnd_ ;
   jas_stream_t *stream_ ;
   int cps_ ;
   jas_image_cmpttype_t type_ ;
};
#line 179 "../../../src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_56 jas_image_cmpt_t;
#line 183 "../../../src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_57 {
   jas_image_coord_t tlx_ ;
   jas_image_coord_t tly_ ;
   jas_image_coord_t brx_ ;
   jas_image_coord_t bry_ ;
   int numcmpts_ ;
   int maxcmpts_ ;
   jas_image_cmpt_t **cmpts_ ;
   jas_clrspc_t clrspc_ ;
   jas_cmprof_t *cmprof_ ;
   int inmem_ ;
};
#line 215 "../../../src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_57 jas_image_t;
#line 221 "../../../src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_58 {
   jas_image_coord_t tlx ;
   jas_image_coord_t tly ;
   jas_image_coord_t hstep ;
   jas_image_coord_t vstep ;
   jas_image_coord_t width ;
   jas_image_coord_t height ;
   int prec ;
   int sgnd ;
};
#line 251 "../../../src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_58 jas_image_cmptparm_t;
#line 262 "../../../src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_59 {
   jas_image_t *(*decode)(jas_stream_t * , char * ) ;
   int (*encode)(jas_image_t * , jas_stream_t * , char * ) ;
   int (*validate)(jas_stream_t * ) ;
};
#line 273 "../../../src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_59 jas_image_fmtops_t;
#line 277 "../../../src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_60 {
   int id ;
   char *name ;
   char *ext ;
   char *desc ;
   jas_image_fmtops_t ops ;
};
#line 294 "../../../src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_60 jas_image_fmtinfo_t;
#line 103 "/root/patron-new/new_2/src/libjasper/ras/ras_cod.h"
struct __anonstruct_61 {
   int_fast32_t magic ;
   int_fast32_t width ;
   int_fast32_t height ;
   int_fast32_t depth ;
   int_fast32_t length ;
   int_fast32_t type ;
   int_fast32_t maptype ;
   int_fast32_t maplength ;
};
#line 129 "/root/patron-new/new_2/src/libjasper/ras/ras_cod.h"
typedef struct __anonstruct_61 ras_hdr_t;
#line 134 "/root/patron-new/new_2/src/libjasper/ras/ras_cod.h"
struct __anonstruct_62 {
   int len ;
   int data[256] ;
};
#line 142 "/root/patron-new/new_2/src/libjasper/ras/ras_cod.h"
typedef struct __anonstruct_62 ras_cmap_t;
#line 65 "/root/patron-new/new_2/src/libjasper/ras/ras_enc.h"
struct __anonstruct_63 {
   int numcmpts ;
   int cmpts[4] ;
};
#line 68 "/root/patron-new/new_2/src/libjasper/ras/ras_enc.h"
typedef struct __anonstruct_63 ras_enc_t;
#line 87 "../../../src/libjasper/include/jasper/jas_tvp.h"
struct __anonstruct_86 {
   int id ;
   char *name ;
};
#line 95 "../../../src/libjasper/include/jasper/jas_tvp.h"
typedef struct __anonstruct_86 jas_taginfo_t;
#line 99 "../../../src/libjasper/include/jasper/jas_tvp.h"
struct __anonstruct_87 {
   char *buf ;
   char *tag ;
   char *val ;
   char *pos ;
};
#line 113 "../../../src/libjasper/include/jasper/jas_tvp.h"
typedef struct __anonstruct_87 jas_tvparser_t;
#line 116 "/root/patron-new/new_2/src/libjasper/pnm/pnm_cod.h"
struct __anonstruct_129 {
   int magic ;
   int width ;
   int height ;
   int numcmpts ;
   int maxval ;
   int sgnd ;
};
#line 139 "/root/patron-new/new_2/src/libjasper/pnm/pnm_cod.h"
typedef struct __anonstruct_129 pnm_hdr_t;
#line 65 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.h"
struct __anonstruct_130 {
   int numcmpts ;
   int cmpts[4] ;
};
#line 68 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.h"
typedef struct __anonstruct_130 pnm_enc_t;
#line 92 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
struct __anonstruct_131 {
   int bin ;
};
#line 94 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
typedef struct __anonstruct_131 pnm_encopts_t;
#line 90 "/root/patron-new/new_2/src/libjasper/pgx/pgx_cod.h"
struct __anonstruct_242 {
   uint_fast16_t magic ;
   int bigendian ;
   int sgnd ;
   uint_fast32_t prec ;
   uint_fast32_t width ;
   uint_fast32_t height ;
};
#line 110 "/root/patron-new/new_2/src/libjasper/pgx/pgx_cod.h"
typedef struct __anonstruct_242 pgx_hdr_t;
#line 65 "/root/patron-new/new_2/src/libjasper/pgx/pgx_enc.h"
struct __anonstruct_243 {
   int cmpt ;
};
#line 67 "/root/patron-new/new_2/src/libjasper/pgx/pgx_enc.h"
typedef struct __anonstruct_243 pgx_enc_t;
#line 87 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.h"
struct __anonstruct_332 {
   int_fast32_t tlx ;
   int_fast32_t tly ;
   int_fast32_t width ;
   int_fast32_t height ;
   int_fast32_t sampperx ;
   int_fast32_t samppery ;
   int_fast16_t prec ;
   int_fast16_t sgnd ;
   char *data ;
};
#line 107 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.h"
typedef struct __anonstruct_332 mif_cmpt_t;
#line 111 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.h"
struct __anonstruct_333 {
   uint_fast32_t magic ;
   int numcmpts ;
   int maxcmpts ;
   mif_cmpt_t **cmpts ;
};
#line 121 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.h"
typedef struct __anonstruct_333 mif_hdr_t;
#line 51 "/usr/include/jmorecfg.h"
typedef unsigned char JSAMPLE;
#line 91 "/usr/include/jmorecfg.h"
typedef short JCOEF;
#line 102 "/usr/include/jmorecfg.h"
typedef unsigned char JOCTET;
#line 127 "/usr/include/jmorecfg.h"
typedef unsigned char UINT8;
#line 139 "/usr/include/jmorecfg.h"
typedef unsigned short UINT16;
#line 194 "/usr/include/jmorecfg.h"
typedef unsigned int JDIMENSION;
#line 242 "/usr/include/jmorecfg.h"
typedef int boolean;
#line 69 "/usr/include/jpeglib.h"
typedef JSAMPLE *JSAMPROW;
#line 70 "/usr/include/jpeglib.h"
typedef JSAMPROW *JSAMPARRAY;
#line 73 "/usr/include/jpeglib.h"
typedef JCOEF JBLOCK[64];
#line 74 "/usr/include/jpeglib.h"
typedef JBLOCK *JBLOCKROW;
#line 75 "/usr/include/jpeglib.h"
typedef JBLOCKROW *JBLOCKARRAY;
#line 86 "/usr/include/jpeglib.h"
struct __anonstruct_438 {
   UINT16 quantval[64] ;
   boolean sent_table ;
};
#line 98 "/usr/include/jpeglib.h"
typedef struct __anonstruct_438 JQUANT_TBL;
#line 103 "/usr/include/jpeglib.h"
struct __anonstruct_439 {
   UINT8 bits[17] ;
   UINT8 huffval[256] ;
   boolean sent_table ;
};
#line 114 "/usr/include/jpeglib.h"
typedef struct __anonstruct_439 JHUFF_TBL;
#line 119 "/usr/include/jpeglib.h"
struct __anonstruct_440 {
   int component_id ;
   int component_index ;
   int h_samp_factor ;
   int v_samp_factor ;
   int quant_tbl_no ;
   int dc_tbl_no ;
   int ac_tbl_no ;
   JDIMENSION width_in_blocks ;
   JDIMENSION height_in_blocks ;
   int DCT_h_scaled_size ;
   int DCT_v_scaled_size ;
   JDIMENSION downsampled_width ;
   JDIMENSION downsampled_height ;
   boolean component_needed ;
   int MCU_width ;
   int MCU_height ;
   int MCU_blocks ;
   int MCU_sample_width ;
   int last_col_width ;
   int last_row_height ;
   JQUANT_TBL *quant_table ;
   void *dct_table ;
};
#line 187 "/usr/include/jpeglib.h"
typedef struct __anonstruct_440 jpeg_component_info;
#line 192 "/usr/include/jpeglib.h"
struct __anonstruct_441 {
   int comps_in_scan ;
   int component_index[4] ;
   int Ss ;
   int Se ;
   int Ah ;
   int Al ;
};
#line 197 "/usr/include/jpeglib.h"
typedef struct __anonstruct_441 jpeg_scan_info;
#line 201
struct jpeg_marker_struct ;
#line 201 "/usr/include/jpeglib.h"
typedef struct jpeg_marker_struct *jpeg_saved_marker_ptr;
#line 203 "/usr/include/jpeglib.h"
struct jpeg_marker_struct {
   jpeg_saved_marker_ptr next ;
   UINT8 marker ;
   unsigned int original_length ;
   unsigned int data_length ;
   JOCTET *data ;
};
#line 217
enum __anonenum__442 {
    JCS_UNKNOWN = 0,
    JCS_GRAYSCALE = 1,
    JCS_RGB = 2,
    JCS_YCbCr = 3,
    JCS_CMYK = 4,
    JCS_YCCK = 5,
    JCS_EXT_RGB = 6,
    JCS_EXT_RGBX = 7,
    JCS_EXT_BGR = 8,
    JCS_EXT_BGRX = 9,
    JCS_EXT_XBGR = 10,
    JCS_EXT_XRGB = 11,
    JCS_EXT_RGBA = 12,
    JCS_EXT_BGRA = 13,
    JCS_EXT_ABGR = 14,
    JCS_EXT_ARGB = 15,
    JCS_RGB565 = 16
} ;
#line 242 "/usr/include/jpeglib.h"
typedef enum __anonenum__442 J_COLOR_SPACE;
#line 246
enum __anonenum__443 {
    JDCT_ISLOW = 0,
    JDCT_IFAST = 1,
    JDCT_FLOAT = 2
} ;
#line 250 "/usr/include/jpeglib.h"
typedef enum __anonenum__443 J_DCT_METHOD;
#line 261
enum __anonenum__444 {
    JDITHER_NONE = 0,
    JDITHER_ORDERED = 1,
    JDITHER_FS = 2
} ;
#line 265 "/usr/include/jpeglib.h"
typedef enum __anonenum__444 J_DITHER_MODE;
#line 283
struct jpeg_error_mgr ;
#line 283
struct jpeg_memory_mgr ;
#line 283
struct jpeg_progress_mgr ;
#line 282 "/usr/include/jpeglib.h"
struct jpeg_common_struct {
   struct jpeg_error_mgr *err ;
   struct jpeg_memory_mgr *mem ;
   struct jpeg_progress_mgr *progress ;
   void *client_data ;
   boolean is_decompressor ;
   int global_state ;
};
#line 290 "/usr/include/jpeglib.h"
typedef struct jpeg_common_struct *j_common_ptr;
#line 291
struct jpeg_compress_struct ;
#line 291 "/usr/include/jpeglib.h"
typedef struct jpeg_compress_struct *j_compress_ptr;
#line 292
struct jpeg_decompress_struct ;
#line 292 "/usr/include/jpeglib.h"
typedef struct jpeg_decompress_struct *j_decompress_ptr;
#line 301
struct jpeg_destination_mgr ;
#line 456
struct jpeg_comp_master ;
#line 457
struct jpeg_c_main_controller ;
#line 458
struct jpeg_c_prep_controller ;
#line 459
struct jpeg_c_coef_controller ;
#line 460
struct jpeg_marker_writer ;
#line 461
struct jpeg_color_converter ;
#line 462
struct jpeg_downsampler ;
#line 463
struct jpeg_forward_dct ;
#line 464
struct jpeg_entropy_encoder ;
#line 297 "/usr/include/jpeglib.h"
struct jpeg_compress_struct {
   struct jpeg_error_mgr *err ;
   struct jpeg_memory_mgr *mem ;
   struct jpeg_progress_mgr *progress ;
   void *client_data ;
   boolean is_decompressor ;
   int global_state ;
   struct jpeg_destination_mgr *dest ;
   JDIMENSION image_width ;
   JDIMENSION image_height ;
   int input_components ;
   J_COLOR_SPACE in_color_space ;
   double input_gamma ;
   unsigned int scale_num ;
   unsigned int scale_denom ;
   JDIMENSION jpeg_width ;
   JDIMENSION jpeg_height ;
   int data_precision ;
   int num_components ;
   J_COLOR_SPACE jpeg_color_space ;
   jpeg_component_info *comp_info ;
   JQUANT_TBL *quant_tbl_ptrs[4] ;
   int q_scale_factor[4] ;
   JHUFF_TBL *dc_huff_tbl_ptrs[4] ;
   JHUFF_TBL *ac_huff_tbl_ptrs[4] ;
   UINT8 arith_dc_L[16] ;
   UINT8 arith_dc_U[16] ;
   UINT8 arith_ac_K[16] ;
   int num_scans ;
   jpeg_scan_info *scan_info ;
   boolean raw_data_in ;
   boolean arith_code ;
   boolean optimize_coding ;
   boolean CCIR601_sampling ;
   boolean do_fancy_downsampling ;
   int smoothing_factor ;
   J_DCT_METHOD dct_method ;
   unsigned int restart_interval ;
   int restart_in_rows ;
   boolean write_JFIF_header ;
   UINT8 JFIF_major_version ;
   UINT8 JFIF_minor_version ;
   UINT8 density_unit ;
   UINT16 X_density ;
   UINT16 Y_density ;
   boolean write_Adobe_marker ;
   JDIMENSION next_scanline ;
   boolean progressive_mode ;
   int max_h_samp_factor ;
   int max_v_samp_factor ;
   int min_DCT_h_scaled_size ;
   int min_DCT_v_scaled_size ;
   JDIMENSION total_iMCU_rows ;
   int comps_in_scan ;
   jpeg_component_info *cur_comp_info[4] ;
   JDIMENSION MCUs_per_row ;
   JDIMENSION MCU_rows_in_scan ;
   int blocks_in_MCU ;
   int MCU_membership[10] ;
   int Ss ;
   int Se ;
   int Ah ;
   int Al ;
   int block_size ;
   int const   *natural_order ;
   int lim_Se ;
   struct jpeg_comp_master *master ;
   struct jpeg_c_main_controller *main ;
   struct jpeg_c_prep_controller *prep ;
   struct jpeg_c_coef_controller *coef ;
   struct jpeg_marker_writer *marker ;
   struct jpeg_color_converter *cconvert ;
   struct jpeg_downsampler *downsample ;
   struct jpeg_forward_dct *fdct ;
   struct jpeg_entropy_encoder *entropy ;
   jpeg_scan_info *script_space ;
   int script_space_size ;
};
#line 476
struct jpeg_source_mgr ;
#line 696
struct jpeg_decomp_master ;
#line 697
struct jpeg_d_main_controller ;
#line 698
struct jpeg_d_coef_controller ;
#line 699
struct jpeg_d_post_controller ;
#line 700
struct jpeg_input_controller ;
#line 701
struct jpeg_marker_reader ;
#line 702
struct jpeg_entropy_decoder ;
#line 703
struct jpeg_inverse_dct ;
#line 704
struct jpeg_upsampler ;
#line 705
struct jpeg_color_deconverter ;
#line 706
struct jpeg_color_quantizer ;
#line 472 "/usr/include/jpeglib.h"
struct jpeg_decompress_struct {
   struct jpeg_error_mgr *err ;
   struct jpeg_memory_mgr *mem ;
   struct jpeg_progress_mgr *progress ;
   void *client_data ;
   boolean is_decompressor ;
   int global_state ;
   struct jpeg_source_mgr *src ;
   JDIMENSION image_width ;
   JDIMENSION image_height ;
   int num_components ;
   J_COLOR_SPACE jpeg_color_space ;
   J_COLOR_SPACE out_color_space ;
   unsigned int scale_num ;
   unsigned int scale_denom ;
   double output_gamma ;
   boolean buffered_image ;
   boolean raw_data_out ;
   J_DCT_METHOD dct_method ;
   boolean do_fancy_upsampling ;
   boolean do_block_smoothing ;
   boolean quantize_colors ;
   J_DITHER_MODE dither_mode ;
   boolean two_pass_quantize ;
   int desired_number_of_colors ;
   boolean enable_1pass_quant ;
   boolean enable_external_quant ;
   boolean enable_2pass_quant ;
   JDIMENSION output_width ;
   JDIMENSION output_height ;
   int out_color_components ;
   int output_components ;
   int rec_outbuf_height ;
   int actual_number_of_colors ;
   JSAMPARRAY colormap ;
   JDIMENSION output_scanline ;
   int input_scan_number ;
   JDIMENSION input_iMCU_row ;
   int output_scan_number ;
   JDIMENSION output_iMCU_row ;
   int (*coef_bits)[64] ;
   JQUANT_TBL *quant_tbl_ptrs[4] ;
   JHUFF_TBL *dc_huff_tbl_ptrs[4] ;
   JHUFF_TBL *ac_huff_tbl_ptrs[4] ;
   int data_precision ;
   jpeg_component_info *comp_info ;
   boolean is_baseline ;
   boolean progressive_mode ;
   boolean arith_code ;
   UINT8 arith_dc_L[16] ;
   UINT8 arith_dc_U[16] ;
   UINT8 arith_ac_K[16] ;
   unsigned int restart_interval ;
   boolean saw_JFIF_marker ;
   UINT8 JFIF_major_version ;
   UINT8 JFIF_minor_version ;
   UINT8 density_unit ;
   UINT16 X_density ;
   UINT16 Y_density ;
   boolean saw_Adobe_marker ;
   UINT8 Adobe_transform ;
   boolean CCIR601_sampling ;
   jpeg_saved_marker_ptr marker_list ;
   int max_h_samp_factor ;
   int max_v_samp_factor ;
   int min_DCT_h_scaled_size ;
   int min_DCT_v_scaled_size ;
   JDIMENSION total_iMCU_rows ;
   JSAMPLE *sample_range_limit ;
   int comps_in_scan ;
   jpeg_component_info *cur_comp_info[4] ;
   JDIMENSION MCUs_per_row ;
   JDIMENSION MCU_rows_in_scan ;
   int blocks_in_MCU ;
   int MCU_membership[10] ;
   int Ss ;
   int Se ;
   int Ah ;
   int Al ;
   int block_size ;
   int const   *natural_order ;
   int lim_Se ;
   int unread_marker ;
   struct jpeg_decomp_master *master ;
   struct jpeg_d_main_controller *main ;
   struct jpeg_d_coef_controller *coef ;
   struct jpeg_d_post_controller *post ;
   struct jpeg_input_controller *inputctl ;
   struct jpeg_marker_reader *marker ;
   struct jpeg_entropy_decoder *entropy ;
   struct jpeg_inverse_dct *idct ;
   struct jpeg_upsampler *upsample ;
   struct jpeg_color_deconverter *cconvert ;
   struct jpeg_color_quantizer *cquantize ;
};
#line 738 "/usr/include/jpeglib.h"
union __anonunion_445 {
   int i[8] ;
   char s[80] ;
};
#line 720 "/usr/include/jpeglib.h"
struct jpeg_error_mgr {
   void (*error_exit)(j_common_ptr  ) ;
   void (*emit_message)(j_common_ptr  , int  ) ;
   void (*output_message)(j_common_ptr  ) ;
   void (*format_message)(j_common_ptr  , char * ) ;
   void (*reset_error_mgr)(j_common_ptr  ) ;
   int msg_code ;
   union __anonunion_445 msg_parm ;
   int trace_level ;
   long num_warnings ;
   char const   * const  *jpeg_message_table ;
   int last_jpeg_message ;
   char const   * const  *addon_message_table ;
   int first_addon_message ;
   int last_addon_message ;
};
#line 778 "/usr/include/jpeglib.h"
struct jpeg_progress_mgr {
   void (*progress_monitor)(j_common_ptr  ) ;
   long pass_counter ;
   long pass_limit ;
   int completed_passes ;
   int total_passes ;
};
#line 790 "/usr/include/jpeglib.h"
struct jpeg_destination_mgr {
   JOCTET *next_output_byte ;
   size_t free_in_buffer ;
   void (*init_destination)(j_compress_ptr  ) ;
   boolean (*empty_output_buffer)(j_compress_ptr  ) ;
   void (*term_destination)(j_compress_ptr  ) ;
};
#line 802 "/usr/include/jpeglib.h"
struct jpeg_source_mgr {
   JOCTET *next_input_byte ;
   size_t bytes_in_buffer ;
   void (*init_source)(j_decompress_ptr  ) ;
   boolean (*fill_input_buffer)(j_decompress_ptr  ) ;
   void (*skip_input_data)(j_decompress_ptr  , long  ) ;
   boolean (*resync_to_restart)(j_decompress_ptr  , int  ) ;
   void (*term_source)(j_decompress_ptr  ) ;
};
#line 829
struct jvirt_sarray_control ;
#line 829 "/usr/include/jpeglib.h"
typedef struct jvirt_sarray_control *jvirt_sarray_ptr;
#line 830
struct jvirt_barray_control ;
#line 830 "/usr/include/jpeglib.h"
typedef struct jvirt_barray_control *jvirt_barray_ptr;
#line 833 "/usr/include/jpeglib.h"
struct jpeg_memory_mgr {
   void *(*alloc_small)(j_common_ptr  , int  , size_t  ) ;
   void *(*alloc_large)(j_common_ptr  , int  , size_t  ) ;
   JSAMPARRAY (*alloc_sarray)(j_common_ptr  , int  , JDIMENSION  , JDIMENSION  ) ;
   JBLOCKARRAY (*alloc_barray)(j_common_ptr  , int  , JDIMENSION  , JDIMENSION  ) ;
   jvirt_sarray_ptr (*request_virt_sarray)(j_common_ptr  , int  , boolean  , JDIMENSION  ,
                                           JDIMENSION  , JDIMENSION  ) ;
   jvirt_barray_ptr (*request_virt_barray)(j_common_ptr  , int  , boolean  , JDIMENSION  ,
                                           JDIMENSION  , JDIMENSION  ) ;
   void (*realize_virt_arrays)(j_common_ptr  ) ;
   JSAMPARRAY (*access_virt_sarray)(j_common_ptr  , jvirt_sarray_ptr  , JDIMENSION  ,
                                    JDIMENSION  , boolean  ) ;
   JBLOCKARRAY (*access_virt_barray)(j_common_ptr  , jvirt_barray_ptr  , JDIMENSION  ,
                                     JDIMENSION  , boolean  ) ;
   void (*free_pool)(j_common_ptr  , int  ) ;
   void (*self_destruct)(j_common_ptr  ) ;
   long max_memory_to_use ;
   long max_alloc_chunk ;
};
#line 65 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.h"
struct __anonstruct_446 {
   int numcmpts ;
   int cmpts[4] ;
};
#line 68 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.h"
typedef struct __anonstruct_446 jpg_enc_t;
#line 83 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
struct jpg_src_s {
   JSAMPARRAY buffer ;
   JDIMENSION buffer_height ;
   JDIMENSION row ;
   jas_image_t *image ;
   jas_matrix_t *data ;
   int error ;
   jpg_enc_t *enc ;
};
#line 106 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
typedef struct jpg_src_s jpg_src_t;
#line 108 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
struct __anonstruct_447 {
   int qual ;
};
#line 110 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
typedef struct __anonstruct_447 jpg_encopts_t;
#line 84 "/root/patron-new/new_2/src/libjasper/jpg/jpg_dec.c"
struct jpg_dest_s {
   void (*start_output)(j_decompress_ptr  , struct jpg_dest_s * ) ;
   void (*put_pixel_rows)(j_decompress_ptr  , struct jpg_dest_s * , JDIMENSION  ) ;
   void (*finish_output)(j_decompress_ptr  , struct jpg_dest_s * ) ;
   JSAMPARRAY buffer ;
   JDIMENSION buffer_height ;
   JDIMENSION row ;
   jas_image_t *image ;
   jas_matrix_t *data ;
   int error ;
};
#line 115 "/root/patron-new/new_2/src/libjasper/jpg/jpg_dec.c"
typedef struct jpg_dest_s jpg_dest_t;
#line 87 "/root/patron-new/new_2/src/libjasper/jpc/jpc_fix.h"
typedef int_fast32_t jpc_fix_t;
#line 92 "/root/patron-new/new_2/src/libjasper/jpc/jpc_fix.h"
typedef int_fast64_t jpc_fix_big_t;
#line 126 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_578 {
   uint_fast16_t numcomps ;
};
#line 131 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_578 jpc_cstate_t;
#line 137 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_579 {
   uint_fast16_t tileno ;
   uint_fast32_t len ;
   uint_fast8_t partno ;
   uint_fast8_t numparts ;
};
#line 152 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_579 jpc_sot_t;
#line 160 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_580 {
   uint_fast8_t prec ;
   uint_fast8_t sgnd ;
   uint_fast8_t hsamp ;
   uint_fast8_t vsamp ;
};
#line 176 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_580 jpc_sizcomp_t;
#line 180 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_581 {
   uint_fast16_t caps ;
   uint_fast32_t width ;
   uint_fast32_t height ;
   uint_fast32_t xoff ;
   uint_fast32_t yoff ;
   uint_fast32_t tilewidth ;
   uint_fast32_t tileheight ;
   uint_fast32_t tilexoff ;
   uint_fast32_t tileyoff ;
   uint_fast16_t numcomps ;
   jpc_sizcomp_t *comps ;
};
#line 219 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_581 jpc_siz_t;
#line 279 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_582 {
   uint_fast8_t parwidthval ;
   uint_fast8_t parheightval ;
};
#line 287 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_582 jpc_coxrlvl_t;
#line 291 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_583 {
   uint_fast8_t csty ;
   uint_fast8_t numdlvls ;
   uint_fast8_t cblkwidthval ;
   uint_fast8_t cblkheightval ;
   uint_fast8_t cblksty ;
   uint_fast8_t qmfbid ;
   int numrlvls ;
   jpc_coxrlvl_t rlvls[33] ;
};
#line 317 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_583 jpc_coxcp_t;
#line 321 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_584 {
   uint_fast8_t csty ;
   uint_fast8_t prg ;
   uint_fast16_t numlyrs ;
   uint_fast8_t mctrans ;
   jpc_coxcp_t compparms ;
};
#line 338 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_584 jpc_cod_t;
#line 342 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_585 {
   uint_fast16_t compno ;
   jpc_coxcp_t compparms ;
};
#line 350 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_585 jpc_coc_t;
#line 359 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_586 {
   uint_fast16_t compno ;
   uint_fast8_t roisty ;
   uint_fast8_t roishift ;
};
#line 370 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_586 jpc_rgn_t;
#line 395 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_587 {
   uint_fast8_t qntsty ;
   int numstepsizes ;
   uint_fast16_t *stepsizes ;
   uint_fast8_t numguard ;
};
#line 409 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_587 jpc_qcxcp_t;
#line 413 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_588 {
   uint_fast16_t compno ;
   jpc_qcxcp_t compparms ;
};
#line 421 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_588 jpc_qcc_t;
#line 425 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_589 {
   jpc_qcxcp_t compparms ;
};
#line 430 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_589 jpc_qcd_t;
#line 436 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_590 {
   uint_fast8_t prgord ;
   uint_fast8_t rlvlnostart ;
   uint_fast8_t rlvlnoend ;
   uint_fast16_t compnostart ;
   uint_fast16_t compnoend ;
   uint_fast16_t lyrnoend ;
};
#line 461 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_590 jpc_pocpchg_t;
#line 464 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef jpc_pocpchg_t jpc_pchg_t;
#line 468 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_591 {
   int numpchgs ;
   jpc_pocpchg_t *pchgs ;
};
#line 476 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_591 jpc_poc_t;
#line 484 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_592 {
   uint_fast8_t ind ;
   uint_fast16_t len ;
   unsigned char *data ;
};
#line 495 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_592 jpc_ppm_t;
#line 499 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_593 {
   uint_fast8_t ind ;
   uint_fast32_t len ;
   unsigned char *data ;
};
#line 510 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_593 jpc_ppt_t;
#line 523 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_594 {
   uint_fast16_t regid ;
   uint_fast16_t len ;
   unsigned char *data ;
};
#line 534 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_594 jpc_com_t;
#line 540 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_595 {
   uint_fast16_t seqno ;
};
#line 545 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_595 jpc_sop_t;
#line 553 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_596 {
   uint_fast16_t hoff ;
   uint_fast16_t voff ;
};
#line 561 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_596 jpc_crgcomp_t;
#line 563 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_597 {
   int numcomps ;
   jpc_crgcomp_t *comps ;
};
#line 571 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_597 jpc_crg_t;
#line 577 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_598 {
   unsigned char *data ;
   uint_fast16_t len ;
};
#line 585 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_598 jpc_unk_t;
#line 591 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
union __anonunion_599 {
   int soc ;
   jpc_sot_t sot ;
   int sod ;
   int eoc ;
   jpc_siz_t siz ;
   jpc_cod_t cod ;
   jpc_coc_t coc ;
   jpc_rgn_t rgn ;
   jpc_qcd_t qcd ;
   jpc_qcc_t qcc ;
   jpc_poc_t poc ;
   jpc_ppm_t ppm ;
   jpc_ppt_t ppt ;
   jpc_sop_t sop ;
   int eph ;
   jpc_com_t com ;
   jpc_crg_t crg ;
   jpc_unk_t unk ;
};
#line 612 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef union __anonunion_599 jpc_msparms_t;
#line 664
struct jpc_msops_s ;
#line 668 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct __anonstruct_600 {
   uint_fast16_t id ;
   uint_fast16_t len ;
   uint_fast32_t off ;
   jpc_msparms_t parms ;
   struct jpc_msops_s *ops ;
};
#line 685 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct __anonstruct_600 jpc_ms_t;
#line 689 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
struct jpc_msops_s {
   void (*destroyparms)(jpc_ms_t * ) ;
   int (*getparms)(jpc_ms_t * , jpc_cstate_t * , jas_stream_t * ) ;
   int (*putparms)(jpc_ms_t * , jpc_cstate_t * , jas_stream_t * ) ;
   int (*dumpparms)(jpc_ms_t * , FILE * ) ;
};
#line 703 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
typedef struct jpc_msops_s jpc_msops_t;
#line 78 "/root/patron-new/new_2/src/libjasper/jpc/jpc_flt.h"
typedef double jpc_flt_t;
#line 103 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.h"
struct __anonstruct_611 {
   int (*analyze)(int * , int  , int  , int  , int  , int  ) ;
   int (*synthesize)(int * , int  , int  , int  , int  , int  ) ;
   double *lpenergywts ;
   double *hpenergywts ;
};
#line 108 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.h"
typedef struct __anonstruct_611 jpc_qmfb2d_t;
#line 99 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.h"
struct __anonstruct_612 {
   int xstart ;
   int ystart ;
   int xend ;
   int yend ;
   int orient ;
   int locxstart ;
   int locystart ;
   int locxend ;
   int locyend ;
   jpc_fix_t synenergywt ;
};
#line 110 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.h"
typedef struct __anonstruct_612 jpc_tsfb_band_t;
#line 112 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.h"
struct __anonstruct_613 {
   int numlvls ;
   jpc_qmfb2d_t *qmfb ;
};
#line 115 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.h"
typedef struct __anonstruct_613 jpc_tsfb_t;
#line 112 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.h"
struct __anonstruct_694 {
   int flags_ ;
   uint_fast16_t buf_ ;
   int cnt_ ;
   jas_stream_t *stream_ ;
   int openmode_ ;
};
#line 129 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.h"
typedef struct __anonstruct_694 jpc_bitstream_t;
#line 97 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.h"
struct jpc_tagtreenode_ {
   struct jpc_tagtreenode_ *parent_ ;
   int value_ ;
   int low_ ;
   int known_ ;
};
#line 111 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.h"
typedef struct jpc_tagtreenode_ jpc_tagtreenode_t;
#line 117 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.h"
struct __anonstruct_695 {
   int numleafsh_ ;
   int numleafsv_ ;
   int numnodes_ ;
   jpc_tagtreenode_t *nodes_ ;
};
#line 131 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.h"
typedef struct __anonstruct_695 jpc_tagtree_t;
#line 85 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.h"
struct __anonstruct_757 {
   int numpchgs ;
   int maxpchgs ;
   jpc_pchg_t **pchgs ;
};
#line 97 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.h"
typedef struct __anonstruct_757 jpc_pchglist_t;
#line 101 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.h"
struct __anonstruct_758 {
   int numprcs ;
   int *prclyrnos ;
   int prcwidthexpn ;
   int prcheightexpn ;
   int numhprcs ;
};
#line 119 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.h"
typedef struct __anonstruct_758 jpc_pirlvl_t;
#line 123 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.h"
struct __anonstruct_759 {
   int numrlvls ;
   jpc_pirlvl_t *pirlvls ;
   int hsamp ;
   int vsamp ;
};
#line 137 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.h"
typedef struct __anonstruct_759 jpc_picomp_t;
#line 141 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.h"
struct __anonstruct_760 {
   int numlyrs ;
   int maxrlvls ;
   int numcomps ;
   jpc_picomp_t *picomps ;
   jpc_picomp_t *picomp ;
   jpc_pirlvl_t *pirlvl ;
   int compno ;
   int rlvlno ;
   int prcno ;
   int lyrno ;
   int x ;
   int y ;
   int xstep ;
   int ystep ;
   int xstart ;
   int ystart ;
   int xend ;
   int yend ;
   jpc_pchg_t *pchg ;
   jpc_pchglist_t *pchglist ;
   jpc_pchg_t defaultpchg ;
   int pchgno ;
   int prgvolfirst ;
   int valid ;
   int pktno ;
};
#line 222 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.h"
typedef struct __anonstruct_760 jpc_pi_t;
#line 87 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqcod.h"
struct __anonstruct_761 {
   int mps ;
   int_fast16_t ind ;
};
#line 95 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqcod.h"
typedef struct __anonstruct_761 jpc_mqctx_t;
#line 101 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqcod.h"
struct jpc_mqstate_s {
   uint_fast16_t qeval ;
   int mps ;
   struct jpc_mqstate_s *nmps ;
   struct jpc_mqstate_s *nlps ;
};
#line 115 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqcod.h"
typedef struct jpc_mqstate_s jpc_mqstate_t;
#line 99 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.h"
struct __anonstruct_762 {
   uint_fast32_t creg ;
   uint_fast32_t areg ;
   uint_fast32_t ctreg ;
   int maxctxs ;
   jpc_mqstate_t **ctxs ;
   jpc_mqstate_t **curctx ;
   jas_stream_t *out ;
   int_fast16_t outbuf ;
   int_fast16_t lastbyte ;
   int err ;
};
#line 131 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.h"
typedef struct __anonstruct_762 jpc_mqenc_t;
#line 135 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.h"
struct __anonstruct_763 {
   unsigned int areg ;
   unsigned int creg ;
   unsigned int ctreg ;
   int lastbyte ;
};
#line 149 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.h"
typedef struct __anonstruct_763 jpc_mqencstate_t;
#line 101 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct __anonstruct_769 {
   uint_fast8_t sampgrdstepx ;
   uint_fast8_t sampgrdstepy ;
   uint_fast8_t sampgrdsubstepx ;
   uint_fast8_t sampgrdsubstepy ;
   uint_fast8_t prec ;
   int sgnd ;
   uint_fast16_t numstepsizes ;
   uint_fast16_t stepsizes[100] ;
};
#line 127 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct __anonstruct_769 jpc_enc_ccp_t;
#line 131 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct __anonstruct_770 {
   int intmode ;
   uint_fast8_t csty ;
   uint_fast8_t prg ;
   uint_fast8_t mctid ;
   uint_fast16_t numlyrs ;
   jpc_fix_t *ilyrrates ;
};
#line 152 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct __anonstruct_770 jpc_enc_tcp_t;
#line 156 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct __anonstruct_771 {
   uint_fast8_t csty ;
   uint_fast8_t maxrlvls ;
   uint_fast16_t cblkwidthexpn ;
   uint_fast16_t cblkheightexpn ;
   uint_fast8_t cblksty ;
   uint_fast8_t qmfbid ;
   uint_fast16_t prcwidthexpns[33] ;
   uint_fast16_t prcheightexpns[33] ;
   uint_fast8_t numgbits ;
};
#line 186 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct __anonstruct_771 jpc_enc_tccp_t;
#line 190 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct __anonstruct_772 {
   int debug ;
   uint_fast32_t imgareatlx ;
   uint_fast32_t imgareatly ;
   uint_fast32_t refgrdwidth ;
   uint_fast32_t refgrdheight ;
   uint_fast32_t tilegrdoffx ;
   uint_fast32_t tilegrdoffy ;
   uint_fast32_t tilewidth ;
   uint_fast32_t tileheight ;
   uint_fast32_t numhtiles ;
   uint_fast32_t numvtiles ;
   uint_fast32_t numtiles ;
   uint_fast16_t numcmpts ;
   jpc_enc_ccp_t *ccps ;
   jpc_enc_tcp_t tcp ;
   jpc_enc_tccp_t tccp ;
   uint_fast32_t totalsize ;
   uint_fast32_t rawsize ;
};
#line 254 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct __anonstruct_772 jpc_enc_cp_t;
#line 262 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct __anonstruct_773 {
   int start ;
   int end ;
   int type ;
   int term ;
   jpc_mqencstate_t mqencstate ;
   int lyrno ;
   jpc_flt_t rdslope ;
   jpc_flt_t wmsedec ;
   jpc_flt_t cumwmsedec ;
   long nmsedec ;
};
#line 294 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct __anonstruct_773 jpc_enc_pass_t;
#line 334
struct jpc_enc_prc_s ;
#line 298 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct __anonstruct_774 {
   int numpasses ;
   jpc_enc_pass_t *passes ;
   int numencpasses ;
   int numimsbs ;
   int numlenbits ;
   jas_stream_t *stream ;
   jpc_mqenc_t *mqenc ;
   jas_matrix_t *data ;
   jas_matrix_t *flags ;
   int numbps ;
   jpc_enc_pass_t *curpass ;
   struct jpc_enc_prc_s *prc ;
   jpc_enc_pass_t *savedcurpass ;
   int savednumlenbits ;
   int savednumencpasses ;
};
#line 348 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct __anonstruct_774 jpc_enc_cblk_t;
#line 389
struct jpc_enc_band_s ;
#line 352 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct jpc_enc_prc_s {
   uint_fast32_t tlx ;
   uint_fast32_t tly ;
   uint_fast32_t brx ;
   uint_fast32_t bry ;
   int numhcblks ;
   int numvcblks ;
   int numcblks ;
   jpc_enc_cblk_t *cblks ;
   jpc_tagtree_t *incltree ;
   jpc_tagtree_t *nlibtree ;
   struct jpc_enc_band_s *band ;
   jpc_tagtree_t *savincltree ;
   jpc_tagtree_t *savnlibtree ;
};
#line 399 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct jpc_enc_prc_s jpc_enc_prc_t;
#line 431
struct jpc_enc_rlvl_s ;
#line 403 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct jpc_enc_band_s {
   jpc_enc_prc_t *prcs ;
   jas_matrix_t *data ;
   int orient ;
   int numbps ;
   jpc_fix_t absstepsize ;
   int stepsize ;
   jpc_fix_t synweight ;
   int analgain ;
   struct jpc_enc_rlvl_s *rlvl ;
};
#line 433 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct jpc_enc_band_s jpc_enc_band_t;
#line 497
struct jpc_enc_tcmpt_s ;
#line 437 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct jpc_enc_rlvl_s {
   uint_fast32_t tlx ;
   uint_fast32_t tly ;
   uint_fast32_t brx ;
   uint_fast32_t bry ;
   int prcwidthexpn ;
   int prcheightexpn ;
   int numhprcs ;
   int numvprcs ;
   int numprcs ;
   int cbgwidthexpn ;
   int cbgheightexpn ;
   uint_fast16_t cblkwidthexpn ;
   uint_fast16_t cblkheightexpn ;
   int numbands ;
   jpc_enc_band_t *bands ;
   struct jpc_enc_tcmpt_s *tcmpt ;
};
#line 499 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct jpc_enc_rlvl_s jpc_enc_rlvl_t;
#line 551
struct jpc_enc_tile_s ;
#line 503 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct jpc_enc_tcmpt_s {
   int numrlvls ;
   jpc_enc_rlvl_t *rlvls ;
   jas_matrix_t *data ;
   int qmfbid ;
   int numbands ;
   jpc_tsfb_t *tsfb ;
   jpc_fix_t synweight ;
   int prcwidthexpns[33] ;
   int prcheightexpns[33] ;
   int cblkwidthexpn ;
   int cblkheightexpn ;
   int csty ;
   int cblksty ;
   int numstepsizes ;
   uint_fast16_t stepsizes[100] ;
   struct jpc_enc_tile_s *tile ;
};
#line 553 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct jpc_enc_tcmpt_s jpc_enc_tcmpt_t;
#line 557 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct jpc_enc_tile_s {
   uint_fast32_t tileno ;
   uint_fast32_t tlx ;
   uint_fast32_t tly ;
   uint_fast32_t brx ;
   uint_fast32_t bry ;
   uint_fast8_t csty ;
   uint_fast8_t prg ;
   int numlyrs ;
   uint_fast8_t mctid ;
   jpc_pi_t *pi ;
   int intmode ;
   uint_fast32_t *lyrsizes ;
   int numtcmpts ;
   jpc_enc_tcmpt_t *tcmpts ;
   uint_fast32_t rawsize ;
};
#line 609 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct jpc_enc_tile_s jpc_enc_tile_t;
#line 613 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
struct jpc_enc_s {
   jas_image_t *image ;
   jas_stream_t *out ;
   jpc_enc_cp_t *cp ;
   jpc_enc_tile_t *curtile ;
   jpc_cstate_t *cstate ;
   uint_fast32_t len ;
   uint_fast32_t mainbodysize ;
   jpc_ms_t *mrk ;
   jas_stream_t *tmpstream ;
};
#line 644 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.h"
typedef struct jpc_enc_s jpc_enc_t;
#line 88 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.h"
struct __anonstruct_844 {
   uint_fast32_t creg ;
   uint_fast32_t areg ;
   uint_fast32_t ctreg ;
   jpc_mqstate_t **curctx ;
   jpc_mqstate_t **ctxs ;
   int maxctxs ;
   jas_stream_t *in ;
   unsigned char inbuffer ;
   int eof ;
};
#line 117 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.h"
typedef struct __anonstruct_844 jpc_mqdec_t;
#line 93 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_849 {
   uint_fast16_t ind ;
   uint_fast32_t len ;
   unsigned char *data ;
};
#line 104 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_849 jpc_ppxstabent_t;
#line 108 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_850 {
   int numents ;
   int maxents ;
   jpc_ppxstabent_t **ents ;
};
#line 120 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_850 jpc_ppxstab_t;
#line 124 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_851 {
   int numstreams ;
   int maxstreams ;
   jas_stream_t **streams ;
};
#line 136 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_851 jpc_streamlist_t;
#line 144 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_852 {
   int flags ;
   uint_fast8_t csty ;
   uint_fast8_t numrlvls ;
   uint_fast8_t cblkwidthexpn ;
   uint_fast8_t cblkheightexpn ;
   uint_fast8_t qmfbid ;
   uint_fast8_t qsty ;
   uint_fast16_t numstepsizes ;
   uint_fast16_t stepsizes[100] ;
   uint_fast8_t numguardbits ;
   uint_fast8_t roishift ;
   uint_fast8_t cblkctx ;
   uint_fast8_t prcwidthexpns[33] ;
   uint_fast8_t prcheightexpns[33] ;
};
#line 188 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_852 jpc_dec_ccp_t;
#line 192 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_853 {
   int flags ;
   jpc_pchglist_t *pchglist ;
   uint_fast8_t prgord ;
   uint_fast16_t numlyrs ;
   uint_fast8_t mctid ;
   uint_fast8_t csty ;
   int numcomps ;
   jpc_dec_ccp_t *ccps ;
};
#line 218 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_853 jpc_dec_cp_t;
#line 226 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct jpc_dec_seg_s {
   struct jpc_dec_seg_s *next ;
   struct jpc_dec_seg_s *prev ;
   int passno ;
   int numpasses ;
   int maxpasses ;
   int type ;
   jas_stream_t *stream ;
   int cnt ;
   int complete ;
   int lyrno ;
};
#line 261 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct jpc_dec_seg_s jpc_dec_seg_t;
#line 265 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_854 {
   jpc_dec_seg_t *head ;
   jpc_dec_seg_t *tail ;
};
#line 273 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_854 jpc_dec_seglist_t;
#line 277 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_855 {
   int numpasses ;
   jpc_dec_seglist_t segs ;
   jpc_dec_seg_t *curseg ;
   int numimsbs ;
   int numlenbits ;
   int firstpassno ;
   jpc_mqdec_t *mqdec ;
   jpc_bitstream_t *nulldec ;
   jas_matrix_t *flags ;
   jas_matrix_t *data ;
};
#line 309 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_855 jpc_dec_cblk_t;
#line 313 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_856 {
   uint_fast32_t xstart ;
   uint_fast32_t ystart ;
   uint_fast32_t xend ;
   uint_fast32_t yend ;
   int numhcblks ;
   int numvcblks ;
   int numcblks ;
   jpc_dec_cblk_t *cblks ;
   jpc_tagtree_t *incltagtree ;
   jpc_tagtree_t *numimsbstagtree ;
};
#line 349 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_856 jpc_dec_prc_t;
#line 353 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_857 {
   jpc_dec_prc_t *prcs ;
   jas_matrix_t *data ;
   int orient ;
   int stepsize ;
   jpc_fix_t absstepsize ;
   int numbps ;
   int analgain ;
   int roishift ;
};
#line 379 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_857 jpc_dec_band_t;
#line 383 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_858 {
   int numbands ;
   jpc_dec_band_t *bands ;
   uint_fast32_t xstart ;
   uint_fast32_t ystart ;
   uint_fast32_t xend ;
   uint_fast32_t yend ;
   int prcwidthexpn ;
   int prcheightexpn ;
   int numhprcs ;
   int numvprcs ;
   int numprcs ;
   int cbgwidthexpn ;
   int cbgheightexpn ;
   uint_fast16_t cblkwidthexpn ;
   uint_fast16_t cblkheightexpn ;
};
#line 440 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_858 jpc_dec_rlvl_t;
#line 444 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_859 {
   uint_fast32_t xstart ;
   uint_fast32_t ystart ;
   uint_fast32_t xend ;
   uint_fast32_t yend ;
   jas_matrix_t *data ;
   int numrlvls ;
   jpc_dec_rlvl_t *rlvls ;
   jpc_tsfb_t *tsfb ;
};
#line 474 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_859 jpc_dec_tcomp_t;
#line 487 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_860 {
   int state ;
   uint_fast32_t xstart ;
   uint_fast32_t ystart ;
   uint_fast32_t xend ;
   uint_fast32_t yend ;
   jpc_ppxstab_t *pptstab ;
   jas_stream_t *pkthdrstream ;
   long pkthdrstreampos ;
   jpc_dec_cp_t *cp ;
   jpc_dec_tcomp_t *tcomps ;
   int partno ;
   int numparts ;
   int realmode ;
   jpc_pi_t *pi ;
};
#line 535 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_860 jpc_dec_tile_t;
#line 539 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_861 {
   uint_fast32_t hstep ;
   uint_fast32_t vstep ;
   uint_fast32_t width ;
   uint_fast32_t height ;
   uint_fast16_t prec ;
   int sgnd ;
   uint_fast32_t hsubstep ;
   uint_fast32_t vsubstep ;
};
#line 565 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_861 jpc_dec_cmpt_t;
#line 569 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_862 {
   jas_image_t *image ;
   uint_fast32_t xstart ;
   uint_fast32_t ystart ;
   uint_fast32_t xend ;
   uint_fast32_t yend ;
   uint_fast32_t tilewidth ;
   uint_fast32_t tileheight ;
   uint_fast32_t tilexoff ;
   uint_fast32_t tileyoff ;
   int numhtiles ;
   int numvtiles ;
   int numtiles ;
   jpc_dec_tile_t *tiles ;
   jpc_dec_tile_t *curtile ;
   int numcomps ;
   jas_stream_t *in ;
   jpc_dec_cp_t *cp ;
   int maxlyrs ;
   int maxpkts ;
   int numpkts ;
   int ppmseqno ;
   int state ;
   jpc_dec_cmpt_t *cmpts ;
   jpc_ppxstab_t *ppmstab ;
   jpc_streamlist_t *pkthdrstreams ;
   long curtileendoff ;
   jpc_cstate_t *cstate ;
};
#line 662 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_862 jpc_dec_t;
#line 666 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
struct __anonstruct_863 {
   int debug ;
   int maxlyrs ;
   int maxpkts ;
};
#line 677 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
typedef struct __anonstruct_863 jpc_dec_importopts_t;
#line 107 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
struct __anonstruct_1392 {
   uint_fast16_t id ;
   int validstates ;
   int (*action)(jpc_dec_t * , jpc_ms_t * ) ;
};
#line 119 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
typedef struct __anonstruct_1392 jpc_dec_mstabent_t;
#line 88 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
struct __anonstruct_1457 {
   int id ;
   char *name ;
   jpc_msops_t ops ;
};
#line 92 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
typedef struct __anonstruct_1457 jpc_mstabent_t;
#line 121 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1491 {
   uint_fast32_t magic ;
};
#line 123 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1491 jp2_jp_t;
#line 132 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1492 {
   uint_fast32_t majver ;
   uint_fast32_t minver ;
   uint_fast32_t numcompatcodes ;
   uint_fast32_t compatcodes[32] ;
};
#line 137 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1492 jp2_ftyp_t;
#line 144 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_921 {
   uint_fast32_t width ;
   uint_fast32_t height ;
   uint_fast16_t numcmpts ;
   uint_fast8_t bpc ;
   uint_fast8_t comptype ;
   uint_fast8_t csunk ;
   uint_fast8_t ipr ;
};
#line 152 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_921 jp2_ihdr_t;
#line 156 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1493 {
   uint_fast16_t numcmpts ;
   uint_fast8_t *bpcs ;
};
#line 159 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1493 jp2_bpcc_t;
#line 171 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1494 {
   uint_fast8_t method ;
   uint_fast8_t pri ;
   uint_fast8_t approx ;
   uint_fast32_t csid ;
   uint_fast8_t *iccp ;
   int iccplen ;
};
#line 179 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1494 jp2_colr_t;
#line 183 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1495 {
   uint_fast16_t numlutents ;
   uint_fast8_t numchans ;
   int_fast32_t *lutdata ;
   uint_fast8_t *bpc ;
};
#line 188 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1495 jp2_pclr_t;
#line 208 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1496 {
   uint_fast16_t channo ;
   uint_fast16_t type ;
   uint_fast16_t assoc ;
};
#line 212 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1496 jp2_cdefchan_t;
#line 216 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1497 {
   uint_fast16_t numchans ;
   jp2_cdefchan_t *ents ;
};
#line 219 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1497 jp2_cdef_t;
#line 221 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1498 {
   uint_fast16_t cmptno ;
   uint_fast8_t map ;
   uint_fast8_t pcol ;
};
#line 225 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1498 jp2_cmapent_t;
#line 227 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1499 {
   uint_fast16_t numchans ;
   jp2_cmapent_t *ents ;
};
#line 230 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1499 jp2_cmap_t;
#line 237
struct jp2_boxops_s ;
#line 241
struct jp2_boxinfo_s ;
#line 251 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
union __anonunion_1501 {
   jp2_jp_t jp ;
   jp2_ftyp_t ftyp ;
   jp2_ihdr_t ihdr ;
   jp2_bpcc_t bpcc ;
   jp2_colr_t colr ;
   jp2_pclr_t pclr ;
   jp2_cdef_t cdef ;
   jp2_cmap_t cmap ;
};
#line 238 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_1500 {
   struct jp2_boxops_s *ops ;
   struct jp2_boxinfo_s *info ;
   uint_fast32_t type ;
   uint_fast32_t len ;
   uint_fast32_t datalen ;
   union __anonunion_1501 data ;
};
#line 262 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_1500 jp2_box_t;
#line 264 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct jp2_boxops_s {
   void (*init)(jp2_box_t * ) ;
   void (*destroy)(jp2_box_t * ) ;
   int (*getdata)(jp2_box_t * , jas_stream_t * ) ;
   int (*putdata)(jp2_box_t * , jas_stream_t * ) ;
   void (*dumpdata)(jp2_box_t * , FILE * ) ;
};
#line 270 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct jp2_boxops_s jp2_boxops_t;
#line 276 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
struct jp2_boxinfo_s {
   int type ;
   char *name ;
   int flags ;
   jp2_boxops_t ops ;
};
#line 281 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
typedef struct jp2_boxinfo_s jp2_boxinfo_t;
#line 71 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.h"
struct __anonstruct_1568 {
   jp2_box_t *pclr ;
   jp2_box_t *cdef ;
   jp2_box_t *ihdr ;
   jp2_box_t *bpcc ;
   jp2_box_t *cmap ;
   jp2_box_t *colr ;
   jas_image_t *image ;
   uint_fast16_t numchans ;
   uint_fast16_t *chantocmptlut ;
};
#line 83 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.h"
typedef struct __anonstruct_1568 jp2_dec_t;
#line 65 "/root/patron-new/new_2/src/libjasper/bmp/bmp_enc.h"
struct __anonstruct_1621 {
   int numcmpts ;
   int cmpts[4] ;
};
#line 70 "/root/patron-new/new_2/src/libjasper/bmp/bmp_enc.h"
typedef struct __anonstruct_1621 bmp_enc_t;
#line 108 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.h"
struct __anonstruct_1622 {
   int_fast16_t magic ;
   int_fast32_t siz ;
   int_fast16_t reserved1 ;
   int_fast16_t reserved2 ;
   int_fast32_t off ;
};
#line 125 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.h"
typedef struct __anonstruct_1622 bmp_hdr_t;
#line 128 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.h"
struct __anonstruct_1623 {
   int_fast16_t red ;
   int_fast16_t grn ;
   int_fast16_t blu ;
   int_fast16_t res ;
};
#line 142 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.h"
typedef struct __anonstruct_1623 bmp_palent_t;
#line 145 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.h"
struct __anonstruct_1624 {
   int_fast32_t len ;
   int_fast32_t width ;
   int_fast32_t height ;
   int_fast8_t topdown ;
   int_fast16_t numplanes ;
   int_fast16_t depth ;
   int_fast32_t enctype ;
   int_fast32_t siz ;
   int_fast32_t hres ;
   int_fast32_t vres ;
   int_fast32_t numcolors ;
   int_fast32_t mincolors ;
   bmp_palent_t *palents ;
};
#line 186 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.h"
typedef struct __anonstruct_1624 bmp_info_t;
#line 77 "../../../src/libjasper/include/jasper/jas_tmr.h"
struct __anonstruct_1649 {
   struct timeval start ;
   struct timeval stop ;
};
#line 80 "../../../src/libjasper/include/jasper/jas_tmr.h"
typedef struct __anonstruct_1649 jas_tmr_t;
#line 94 "../../../src/libjasper/include/jasper/jas_getopt.h"
struct __anonstruct_1795 {
   int id ;
   char *name ;
   int flags ;
};
#line 105 "../../../src/libjasper/include/jasper/jas_getopt.h"
typedef struct __anonstruct_1795 jas_opt_t;
/* compiler builtin: 
   int __builtin___sprintf_chk(char * , int  , unsigned long  , char const   *  , ...) ;  */
/* compiler builtin: 
   char *__builtin___strcat_chk(char * , char const   * , unsigned long  ) ;  */
/* compiler builtin: 
   void __builtin_va_start(__builtin_va_list  ) ;  */
/* compiler builtin: 
   void __builtin_va_end(__builtin_va_list  ) ;  */
/* compiler builtin: 
   int __builtin___vsprintf_chk(char * , int  , unsigned long  , char const   * ,
                                __builtin_va_list  ) ;  */
/* compiler builtin: 
   void *__builtin___memmove_chk(void * , void const   * , unsigned long  , unsigned long  ) ;  */
/* compiler builtin: 
   unsigned long __builtin_object_size(void * , int  ) ;  */
/* compiler builtin: 
   int __builtin_va_arg_pack_len(void) ;  */
/* compiler builtin: 
   void *__builtin___memset_chk(void * , int  , unsigned long  , unsigned long  ) ;  */
/* compiler builtin: 
   int __builtin_va_arg_pack(void) ;  */
/* compiler builtin: 
   char *__builtin___strncpy_chk(char * , char const   * , unsigned long  , unsigned long  ) ;  */
/* compiler builtin: 
   char *__builtin___strncat_chk(char * , char const   * , unsigned long  , unsigned long  ) ;  */
/* compiler builtin: 
   long __builtin_expect(long  , long  ) ;  */
/* compiler builtin: 
   void *__builtin___memcpy_chk(void * , void const   * , unsigned long  , unsigned long  ) ;  */
/* compiler builtin: 
   int __builtin___snprintf_chk(char * , unsigned long  , int  , unsigned long  ,
                                char const   *  , ...) ;  */
/* compiler builtin: 
   int __builtin___vsnprintf_chk(char * , unsigned long  , int  , unsigned long  ,
                                 char const   * , __builtin_va_list  ) ;  */
/* compiler builtin: 
   char *__builtin___strcpy_chk(char * , char const   * , unsigned long  ) ;  */
#line 101 "/usr/include/stdlib.h"
__inline extern  __attribute__((__nothrow__)) double ( __attribute__((__gnu_inline__)) atof)(char const   *__nptr ) ;
#line 104
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) atoi)(char const   *__nptr ) ;
#line 107
__inline extern  __attribute__((__nothrow__)) long ( __attribute__((__gnu_inline__)) atol)(char const   *__nptr ) ;
#line 112
__inline extern  __attribute__((__nothrow__)) long long ( __attribute__((__gnu_inline__)) atoll)(char const   *__nptr ) ;
#line 117
extern  __attribute__((__nothrow__)) double strtod(char const   *__nptr , char **__endptr ) ;
#line 176
extern  __attribute__((__nothrow__)) long strtol(char const   *__nptr , char **__endptr ,
                                                 int __base ) ;
#line 200
extern  __attribute__((__nothrow__)) long long strtoll(char const   *__nptr , char **__endptr ,
                                                       int __base ) ;
#line 361
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) atoi)(char const   *__nptr ) ;
#line 361 "/usr/include/stdlib.h"
__inline extern int ( __attribute__((__gnu_inline__)) atoi)(char const   *__nptr ) 
{ 
  long __cil_tmp2 ;

  {
  {
#line 363
  __cil_tmp2 = strtol(__nptr, (char **)((void *)0), 10);
  }
#line 363
  return ((int )__cil_tmp2);
}
}
#line 366
__inline extern  __attribute__((__nothrow__)) long ( __attribute__((__gnu_inline__)) atol)(char const   *__nptr ) ;
#line 366 "/usr/include/stdlib.h"
__inline extern long ( __attribute__((__gnu_inline__)) atol)(char const   *__nptr ) 
{ 
  long __cil_tmp2 ;

  {
  {
#line 368
  __cil_tmp2 = strtol(__nptr, (char **)((void *)0), 10);
  }
#line 368
  return (__cil_tmp2);
}
}
#line 373
__inline extern  __attribute__((__nothrow__)) long long ( __attribute__((__gnu_inline__)) atoll)(char const   *__nptr ) ;
#line 373 "/usr/include/stdlib.h"
__inline extern long long ( __attribute__((__gnu_inline__)) atoll)(char const   *__nptr ) 
{ 
  long long __cil_tmp2 ;

  {
  {
#line 375
  __cil_tmp2 = strtoll(__nptr, (char **)((void *)0), 10);
  }
#line 375
  return (__cil_tmp2);
}
}
#line 539
extern  __attribute__((__nothrow__)) void *malloc(size_t __size ) ;
#line 550
extern  __attribute__((__nothrow__)) void *realloc(void *__ptr , size_t __size ) ;
#line 565
extern  __attribute__((__nothrow__)) void free(void *__ptr ) ;
#line 591
extern  __attribute__((__nothrow__)) void abort(void) ;
#line 595
extern  __attribute__((__nothrow__)) int atexit(void (*__func)(void) ) ;
#line 617
extern  __attribute__((__nothrow__)) void exit(int __status ) ;
#line 800
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) realpath)(char const   *__name ,
                                                                                                char *__resolved ) ;
#line 820
__inline extern void *( __attribute__((__gnu_inline__)) bsearch)(void const   *__key ,
                                                                 void const   *__base ,
                                                                 size_t __nmemb ,
                                                                 size_t __size , int (*__compar)(void const   * ,
                                                                                                 void const   * ) ) ;
#line 20 "/usr/include/x86_64-linux-gnu/bits/stdlib-bsearch.h"
__inline extern void *( __attribute__((__gnu_inline__)) bsearch)(void const   *__key ,
                                                                 void const   *__base ,
                                                                 size_t __nmemb ,
                                                                 size_t __size , int (*__compar)(void const   * ,
                                                                                                 void const   * ) ) 
{ 
  size_t __l ;
  size_t __u ;
  size_t __idx ;
  void const   *__p ;
  int __comparison ;

  {
#line 27
  __l = (size_t )0;
#line 28
  __u = __nmemb;
  {
#line 29
  while (1) {
    while_continue: /* CIL Label */ ;

#line 29
    if (! (__l < __u)) {
#line 29
      goto while_break;
    }
    {
#line 31
    __idx = (__l + __u) / 2UL;
#line 32
    __p = (void const   *)((void *)((char const   *)__base + __idx * __size));
#line 33
    __comparison = (*__compar)(__key, __p);
    }
#line 34
    if (__comparison < 0) {
#line 35
      __u = __idx;
    } else
#line 36
    if (__comparison > 0) {
#line 37
      __l = __idx + 1UL;
    } else {
#line 39
      return ((void *)__p);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 42
  return ((void *)0);
}
}
#line 830 "/usr/include/stdlib.h"
extern void qsort(void *__base , size_t __nmemb , size_t __size , int (*__compar)(void const   * ,
                                                                                  void const   * ) ) ;
#line 840
extern  __attribute__((__nothrow__)) int abs(int __x ) ;
#line 929
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) wctomb)(char *__s ,
                                                                                            wchar_t __wchar ) ;
#line 933
__inline extern  __attribute__((__nothrow__)) size_t ( __attribute__((__gnu_inline__)) mbstowcs)(wchar_t *__dst ,
                                                                                                 char const   *__src ,
                                                                                                 size_t __len ) ;
#line 936
__inline extern  __attribute__((__nothrow__)) size_t ( __attribute__((__gnu_inline__)) wcstombs)(char *__dst ,
                                                                                                 wchar_t *__src ,
                                                                                                 size_t __len ) ;
#line 25 "/usr/include/x86_64-linux-gnu/bits/stdlib-float.h"
__inline extern  __attribute__((__nothrow__)) double ( __attribute__((__gnu_inline__)) atof)(char const   *__nptr ) ;
#line 25 "/usr/include/x86_64-linux-gnu/bits/stdlib-float.h"
__inline extern double ( __attribute__((__gnu_inline__)) atof)(char const   *__nptr ) 
{ 
  double __cil_tmp2 ;

  {
  {
#line 27
  __cil_tmp2 = strtod(__nptr, (char **)((void *)0));
  }
#line 27
  return (__cil_tmp2);
}
}
#line 23 "/usr/include/x86_64-linux-gnu/bits/stdlib.h"
extern  __attribute__((__nothrow__)) char *__realpath_chk(char const   *__name , char *__resolved ,
                                                          size_t __resolvedlen ) ;
#line 26
extern  __attribute__((__nothrow__)) char *__realpath_alias(char const   *__name ,
                                                            char *__resolved ) ;
#line 29
extern  __attribute__((__nothrow__)) char *__realpath_chk_warn(char const   *__name ,
                                                               char *__resolved ,
                                                               size_t __resolvedlen ) ;
#line 37
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) realpath)(char const   *__name ,
                                                                                                char *__resolved ) ;
#line 52
extern  __attribute__((__nothrow__)) int __ptsname_r_chk(int __fd , char *__buf ,
                                                         size_t __buflen , size_t __nreal ) ;
#line 54
extern  __attribute__((__nothrow__)) int __ptsname_r_alias(int __fd , char *__buf ,
                                                           size_t __buflen ) ;
#line 57
extern  __attribute__((__nothrow__)) int __ptsname_r_chk_warn(int __fd , char *__buf ,
                                                              size_t __buflen , size_t __nreal ) ;
#line 64
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) ptsname_r)(int __fd ,
                                                                                               char *__buf ,
                                                                                               size_t __buflen ) ;
#line 64
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) ptsname_r)(int __fd ,
                                                                                               char *__buf ,
                                                                                               size_t __buflen ) ;
#line 64 "/usr/include/x86_64-linux-gnu/bits/stdlib.h"
__inline extern int ( __attribute__((__gnu_inline__)) ptsname_r)(int __fd , char *__buf ,
                                                                 size_t __buflen ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;

  {
  {
#line 66
  __cil_tmp4 = __builtin_object_size((void *)__buf, 1);
  }
#line 66
  if (__cil_tmp4 != 0xffffffffffffffffUL) {
#line 68
    __cil_tmp5 = 0;
#line 68
    if (! __cil_tmp5) {
      {
#line 69
      __cil_tmp6 = __builtin_object_size((void *)__buf, 1);
#line 69
      __cil_tmp7 = __ptsname_r_chk(__fd, __buf, __buflen, __cil_tmp6);
      }
#line 69
      return (__cil_tmp7);
    }
    {
#line 70
    __cil_tmp8 = __builtin_object_size((void *)__buf, 1);
    }
#line 70
    if (__buflen > __cil_tmp8) {
      {
#line 71
      __cil_tmp9 = __builtin_object_size((void *)__buf, 1);
#line 71
      __cil_tmp10 = __ptsname_r_chk_warn(__fd, __buf, __buflen, __cil_tmp9);
      }
#line 71
      return (__cil_tmp10);
    }
  }
  {
#line 73
  __cil_tmp11 = __ptsname_r_alias(__fd, __buf, __buflen);
  }
#line 73
  return (__cil_tmp11);
}
}
#line 77
extern  __attribute__((__nothrow__)) int __wctomb_chk(char *__s , wchar_t __wchar ,
                                                      size_t __buflen ) ;
#line 79
extern  __attribute__((__nothrow__)) int __wctomb_alias(char *__s , wchar_t __wchar ) ;
#line 83
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) wctomb)(char *__s ,
                                                                                            wchar_t __wchar ) ;
#line 83 "/usr/include/x86_64-linux-gnu/bits/stdlib.h"
__inline extern int ( __attribute__((__gnu_inline__)) wctomb)(char *__s , wchar_t __wchar ) 
{ 
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 92
  __cil_tmp4 = __builtin_object_size((void *)__s, 1);
#line 92
  __cil_tmp3 = __builtin_object_size((void *)__s, 1);
  }
#line 92
  if (__cil_tmp3 != 0xffffffffffffffffUL) {
#line 92
    if (16UL > __cil_tmp4) {
      {
#line 93
      __cil_tmp5 = __builtin_object_size((void *)__s, 1);
#line 93
      __cil_tmp6 = __wctomb_chk(__s, __wchar, __cil_tmp5);
      }
#line 93
      return (__cil_tmp6);
    }
  }
  {
#line 94
  __cil_tmp7 = __wctomb_alias(__s, __wchar);
  }
#line 94
  return (__cil_tmp7);
}
}
#line 98
extern  __attribute__((__nothrow__)) size_t __mbstowcs_chk(wchar_t *__dst , char const   *__src ,
                                                           size_t __len , size_t __dstlen ) ;
#line 101
extern  __attribute__((__nothrow__)) size_t __mbstowcs_alias(wchar_t *__dst , char const   *__src ,
                                                             size_t __len ) ;
#line 105
extern  __attribute__((__nothrow__)) size_t __mbstowcs_chk_warn(wchar_t *__dst , char const   *__src ,
                                                                size_t __len , size_t __dstlen ) ;
#line 113
__inline extern  __attribute__((__nothrow__)) size_t ( __attribute__((__gnu_inline__)) mbstowcs)(wchar_t *__dst ,
                                                                                                 char const   *__src ,
                                                                                                 size_t __len ) ;
#line 113 "/usr/include/x86_64-linux-gnu/bits/stdlib.h"
__inline extern size_t ( __attribute__((__gnu_inline__)) mbstowcs)(wchar_t *__dst ,
                                                                   char const   *__src ,
                                                                   size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  size_t __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  size_t __cil_tmp10 ;
  size_t __cil_tmp11 ;

  {
  {
#line 116
  __cil_tmp4 = __builtin_object_size((void *)__dst, 1);
  }
#line 116
  if (__cil_tmp4 != 0xffffffffffffffffUL) {
#line 118
    __cil_tmp5 = 0;
#line 118
    if (! __cil_tmp5) {
      {
#line 119
      __cil_tmp6 = __builtin_object_size((void *)__dst, 1);
#line 119
      __cil_tmp7 = __mbstowcs_chk(__dst, __src, __len, __cil_tmp6 / sizeof(wchar_t ));
      }
#line 119
      return (__cil_tmp7);
    }
    {
#line 122
    __cil_tmp8 = __builtin_object_size((void *)__dst, 1);
    }
#line 122
    if (__len > __cil_tmp8 / sizeof(wchar_t )) {
      {
#line 123
      __cil_tmp9 = __builtin_object_size((void *)__dst, 1);
#line 123
      __cil_tmp10 = __mbstowcs_chk_warn(__dst, __src, __len, __cil_tmp9 / sizeof(wchar_t ));
      }
#line 123
      return (__cil_tmp10);
    }
  }
  {
#line 126
  __cil_tmp11 = __mbstowcs_alias(__dst, __src, __len);
  }
#line 126
  return (__cil_tmp11);
}
}
#line 130
extern  __attribute__((__nothrow__)) size_t __wcstombs_chk(char *__dst , wchar_t *__src ,
                                                           size_t __len , size_t __dstlen ) ;
#line 133
extern  __attribute__((__nothrow__)) size_t __wcstombs_alias(char *__dst , wchar_t *__src ,
                                                             size_t __len ) ;
#line 137
extern  __attribute__((__nothrow__)) size_t __wcstombs_chk_warn(char *__dst , wchar_t *__src ,
                                                                size_t __len , size_t __dstlen ) ;
#line 144
__inline extern  __attribute__((__nothrow__)) size_t ( __attribute__((__gnu_inline__)) wcstombs)(char *__dst ,
                                                                                                 wchar_t *__src ,
                                                                                                 size_t __len ) ;
#line 144 "/usr/include/x86_64-linux-gnu/bits/stdlib.h"
__inline extern size_t ( __attribute__((__gnu_inline__)) wcstombs)(char *__dst , wchar_t *__src ,
                                                                   size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  size_t __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  size_t __cil_tmp10 ;
  size_t __cil_tmp11 ;

  {
  {
#line 147
  __cil_tmp4 = __builtin_object_size((void *)__dst, 1);
  }
#line 147
  if (__cil_tmp4 != 0xffffffffffffffffUL) {
#line 149
    __cil_tmp5 = 0;
#line 149
    if (! __cil_tmp5) {
      {
#line 150
      __cil_tmp6 = __builtin_object_size((void *)__dst, 1);
#line 150
      __cil_tmp7 = __wcstombs_chk(__dst, __src, __len, __cil_tmp6);
      }
#line 150
      return (__cil_tmp7);
    }
    {
#line 151
    __cil_tmp8 = __builtin_object_size((void *)__dst, 1);
    }
#line 151
    if (__len > __cil_tmp8) {
      {
#line 152
      __cil_tmp9 = __builtin_object_size((void *)__dst, 1);
#line 152
      __cil_tmp10 = __wcstombs_chk_warn(__dst, __src, __len, __cil_tmp9);
      }
#line 152
      return (__cil_tmp10);
    }
  }
  {
#line 154
  __cil_tmp11 = __wcstombs_alias(__dst, __src, __len);
  }
#line 154
  return (__cil_tmp11);
}
}
#line 137 "/usr/include/stdio.h"
extern FILE *stdin ;
#line 138
extern FILE *stdout ;
#line 139
extern FILE *stderr ;
#line 173
extern FILE *tmpfile(void) ;
#line 187
extern  __attribute__((__nothrow__)) char *tmpnam(char *__s ) ;
#line 213
extern int fclose(FILE *__stream ) ;
#line 326
__inline extern int ( __attribute__((__gnu_inline__)) fprintf)(FILE *__stream , char const   *__fmt 
                                                               , ...) ;
#line 332
__inline extern int ( __attribute__((__gnu_inline__)) printf)(char const   *__fmt 
                                                              , ...) ;
#line 334
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) sprintf)(char *__s ,
                                                                                             char const   *__fmt 
                                                                                             , ...) ;
#line 341
__inline extern int ( __attribute__((__gnu_inline__)) vfprintf)(FILE *__stream , char const   *__fmt ,
                                                                __gnuc_va_list __ap ) ;
#line 347
__inline extern int ( __attribute__((__gnu_inline__)) vprintf)(char const   *__fmt ,
                                                               __gnuc_va_list __ap ) ;
#line 349
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) vsprintf)(char *__s ,
                                                                                              char const   *__fmt ,
                                                                                              __gnuc_va_list __ap ) ;
#line 354
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) snprintf)(char *__s ,
                                                                                              size_t __n ,
                                                                                              char const   *__fmt 
                                                                                              , ...) ;
#line 358
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) vsnprintf)(char *__s ,
                                                                                               size_t __n ,
                                                                                               char const   *__fmt ,
                                                                                               __gnuc_va_list __ap ) ;
#line 379
__inline extern int ( __attribute__((__gnu_inline__)) vdprintf)(int __fd , char const   *__fmt ,
                                                                __gnuc_va_list __ap ) ;
#line 382
__inline extern int ( __attribute__((__gnu_inline__)) dprintf)(int __fd , char const   *__fmt 
                                                               , ...) ;
#line 391
extern int fscanf(FILE *__stream , char const   *__format  , ...) ;
#line 399
extern  __attribute__((__nothrow__)) int sscanf(char const   *__s , char const   *__format 
                                                , ...) ;
#line 485
extern int fgetc(FILE *__stream ) ;
#line 486
extern int getc(FILE *__stream ) ;
#line 492
__inline extern int ( __attribute__((__gnu_inline__)) getchar)(void) ;
#line 499
extern int ( __attribute__((__gnu_inline__)) getc_unlocked)(FILE *__fp ) ;
#line 500
__inline extern int ( __attribute__((__gnu_inline__)) getchar_unlocked)(void) ;
#line 510
__inline extern int ( __attribute__((__gnu_inline__)) fgetc_unlocked)(FILE *__fp ) ;
#line 521
extern int fputc(int __c , FILE *__stream ) ;
#line 522
extern int putc(int __c , FILE *__stream ) ;
#line 528
__inline extern int ( __attribute__((__gnu_inline__)) putchar)(int __c ) ;
#line 537
__inline extern int ( __attribute__((__gnu_inline__)) fputc_unlocked)(int __c , FILE *__stream ) ;
#line 546
__inline extern int ( __attribute__((__gnu_inline__)) putchar_unlocked)(int __c ) ;
#line 564
__inline extern char *( __attribute__((__gnu_inline__)) fgets)(char *__s , int __n ,
                                                               FILE *__stream ) ;
#line 626
extern int fputs(char const   *__s , FILE *__stream ) ;
#line 646
__inline extern unsigned long ( __attribute__((__gnu_inline__)) fread)(void *__ptr ,
                                                                       size_t __size ,
                                                                       size_t __n ,
                                                                       FILE *__stream ) ;
#line 652
extern unsigned long fwrite(void const   *__ptr , size_t __size , size_t __n , FILE *__s ) ;
#line 673
__inline extern size_t ( __attribute__((__gnu_inline__)) fread_unlocked)(void *__ptr ,
                                                                         size_t __size ,
                                                                         size_t __n ,
                                                                         FILE *__stream ) ;
#line 684
extern int fseek(FILE *__stream , long __off , int __whence ) ;
#line 694
extern void rewind(FILE *__stream ) ;
#line 766
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) feof_unlocked)(FILE *__stream ) ;
#line 767
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) ferror_unlocked)(FILE *__stream ) ;
#line 858
extern int __uflow(FILE * ) ;
#line 859
extern int __overflow(FILE * , int  ) ;
#line 47 "/usr/include/x86_64-linux-gnu/bits/stdio.h"
__inline extern int ( __attribute__((__gnu_inline__)) getchar)(void) 
{ 
  int __cil_tmp1 ;

  {
  {
#line 49
  __cil_tmp1 = getc(stdin);
  }
#line 49
  return (__cil_tmp1);
}
}
#line 56 "/usr/include/x86_64-linux-gnu/bits/stdio.h"
__inline extern int ( __attribute__((__gnu_inline__)) fgetc_unlocked)(FILE *__fp ) 
{ 
  long __cil_tmp2 ;
  int __cil_tmp3 ;
  int tmp ;

  {
  {
#line 58
  __cil_tmp2 = __builtin_expect((long )((unsigned long )__fp->_IO_read_ptr >= (unsigned long )__fp->_IO_read_end),
                                0L);
  }
#line 58
  if (__cil_tmp2) {
    {
#line 58
    __cil_tmp3 = __uflow(__fp);
#line 58
    tmp = __cil_tmp3;
    }
  } else {
#line 58
    (__fp->_IO_read_ptr) ++;
#line 58
    tmp = (int )*((unsigned char *)__fp->_IO_read_ptr);
  }
#line 58
  return (tmp);
}
}
#line 73 "/usr/include/x86_64-linux-gnu/bits/stdio.h"
__inline extern int ( __attribute__((__gnu_inline__)) getchar_unlocked)(void) 
{ 
  long __cil_tmp1 ;
  int __cil_tmp2 ;
  int tmp ;

  {
  {
#line 75
  __cil_tmp1 = __builtin_expect((long )((unsigned long )stdin->_IO_read_ptr >= (unsigned long )stdin->_IO_read_end),
                                0L);
  }
#line 75
  if (__cil_tmp1) {
    {
#line 75
    __cil_tmp2 = __uflow(stdin);
#line 75
    tmp = __cil_tmp2;
    }
  } else {
#line 75
    (stdin->_IO_read_ptr) ++;
#line 75
    tmp = (int )*((unsigned char *)stdin->_IO_read_ptr);
  }
#line 75
  return (tmp);
}
}
#line 82 "/usr/include/x86_64-linux-gnu/bits/stdio.h"
__inline extern int ( __attribute__((__gnu_inline__)) putchar)(int __c ) 
{ 
  int __cil_tmp2 ;

  {
  {
#line 84
  __cil_tmp2 = putc(__c, stdout);
  }
#line 84
  return (__cil_tmp2);
}
}
#line 91 "/usr/include/x86_64-linux-gnu/bits/stdio.h"
__inline extern int ( __attribute__((__gnu_inline__)) fputc_unlocked)(int __c , FILE *__stream ) 
{ 
  long __cil_tmp3 ;
  int __cil_tmp4 ;
  char *__cil_tmp5 ;
  int tmp ;

  {
  {
#line 93
  __cil_tmp3 = __builtin_expect((long )((unsigned long )__stream->_IO_write_ptr >= (unsigned long )__stream->_IO_write_end),
                                0L);
  }
#line 93
  if (__cil_tmp3) {
    {
#line 93
    __cil_tmp4 = __overflow(__stream, (int )((unsigned char )__c));
#line 93
    tmp = __cil_tmp4;
    }
  } else {
#line 93
    __cil_tmp5 = __stream->_IO_write_ptr;
#line 93
    (__stream->_IO_write_ptr) ++;
#line 93
    *__cil_tmp5 = (char )__c;
#line 93
    tmp = (int )((unsigned char )*__cil_tmp5);
  }
#line 93
  return (tmp);
}
}
#line 108 "/usr/include/x86_64-linux-gnu/bits/stdio.h"
__inline extern int ( __attribute__((__gnu_inline__)) putchar_unlocked)(int __c ) 
{ 
  long __cil_tmp2 ;
  int __cil_tmp3 ;
  char *__cil_tmp4 ;
  int tmp ;

  {
  {
#line 110
  __cil_tmp2 = __builtin_expect((long )((unsigned long )stdout->_IO_write_ptr >= (unsigned long )stdout->_IO_write_end),
                                0L);
  }
#line 110
  if (__cil_tmp2) {
    {
#line 110
    __cil_tmp3 = __overflow(stdout, (int )((unsigned char )__c));
#line 110
    tmp = __cil_tmp3;
    }
  } else {
#line 110
    __cil_tmp4 = stdout->_IO_write_ptr;
#line 110
    (stdout->_IO_write_ptr) ++;
#line 110
    *__cil_tmp4 = (char )__c;
#line 110
    tmp = (int )((unsigned char )*__cil_tmp4);
  }
#line 110
  return (tmp);
}
}
#line 128
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) feof_unlocked)(FILE *__stream ) ;
#line 128 "/usr/include/x86_64-linux-gnu/bits/stdio.h"
__inline extern int ( __attribute__((__gnu_inline__)) feof_unlocked)(FILE *__stream ) 
{ 


  {
#line 130
  return ((__stream->_flags & 16) != 0);
}
}
#line 135
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) ferror_unlocked)(FILE *__stream ) ;
#line 135 "/usr/include/x86_64-linux-gnu/bits/stdio.h"
__inline extern int ( __attribute__((__gnu_inline__)) ferror_unlocked)(FILE *__stream ) 
{ 


  {
#line 137
  return ((__stream->_flags & 32) != 0);
}
}
#line 34 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) sprintf)(char *__s ,
                                                                                             char const   *__fmt 
                                                                                             , ...) ;
#line 34 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) sprintf)(char *__s , char const   *__fmt 
                                                               , ...) 
{ 
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;

  {
  {
#line 36
  __cil_tmp3 = __builtin_object_size((void *)__s, 1);
#line 36
  __cil_tmp4 = (int )__builtin_va_arg_pack();
#line 36
  __cil_tmp5 = __builtin___sprintf_chk(__s, 1, __cil_tmp3, __fmt, __cil_tmp4);
  }
#line 36
  return (__cil_tmp5);
}
}
#line 46
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) vsprintf)(char *__s ,
                                                                                              char const   *__fmt ,
                                                                                              __gnuc_va_list __ap ) ;
#line 46 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) vsprintf)(char *__s , char const   *__fmt ,
                                                                __gnuc_va_list __ap ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;

  {
  {
#line 49
  __cil_tmp4 = __builtin_object_size((void *)__s, 1);
#line 49
  __cil_tmp5 = __builtin___vsprintf_chk(__s, 1, __cil_tmp4, __fmt, __ap);
  }
#line 49
  return (__cil_tmp5);
}
}
#line 64
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) snprintf)(char *__s ,
                                                                                              size_t __n ,
                                                                                              char const   *__fmt 
                                                                                              , ...) ;
#line 64 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) snprintf)(char *__s , size_t __n ,
                                                                char const   *__fmt 
                                                                , ...) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 67
  __cil_tmp4 = __builtin_object_size((void *)__s, 1);
#line 67
  __cil_tmp5 = (int )__builtin_va_arg_pack();
#line 67
  __cil_tmp6 = __builtin___snprintf_chk(__s, __n, 1, __cil_tmp4, __fmt, __cil_tmp5);
  }
#line 67
  return (__cil_tmp6);
}
}
#line 77
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) vsnprintf)(char *__s ,
                                                                                               size_t __n ,
                                                                                               char const   *__fmt ,
                                                                                               __gnuc_va_list __ap ) ;
#line 77 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) vsnprintf)(char *__s , size_t __n ,
                                                                 char const   *__fmt ,
                                                                 __gnuc_va_list __ap ) 
{ 
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 80
  __cil_tmp5 = __builtin_object_size((void *)__s, 1);
#line 80
  __cil_tmp6 = __builtin___vsnprintf_chk(__s, __n, 1, __cil_tmp5, __fmt, __ap);
  }
#line 80
  return (__cil_tmp6);
}
}
#line 88
extern int __fprintf_chk(FILE *__stream , int __flag , char const   *__format  , ...) ;
#line 90
extern int __printf_chk(int __flag , char const   *__format  , ...) ;
#line 91
extern int __vfprintf_chk(FILE *__stream , int __flag , char const   *__format , __gnuc_va_list __ap ) ;
#line 98 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) fprintf)(FILE *__stream , char const   *__fmt 
                                                               , ...) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;

  {
  {
#line 100
  __cil_tmp3 = (int )__builtin_va_arg_pack();
#line 100
  __cil_tmp4 = __fprintf_chk(__stream, 1, __fmt, __cil_tmp3);
  }
#line 100
  return (__cil_tmp4);
}
}
#line 105 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) printf)(char const   *__fmt 
                                                              , ...) 
{ 
  int __cil_tmp2 ;
  int __cil_tmp3 ;

  {
  {
#line 107
  __cil_tmp2 = (int )__builtin_va_arg_pack();
#line 107
  __cil_tmp3 = __printf_chk(1, __fmt, __cil_tmp2);
  }
#line 107
  return (__cil_tmp3);
}
}
#line 117 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) vprintf)(char const   *__fmt ,
                                                               __gnuc_va_list __ap ) 
{ 
  int __cil_tmp3 ;

  {
  {
#line 120
  __cil_tmp3 = __vfprintf_chk(stdout, 1, __fmt, __ap);
  }
#line 120
  return (__cil_tmp3);
}
}
#line 127 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) vfprintf)(FILE *__stream , char const   *__fmt ,
                                                                __gnuc_va_list __ap ) 
{ 
  int __cil_tmp4 ;

  {
  {
#line 130
  __cil_tmp4 = __vfprintf_chk(__stream, 1, __fmt, __ap);
  }
#line 130
  return (__cil_tmp4);
}
}
#line 134
extern int __dprintf_chk(int __fd , int __flag , char const   *__fmt  , ...) ;
#line 136
extern int __vdprintf_chk(int __fd , int __flag , char const   *__fmt , __gnuc_va_list __arg ) ;
#line 142 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) dprintf)(int __fd , char const   *__fmt 
                                                               , ...) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;

  {
  {
#line 144
  __cil_tmp3 = (int )__builtin_va_arg_pack();
#line 144
  __cil_tmp4 = __dprintf_chk(__fd, 1, __fmt, __cil_tmp3);
  }
#line 144
  return (__cil_tmp4);
}
}
#line 153 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern int ( __attribute__((__gnu_inline__)) vdprintf)(int __fd , char const   *__fmt ,
                                                                __gnuc_va_list __ap ) 
{ 
  int __cil_tmp4 ;

  {
  {
#line 155
  __cil_tmp4 = __vdprintf_chk(__fd, 1, __fmt, __ap);
  }
#line 155
  return (__cil_tmp4);
}
}
#line 243
extern char *__fgets_chk(char *__s , size_t __size , int __n , FILE *__stream ) ;
#line 245
extern char *__fgets_alias(char *__s , int __n , FILE *__stream ) ;
#line 248
extern char *__fgets_chk_warn(char *__s , size_t __size , int __n , FILE *__stream ) ;
#line 255 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern char *( __attribute__((__gnu_inline__)) fgets)(char *__s , int __n ,
                                                               FILE *__stream ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  char *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
  {
#line 257
  __cil_tmp4 = __builtin_object_size((void *)__s, 1);
  }
#line 257
  if (__cil_tmp4 != 0xffffffffffffffffUL) {
#line 259
    __cil_tmp5 = 0;
#line 259
    if (! __cil_tmp5) {
      {
#line 260
      __cil_tmp6 = __builtin_object_size((void *)__s, 1);
#line 260
      __cil_tmp7 = __fgets_chk(__s, __cil_tmp6, __n, __stream);
      }
#line 260
      return (__cil_tmp7);
    } else
#line 259
    if (__n <= 0) {
      {
#line 260
      __cil_tmp6 = __builtin_object_size((void *)__s, 1);
#line 260
      __cil_tmp7 = __fgets_chk(__s, __cil_tmp6, __n, __stream);
      }
#line 260
      return (__cil_tmp7);
    }
    {
#line 262
    __cil_tmp8 = __builtin_object_size((void *)__s, 1);
    }
#line 262
    if ((size_t )__n > __cil_tmp8) {
      {
#line 263
      __cil_tmp9 = __builtin_object_size((void *)__s, 1);
#line 263
      __cil_tmp10 = __fgets_chk_warn(__s, __cil_tmp9, __n, __stream);
      }
#line 263
      return (__cil_tmp10);
    }
  }
  {
#line 265
  __cil_tmp11 = __fgets_alias(__s, __n, __stream);
  }
#line 265
  return (__cil_tmp11);
}
}
#line 268
extern size_t __fread_chk(void *__ptr , size_t __ptrlen , size_t __size , size_t __n ,
                          FILE *__stream ) ;
#line 271
extern size_t __fread_alias(void *__ptr , size_t __size , size_t __n , FILE *__stream ) ;
#line 275
extern size_t __fread_chk_warn(void *__ptr , size_t __ptrlen , size_t __size , size_t __n ,
                               FILE *__stream ) ;
#line 284 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern unsigned long ( __attribute__((__gnu_inline__)) fread)(void *__ptr ,
                                                                       size_t __size ,
                                                                       size_t __n ,
                                                                       FILE *__stream ) 
{ 
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  size_t __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  size_t __cil_tmp12 ;
  size_t __cil_tmp13 ;

  {
  {
#line 287
  __cil_tmp5 = __builtin_object_size(__ptr, 0);
  }
#line 287
  if (__cil_tmp5 != 0xffffffffffffffffUL) {
#line 289
    __cil_tmp7 = 0;
#line 289
    __cil_tmp6 = 0;
#line 289
    if (! __cil_tmp6) {
      {
#line 292
      __cil_tmp8 = __builtin_object_size(__ptr, 0);
#line 292
      __cil_tmp9 = __fread_chk(__ptr, __cil_tmp8, __size, __n, __stream);
      }
#line 292
      return (__cil_tmp9);
    } else
#line 289
    if (! __cil_tmp7) {
      {
#line 292
      __cil_tmp8 = __builtin_object_size(__ptr, 0);
#line 292
      __cil_tmp9 = __fread_chk(__ptr, __cil_tmp8, __size, __n, __stream);
      }
#line 292
      return (__cil_tmp9);
    } else
#line 289
    if ((__size | __n) >= 1UL << (8UL * sizeof(size_t )) / 2UL) {
      {
#line 292
      __cil_tmp8 = __builtin_object_size(__ptr, 0);
#line 292
      __cil_tmp9 = __fread_chk(__ptr, __cil_tmp8, __size, __n, __stream);
      }
#line 292
      return (__cil_tmp9);
    }
    {
#line 294
    __cil_tmp10 = __builtin_object_size(__ptr, 0);
    }
#line 294
    if (__size * __n > __cil_tmp10) {
      {
#line 295
      __cil_tmp11 = __builtin_object_size(__ptr, 0);
#line 295
      __cil_tmp12 = __fread_chk_warn(__ptr, __cil_tmp11, __size, __n, __stream);
      }
#line 295
      return (__cil_tmp12);
    }
  }
  {
#line 297
  __cil_tmp13 = __fread_alias(__ptr, __size, __n, __stream);
  }
#line 297
  return (__cil_tmp13);
}
}
#line 329
extern size_t __fread_unlocked_chk(void *__ptr , size_t __ptrlen , size_t __size ,
                                   size_t __n , FILE *__stream ) ;
#line 332
extern size_t __fread_unlocked_alias(void *__ptr , size_t __size , size_t __n , FILE *__stream ) ;
#line 336
extern size_t __fread_unlocked_chk_warn(void *__ptr , size_t __ptrlen , size_t __size ,
                                        size_t __n , FILE *__stream ) ;
#line 345 "/usr/include/x86_64-linux-gnu/bits/stdio2.h"
__inline extern size_t ( __attribute__((__gnu_inline__)) fread_unlocked)(void *__ptr ,
                                                                         size_t __size ,
                                                                         size_t __n ,
                                                                         FILE *__stream ) 
{ 
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  size_t __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  size_t __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  size_t __cnt ;
  char *__cptr ;
  int __c ;
  int __cil_tmp18 ;
  char *__cil_tmp19 ;
  size_t __cil_tmp20 ;

  {
  {
#line 348
  __cil_tmp5 = __builtin_object_size(__ptr, 0);
  }
#line 348
  if (__cil_tmp5 != 0xffffffffffffffffUL) {
#line 350
    __cil_tmp7 = 0;
#line 350
    __cil_tmp6 = 0;
#line 350
    if (! __cil_tmp6) {
      {
#line 353
      __cil_tmp8 = __builtin_object_size(__ptr, 0);
#line 353
      __cil_tmp9 = __fread_unlocked_chk(__ptr, __cil_tmp8, __size, __n, __stream);
      }
#line 353
      return (__cil_tmp9);
    } else
#line 350
    if (! __cil_tmp7) {
      {
#line 353
      __cil_tmp8 = __builtin_object_size(__ptr, 0);
#line 353
      __cil_tmp9 = __fread_unlocked_chk(__ptr, __cil_tmp8, __size, __n, __stream);
      }
#line 353
      return (__cil_tmp9);
    } else
#line 350
    if ((__size | __n) >= 1UL << (8UL * sizeof(size_t )) / 2UL) {
      {
#line 353
      __cil_tmp8 = __builtin_object_size(__ptr, 0);
#line 353
      __cil_tmp9 = __fread_unlocked_chk(__ptr, __cil_tmp8, __size, __n, __stream);
      }
#line 353
      return (__cil_tmp9);
    }
    {
#line 356
    __cil_tmp10 = __builtin_object_size(__ptr, 0);
    }
#line 356
    if (__size * __n > __cil_tmp10) {
      {
#line 357
      __cil_tmp11 = __builtin_object_size(__ptr, 0);
#line 357
      __cil_tmp12 = __fread_unlocked_chk_warn(__ptr, __cil_tmp11, __size, __n, __stream);
      }
#line 357
      return (__cil_tmp12);
    }
  }
#line 362
  __cil_tmp14 = 0;
#line 362
  __cil_tmp13 = 0;
#line 362
  if (__cil_tmp13) {
#line 362
    if (__cil_tmp14) {
#line 362
      if ((__size | __n) < 1UL << (8UL * sizeof(size_t )) / 2UL) {
#line 362
        if (__size * __n <= 8UL) {
#line 367
          __cnt = __size * __n;
#line 368
          __cptr = (char *)__ptr;
#line 369
          if (__cnt == 0UL) {
#line 370
            return ((size_t )0);
          }
          {
#line 372
          while (1) {
            while_continue: /* CIL Label */ ;

#line 372
            if (! (__cnt > 0UL)) {
#line 372
              goto while_break;
            }
            {
#line 374
            __cil_tmp18 = getc_unlocked(__stream);
#line 374
            __c = __cil_tmp18;
            }
#line 375
            if (__c == -1) {
#line 376
              goto while_break;
            }
#line 377
            __cil_tmp19 = __cptr;
#line 377
            __cptr ++;
#line 377
            *__cil_tmp19 = (char )__c;
#line 372
            __cnt --;
          }
          while_break___0: /* CIL Label */ ;
          }
          while_break: ;
#line 379
          return ((unsigned long )(__cptr - (char *)__ptr) / __size);
        }
      }
    }
  }
  {
#line 382
  __cil_tmp20 = __fread_unlocked_alias(__ptr, __size, __n, __stream);
  }
#line 382
  return (__cil_tmp20);
}
}
#line 168 "/usr/include/fcntl.h"
__inline extern int ( __attribute__((__gnu_inline__)) open)(char const   *__path ,
                                                            int __oflag  , ...) ;
#line 192
__inline extern int ( __attribute__((__gnu_inline__)) openat)(int __fd , char const   *__path ,
                                                              int __oflag  , ...) ;
#line 26 "/usr/include/x86_64-linux-gnu/bits/fcntl2.h"
extern int __open_2(char const   *__path , int __oflag ) ;
#line 27
extern int __open_alias(char const   *__path , int __oflag  , ...) ;
#line 35
extern void __open_too_many_args(void) ;
#line 37
extern void __open_missing_mode(void) ;
#line 41 "/usr/include/x86_64-linux-gnu/bits/fcntl2.h"
__inline extern int ( __attribute__((__gnu_inline__)) open)(char const   *__path ,
                                                            int __oflag  , ...) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;

  {
  {
#line 43
  __cil_tmp3 = __builtin_va_arg_pack_len();
  }
#line 43
  if (__cil_tmp3 > 1) {
    {
#line 44
    __open_too_many_args();
    }
  }
#line 46
  __cil_tmp4 = 0;
#line 46
  if (__cil_tmp4) {
    {
#line 48
    __cil_tmp5 = __builtin_va_arg_pack_len();
    }
#line 48
    if ((__oflag & 64) != 0) {
      _L: 
#line 48
      if (__cil_tmp5 < 1) {
        {
#line 50
        __open_missing_mode();
#line 51
        __cil_tmp6 = __open_2(__path, __oflag);
        }
#line 51
        return (__cil_tmp6);
      }
    } else
#line 48
    if ((__oflag & 4259840) == 4259840) {
#line 48
      goto _L;
    }
    {
#line 53
    __cil_tmp7 = (int )__builtin_va_arg_pack();
#line 53
    __cil_tmp8 = __open_alias(__path, __oflag, __cil_tmp7);
    }
#line 53
    return (__cil_tmp8);
  }
  {
#line 56
  __cil_tmp9 = __builtin_va_arg_pack_len();
  }
#line 56
  if (__cil_tmp9 < 1) {
    {
#line 57
    __cil_tmp10 = __open_2(__path, __oflag);
    }
#line 57
    return (__cil_tmp10);
  }
  {
#line 59
  __cil_tmp11 = (int )__builtin_va_arg_pack();
#line 59
  __cil_tmp12 = __open_alias(__path, __oflag, __cil_tmp11);
  }
#line 59
  return (__cil_tmp12);
}
}
#line 98
extern int __openat_2(int __fd , char const   *__path , int __oflag ) ;
#line 100
extern int __openat_alias(int __fd , char const   *__path , int __oflag  , ...) ;
#line 111
extern void __openat_too_many_args(void) ;
#line 113
extern void __openat_missing_mode(void) ;
#line 117 "/usr/include/x86_64-linux-gnu/bits/fcntl2.h"
__inline extern int ( __attribute__((__gnu_inline__)) openat)(int __fd , char const   *__path ,
                                                              int __oflag  , ...) 
{ 
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
  {
#line 119
  __cil_tmp4 = __builtin_va_arg_pack_len();
  }
#line 119
  if (__cil_tmp4 > 1) {
    {
#line 120
    __openat_too_many_args();
    }
  }
#line 122
  __cil_tmp5 = 0;
#line 122
  if (__cil_tmp5) {
    {
#line 124
    __cil_tmp6 = __builtin_va_arg_pack_len();
    }
#line 124
    if ((__oflag & 64) != 0) {
      _L: 
#line 124
      if (__cil_tmp6 < 1) {
        {
#line 126
        __openat_missing_mode();
#line 127
        __cil_tmp7 = __openat_2(__fd, __path, __oflag);
        }
#line 127
        return (__cil_tmp7);
      }
    } else
#line 124
    if ((__oflag & 4259840) == 4259840) {
#line 124
      goto _L;
    }
    {
#line 129
    __cil_tmp8 = (int )__builtin_va_arg_pack();
#line 129
    __cil_tmp9 = __openat_alias(__fd, __path, __oflag, __cil_tmp8);
    }
#line 129
    return (__cil_tmp9);
  }
  {
#line 132
  __cil_tmp10 = __builtin_va_arg_pack_len();
  }
#line 132
  if (__cil_tmp10 < 1) {
    {
#line 133
    __cil_tmp11 = __openat_2(__fd, __path, __oflag);
    }
#line 133
    return (__cil_tmp11);
  }
  {
#line 135
  __cil_tmp12 = (int )__builtin_va_arg_pack();
#line 135
  __cil_tmp13 = __openat_alias(__fd, __path, __oflag, __cil_tmp12);
  }
#line 135
  return (__cil_tmp13);
}
}
#line 43 "/usr/include/string.h"
__inline extern  __attribute__((__nothrow__)) void *( __attribute__((__gnu_inline__)) memcpy)(void *__dest ,
                                                                                              void const   *__src ,
                                                                                              size_t __len ) ;
#line 47
__inline extern  __attribute__((__nothrow__)) void *( __attribute__((__gnu_inline__)) memmove)(void *__dest ,
                                                                                               void const   *__src ,
                                                                                               size_t __len ) ;
#line 61
__inline extern  __attribute__((__nothrow__)) void *( __attribute__((__gnu_inline__)) memset)(void *__dest ,
                                                                                              int __ch ,
                                                                                              size_t __len ) ;
#line 122
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) strcpy)(char *__dest ,
                                                                                              char const   *__src ) ;
#line 125
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) strncpy)(char *__dest ,
                                                                                               char const   *__src ,
                                                                                               size_t __len ) ;
#line 130
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) strcat)(char *__dest ,
                                                                                              char const   *__src ) ;
#line 133
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) strncat)(char *__dest ,
                                                                                               char const   *__src ,
                                                                                               size_t __len ) ;
#line 137
extern  __attribute__((__nothrow__)) int strcmp(char const   *__s1 , char const   *__s2 ) ;
#line 226
extern  __attribute__((__nothrow__)) char *strchr(char const   *__s , int __c ) ;
#line 253
extern  __attribute__((__nothrow__)) char *strrchr(char const   *__s , int __c ) ;
#line 336
extern  __attribute__((__nothrow__)) char *strtok(char *__s , char const   *__delim ) ;
#line 385
extern  __attribute__((__nothrow__)) unsigned long strlen(char const   *__s ) ;
#line 38 "/usr/include/strings.h"
__inline extern  __attribute__((__nothrow__)) void ( __attribute__((__gnu_inline__)) bcopy)(void const   *__src ,
                                                                                            void *__dest ,
                                                                                            size_t __len ) ;
#line 42
__inline extern  __attribute__((__nothrow__)) void ( __attribute__((__gnu_inline__)) bzero)(void *__dest ,
                                                                                            size_t __len ) ;
#line 23 "/usr/include/x86_64-linux-gnu/bits/strings_fortified.h"
__inline extern  __attribute__((__nothrow__)) void ( __attribute__((__gnu_inline__)) bcopy)(void const   *__src ,
                                                                                            void *__dest ,
                                                                                            size_t __len ) ;
#line 23 "/usr/include/x86_64-linux-gnu/bits/strings_fortified.h"
__inline extern void ( __attribute__((__gnu_inline__)) bcopy)(void const   *__src ,
                                                              void *__dest , size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;

  {
  {
#line 25
  __cil_tmp4 = __builtin_object_size(__dest, 0);
#line 25
  __builtin___memmove_chk(__dest, __src, __len, __cil_tmp4);
  }
#line 27
  return;
}
}
#line 29
__inline extern  __attribute__((__nothrow__)) void ( __attribute__((__gnu_inline__)) bzero)(void *__dest ,
                                                                                            size_t __len ) ;
#line 29 "/usr/include/x86_64-linux-gnu/bits/strings_fortified.h"
__inline extern void ( __attribute__((__gnu_inline__)) bzero)(void *__dest , size_t __len ) 
{ 
  unsigned long __cil_tmp3 ;

  {
  {
#line 31
  __cil_tmp3 = __builtin_object_size(__dest, 0);
#line 31
  __builtin___memset_chk(__dest, '\000', __len, __cil_tmp3);
  }
#line 33
  return;
}
}
#line 436 "/usr/include/string.h"
__inline extern  __attribute__((__nothrow__)) void ( __attribute__((__gnu_inline__)) explicit_bzero)(void *__dest ,
                                                                                                     size_t __len ) ;
#line 460
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) stpncpy)(char *__dest ,
                                                                                               char const   *__src ,
                                                                                               size_t __n ) ;
#line 31 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern  __attribute__((__nothrow__)) void *( __attribute__((__gnu_inline__)) memcpy)(void *__dest ,
                                                                                              void const   *__src ,
                                                                                              size_t __len ) ;
#line 31 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern void *( __attribute__((__gnu_inline__)) memcpy)(void *__dest , void const   *__src ,
                                                                size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;
  void *__cil_tmp5 ;

  {
  {
#line 34
  __cil_tmp4 = __builtin_object_size(__dest, 0);
#line 34
  __cil_tmp5 = __builtin___memcpy_chk(__dest, __src, __len, __cil_tmp4);
  }
#line 34
  return (__cil_tmp5);
}
}
#line 38
__inline extern  __attribute__((__nothrow__)) void *( __attribute__((__gnu_inline__)) memmove)(void *__dest ,
                                                                                               void const   *__src ,
                                                                                               size_t __len ) ;
#line 38 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern void *( __attribute__((__gnu_inline__)) memmove)(void *__dest , void const   *__src ,
                                                                 size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;
  void *__cil_tmp5 ;

  {
  {
#line 40
  __cil_tmp4 = __builtin_object_size(__dest, 0);
#line 40
  __cil_tmp5 = __builtin___memmove_chk(__dest, __src, __len, __cil_tmp4);
  }
#line 40
  return (__cil_tmp5);
}
}
#line 59
__inline extern  __attribute__((__nothrow__)) void *( __attribute__((__gnu_inline__)) memset)(void *__dest ,
                                                                                              int __ch ,
                                                                                              size_t __len ) ;
#line 59 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern void *( __attribute__((__gnu_inline__)) memset)(void *__dest , int __ch ,
                                                                size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;
  void *__cil_tmp5 ;

  {
  {
#line 71
  __cil_tmp4 = __builtin_object_size(__dest, 0);
#line 71
  __cil_tmp5 = __builtin___memset_chk(__dest, __ch, __len, __cil_tmp4);
  }
#line 71
  return (__cil_tmp5);
}
}
#line 77
extern  __attribute__((__nothrow__)) void __explicit_bzero_chk(void *__dest , size_t __len ,
                                                               size_t __destlen ) ;
#line 81
__inline extern  __attribute__((__nothrow__)) void ( __attribute__((__gnu_inline__)) explicit_bzero)(void *__dest ,
                                                                                                     size_t __len ) ;
#line 81 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern void ( __attribute__((__gnu_inline__)) explicit_bzero)(void *__dest ,
                                                                       size_t __len ) 
{ 
  unsigned long __cil_tmp3 ;

  {
  {
#line 83
  __cil_tmp3 = __builtin_object_size(__dest, 0);
#line 83
  __explicit_bzero_chk(__dest, __len, __cil_tmp3);
  }
#line 85
  return;
}
}
#line 88
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) strcpy)(char *__dest ,
                                                                                              char const   *__src ) ;
#line 88 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern char *( __attribute__((__gnu_inline__)) strcpy)(char *__dest , char const   *__src ) 
{ 
  unsigned long __cil_tmp3 ;
  char *__cil_tmp4 ;

  {
  {
#line 90
  __cil_tmp3 = __builtin_object_size((void *)__dest, 1);
#line 90
  __cil_tmp4 = __builtin___strcpy_chk(__dest, __src, __cil_tmp3);
  }
#line 90
  return (__cil_tmp4);
}
}
#line 103
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) strncpy)(char *__dest ,
                                                                                               char const   *__src ,
                                                                                               size_t __len ) ;
#line 103 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern char *( __attribute__((__gnu_inline__)) strncpy)(char *__dest , char const   *__src ,
                                                                 size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;
  char *__cil_tmp5 ;

  {
  {
#line 106
  __cil_tmp4 = __builtin_object_size((void *)__dest, 1);
#line 106
  __cil_tmp5 = __builtin___strncpy_chk(__dest, __src, __len, __cil_tmp4);
  }
#line 106
  return (__cil_tmp5);
}
}
#line 110
extern  __attribute__((__nothrow__)) char *__stpncpy_chk(char *__dest , char const   *__src ,
                                                         size_t __n , size_t __destlen ) ;
#line 112
extern  __attribute__((__nothrow__)) char *__stpncpy_alias(char *__dest , char const   *__src ,
                                                           size_t __n ) ;
#line 116
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) stpncpy)(char *__dest ,
                                                                                               char const   *__src ,
                                                                                               size_t __n ) ;
#line 116 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern char *( __attribute__((__gnu_inline__)) stpncpy)(char *__dest , char const   *__src ,
                                                                 size_t __n ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
  {
#line 118
  __cil_tmp6 = __builtin_object_size((void *)__dest, 1);
#line 118
  __cil_tmp5 = 0;
#line 118
  __cil_tmp4 = __builtin_object_size((void *)__dest, 1);
  }
#line 118
  if (__cil_tmp4 != 0xffffffffffffffffUL) {
#line 118
    if (! __cil_tmp5) {
      {
#line 120
      __cil_tmp7 = __builtin_object_size((void *)__dest, 1);
#line 120
      __cil_tmp8 = __stpncpy_chk(__dest, __src, __n, __cil_tmp7);
      }
#line 120
      return (__cil_tmp8);
    } else
#line 118
    if (__n > __cil_tmp6) {
      {
#line 120
      __cil_tmp7 = __builtin_object_size((void *)__dest, 1);
#line 120
      __cil_tmp8 = __stpncpy_chk(__dest, __src, __n, __cil_tmp7);
      }
#line 120
      return (__cil_tmp8);
    }
  }
  {
#line 121
  __cil_tmp9 = __stpncpy_alias(__dest, __src, __n);
  }
#line 121
  return (__cil_tmp9);
}
}
#line 126
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) strcat)(char *__dest ,
                                                                                              char const   *__src ) ;
#line 126 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern char *( __attribute__((__gnu_inline__)) strcat)(char *__dest , char const   *__src ) 
{ 
  unsigned long __cil_tmp3 ;
  char *__cil_tmp4 ;

  {
  {
#line 128
  __cil_tmp3 = __builtin_object_size((void *)__dest, 1);
#line 128
  __cil_tmp4 = __builtin___strcat_chk(__dest, __src, __cil_tmp3);
  }
#line 128
  return (__cil_tmp4);
}
}
#line 133
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) strncat)(char *__dest ,
                                                                                               char const   *__src ,
                                                                                               size_t __len ) ;
#line 133 "/usr/include/x86_64-linux-gnu/bits/string_fortified.h"
__inline extern char *( __attribute__((__gnu_inline__)) strncat)(char *__dest , char const   *__src ,
                                                                 size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;
  char *__cil_tmp5 ;

  {
  {
#line 136
  __cil_tmp4 = __builtin_object_size((void *)__dest, 1);
#line 136
  __cil_tmp5 = __builtin___strncat_chk(__dest, __src, __len, __cil_tmp4);
  }
#line 136
  return (__cil_tmp5);
}
}
#line 334 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) __off_t lseek(int __fd , __off_t __offset , int __whence ) ;
#line 353
extern int close(int __fd ) ;
#line 360
__inline extern ssize_t ( __attribute__((__gnu_inline__)) read)(int __fd , void *__buf ,
                                                                size_t __nbytes ) ;
#line 366
extern ssize_t write(int __fd , void const   *__buf , size_t __n ) ;
#line 511
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) getcwd)(char *__buf ,
                                                                                              size_t __size ) ;
#line 525
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) getwd)(char *__buf ) ;
#line 623
__inline extern  __attribute__((__nothrow__)) size_t ( __attribute__((__gnu_inline__)) confstr)(int __name ,
                                                                                                char *__buf ,
                                                                                                size_t __len ) ;
#line 689
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) getgroups)(int __size ,
                                                                                               __gid_t *__list ) ;
#line 774
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) ttyname_r)(int __fd ,
                                                                                               char *__buf ,
                                                                                               size_t __buflen ) ;
#line 808
__inline extern  __attribute__((__nothrow__)) ssize_t ( __attribute__((__gnu_inline__)) readlink)(char const   *__path ,
                                                                                                  char *__buf ,
                                                                                                  size_t __len ) ;
#line 819
__inline extern  __attribute__((__nothrow__)) ssize_t ( __attribute__((__gnu_inline__)) readlinkat)(int __fd ,
                                                                                                    char const   *__path ,
                                                                                                    char *__buf ,
                                                                                                    size_t __len ) ;
#line 825
extern  __attribute__((__nothrow__)) int unlink(char const   *__name ) ;
#line 856
__inline extern int ( __attribute__((__gnu_inline__)) getlogin_r)(char *__buf , size_t __buflen ) ;
#line 877
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) gethostname)(char *__buf ,
                                                                                                 size_t __buflen ) ;
#line 895
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) getdomainname)(char *__buf ,
                                                                                                   size_t __buflen ) ;
#line 23 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
extern ssize_t __read_chk(int __fd , void *__buf , size_t __nbytes , size_t __buflen ) ;
#line 25
extern ssize_t __read_alias(int __fd , void *__buf , size_t __nbytes ) ;
#line 27
extern ssize_t __read_chk_warn(int __fd , void *__buf , size_t __nbytes , size_t __buflen ) ;
#line 34 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern ssize_t ( __attribute__((__gnu_inline__)) read)(int __fd , void *__buf ,
                                                                size_t __nbytes ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  ssize_t __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  ssize_t __cil_tmp10 ;
  ssize_t __cil_tmp11 ;

  {
  {
#line 36
  __cil_tmp4 = __builtin_object_size(__buf, 0);
  }
#line 36
  if (__cil_tmp4 != 0xffffffffffffffffUL) {
#line 38
    __cil_tmp5 = 0;
#line 38
    if (! __cil_tmp5) {
      {
#line 39
      __cil_tmp6 = __builtin_object_size(__buf, 0);
#line 39
      __cil_tmp7 = __read_chk(__fd, __buf, __nbytes, __cil_tmp6);
      }
#line 39
      return (__cil_tmp7);
    }
    {
#line 41
    __cil_tmp8 = __builtin_object_size(__buf, 0);
    }
#line 41
    if (__nbytes > __cil_tmp8) {
      {
#line 42
      __cil_tmp9 = __builtin_object_size(__buf, 0);
#line 42
      __cil_tmp10 = __read_chk_warn(__fd, __buf, __nbytes, __cil_tmp9);
      }
#line 42
      return (__cil_tmp10);
    }
  }
  {
#line 44
  __cil_tmp11 = __read_alias(__fd, __buf, __nbytes);
  }
#line 44
  return (__cil_tmp11);
}
}
#line 123
extern  __attribute__((__nothrow__)) ssize_t __readlink_chk(char const   *__path ,
                                                            char *__buf , size_t __len ,
                                                            size_t __buflen ) ;
#line 127
extern  __attribute__((__nothrow__)) ssize_t __readlink_alias(char const   *__path ,
                                                              char *__buf , size_t __len ) ;
#line 131
extern  __attribute__((__nothrow__)) ssize_t __readlink_chk_warn(char const   *__path ,
                                                                 char *__buf , size_t __len ,
                                                                 size_t __buflen ) ;
#line 139
__inline extern  __attribute__((__nothrow__)) ssize_t ( __attribute__((__gnu_inline__)) readlink)(char const   *__path ,
                                                                                                  char *__buf ,
                                                                                                  size_t __len ) ;
#line 139 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern ssize_t ( __attribute__((__gnu_inline__)) readlink)(char const   *__path ,
                                                                    char *__buf ,
                                                                    size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  ssize_t __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  ssize_t __cil_tmp10 ;
  ssize_t __cil_tmp11 ;

  {
  {
#line 142
  __cil_tmp4 = __builtin_object_size((void *)__buf, 1);
  }
#line 142
  if (__cil_tmp4 != 0xffffffffffffffffUL) {
#line 144
    __cil_tmp5 = 0;
#line 144
    if (! __cil_tmp5) {
      {
#line 145
      __cil_tmp6 = __builtin_object_size((void *)__buf, 1);
#line 145
      __cil_tmp7 = __readlink_chk(__path, __buf, __len, __cil_tmp6);
      }
#line 145
      return (__cil_tmp7);
    }
    {
#line 147
    __cil_tmp8 = __builtin_object_size((void *)__buf, 1);
    }
#line 147
    if (__len > __cil_tmp8) {
      {
#line 148
      __cil_tmp9 = __builtin_object_size((void *)__buf, 1);
#line 148
      __cil_tmp10 = __readlink_chk_warn(__path, __buf, __len, __cil_tmp9);
      }
#line 148
      return (__cil_tmp10);
    }
  }
  {
#line 150
  __cil_tmp11 = __readlink_alias(__path, __buf, __len);
  }
#line 150
  return (__cil_tmp11);
}
}
#line 155
extern  __attribute__((__nothrow__)) ssize_t __readlinkat_chk(int __fd , char const   *__path ,
                                                              char *__buf , size_t __len ,
                                                              size_t __buflen ) ;
#line 159
extern  __attribute__((__nothrow__)) ssize_t __readlinkat_alias(int __fd , char const   *__path ,
                                                                char *__buf , size_t __len ) ;
#line 164
extern  __attribute__((__nothrow__)) ssize_t __readlinkat_chk_warn(int __fd , char const   *__path ,
                                                                   char *__buf , size_t __len ,
                                                                   size_t __buflen ) ;
#line 173
__inline extern  __attribute__((__nothrow__)) ssize_t ( __attribute__((__gnu_inline__)) readlinkat)(int __fd ,
                                                                                                    char const   *__path ,
                                                                                                    char *__buf ,
                                                                                                    size_t __len ) ;
#line 173 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern ssize_t ( __attribute__((__gnu_inline__)) readlinkat)(int __fd , char const   *__path ,
                                                                      char *__buf ,
                                                                      size_t __len ) 
{ 
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  ssize_t __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  ssize_t __cil_tmp11 ;
  ssize_t __cil_tmp12 ;

  {
  {
#line 176
  __cil_tmp5 = __builtin_object_size((void *)__buf, 1);
  }
#line 176
  if (__cil_tmp5 != 0xffffffffffffffffUL) {
#line 178
    __cil_tmp6 = 0;
#line 178
    if (! __cil_tmp6) {
      {
#line 179
      __cil_tmp7 = __builtin_object_size((void *)__buf, 1);
#line 179
      __cil_tmp8 = __readlinkat_chk(__fd, __path, __buf, __len, __cil_tmp7);
      }
#line 179
      return (__cil_tmp8);
    }
    {
#line 181
    __cil_tmp9 = __builtin_object_size((void *)__buf, 1);
    }
#line 181
    if (__len > __cil_tmp9) {
      {
#line 182
      __cil_tmp10 = __builtin_object_size((void *)__buf, 1);
#line 182
      __cil_tmp11 = __readlinkat_chk_warn(__fd, __path, __buf, __len, __cil_tmp10);
      }
#line 182
      return (__cil_tmp11);
    }
  }
  {
#line 185
  __cil_tmp12 = __readlinkat_alias(__fd, __path, __buf, __len);
  }
#line 185
  return (__cil_tmp12);
}
}
#line 189
extern  __attribute__((__nothrow__)) char *__getcwd_chk(char *__buf , size_t __size ,
                                                        size_t __buflen ) ;
#line 191
extern  __attribute__((__nothrow__)) char *__getcwd_alias(char *__buf , size_t __size ) ;
#line 193
extern  __attribute__((__nothrow__)) char *__getcwd_chk_warn(char *__buf , size_t __size ,
                                                             size_t __buflen ) ;
#line 200
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) getcwd)(char *__buf ,
                                                                                              size_t __size ) ;
#line 200 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern char *( __attribute__((__gnu_inline__)) getcwd)(char *__buf , size_t __size ) 
{ 
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  char *__cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
  {
#line 202
  __cil_tmp3 = __builtin_object_size((void *)__buf, 1);
  }
#line 202
  if (__cil_tmp3 != 0xffffffffffffffffUL) {
#line 204
    __cil_tmp4 = 0;
#line 204
    if (! __cil_tmp4) {
      {
#line 205
      __cil_tmp5 = __builtin_object_size((void *)__buf, 1);
#line 205
      __cil_tmp6 = __getcwd_chk(__buf, __size, __cil_tmp5);
      }
#line 205
      return (__cil_tmp6);
    }
    {
#line 207
    __cil_tmp7 = __builtin_object_size((void *)__buf, 1);
    }
#line 207
    if (__size > __cil_tmp7) {
      {
#line 208
      __cil_tmp8 = __builtin_object_size((void *)__buf, 1);
#line 208
      __cil_tmp9 = __getcwd_chk_warn(__buf, __size, __cil_tmp8);
      }
#line 208
      return (__cil_tmp9);
    }
  }
  {
#line 210
  __cil_tmp10 = __getcwd_alias(__buf, __size);
  }
#line 210
  return (__cil_tmp10);
}
}
#line 214
extern  __attribute__((__nothrow__)) char *__getwd_chk(char *__buf , size_t buflen ) ;
#line 216
extern  __attribute__((__nothrow__)) char *__getwd_warn(char *__buf ) ;
#line 221
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) getwd)(char *__buf ) ;
#line 221 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern char *( __attribute__((__gnu_inline__)) getwd)(char *__buf ) 
{ 
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
  {
#line 223
  __cil_tmp2 = __builtin_object_size((void *)__buf, 1);
  }
#line 223
  if (__cil_tmp2 != 0xffffffffffffffffUL) {
    {
#line 224
    __cil_tmp3 = __builtin_object_size((void *)__buf, 1);
#line 224
    __cil_tmp4 = __getwd_chk(__buf, __cil_tmp3);
    }
#line 224
    return (__cil_tmp4);
  }
  {
#line 225
  __cil_tmp5 = __getwd_warn(__buf);
  }
#line 225
  return (__cil_tmp5);
}
}
#line 229
extern  __attribute__((__nothrow__)) size_t __confstr_chk(int __name , char *__buf ,
                                                          size_t __len , size_t __buflen ) ;
#line 231
extern  __attribute__((__nothrow__)) size_t __confstr_alias(int __name , char *__buf ,
                                                            size_t __len ) ;
#line 233
extern  __attribute__((__nothrow__)) size_t __confstr_chk_warn(int __name , char *__buf ,
                                                               size_t __len , size_t __buflen ) ;
#line 240
__inline extern  __attribute__((__nothrow__)) size_t ( __attribute__((__gnu_inline__)) confstr)(int __name ,
                                                                                                char *__buf ,
                                                                                                size_t __len ) ;
#line 240 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern size_t ( __attribute__((__gnu_inline__)) confstr)(int __name , char *__buf ,
                                                                  size_t __len ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  size_t __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  size_t __cil_tmp10 ;
  size_t __cil_tmp11 ;

  {
  {
#line 242
  __cil_tmp4 = __builtin_object_size((void *)__buf, 1);
  }
#line 242
  if (__cil_tmp4 != 0xffffffffffffffffUL) {
#line 244
    __cil_tmp5 = 0;
#line 244
    if (! __cil_tmp5) {
      {
#line 245
      __cil_tmp6 = __builtin_object_size((void *)__buf, 1);
#line 245
      __cil_tmp7 = __confstr_chk(__name, __buf, __len, __cil_tmp6);
      }
#line 245
      return (__cil_tmp7);
    }
    {
#line 247
    __cil_tmp8 = __builtin_object_size((void *)__buf, 1);
    }
#line 247
    if (__cil_tmp8 < __len) {
      {
#line 248
      __cil_tmp9 = __builtin_object_size((void *)__buf, 1);
#line 248
      __cil_tmp10 = __confstr_chk_warn(__name, __buf, __len, __cil_tmp9);
      }
#line 248
      return (__cil_tmp10);
    }
  }
  {
#line 250
  __cil_tmp11 = __confstr_alias(__name, __buf, __len);
  }
#line 250
  return (__cil_tmp11);
}
}
#line 254
extern  __attribute__((__nothrow__)) int __getgroups_chk(int __size , __gid_t *__list ,
                                                         size_t __listlen ) ;
#line 256
extern  __attribute__((__nothrow__)) int __getgroups_alias(int __size , __gid_t *__list ) ;
#line 258
extern  __attribute__((__nothrow__)) int __getgroups_chk_warn(int __size , __gid_t *__list ,
                                                              size_t __listlen ) ;
#line 265
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) getgroups)(int __size ,
                                                                                               __gid_t *__list ) ;
#line 265 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern int ( __attribute__((__gnu_inline__)) getgroups)(int __size , __gid_t *__list ) 
{ 
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 267
  __cil_tmp3 = __builtin_object_size((void *)__list, 1);
  }
#line 267
  if (__cil_tmp3 != 0xffffffffffffffffUL) {
#line 269
    __cil_tmp4 = 0;
#line 269
    if (! __cil_tmp4) {
      {
#line 270
      __cil_tmp5 = __builtin_object_size((void *)__list, 1);
#line 270
      __cil_tmp6 = __getgroups_chk(__size, __list, __cil_tmp5);
      }
#line 270
      return (__cil_tmp6);
    } else
#line 269
    if (__size < 0) {
      {
#line 270
      __cil_tmp5 = __builtin_object_size((void *)__list, 1);
#line 270
      __cil_tmp6 = __getgroups_chk(__size, __list, __cil_tmp5);
      }
#line 270
      return (__cil_tmp6);
    }
    {
#line 272
    __cil_tmp7 = __builtin_object_size((void *)__list, 1);
    }
#line 272
    if ((unsigned long )__size * sizeof(__gid_t ) > __cil_tmp7) {
      {
#line 273
      __cil_tmp8 = __builtin_object_size((void *)__list, 1);
#line 273
      __cil_tmp9 = __getgroups_chk_warn(__size, __list, __cil_tmp8);
      }
#line 273
      return (__cil_tmp9);
    }
  }
  {
#line 275
  __cil_tmp10 = __getgroups_alias(__size, __list);
  }
#line 275
  return (__cil_tmp10);
}
}
#line 279
extern  __attribute__((__nothrow__)) int __ttyname_r_chk(int __fd , char *__buf ,
                                                         size_t __buflen , size_t __nreal ) ;
#line 281
extern  __attribute__((__nothrow__)) int __ttyname_r_alias(int __fd , char *__buf ,
                                                           size_t __buflen ) ;
#line 284
extern  __attribute__((__nothrow__)) int __ttyname_r_chk_warn(int __fd , char *__buf ,
                                                              size_t __buflen , size_t __nreal ) ;
#line 291
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) ttyname_r)(int __fd ,
                                                                                               char *__buf ,
                                                                                               size_t __buflen ) ;
#line 291 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern int ( __attribute__((__gnu_inline__)) ttyname_r)(int __fd , char *__buf ,
                                                                 size_t __buflen ) 
{ 
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;

  {
  {
#line 293
  __cil_tmp4 = __builtin_object_size((void *)__buf, 1);
  }
#line 293
  if (__cil_tmp4 != 0xffffffffffffffffUL) {
#line 295
    __cil_tmp5 = 0;
#line 295
    if (! __cil_tmp5) {
      {
#line 296
      __cil_tmp6 = __builtin_object_size((void *)__buf, 1);
#line 296
      __cil_tmp7 = __ttyname_r_chk(__fd, __buf, __buflen, __cil_tmp6);
      }
#line 296
      return (__cil_tmp7);
    }
    {
#line 298
    __cil_tmp8 = __builtin_object_size((void *)__buf, 1);
    }
#line 298
    if (__buflen > __cil_tmp8) {
      {
#line 299
      __cil_tmp9 = __builtin_object_size((void *)__buf, 1);
#line 299
      __cil_tmp10 = __ttyname_r_chk_warn(__fd, __buf, __buflen, __cil_tmp9);
      }
#line 299
      return (__cil_tmp10);
    }
  }
  {
#line 301
  __cil_tmp11 = __ttyname_r_alias(__fd, __buf, __buflen);
  }
#line 301
  return (__cil_tmp11);
}
}
#line 306
extern int __getlogin_r_chk(char *__buf , size_t __buflen , size_t __nreal ) ;
#line 308
extern int __getlogin_r_alias(char *__buf , size_t __buflen ) ;
#line 310
extern int __getlogin_r_chk_warn(char *__buf , size_t __buflen , size_t __nreal ) ;
#line 317 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern int ( __attribute__((__gnu_inline__)) getlogin_r)(char *__buf , size_t __buflen ) 
{ 
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 319
  __cil_tmp3 = __builtin_object_size((void *)__buf, 1);
  }
#line 319
  if (__cil_tmp3 != 0xffffffffffffffffUL) {
#line 321
    __cil_tmp4 = 0;
#line 321
    if (! __cil_tmp4) {
      {
#line 322
      __cil_tmp5 = __builtin_object_size((void *)__buf, 1);
#line 322
      __cil_tmp6 = __getlogin_r_chk(__buf, __buflen, __cil_tmp5);
      }
#line 322
      return (__cil_tmp6);
    }
    {
#line 324
    __cil_tmp7 = __builtin_object_size((void *)__buf, 1);
    }
#line 324
    if (__buflen > __cil_tmp7) {
      {
#line 325
      __cil_tmp8 = __builtin_object_size((void *)__buf, 1);
#line 325
      __cil_tmp9 = __getlogin_r_chk_warn(__buf, __buflen, __cil_tmp8);
      }
#line 325
      return (__cil_tmp9);
    }
  }
  {
#line 327
  __cil_tmp10 = __getlogin_r_alias(__buf, __buflen);
  }
#line 327
  return (__cil_tmp10);
}
}
#line 333
extern  __attribute__((__nothrow__)) int __gethostname_chk(char *__buf , size_t __buflen ,
                                                           size_t __nreal ) ;
#line 335
extern  __attribute__((__nothrow__)) int __gethostname_alias(char *__buf , size_t __buflen ) ;
#line 337
extern  __attribute__((__nothrow__)) int __gethostname_chk_warn(char *__buf , size_t __buflen ,
                                                                size_t __nreal ) ;
#line 344
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) gethostname)(char *__buf ,
                                                                                                 size_t __buflen ) ;
#line 344 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern int ( __attribute__((__gnu_inline__)) gethostname)(char *__buf , size_t __buflen ) 
{ 
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 346
  __cil_tmp3 = __builtin_object_size((void *)__buf, 1);
  }
#line 346
  if (__cil_tmp3 != 0xffffffffffffffffUL) {
#line 348
    __cil_tmp4 = 0;
#line 348
    if (! __cil_tmp4) {
      {
#line 349
      __cil_tmp5 = __builtin_object_size((void *)__buf, 1);
#line 349
      __cil_tmp6 = __gethostname_chk(__buf, __buflen, __cil_tmp5);
      }
#line 349
      return (__cil_tmp6);
    }
    {
#line 351
    __cil_tmp7 = __builtin_object_size((void *)__buf, 1);
    }
#line 351
    if (__buflen > __cil_tmp7) {
      {
#line 352
      __cil_tmp8 = __builtin_object_size((void *)__buf, 1);
#line 352
      __cil_tmp9 = __gethostname_chk_warn(__buf, __buflen, __cil_tmp8);
      }
#line 352
      return (__cil_tmp9);
    }
  }
  {
#line 354
  __cil_tmp10 = __gethostname_alias(__buf, __buflen);
  }
#line 354
  return (__cil_tmp10);
}
}
#line 360
extern  __attribute__((__nothrow__)) int __getdomainname_chk(char *__buf , size_t __buflen ,
                                                             size_t __nreal ) ;
#line 362
extern  __attribute__((__nothrow__)) int __getdomainname_alias(char *__buf , size_t __buflen ) ;
#line 365
extern  __attribute__((__nothrow__)) int __getdomainname_chk_warn(char *__buf , size_t __buflen ,
                                                                  size_t __nreal ) ;
#line 373
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) getdomainname)(char *__buf ,
                                                                                                   size_t __buflen ) ;
#line 373 "/usr/include/x86_64-linux-gnu/bits/unistd.h"
__inline extern int ( __attribute__((__gnu_inline__)) getdomainname)(char *__buf ,
                                                                     size_t __buflen ) 
{ 
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 375
  __cil_tmp3 = __builtin_object_size((void *)__buf, 1);
  }
#line 375
  if (__cil_tmp3 != 0xffffffffffffffffUL) {
#line 377
    __cil_tmp4 = 0;
#line 377
    if (! __cil_tmp4) {
      {
#line 378
      __cil_tmp5 = __builtin_object_size((void *)__buf, 1);
#line 378
      __cil_tmp6 = __getdomainname_chk(__buf, __buflen, __cil_tmp5);
      }
#line 378
      return (__cil_tmp6);
    }
    {
#line 380
    __cil_tmp7 = __builtin_object_size((void *)__buf, 1);
    }
#line 380
    if (__buflen > __cil_tmp7) {
      {
#line 381
      __cil_tmp8 = __builtin_object_size((void *)__buf, 1);
#line 381
      __cil_tmp9 = __getdomainname_chk_warn(__buf, __buflen, __cil_tmp8);
      }
#line 381
      return (__cil_tmp9);
    }
  }
  {
#line 383
  __cil_tmp10 = __getdomainname_alias(__buf, __buflen);
  }
#line 383
  return (__cil_tmp10);
}
}
#line 291 "../../../src/libjasper/include/jasper/jas_stream.h"
jas_stream_t *jas_stream_fopen(char const   *filename , char const   *mode ) ;
#line 294
jas_stream_t *jas_stream_memopen(char *buf , int bufsize ) ;
#line 297
jas_stream_t *jas_stream_fdopen(int fd , char const   *mode ) ;
#line 300
jas_stream_t *jas_stream_freopen(char const   *path , char const   *mode , FILE *fp ) ;
#line 303
jas_stream_t *jas_stream_tmpfile(void) ;
#line 306
int jas_stream_close(jas_stream_t *stream ) ;
#line 336
long jas_stream_setrwcount(jas_stream_t *stream , long rwcnt ) ;
#line 357
int jas_stream_read(jas_stream_t *stream , void *buf , int cnt ) ;
#line 360
int jas_stream_write(jas_stream_t *stream , void const   *buf , int cnt ) ;
#line 363
int jas_stream_printf(jas_stream_t *stream , char const   *fmt  , ...) ;
#line 366
int jas_stream_puts(jas_stream_t *stream , char const   *s ) ;
#line 369
char *jas_stream_gets(jas_stream_t *stream , char *buf , int bufsize ) ;
#line 378
int jas_stream_ungetc(jas_stream_t *stream , int c ) ;
#line 385
int jas_stream_isseekable(jas_stream_t *stream ) ;
#line 388
long jas_stream_seek(jas_stream_t *stream , long offset , int origin ) ;
#line 391
long jas_stream_tell(jas_stream_t *stream ) ;
#line 394
int jas_stream_rewind(jas_stream_t *stream ) ;
#line 401
int jas_stream_flush(jas_stream_t *stream ) ;
#line 408
int jas_stream_copy(jas_stream_t *out , jas_stream_t *in , int n ) ;
#line 411
int jas_stream_display(jas_stream_t *stream , FILE *fp , int n ) ;
#line 414
int jas_stream_gobble(jas_stream_t *stream , int n ) ;
#line 417
int jas_stream_pad(jas_stream_t *stream , int n , int c ) ;
#line 421
long jas_stream_length(jas_stream_t *stream ) ;
#line 455
int jas_stream_fillbuf(jas_stream_t *stream , int getflag ) ;
#line 456
int jas_stream_flushbuf(jas_stream_t *stream , int c ) ;
#line 457
int jas_stream_getc_func(jas_stream_t *stream ) ;
#line 458
int jas_stream_putc_func(jas_stream_t *stream , int c ) ;
#line 186 "../../../src/libjasper/include/jasper/jas_seq.h"
jas_matrix_t *jas_matrix_create(int numrows , int numcols ) ;
#line 189
void jas_matrix_destroy(jas_matrix_t *matrix ) ;
#line 192
int jas_matrix_resize(jas_matrix_t *matrix , int numrows , int numcols ) ;
#line 197
void jas_matrix_bindsub(jas_matrix_t *mat0 , jas_matrix_t *mat1 , int r0 , int c0 ,
                        int r1 , int c1 ) ;
#line 209
void jas_matrix_clip(jas_matrix_t *matrix , jas_seqent_t minval , jas_seqent_t maxval ) ;
#line 213
void jas_matrix_asl(jas_matrix_t *matrix , int n ) ;
#line 216
void jas_matrix_asr(jas_matrix_t *matrix , int n ) ;
#line 219
void jas_matrix_divpow2(jas_matrix_t *matrix , int n ) ;
#line 222
void jas_matrix_setall(jas_matrix_t *matrix , jas_seqent_t val ) ;
#line 233
int jas_matrix_cmp(jas_matrix_t *mat0 , jas_matrix_t *mat1 ) ;
#line 235
jas_matrix_t *jas_matrix_copy(jas_matrix_t *x ) ;
#line 243
jas_seq2d_t *jas_seq2d_copy(jas_seq2d_t *x ) ;
#line 245
jas_matrix_t *jas_seq2d_create(int xstart , int ystart , int xend , int yend ) ;
#line 273
void jas_seq2d_bindsub(jas_matrix_t *s , jas_matrix_t *s1 , int xstart , int ystart ,
                       int xend , int yend ) ;
#line 376 "../../../src/libjasper/include/jasper/jas_icc.h"
jas_iccprof_t *jas_iccprof_load(jas_stream_t *in ) ;
#line 377
int jas_iccprof_save(jas_iccprof_t *prof , jas_stream_t *out ) ;
#line 378
void jas_iccprof_destroy(jas_iccprof_t *prof ) ;
#line 379
jas_iccattrval_t *jas_iccprof_getattr(jas_iccprof_t *prof , jas_iccattrname_t name ) ;
#line 381
int jas_iccprof_setattr(jas_iccprof_t *prof , jas_iccattrname_t name , jas_iccattrval_t *val ) ;
#line 383
void jas_iccprof_dump(jas_iccprof_t *prof , FILE *out ) ;
#line 384
jas_iccprof_t *jas_iccprof_copy(jas_iccprof_t *prof ) ;
#line 385
int jas_iccprof_gethdr(jas_iccprof_t *prof , jas_icchdr_t *hdr ) ;
#line 386
int jas_iccprof_sethdr(jas_iccprof_t *prof , jas_icchdr_t *hdr ) ;
#line 388
void jas_iccattrval_destroy(jas_iccattrval_t *attrval ) ;
#line 389
void jas_iccattrval_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 390
int jas_iccattrval_allowmodify(jas_iccattrval_t **attrvalx ) ;
#line 391
jas_iccattrval_t *jas_iccattrval_clone(jas_iccattrval_t *attrval ) ;
#line 392
jas_iccattrval_t *jas_iccattrval_create(jas_iccuint32_t type ) ;
#line 394
void jas_iccattrtab_dump(jas_iccattrtab_t *attrtab , FILE *out ) ;
#line 396
unsigned char jas_iccprofdata_srgb[3144] ;
#line 397
int jas_iccprofdata_srgblen ;
#line 398
unsigned char jas_iccprofdata_sgray[394] ;
#line 399
int jas_iccprofdata_sgraylen ;
#line 400
jas_iccprof_t *jas_iccprof_createfrombuf(unsigned char *buf , int len ) ;
#line 401
jas_iccprof_t *jas_iccprof_createfromclrspc(int clrspc ) ;
#line 227 "../../../src/libjasper/include/jasper/jas_cm.h"
void jas_cmprof_destroy(jas_cmprof_t *prof ) ;
#line 243
jas_cmxform_t *jas_cmxform_create(jas_cmprof_t *inprof , jas_cmprof_t *outprof , jas_cmprof_t *prfprof ,
                                  int op , int intent , int optimize ) ;
#line 246
void jas_cmxform_destroy(jas_cmxform_t *xform ) ;
#line 249
int jas_cmxform_apply(jas_cmxform_t *xform , jas_cmpixmap_t *in , jas_cmpixmap_t *out ) ;
#line 254
int jas_clrspc_numchans(int clrspc ) ;
#line 255
jas_cmprof_t *jas_cmprof_createfromiccprof(jas_iccprof_t *iccprof ) ;
#line 256
jas_cmprof_t *jas_cmprof_createfromclrspc(int clrspc ) ;
#line 257
jas_iccprof_t *jas_iccprof_createfromcmprof(jas_cmprof_t *prof ) ;
#line 260
jas_cmprof_t *jas_cmprof_copy(jas_cmprof_t *prof ) ;
#line 301 "../../../src/libjasper/include/jasper/jas_image.h"
jas_image_t *jas_image_create(int numcmpts , jas_image_cmptparm_t *cmptparms , int clrspc ) ;
#line 305
jas_image_t *jas_image_create0(void) ;
#line 308
jas_image_t *jas_image_copy(jas_image_t *image ) ;
#line 311
void jas_image_destroy(jas_image_t *image ) ;
#line 404
uint_fast32_t jas_image_rawsize(jas_image_t *image ) ;
#line 407
jas_image_t *jas_image_decode(jas_stream_t *in , int fmt , char *optstr ) ;
#line 410
int jas_image_encode(jas_image_t *image , jas_stream_t *out , int fmt , char *optstr ) ;
#line 416
int jas_image_readcmpt(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                       jas_image_coord_t width , jas_image_coord_t height , jas_matrix_t *data ) ;
#line 421
int jas_image_writecmpt(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                        jas_image_coord_t width , jas_image_coord_t height , jas_matrix_t *data ) ;
#line 426
void jas_image_delcmpt(jas_image_t *image , int cmptno ) ;
#line 429
int jas_image_addcmpt(jas_image_t *image , int cmptno , jas_image_cmptparm_t *cmptparm ) ;
#line 433
int jas_image_copycmpt(jas_image_t *dstimage , int dstcmptno , jas_image_t *srcimage ,
                       int srccmptno ) ;
#line 444
int jas_image_depalettize(jas_image_t *image , int cmptno , int numlutents , int_fast32_t *lutents ,
                          int dtype , int newcmptno ) ;
#line 447
int jas_image_readcmptsample(jas_image_t *image , int cmptno , int x , int y ) ;
#line 448
void jas_image_writecmptsample(jas_image_t *image , int cmptno , int x , int y , int_fast32_t v ) ;
#line 451
int jas_image_getcmptbytype(jas_image_t *image , int ctype ) ;
#line 458
void jas_image_clearfmts(void) ;
#line 461
int jas_image_addfmt(int id , char *name , char *ext , char *desc , jas_image_fmtops_t *ops ) ;
#line 465
int jas_image_strtofmt(char *name ) ;
#line 468
char *jas_image_fmttostr(int fmt ) ;
#line 471
jas_image_fmtinfo_t *jas_image_lookupfmtbyid(int id ) ;
#line 474
jas_image_fmtinfo_t *jas_image_lookupfmtbyname(char const   *name ) ;
#line 477
int jas_image_fmtfromname(char *name ) ;
#line 480
int jas_image_getfmt(jas_stream_t *in ) ;
#line 484
int jas_image_ishomosamp(jas_image_t *image ) ;
#line 485
int jas_image_sampcmpt(jas_image_t *image , int cmptno , int newcmptno , jas_image_coord_t ho ,
                       jas_image_coord_t vo , jas_image_coord_t hs , jas_image_coord_t vs ,
                       int sgnd , int prec ) ;
#line 488
int jas_image_writecmpt2(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                         jas_image_coord_t width , jas_image_coord_t height , long *buf ) ;
#line 491
int jas_image_readcmpt2(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                        jas_image_coord_t width , jas_image_coord_t height , long *buf ) ;
#line 496
jas_image_t *jas_image_chclrspc(jas_image_t *image , jas_cmprof_t *outprof , int intent ) ;
#line 498
void jas_image_dump(jas_image_t *image , FILE *out ) ;
#line 506
jas_image_t *jpg_decode(jas_stream_t *in , char *optstr ) ;
#line 507
int jpg_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) ;
#line 508
int jpg_validate(jas_stream_t *in ) ;
#line 513
jas_image_t *mif_decode(jas_stream_t *in , char *optstr ) ;
#line 514
int mif_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) ;
#line 515
int mif_validate(jas_stream_t *in ) ;
#line 520
jas_image_t *pnm_decode(jas_stream_t *in , char *opts___0 ) ;
#line 521
int pnm_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) ;
#line 522
int pnm_validate(jas_stream_t *in ) ;
#line 527
jas_image_t *ras_decode(jas_stream_t *in , char *optstr ) ;
#line 528
int ras_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) ;
#line 529
int ras_validate(jas_stream_t *in ) ;
#line 534
jas_image_t *bmp_decode(jas_stream_t *in , char *optstr ) ;
#line 535
int bmp_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) ;
#line 536
int bmp_validate(jas_stream_t *in ) ;
#line 541
jas_image_t *jp2_decode(jas_stream_t *in , char *optstr ) ;
#line 542
int jp2_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) ;
#line 543
int jp2_validate(jas_stream_t *in ) ;
#line 548
jas_image_t *jpc_decode(jas_stream_t *in , char *optstr ) ;
#line 549
int jpc_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) ;
#line 550
int jpc_validate(jas_stream_t *in ) ;
#line 555
jas_image_t *pgx_decode(jas_stream_t *in , char *optstr ) ;
#line 556
int pgx_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) ;
#line 557
int pgx_validate(jas_stream_t *in ) ;
#line 99 "../../../src/libjasper/include/jasper/jas_debug.h"
int jas_getdbglevel(void) ;
#line 102
int jas_setdbglevel(int dbglevel ) ;
#line 105
int jas_eprintf(char const   *fmt  , ...) ;
#line 108
int jas_memdump(FILE *out , void *data , size_t len ) ;
#line 88 "/root/patron-new/new_2/src/libjasper/ras/ras_enc.c"
static int ras_puthdr(jas_stream_t *out , ras_hdr_t *hdr ) ;
#line 89
static int ras_putint(jas_stream_t *out , int val ) ;
#line 91
static int ras_putdata(jas_stream_t *out , ras_hdr_t *hdr , jas_image_t *image , int numcmpts ,
                       int *cmpts ) ;
#line 92
static int ras_putdatastd(jas_stream_t *out , ras_hdr_t *hdr , jas_image_t *image ,
                          int numcmpts , int *cmpts ) ;
#line 98 "/root/patron-new/new_2/src/libjasper/ras/ras_enc.c"
int ras_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) 
{ 
  int_fast32_t width ;
  int_fast32_t height ;
  int_fast32_t depth ;
  int cmptno ;
  int i ;
  ras_hdr_t hdr ;
  int rowsize ;
  ras_enc_t encbuf ;
  ras_enc_t *enc ;
  long tmp ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;

  {
#line 111
  enc = & encbuf;
#line 113
  if (optstr) {
    {
#line 114
    jas_eprintf("warning: ignoring RAS encoder options\n");
    }
  }
#line 118
  if (image->clrspc_ >> 8 == 4) {
#line 118
    goto case_4;
  }
#line 132
  if (image->clrspc_ >> 8 == 3) {
#line 132
    goto case_3;
  }
#line 142
  goto switch_default;
  case_4: 
#line 119
  if (image->clrspc_ != ((4 << 8) | 1)) {
    {
#line 120
    jas_eprintf("warning: inaccurate color\n");
    }
  }
  {
#line 121
  enc->numcmpts = 3;
#line 122
  enc->cmpts[2] = jas_image_getcmptbytype(image, 2);
#line 122
  enc->cmpts[1] = jas_image_getcmptbytype(image, 1);
#line 122
  enc->cmpts[0] = jas_image_getcmptbytype(image, 0);
  }
#line 122
  if (enc->cmpts[0] < 0) {
    {
#line 128
    jas_eprintf("error: missing color component\n");
    }
#line 129
    return (-1);
  } else
#line 122
  if (enc->cmpts[1] < 0) {
    {
#line 128
    jas_eprintf("error: missing color component\n");
    }
#line 129
    return (-1);
  } else
#line 122
  if (enc->cmpts[2] < 0) {
    {
#line 128
    jas_eprintf("error: missing color component\n");
    }
#line 129
    return (-1);
  }
#line 131
  goto switch_break;
  case_3: 
#line 133
  if (image->clrspc_ != ((3 << 8) | 1)) {
    {
#line 134
    jas_eprintf("warning: inaccurate color\n");
    }
  }
  {
#line 135
  enc->numcmpts = 1;
#line 136
  enc->cmpts[0] = jas_image_getcmptbytype(image, 0);
  }
#line 136
  if (enc->cmpts[0] < 0) {
    {
#line 138
    jas_eprintf("error: missing color component\n");
    }
#line 139
    return (-1);
  }
#line 141
  goto switch_break;
  switch_default: 
  {
#line 143
  jas_eprintf("error: unsupported color space\n");
  }
#line 144
  return (-1);
#line 145
  goto switch_break;
  switch_break: 
#line 148
  width = (*(image->cmpts_ + enc->cmpts[0]))->width_;
#line 149
  height = (*(image->cmpts_ + enc->cmpts[0]))->height_;
#line 150
  depth = (int_fast32_t )(*(image->cmpts_ + enc->cmpts[0]))->prec_;
#line 152
  cmptno = 0;
  {
#line 152
  while (1) {
    while_continue: /* CIL Label */ ;

#line 152
    if (! (cmptno < enc->numcmpts)) {
#line 152
      goto while_break;
    }
#line 153
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->width_ != width) {
      {
#line 159
      jas_eprintf("The RAS format cannot be used to represent an image with this geometry.\n\220");
      }
#line 160
      return (-1);
    } else
#line 153
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->height_ != height) {
      {
#line 159
      jas_eprintf("The RAS format cannot be used to represent an image with this geometry.\n\220");
      }
#line 160
      return (-1);
    } else
#line 153
    if ((long )(*(image->cmpts_ + enc->cmpts[cmptno]))->prec_ != depth) {
      {
#line 159
      jas_eprintf("The RAS format cannot be used to represent an image with this geometry.\n\220");
      }
#line 160
      return (-1);
    } else
#line 153
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->sgnd_ != 0) {
      {
#line 159
      jas_eprintf("The RAS format cannot be used to represent an image with this geometry.\n\220");
      }
#line 160
      return (-1);
    } else
#line 153
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->tlx_ != 0L) {
      {
#line 159
      jas_eprintf("The RAS format cannot be used to represent an image with this geometry.\n\220");
      }
#line 160
      return (-1);
    } else
#line 153
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->tly_ != 0L) {
      {
#line 159
      jas_eprintf("The RAS format cannot be used to represent an image with this geometry.\n\220");
      }
#line 160
      return (-1);
    }
#line 152
    cmptno ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 165
  if (enc->numcmpts == 3) {
#line 169
    if (enc->numcmpts > 1) {
#line 170
      i = 0;
      {
#line 170
      while (1) {
        while_continue___0: /* CIL Label */ ;

#line 170
        if (! (i < enc->numcmpts)) {
#line 170
          goto while_break___0;
        }
#line 171
        if ((*(image->cmpts_ + enc->cmpts[i]))->prec_ != 8) {
#line 172
          return (-1);
        }
#line 170
        i ++;
      }
      while_break___2: /* CIL Label */ ;
      }
      while_break___0: ;
    }
  } else
#line 176
  if (! (enc->numcmpts == 1)) {
#line 179
    return (-1);
  }
#line 182
  hdr.magic = (int_fast32_t )1504078485;
#line 183
  hdr.width = width;
#line 184
  hdr.height = height;
#line 185
  if (enc->numcmpts == 3) {
#line 185
    tmp = 24L;
  } else {
#line 185
    tmp = depth;
  }
  {
#line 185
  hdr.depth = tmp;
#line 187
  rowsize = (int )(((hdr.width * hdr.depth + 15L) / 16L) * 2L);
#line 188
  hdr.length = (long )rowsize * hdr.height;
#line 189
  hdr.type = (int_fast32_t )1;
#line 191
  hdr.maptype = (int_fast32_t )0;
#line 192
  hdr.maplength = (int_fast32_t )0;
#line 194
  __cil_tmp18 = ras_puthdr(out, & hdr);
  }
#line 194
  if (__cil_tmp18) {
#line 195
    return (-1);
  }
  {
#line 198
  __cil_tmp19 = ras_putdata(out, & hdr, image, enc->numcmpts, enc->cmpts);
  }
#line 198
  if (__cil_tmp19) {
#line 199
    return (-1);
  }
#line 202
  return (0);
}
}
#line 205 "/root/patron-new/new_2/src/libjasper/ras/ras_enc.c"
static int ras_putdata(jas_stream_t *out , ras_hdr_t *hdr , jas_image_t *image , int numcmpts ,
                       int *cmpts ) 
{ 
  int ret ;

  {
#line 210
  if (hdr->type == 1L) {
#line 210
    goto case_1;
  }
#line 213
  goto switch_default;
  case_1: 
  {
#line 211
  ret = ras_putdatastd(out, hdr, image, numcmpts, cmpts);
  }
#line 212
  goto switch_break;
  switch_default: 
#line 214
  ret = -1;
#line 215
  goto switch_break;
  switch_break: ;
#line 217
  return (ret);
}
}
#line 220 "/root/patron-new/new_2/src/libjasper/ras/ras_enc.c"
static int ras_putdatastd(jas_stream_t *out , ras_hdr_t *hdr , jas_image_t *image ,
                          int numcmpts , int *cmpts ) 
{ 
  int rowsize ;
  int pad ;
  unsigned int z ;
  int nz ;
  int c ;
  int x ;
  int y ;
  int v ;
  jas_matrix_t *data[3] ;
  int i ;
  int __cil_tmp18 ;
  jas_seqent_t tmp___0 ;
  jas_seqent_t tmp___1 ;
  jas_seqent_t tmp___2 ;
  jas_seqent_t tmp___3 ;
  unsigned long tmp___4 ;
  int __cil_tmp24 ;
  unsigned char *__cil_tmp25 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  unsigned long tmp___8 ;
  unsigned long tmp___9 ;
  int __cil_tmp32 ;
  unsigned char *__cil_tmp33 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int __cil_tmp37 ;
  unsigned char *__cil_tmp38 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;

  {
#line 233
  i = 0;
  {
#line 233
  while (1) {
    while_continue: /* CIL Label */ ;

#line 233
    if (! (i < numcmpts)) {
#line 233
      goto while_break;
    }
    {
#line 234
    data[i] = jas_matrix_create((int )(image->bry_ - image->tly_), (int )(image->brx_ - image->tlx_));
#line 233
    i ++;
    }
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: 
#line 238
  rowsize = (int )(((hdr->width * hdr->depth + 15L) / 16L) * 2L);
#line 239
  pad = (int )((long )rowsize - (hdr->width * hdr->depth + 7L) / 8L);
#line 241
  hdr->length = hdr->height * (long )rowsize;
#line 243
  y = 0;
  {
#line 243
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 243
    if (! ((long )y < hdr->height)) {
#line 243
      goto while_break___0;
    }
#line 244
    i = 0;
    {
#line 244
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 244
      if (! (i < numcmpts)) {
#line 244
        goto while_break___1;
      }
      {
#line 245
      __cil_tmp18 = jas_image_readcmpt(image, *(cmpts + i), (jas_image_coord_t )0,
                                       (jas_image_coord_t )y, image->brx_ - image->tlx_,
                                       (jas_image_coord_t )1, data[i]);
      }
#line 245
      if (__cil_tmp18) {
#line 247
        return (-1);
      }
#line 244
      i ++;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: 
#line 250
    z = 0U;
#line 251
    nz = 0;
#line 252
    x = 0;
    {
#line 252
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 252
      if (! ((long )x < hdr->width)) {
#line 252
        goto while_break___2;
      }
#line 253
      z <<= hdr->depth;
#line 254
      if (hdr->depth == 24L) {
        _L: 
#line 255
        if ((data[2])->numrows_ == 1L) {
#line 255
          tmp___2 = *(*((data[2])->rows_ + 0) + x);
        } else {
#line 255
          tmp___2 = *(*((data[2])->rows_ + x) + 0);
        }
#line 255
        if ((data[1])->numrows_ == 1L) {
#line 255
          tmp___1 = *(*((data[1])->rows_ + 0) + x);
        } else {
#line 255
          tmp___1 = *(*((data[1])->rows_ + x) + 0);
        }
#line 255
        if ((data[0])->numrows_ == 1L) {
#line 255
          tmp___0 = *(*((data[0])->rows_ + 0) + x);
        } else {
#line 255
          tmp___0 = *(*((data[0])->rows_ + x) + 0);
        }
#line 255
        v = (int )(((tmp___0 & 255L) | ((tmp___1 & 255L) << 8)) | ((tmp___2 & 255L) << 16));
      } else
#line 254
      if (hdr->depth == 32L) {
#line 254
        goto _L;
      } else {
#line 259
        if ((data[0])->numrows_ == 1L) {
#line 259
          tmp___3 = *(*((data[0])->rows_ + 0) + x);
        } else {
#line 259
          tmp___3 = *(*((data[0])->rows_ + x) + 0);
        }
#line 259
        v = (int )tmp___3;
      }
#line 261
      if (hdr->depth == 32L) {
#line 261
        tmp___4 = 4294967295UL;
      } else {
#line 261
        tmp___4 = (1UL << hdr->depth) - 1UL;
      }
#line 261
      z = (unsigned int )((unsigned long )z | ((unsigned long )v & tmp___4));
#line 262
      nz = (int )((int_fast32_t )nz + hdr->depth);
      {
#line 263
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 263
        if (! (nz >= 8)) {
#line 263
          goto while_break___3;
        }
#line 264
        c = (int )((z >> (nz - 8)) & 255U);
#line 265
        if (! (out->flags_ & 7)) {
#line 265
          if (out->rwlimit_ >= 0L) {
#line 265
            if (out->rwcnt_ >= out->rwlimit_) {
#line 265
              out->flags_ |= 4;
#line 265
              tmp___6 = -1;
            } else {
#line 265
              goto _L___0;
            }
          } else {
            _L___0: /* CIL Label */ 
#line 265
            (out->cnt_) --;
#line 265
            out->bufmode_ |= 32;
#line 265
            if (out->cnt_ < 0) {
              {
#line 265
              __cil_tmp24 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 265
              tmp___5 = __cil_tmp24;
              }
            } else {
#line 265
              __cil_tmp25 = out->ptr_;
#line 265
              (out->ptr_) ++;
#line 265
              *__cil_tmp25 = (unsigned char )c;
#line 265
              (out->rwcnt_) ++;
#line 265
              tmp___5 = (int )*__cil_tmp25;
            }
#line 265
            tmp___6 = tmp___5;
          }
#line 265
          tmp___7 = tmp___6;
        } else {
#line 265
          tmp___7 = -1;
        }
#line 265
        if (tmp___7 == -1) {
#line 266
          return (-1);
        }
#line 268
        nz -= 8;
#line 269
        if (nz == 32) {
#line 269
          tmp___8 = 4294967295UL;
        } else {
#line 269
          tmp___8 = (1UL << nz) - 1UL;
        }
#line 269
        z = (unsigned int )((unsigned long )z & tmp___8);
      }
      while_break___9: /* CIL Label */ ;
      }
      while_break___3: 
#line 252
      x ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: ;
#line 272
    if (nz > 0) {
#line 273
      if (nz == 32) {
#line 273
        tmp___9 = 4294967295UL;
      } else {
#line 273
        tmp___9 = (1UL << nz) - 1UL;
      }
#line 273
      c = (int )((unsigned long )(z >> (8 - nz)) & tmp___9);
#line 274
      if (! (out->flags_ & 7)) {
#line 274
        if (out->rwlimit_ >= 0L) {
#line 274
          if (out->rwcnt_ >= out->rwlimit_) {
#line 274
            out->flags_ |= 4;
#line 274
            tmp___11 = -1;
          } else {
#line 274
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ 
#line 274
          (out->cnt_) --;
#line 274
          out->bufmode_ |= 32;
#line 274
          if (out->cnt_ < 0) {
            {
#line 274
            __cil_tmp32 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 274
            tmp___10 = __cil_tmp32;
            }
          } else {
#line 274
            __cil_tmp33 = out->ptr_;
#line 274
            (out->ptr_) ++;
#line 274
            *__cil_tmp33 = (unsigned char )c;
#line 274
            (out->rwcnt_) ++;
#line 274
            tmp___10 = (int )*__cil_tmp33;
          }
#line 274
          tmp___11 = tmp___10;
        }
#line 274
        tmp___12 = tmp___11;
      } else {
#line 274
        tmp___12 = -1;
      }
#line 274
      if (tmp___12 == -1) {
#line 275
        return (-1);
      }
    }
#line 278
    if (pad % 2) {
#line 279
      if (! (out->flags_ & 7)) {
#line 279
        if (out->rwlimit_ >= 0L) {
#line 279
          if (out->rwcnt_ >= out->rwlimit_) {
#line 279
            out->flags_ |= 4;
#line 279
            tmp___14 = -1;
          } else {
#line 279
            goto _L___2;
          }
        } else {
          _L___2: /* CIL Label */ 
#line 279
          (out->cnt_) --;
#line 279
          out->bufmode_ |= 32;
#line 279
          if (out->cnt_ < 0) {
            {
#line 279
            __cil_tmp37 = jas_stream_flushbuf(out, 0);
#line 279
            tmp___13 = __cil_tmp37;
            }
          } else {
#line 279
            __cil_tmp38 = out->ptr_;
#line 279
            (out->ptr_) ++;
#line 279
            *__cil_tmp38 = (unsigned char)0;
#line 279
            (out->rwcnt_) ++;
#line 279
            tmp___13 = (int )*__cil_tmp38;
          }
#line 279
          tmp___14 = tmp___13;
        }
#line 279
        tmp___15 = tmp___14;
      } else {
#line 279
        tmp___15 = -1;
      }
#line 279
      if (tmp___15 == -1) {
#line 280
        return (-1);
      }
    }
#line 243
    y ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___0: 
#line 285
  i = 0;
  {
#line 285
  while (1) {
    while_continue___4: /* CIL Label */ ;

#line 285
    if (! (i < numcmpts)) {
#line 285
      goto while_break___4;
    }
    {
#line 286
    jas_matrix_destroy(data[i]);
#line 285
    i ++;
    }
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___4: ;
#line 289
  return (0);
}
}
#line 292 "/root/patron-new/new_2/src/libjasper/ras/ras_enc.c"
static int ras_puthdr(jas_stream_t *out , ras_hdr_t *hdr ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 294
  __cil_tmp10 = ras_putint(out, (int )hdr->maplength);
#line 294
  __cil_tmp9 = ras_putint(out, (int )hdr->maptype);
#line 294
  __cil_tmp8 = ras_putint(out, (int )hdr->type);
#line 294
  __cil_tmp7 = ras_putint(out, (int )hdr->length);
#line 294
  __cil_tmp6 = ras_putint(out, (int )hdr->depth);
#line 294
  __cil_tmp5 = ras_putint(out, (int )hdr->height);
#line 294
  __cil_tmp4 = ras_putint(out, (int )hdr->width);
#line 294
  __cil_tmp3 = ras_putint(out, 1504078485);
  }
#line 294
  if (__cil_tmp3) {
#line 298
    return (-1);
  } else
#line 294
  if (__cil_tmp4) {
#line 298
    return (-1);
  } else
#line 294
  if (__cil_tmp5) {
#line 298
    return (-1);
  } else
#line 294
  if (__cil_tmp6) {
#line 298
    return (-1);
  } else
#line 294
  if (__cil_tmp7) {
#line 298
    return (-1);
  } else
#line 294
  if (__cil_tmp8) {
#line 298
    return (-1);
  } else
#line 294
  if (__cil_tmp9) {
#line 298
    return (-1);
  } else
#line 294
  if (__cil_tmp10) {
#line 298
    return (-1);
  }
#line 301
  return (0);
}
}
#line 304 "/root/patron-new/new_2/src/libjasper/ras/ras_enc.c"
static int ras_putint(jas_stream_t *out , int val ) 
{ 
  int x ;
  int i ;
  int c ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 310
  x = val;
#line 311
  i = 0;
  {
#line 311
  while (1) {
    while_continue: /* CIL Label */ ;

#line 311
    if (! (i < 4)) {
#line 311
      goto while_break;
    }
#line 312
    c = (x >> 24) & 255;
#line 313
    if (! (out->flags_ & 7)) {
#line 313
      if (out->rwlimit_ >= 0L) {
#line 313
        if (out->rwcnt_ >= out->rwlimit_) {
#line 313
          out->flags_ |= 4;
#line 313
          tmp___0 = -1;
        } else {
#line 313
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 313
        (out->cnt_) --;
#line 313
        out->bufmode_ |= 32;
#line 313
        if (out->cnt_ < 0) {
          {
#line 313
          __cil_tmp6 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 313
          tmp = __cil_tmp6;
          }
        } else {
#line 313
          __cil_tmp7 = out->ptr_;
#line 313
          (out->ptr_) ++;
#line 313
          *__cil_tmp7 = (unsigned char )c;
#line 313
          (out->rwcnt_) ++;
#line 313
          tmp = (int )*__cil_tmp7;
        }
#line 313
        tmp___0 = tmp;
      }
#line 313
      tmp___1 = tmp___0;
    } else {
#line 313
      tmp___1 = -1;
    }
#line 313
    if (tmp___1 == -1) {
#line 314
      return (-1);
    }
#line 316
    x <<= 8;
#line 311
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 319
  return (0);
}
}
#line 87 "/root/patron-new/new_2/src/libjasper/ras/ras_dec.c"
static int ras_gethdr(jas_stream_t *in , ras_hdr_t *hdr ) ;
#line 88
static int ras_getint(jas_stream_t *in , int_fast32_t *val ) ;
#line 90
static int ras_getdata(jas_stream_t *in , ras_hdr_t *hdr , ras_cmap_t *cmap , jas_image_t *image ) ;
#line 92
static int ras_getdatastd(jas_stream_t *in , ras_hdr_t *hdr , ras_cmap_t *cmap , jas_image_t *image ) ;
#line 94
static int ras_getcmap(jas_stream_t *in , ras_hdr_t *hdr , ras_cmap_t *cmap ) ;
#line 100 "/root/patron-new/new_2/src/libjasper/ras/ras_dec.c"
jas_image_t *ras_decode(jas_stream_t *in , char *optstr ) 
{ 
  ras_hdr_t hdr ;
  ras_cmap_t cmap ;
  jas_image_t *image ;
  jas_image_cmptparm_t cmptparms[3] ;
  jas_image_cmptparm_t *cmptparm ;
  int clrspc ;
  int numcmpts ;
  int i ;
  int __cil_tmp11 ;
  long tmp ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;

  {
#line 111
  if (optstr) {
    {
#line 112
    jas_eprintf("warning: ignoring RAS decoder options\n");
    }
  }
  {
#line 116
  __cil_tmp11 = ras_gethdr(in, & hdr);
  }
#line 116
  if (__cil_tmp11) {
#line 117
    return ((jas_image_t *)0);
  }
#line 121
  if (hdr.magic != 1504078485L) {
#line 123
    return ((jas_image_t *)0);
  } else
#line 121
  if (hdr.width <= 0L) {
#line 123
    return ((jas_image_t *)0);
  } else
#line 121
  if (hdr.height <= 0L) {
#line 123
    return ((jas_image_t *)0);
  } else
#line 121
  if (hdr.depth <= 0L) {
#line 123
    return ((jas_image_t *)0);
  } else
#line 121
  if (hdr.depth > 32L) {
#line 123
    return ((jas_image_t *)0);
  }
#line 128
  if (hdr.type == 0L) {
#line 129
    hdr.length = (((hdr.width * hdr.depth + 15L) / 16L) * 2L) * hdr.height;
  }
#line 134
  if (hdr.depth == 24L) {
#line 135
    clrspc = (4 << 8) | 1;
#line 136
    numcmpts = 3;
  } else
#line 134
  if (hdr.depth == 32L) {
#line 135
    clrspc = (4 << 8) | 1;
#line 136
    numcmpts = 3;
  } else {
#line 138
    clrspc = (3 << 8) | 1;
#line 139
    numcmpts = 1;
  }
#line 141
  cmptparm = cmptparms;
#line 141
  i = 0;
  {
#line 141
  while (1) {
    while_continue: /* CIL Label */ ;

#line 141
    if (! (i < numcmpts)) {
#line 141
      goto while_break;
    }
#line 142
    cmptparm->tlx = (jas_image_coord_t )0;
#line 143
    cmptparm->tly = (jas_image_coord_t )0;
#line 144
    cmptparm->hstep = (jas_image_coord_t )1;
#line 145
    cmptparm->vstep = (jas_image_coord_t )1;
#line 146
    cmptparm->width = hdr.width;
#line 147
    cmptparm->height = hdr.height;
#line 148
    if (hdr.depth == 24L) {
#line 148
      tmp = 8L;
    } else
#line 148
    if (hdr.depth == 32L) {
#line 148
      tmp = 8L;
    } else {
#line 148
      tmp = hdr.depth;
    }
#line 148
    cmptparm->prec = (int )tmp;
#line 149
    cmptparm->sgnd = 0;
#line 141
    cmptparm ++;
#line 141
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 152
  image = jas_image_create(numcmpts, cmptparms, 16384);
  }
#line 152
  if (! image) {
#line 153
    return ((jas_image_t *)0);
  }
  {
#line 157
  __cil_tmp14 = ras_getcmap(in, & hdr, & cmap);
  }
#line 157
  if (__cil_tmp14) {
    {
#line 158
    jas_image_destroy(image);
    }
#line 159
    return ((jas_image_t *)0);
  }
  {
#line 163
  __cil_tmp15 = ras_getdata(in, & hdr, & cmap, image);
  }
#line 163
  if (__cil_tmp15) {
    {
#line 164
    jas_image_destroy(image);
    }
#line 165
    return ((jas_image_t *)0);
  }
#line 168
  image->clrspc_ = clrspc;
#line 169
  if (clrspc == ((4 << 8) | 1)) {
#line 170
    (*(image->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
#line 172
    (*(image->cmpts_ + 1))->type_ = (jas_image_cmpttype_t )1;
#line 174
    (*(image->cmpts_ + 2))->type_ = (jas_image_cmpttype_t )2;
  } else {
#line 177
    (*(image->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
  }
#line 181
  return (image);
}
}
#line 184 "/root/patron-new/new_2/src/libjasper/ras/ras_dec.c"
int ras_validate(jas_stream_t *in ) 
{ 
  unsigned char buf[4] ;
  int i ;
  int n ;
  uint_fast32_t magic ;
  int __cil_tmp8 ;

  {
  {
#line 195
  n = jas_stream_read(in, (void *)(buf), 4);
  }
#line 195
  if (n < 0) {
#line 196
    return (-1);
  }
#line 201
  i = n - 1;
  {
#line 201
  while (1) {
    while_continue: /* CIL Label */ ;

#line 201
    if (! (i >= 0)) {
#line 201
      goto while_break;
    }
    {
#line 202
    __cil_tmp8 = jas_stream_ungetc(in, (int )buf[i]);
    }
#line 202
    if (__cil_tmp8 == -1) {
#line 203
      return (-1);
    }
#line 201
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 208
  if (n < 4) {
#line 209
    return (-1);
  }
#line 212
  magic = (uint_fast32_t )(((((int )buf[0] << 24) | ((int )buf[1] << 16)) | ((int )buf[2] << 8)) | (int )buf[3]);
#line 215
  if (magic != 1504078485UL) {
#line 216
    return (-1);
  }
#line 218
  return (0);
}
}
#line 221 "/root/patron-new/new_2/src/libjasper/ras/ras_dec.c"
static int ras_getdata(jas_stream_t *in , ras_hdr_t *hdr , ras_cmap_t *cmap , jas_image_t *image ) 
{ 
  int ret ;

  {
#line 228
  if (hdr->type == 1L) {
#line 228
    goto case_1;
  }
#line 228
  if (hdr->type == 0L) {
#line 228
    goto case_1;
  }
#line 231
  if (hdr->type == 2L) {
#line 231
    goto case_2;
  }
#line 235
  goto switch_default;
  case_1: 
  {
#line 229
  ret = ras_getdatastd(in, hdr, cmap, image);
  }
#line 230
  goto switch_break;
  case_2: 
  {
#line 232
  jas_eprintf("error: RLE encoding method not supported\n");
#line 233
  ret = -1;
  }
#line 234
  goto switch_break;
  switch_default: 
  {
#line 236
  jas_eprintf("error: encoding method not supported\n");
#line 237
  ret = -1;
  }
#line 238
  goto switch_break;
  switch_break: ;
#line 240
  return (ret);
}
}
#line 243 "/root/patron-new/new_2/src/libjasper/ras/ras_dec.c"
static int ras_getdatastd(jas_stream_t *in , ras_hdr_t *hdr , ras_cmap_t *cmap , jas_image_t *image ) 
{ 
  int pad ;
  int nz ;
  int z ;
  int c ;
  int y ;
  int x ;
  int v ;
  int i ;
  jas_matrix_t *data[3] ;
  int __cil_tmp16 ;
  unsigned char *__cil_tmp17 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  unsigned long tmp___3 ;
  unsigned long tmp___4 ;
  jas_seqent_t tmp___5 ;
  jas_seqent_t tmp___6 ;
  jas_seqent_t tmp___7 ;
  jas_seqent_t tmp___8 ;
  int __cil_tmp28 ;
  unsigned char *__cil_tmp29 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int __cil_tmp33 ;

  {
#line 258
  cmap = (ras_cmap_t *)0;
#line 260
  i = 0;
  {
#line 260
  while (1) {
    while_continue: /* CIL Label */ ;

#line 260
    if (! (i < image->numcmpts_)) {
#line 260
      goto while_break;
    }
    {
#line 261
    data[i] = jas_matrix_create(1, (int )(image->brx_ - image->tlx_));
#line 260
    i ++;
    }
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: 
#line 265
  pad = (int )(((hdr->width * hdr->depth + 15L) / 16L) * 2L - (hdr->width * hdr->depth + 7L) / 8L);
#line 267
  y = 0;
  {
#line 267
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 267
    if (! ((long )y < hdr->height)) {
#line 267
      goto while_break___0;
    }
#line 268
    nz = 0;
#line 269
    z = 0;
#line 270
    x = 0;
    {
#line 270
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 270
      if (! ((long )x < hdr->width)) {
#line 270
        goto while_break___1;
      }
      {
#line 271
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 271
        if (! ((long )nz < hdr->depth)) {
#line 271
          goto while_break___2;
        }
#line 272
        if (! (in->flags_ & 7)) {
#line 272
          if (in->rwlimit_ >= 0L) {
#line 272
            if (in->rwcnt_ >= in->rwlimit_) {
#line 272
              in->flags_ |= 4;
#line 272
              tmp___1 = -1;
            } else {
#line 272
              goto _L___0;
            }
          } else {
            _L___0: /* CIL Label */ 
#line 272
            (in->cnt_) --;
#line 272
            if (in->cnt_ < 0) {
              {
#line 272
              __cil_tmp16 = jas_stream_fillbuf(in, 1);
#line 272
              tmp___0 = __cil_tmp16;
              }
            } else {
#line 272
              __cil_tmp17 = in->ptr_;
#line 272
              (in->ptr_) ++;
#line 272
              (in->rwcnt_) ++;
#line 272
              tmp___0 = (int )*__cil_tmp17;
            }
#line 272
            tmp___1 = tmp___0;
          }
#line 272
          tmp___2 = tmp___1;
        } else {
#line 272
          tmp___2 = -1;
        }
#line 272
        c = tmp___2;
#line 272
        if (c == -1) {
#line 273
          return (-1);
        }
#line 275
        z = (z << 8) | c;
#line 276
        nz += 8;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___2: ;
#line 279
      if (hdr->depth == 32L) {
#line 279
        tmp___3 = 4294967295UL;
      } else {
#line 279
        tmp___3 = (1UL << hdr->depth) - 1UL;
      }
#line 279
      v = (int )((unsigned long )(z >> ((long )nz - hdr->depth)) & tmp___3);
#line 280
      if ((long )nz - hdr->depth == 32L) {
#line 280
        tmp___4 = 4294967295UL;
      } else {
#line 280
        tmp___4 = (1UL << ((long )nz - hdr->depth)) - 1UL;
      }
#line 280
      z = (int )((unsigned long )z & tmp___4);
#line 281
      nz = (int )((int_fast32_t )nz - hdr->depth);
#line 283
      if (image->numcmpts_ == 3) {
#line 284
        if ((data[0])->numrows_ == 1L) {
#line 284
          *(*((data[0])->rows_ + 0) + x) = (jas_seqent_t )(v & 255);
#line 284
          tmp___5 = *(*((data[0])->rows_ + 0) + x);
        } else {
#line 284
          *(*((data[0])->rows_ + x) + 0) = (jas_seqent_t )(v & 255);
#line 284
          tmp___5 = *(*((data[0])->rows_ + x) + 0);
        }
#line 285
        if ((data[1])->numrows_ == 1L) {
#line 285
          *(*((data[1])->rows_ + 0) + x) = (jas_seqent_t )((v >> 8) & 255);
#line 285
          tmp___6 = *(*((data[1])->rows_ + 0) + x);
        } else {
#line 285
          *(*((data[1])->rows_ + x) + 0) = (jas_seqent_t )((v >> 8) & 255);
#line 285
          tmp___6 = *(*((data[1])->rows_ + x) + 0);
        }
#line 286
        if ((data[2])->numrows_ == 1L) {
#line 286
          *(*((data[2])->rows_ + 0) + x) = (jas_seqent_t )((v >> 16) & 255);
#line 286
          tmp___7 = *(*((data[2])->rows_ + 0) + x);
        } else {
#line 286
          *(*((data[2])->rows_ + x) + 0) = (jas_seqent_t )((v >> 16) & 255);
#line 286
          tmp___7 = *(*((data[2])->rows_ + x) + 0);
        }
      } else
#line 288
      if ((data[0])->numrows_ == 1L) {
#line 288
        *(*((data[0])->rows_ + 0) + x) = (jas_seqent_t )v;
#line 288
        tmp___8 = *(*((data[0])->rows_ + 0) + x);
      } else {
#line 288
        *(*((data[0])->rows_ + x) + 0) = (jas_seqent_t )v;
#line 288
        tmp___8 = *(*((data[0])->rows_ + x) + 0);
      }
#line 270
      x ++;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: ;
#line 291
    if (pad) {
#line 292
      if (! (in->flags_ & 7)) {
#line 292
        if (in->rwlimit_ >= 0L) {
#line 292
          if (in->rwcnt_ >= in->rwlimit_) {
#line 292
            in->flags_ |= 4;
#line 292
            tmp___10 = -1;
          } else {
#line 292
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ 
#line 292
          (in->cnt_) --;
#line 292
          if (in->cnt_ < 0) {
            {
#line 292
            __cil_tmp28 = jas_stream_fillbuf(in, 1);
#line 292
            tmp___9 = __cil_tmp28;
            }
          } else {
#line 292
            __cil_tmp29 = in->ptr_;
#line 292
            (in->ptr_) ++;
#line 292
            (in->rwcnt_) ++;
#line 292
            tmp___9 = (int )*__cil_tmp29;
          }
#line 292
          tmp___10 = tmp___9;
        }
#line 292
        tmp___11 = tmp___10;
      } else {
#line 292
        tmp___11 = -1;
      }
#line 292
      c = tmp___11;
#line 292
      if (c == -1) {
#line 293
        return (-1);
      }
    }
#line 296
    i = 0;
    {
#line 296
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 296
      if (! (i < image->numcmpts_)) {
#line 296
        goto while_break___3;
      }
      {
#line 297
      __cil_tmp33 = jas_image_writecmpt(image, i, (jas_image_coord_t )0, (jas_image_coord_t )y,
                                        hdr->width, (jas_image_coord_t )1, data[i]);
      }
#line 297
      if (__cil_tmp33) {
#line 299
        return (-1);
      }
#line 296
      i ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___3: 
#line 267
    y ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___0: 
#line 304
  i = 0;
  {
#line 304
  while (1) {
    while_continue___4: /* CIL Label */ ;

#line 304
    if (! (i < image->numcmpts_)) {
#line 304
      goto while_break___4;
    }
    {
#line 305
    jas_matrix_destroy(data[i]);
#line 304
    i ++;
    }
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___4: ;
#line 308
  return (0);
}
}
#line 311 "/root/patron-new/new_2/src/libjasper/ras/ras_dec.c"
static int ras_getcmap(jas_stream_t *in , ras_hdr_t *hdr , ras_cmap_t *cmap ) 
{ 
  int i ;
  int j ;
  int x ;
  int c ;
  int numcolors ;
  int actualnumcolors ;
  int __cil_tmp12 ;
  unsigned char *__cil_tmp13 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 321
  if (hdr->maptype == 0L) {
#line 321
    goto case_0;
  }
#line 323
  if (hdr->maptype == 1L) {
#line 323
    goto case_1;
  }
#line 343
  if (hdr->maptype == 0L) {
#line 343
    goto case_0___0;
  }
#line 346
  if (hdr->maptype == 1L) {
#line 346
    goto case_1___0;
  }
#line 349
  if (hdr->maptype == 2L) {
#line 349
    goto case_2;
  }
#line 358
  goto switch_default;
  case_0: 
#line 322
  goto switch_break;
  case_1: 
  {
#line 325
  jas_eprintf("warning: palettized images not fully supported\n");
#line 326
  numcolors = 1 << hdr->depth;
#line 328
  actualnumcolors = (int )(hdr->maplength / 3L);
#line 329
  i = 0;
  }
  {
#line 329
  while (1) {
    while_continue: /* CIL Label */ ;

#line 329
    if (! (i < numcolors)) {
#line 329
      goto while_break;
    }
#line 330
    cmap->data[i] = 0;
#line 329
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 332
  if (hdr->maplength % 3L) {
#line 334
    return (-1);
  } else
#line 332
  if (hdr->maplength < 0L) {
#line 334
    return (-1);
  } else
#line 332
  if (hdr->maplength > (long )(3 * numcolors)) {
#line 334
    return (-1);
  }
#line 336
  i = 0;
  {
#line 336
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 336
    if (! (i < 3)) {
#line 336
      goto while_break___0;
    }
#line 337
    j = 0;
    {
#line 337
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 337
      if (! (j < actualnumcolors)) {
#line 337
        goto while_break___1;
      }
#line 338
      if (! (in->flags_ & 7)) {
#line 338
        if (in->rwlimit_ >= 0L) {
#line 338
          if (in->rwcnt_ >= in->rwlimit_) {
#line 338
            in->flags_ |= 4;
#line 338
            tmp___1 = -1;
          } else {
#line 338
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ 
#line 338
          (in->cnt_) --;
#line 338
          if (in->cnt_ < 0) {
            {
#line 338
            __cil_tmp12 = jas_stream_fillbuf(in, 1);
#line 338
            tmp___0 = __cil_tmp12;
            }
          } else {
#line 338
            __cil_tmp13 = in->ptr_;
#line 338
            (in->ptr_) ++;
#line 338
            (in->rwcnt_) ++;
#line 338
            tmp___0 = (int )*__cil_tmp13;
          }
#line 338
          tmp___1 = tmp___0;
        }
#line 338
        tmp___2 = tmp___1;
      } else {
#line 338
        tmp___2 = -1;
      }
#line 338
      c = tmp___2;
#line 338
      if (c == -1) {
#line 339
        return (-1);
      }
#line 341
      x = 0;
#line 343
      if (i == 0) {
#line 343
        goto case_0___0;
      }
#line 346
      if (i == 1) {
#line 346
        goto case_1___0;
      }
#line 349
      if (i == 2) {
#line 349
        goto case_2;
      }
#line 342
      goto switch_break___0;
      case_0___0: 
#line 344
      x = c & 255;
#line 345
      goto switch_break___0;
      case_1___0: 
#line 347
      x = (c & 255) << 8;
#line 348
      goto switch_break___0;
      case_2: 
#line 350
      x = (c & 255) << 16;
#line 351
      goto switch_break___0;
      switch_break___0: 
#line 353
      cmap->data[j] |= x;
#line 337
      j ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
#line 336
    i ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: ;
#line 357
  goto switch_break;
  switch_default: 
#line 359
  return (-1);
#line 360
  goto switch_break;
  switch_break: ;
#line 363
  return (0);
}
}
#line 366 "/root/patron-new/new_2/src/libjasper/ras/ras_dec.c"
static int ras_gethdr(jas_stream_t *in , ras_hdr_t *hdr ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 368
  __cil_tmp10 = ras_getint(in, & hdr->maplength);
#line 368
  __cil_tmp9 = ras_getint(in, & hdr->maptype);
#line 368
  __cil_tmp8 = ras_getint(in, & hdr->type);
#line 368
  __cil_tmp7 = ras_getint(in, & hdr->length);
#line 368
  __cil_tmp6 = ras_getint(in, & hdr->depth);
#line 368
  __cil_tmp5 = ras_getint(in, & hdr->height);
#line 368
  __cil_tmp4 = ras_getint(in, & hdr->width);
#line 368
  __cil_tmp3 = ras_getint(in, & hdr->magic);
  }
#line 368
  if (__cil_tmp3) {
#line 372
    return (-1);
  } else
#line 368
  if (__cil_tmp4) {
#line 372
    return (-1);
  } else
#line 368
  if (__cil_tmp5) {
#line 372
    return (-1);
  } else
#line 368
  if (__cil_tmp6) {
#line 372
    return (-1);
  } else
#line 368
  if (__cil_tmp7) {
#line 372
    return (-1);
  } else
#line 368
  if (__cil_tmp8) {
#line 372
    return (-1);
  } else
#line 368
  if (__cil_tmp9) {
#line 372
    return (-1);
  } else
#line 368
  if (__cil_tmp10) {
#line 372
    return (-1);
  }
#line 375
  if (hdr->magic != 1504078485L) {
#line 376
    return (-1);
  }
#line 379
  return (0);
}
}
#line 382 "/root/patron-new/new_2/src/libjasper/ras/ras_dec.c"
static int ras_getint(jas_stream_t *in , int_fast32_t *val ) 
{ 
  int x ;
  int c ;
  int i ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 388
  x = 0;
#line 389
  i = 0;
  {
#line 389
  while (1) {
    while_continue: /* CIL Label */ ;

#line 389
    if (! (i < 4)) {
#line 389
      goto while_break;
    }
#line 390
    if (! (in->flags_ & 7)) {
#line 390
      if (in->rwlimit_ >= 0L) {
#line 390
        if (in->rwcnt_ >= in->rwlimit_) {
#line 390
          in->flags_ |= 4;
#line 390
          tmp___0 = -1;
        } else {
#line 390
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 390
        (in->cnt_) --;
#line 390
        if (in->cnt_ < 0) {
          {
#line 390
          __cil_tmp6 = jas_stream_fillbuf(in, 1);
#line 390
          tmp = __cil_tmp6;
          }
        } else {
#line 390
          __cil_tmp7 = in->ptr_;
#line 390
          (in->ptr_) ++;
#line 390
          (in->rwcnt_) ++;
#line 390
          tmp = (int )*__cil_tmp7;
        }
#line 390
        tmp___0 = tmp;
      }
#line 390
      tmp___1 = tmp___0;
    } else {
#line 390
      tmp___1 = -1;
    }
#line 390
    c = tmp___1;
#line 390
    if (c == -1) {
#line 391
      return (-1);
    }
#line 393
    x = (x << 8) | (c & 255);
#line 389
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 396
  *val = (int_fast32_t )x;
#line 397
  return (0);
}
}
#line 74 "/root/patron-new/new_2/src/libjasper/ras/ras_cod.c"
int ras_dummy  ;
#line 79 "/usr/include/ctype.h"
extern  __attribute__((__nothrow__)) unsigned short const   **__ctype_b_loc(void) ;
#line 81
extern  __attribute__((__nothrow__)) __int32_t **__ctype_tolower_loc(void) ;
#line 83
extern  __attribute__((__nothrow__)) __int32_t **__ctype_toupper_loc(void) ;
#line 122
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) tolower)(int __c ) ;
#line 125
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) toupper)(int __c ) ;
#line 207
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) tolower)(int __c ) ;
#line 207 "/usr/include/ctype.h"
__inline extern int ( __attribute__((__gnu_inline__)) tolower)(int __c ) 
{ 
  __int32_t **__cil_tmp2 ;
  __int32_t tmp ;

  {
#line 209
  if (__c >= -128) {
#line 209
    if (__c < 256) {
      {
#line 209
      __cil_tmp2 = __ctype_tolower_loc();
#line 209
      tmp = *(*__cil_tmp2 + __c);
      }
    } else {
#line 209
      tmp = __c;
    }
  } else {
#line 209
    tmp = __c;
  }
#line 209
  return (tmp);
}
}
#line 213
__inline extern  __attribute__((__nothrow__)) int ( __attribute__((__gnu_inline__)) toupper)(int __c ) ;
#line 213 "/usr/include/ctype.h"
__inline extern int ( __attribute__((__gnu_inline__)) toupper)(int __c ) 
{ 
  __int32_t **__cil_tmp2 ;
  __int32_t tmp ;

  {
#line 215
  if (__c >= -128) {
#line 215
    if (__c < 256) {
      {
#line 215
      __cil_tmp2 = __ctype_toupper_loc();
#line 215
      tmp = *(*__cil_tmp2 + __c);
      }
    } else {
#line 215
      tmp = __c;
    }
  } else {
#line 215
    tmp = __c;
  }
#line 215
  return (tmp);
}
}
#line 140 "/usr/include/x86_64-linux-gnu/bits/mathcalls.h"
extern  __attribute__((__nothrow__)) double pow(double __x , double __y ) ;
#line 143
extern  __attribute__((__nothrow__)) double sqrt(double __x ) ;
#line 159
extern  __attribute__((__nothrow__)) double ceil(double __x ) ;
#line 165
extern  __attribute__((__nothrow__)) double floor(double __x ) ;
#line 120 "../../../src/libjasper/include/jasper/jas_tvp.h"
jas_taginfo_t *jas_taginfos_lookup(jas_taginfo_t *taginfos , char const   *name ) ;
#line 126
jas_taginfo_t *jas_taginfo_nonull(jas_taginfo_t *taginfo ) ;
#line 133
jas_tvparser_t *jas_tvparser_create(char const   *s ) ;
#line 136
void jas_tvparser_destroy(jas_tvparser_t *tvp ) ;
#line 139
int jas_tvparser_next(jas_tvparser_t *tvp ) ;
#line 142
char *jas_tvparser_gettag(jas_tvparser_t *tvp ) ;
#line 145
char *jas_tvparser_getval(jas_tvparser_t *tvp ) ;
#line 145 "/root/patron-new/new_2/src/libjasper/pnm/pnm_cod.h"
int pnm_type(uint_fast16_t magic ) ;
#line 148
int pnm_fmt(uint_fast16_t magic ) ;
#line 151
int pnm_maxvaltodepth(uint_fast32_t maxval ) ;
#line 100 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
jas_taginfo_t pnm_opttab[2]  = {      {0, (char *)"text"}, 
        {-1, (char *)0}};
#line 109
static int pnm_parseencopts(char *optstr , pnm_encopts_t *encopts___0 ) ;
#line 110
static int pnm_puthdr(jas_stream_t *out , pnm_hdr_t *hdr ) ;
#line 111
static int pnm_putdata(jas_stream_t *out , pnm_hdr_t *hdr , jas_image_t *image , int numcmpts ,
                       int *cmpts ) ;
#line 113
static int pnm_putsint(jas_stream_t *out , int wordsize , int_fast32_t *val ) ;
#line 114
static int pnm_putuint(jas_stream_t *out , int wordsize , uint_fast32_t *val ) ;
#line 115
static int pnm_putuint16(jas_stream_t *out , uint_fast16_t val ) ;
#line 121 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
int pnm_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) 
{ 
  int width ;
  int height ;
  int cmptno ;
  pnm_hdr_t hdr ;
  pnm_encopts_t encopts___0 ;
  int prec ;
  int sgnd ;
  pnm_enc_t encbuf ;
  pnm_enc_t *enc ;
  int __cil_tmp13 ;
  int tmp ;
  int tmp___0 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;

  {
  {
#line 131
  enc = & encbuf;
#line 134
  __cil_tmp13 = pnm_parseencopts(optstr, & encopts___0);
  }
#line 134
  if (__cil_tmp13) {
    {
#line 135
    jas_eprintf("invalid PNM encoder options specified\n");
    }
#line 136
    return (-1);
  }
#line 140
  if (image->clrspc_ >> 8 == 4) {
#line 140
    goto case_4;
  }
#line 154
  if (image->clrspc_ >> 8 == 3) {
#line 154
    goto case_3;
  }
#line 164
  goto switch_default;
  case_4: 
#line 141
  if (image->clrspc_ != ((4 << 8) | 1)) {
    {
#line 142
    jas_eprintf("warning: inaccurate color\n");
    }
  }
  {
#line 143
  enc->numcmpts = 3;
#line 144
  enc->cmpts[2] = jas_image_getcmptbytype(image, 2);
#line 144
  enc->cmpts[1] = jas_image_getcmptbytype(image, 1);
#line 144
  enc->cmpts[0] = jas_image_getcmptbytype(image, 0);
  }
#line 144
  if (enc->cmpts[0] < 0) {
    {
#line 150
    jas_eprintf("error: missing color component\n");
    }
#line 151
    return (-1);
  } else
#line 144
  if (enc->cmpts[1] < 0) {
    {
#line 150
    jas_eprintf("error: missing color component\n");
    }
#line 151
    return (-1);
  } else
#line 144
  if (enc->cmpts[2] < 0) {
    {
#line 150
    jas_eprintf("error: missing color component\n");
    }
#line 151
    return (-1);
  }
#line 153
  goto switch_break;
  case_3: 
#line 155
  if (image->clrspc_ != ((3 << 8) | 1)) {
    {
#line 156
    jas_eprintf("warning: inaccurate color\n");
    }
  }
  {
#line 157
  enc->numcmpts = 1;
#line 158
  enc->cmpts[0] = jas_image_getcmptbytype(image, 0);
  }
#line 158
  if (enc->cmpts[0] < 0) {
    {
#line 160
    jas_eprintf("error: missing color component\n");
    }
#line 161
    return (-1);
  }
#line 163
  goto switch_break;
  switch_default: 
  {
#line 165
  jas_eprintf("error: unsupported color space\n");
  }
#line 166
  return (-1);
#line 167
  goto switch_break;
  switch_break: 
#line 171
  width = (int )(*(image->cmpts_ + enc->cmpts[0]))->width_;
#line 172
  height = (int )(*(image->cmpts_ + enc->cmpts[0]))->height_;
#line 173
  prec = (*(image->cmpts_ + enc->cmpts[0]))->prec_;
#line 174
  sgnd = (*(image->cmpts_ + enc->cmpts[0]))->sgnd_;
#line 185
  cmptno = 0;
  {
#line 185
  while (1) {
    while_continue: /* CIL Label */ ;

#line 185
    if (! (cmptno < enc->numcmpts)) {
#line 185
      goto while_break;
    }
#line 186
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->width_ != (long )width) {
      {
#line 194
      jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
      }
#line 195
      return (-1);
    } else
#line 186
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->height_ != (long )height) {
      {
#line 194
      jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
      }
#line 195
      return (-1);
    } else
#line 186
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->prec_ != prec) {
      {
#line 194
      jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
      }
#line 195
      return (-1);
    } else
#line 186
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->sgnd_ != sgnd) {
      {
#line 194
      jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
      }
#line 195
      return (-1);
    } else
#line 186
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->hstep_ != (*(image->cmpts_ + 0))->hstep_) {
      {
#line 194
      jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
      }
#line 195
      return (-1);
    } else
#line 186
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->vstep_ != (*(image->cmpts_ + 0))->vstep_) {
      {
#line 194
      jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
      }
#line 195
      return (-1);
    } else
#line 186
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->tlx_ != (*(image->cmpts_ + 0))->tlx_) {
      {
#line 194
      jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
      }
#line 195
      return (-1);
    } else
#line 186
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->tly_ != (*(image->cmpts_ + 0))->tly_) {
      {
#line 194
      jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
      }
#line 195
      return (-1);
    }
#line 185
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 199
  if (sgnd) {
    {
#line 200
    jas_eprintf("warning: support for signed sample data requires use of nonstandard extension to PNM format\n");
#line 201
    jas_eprintf("You may not be able to read or correctly display the resulting PNM data with other software.\n");
    }
  }
#line 205
  if (enc->numcmpts == 1) {
#line 206
    if (encopts___0.bin) {
#line 206
      tmp = 20533;
    } else {
#line 206
      tmp = 20530;
    }
#line 206
    hdr.magic = tmp;
  } else
#line 207
  if (enc->numcmpts == 3) {
#line 208
    if (encopts___0.bin) {
#line 208
      tmp___0 = 20534;
    } else {
#line 208
      tmp___0 = 20531;
    }
#line 208
    hdr.magic = tmp___0;
  } else {
#line 210
    return (-1);
  }
  {
#line 212
  hdr.width = width;
#line 213
  hdr.height = height;
#line 214
  hdr.maxval = (1 << prec) - 1;
#line 215
  hdr.sgnd = sgnd;
#line 218
  __cil_tmp20 = pnm_puthdr(out, & hdr);
  }
#line 218
  if (__cil_tmp20) {
#line 219
    return (-1);
  }
  {
#line 223
  __cil_tmp21 = pnm_putdata(out, & hdr, image, enc->numcmpts, enc->cmpts);
  }
#line 223
  if (__cil_tmp21) {
#line 224
    return (-1);
  }
  {
#line 228
  __cil_tmp22 = jas_stream_flush(out);
  }
#line 228
  if (__cil_tmp22) {
#line 229
    return (-1);
  }
#line 232
  return (0);
}
}
#line 240 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
static int pnm_parseencopts(char *optstr , pnm_encopts_t *encopts___0 ) 
{ 
  jas_tvparser_t *tvp ;
  int ret ;
  char *tmp ;
  jas_tvparser_t *__cil_tmp6 ;
  jas_taginfo_t *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 245
  tvp = (jas_tvparser_t *)0;
#line 248
  encopts___0->bin = 1;
#line 251
  if (optstr) {
#line 251
    tmp = optstr;
  } else {
#line 251
    tmp = (char *)"\220";
  }
  {
#line 251
  __cil_tmp6 = jas_tvparser_create((char const   *)((int )tmp));
#line 251
  tvp = __cil_tmp6;
  }
#line 251
  if (! tvp) {
#line 252
    goto error;
  }
  {
#line 256
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 256
    ret = jas_tvparser_next(tvp);
    }
#line 256
    if (! (! ret)) {
#line 256
      goto while_break;
    }
#line 259
    if (__cil_tmp10->id == 0) {
#line 259
      goto case_0;
    }
#line 262
    goto switch_default;
    case_0: 
#line 260
    encopts___0->bin = 0;
#line 261
    goto switch_break;
    switch_default: 
    {
#line 263
    __cil_tmp11 = jas_tvparser_gettag(tvp);
#line 263
    jas_eprintf("warning: ignoring invalid option %s\n", __cil_tmp11);
    }
#line 265
    goto switch_break;
    switch_break: ;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 268
  if (ret < 0) {
#line 269
    goto error;
  }
  {
#line 273
  jas_tvparser_destroy(tvp);
  }
#line 275
  return (0);
  error: 
#line 278
  if (tvp) {
    {
#line 279
    jas_tvparser_destroy(tvp);
    }
  }
#line 281
  return (-1);
}
}
#line 289 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
static int pnm_puthdr(jas_stream_t *out , pnm_hdr_t *hdr ) 
{ 
  int_fast32_t maxval ;
  int __cil_tmp4 ;

  {
  {
#line 293
  __cil_tmp4 = pnm_putuint16(out, (uint_fast16_t )hdr->magic);
  }
#line 293
  if (__cil_tmp4) {
#line 294
    return (-1);
  }
#line 296
  if (hdr->sgnd) {
#line 297
    maxval = (int_fast32_t )(- hdr->maxval);
  } else {
#line 299
    maxval = (int_fast32_t )hdr->maxval;
  }
  {
#line 301
  jas_stream_printf(out, "\n%lu %lu\n%ld\n", (unsigned long )hdr->width, (unsigned long )hdr->height,
                    maxval);
  }
#line 303
  if ((out->flags_ & 2) != 0) {
#line 304
    return (-1);
  }
#line 306
  return (0);
}
}
#line 314 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
static int pnm_putdata(jas_stream_t *out , pnm_hdr_t *hdr , jas_image_t *image , int numcmpts ,
                       int *cmpts ) 
{ 
  int ret ;
  int cmptno ;
  int x ;
  int y ;
  jas_matrix_t *data[3] ;
  int fmt ;
  jas_seqent_t *d[3] ;
  jas_seqent_t v ;
  int minval ;
  int linelen ;
  int n ;
  char buf[256] ;
  int depth ;
  int __cil_tmp22 ;
  int_fast32_t sv ;
  int __cil_tmp24 ;
  uint_fast32_t uv ;
  int __cil_tmp26 ;
  char const   *tmp ;
  int __cil_tmp28 ;

  {
  {
#line 330
  ret = -1;
#line 331
  fmt = pnm_fmt((uint_fast16_t )hdr->magic);
#line 332
  minval = - (hdr->maxval + 1);
#line 333
  depth = pnm_maxvaltodepth((uint_fast32_t )hdr->maxval);
#line 335
  data[0] = (jas_matrix_t *)0;
#line 336
  data[1] = (jas_matrix_t *)0;
#line 337
  data[2] = (jas_matrix_t *)0;
#line 338
  cmptno = 0;
  }
  {
#line 338
  while (1) {
    while_continue: /* CIL Label */ ;

#line 338
    if (! (cmptno < numcmpts)) {
#line 338
      goto while_break;
    }
    {
#line 339
    data[cmptno] = jas_matrix_create(1, hdr->width);
    }
#line 339
    if (! data[cmptno]) {
#line 340
      goto done;
    }
#line 338
    cmptno ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: 
#line 344
  y = 0;
  {
#line 344
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 344
    if (! (y < hdr->height)) {
#line 344
      goto while_break___0;
    }
#line 345
    cmptno = 0;
    {
#line 345
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 345
      if (! (cmptno < numcmpts)) {
#line 345
        goto while_break___1;
      }
      {
#line 346
      __cil_tmp22 = jas_image_readcmpt(image, *(cmpts + cmptno), (jas_image_coord_t )0,
                                       (jas_image_coord_t )y, (jas_image_coord_t )hdr->width,
                                       (jas_image_coord_t )1, data[cmptno]);
      }
#line 346
      if (__cil_tmp22) {
#line 348
        goto done;
      }
#line 350
      d[cmptno] = *((data[cmptno])->rows_ + 0) + 0;
#line 345
      cmptno ++;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: 
#line 352
    linelen = 0;
#line 353
    x = 0;
    {
#line 353
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 353
      if (! (x < hdr->width)) {
#line 353
        goto while_break___2;
      }
#line 354
      cmptno = 0;
      {
#line 354
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 354
        if (! (cmptno < numcmpts)) {
#line 354
          goto while_break___3;
        }
#line 355
        v = *(d[cmptno]);
#line 356
        if (v < (long )minval) {
#line 357
          v = (jas_seqent_t )minval;
        }
#line 359
        if (v > (long )hdr->maxval) {
#line 360
          v = (jas_seqent_t )hdr->maxval;
        }
#line 362
        if (fmt == 1) {
#line 363
          if (hdr->sgnd) {
            {
#line 365
            sv = v;
#line 366
            __cil_tmp24 = pnm_putsint(out, depth, & sv);
            }
#line 366
            if (__cil_tmp24) {
#line 367
              goto done;
            }
          } else {
            {
#line 371
            uv = (uint_fast32_t )v;
#line 372
            __cil_tmp26 = pnm_putuint(out, depth, & uv);
            }
#line 372
            if (__cil_tmp26) {
#line 373
              goto done;
            }
          }
        } else {
#line 377
          if (! x) {
#line 377
            if (! cmptno) {
              {
#line 377
              strcpy((char *)tmp, "\220");
              }
            } else {
              {
#line 377
              strcpy((char *)tmp, " \371\a\370PV");
              }
            }
          } else {
            {
#line 377
            strcpy((char *)tmp, " \371\a\370PV");
            }
          }
          {
#line 377
          __cil_tmp28 = sprintf(buf, "%s%ldV", tmp, v);
#line 377
          n = __cil_tmp28;
          }
#line 379
          if (linelen > 0) {
#line 379
            if (linelen + n > 79) {
              {
#line 380
              jas_stream_printf(out, "\n");
#line 381
              linelen = 0;
              }
            }
          }
          {
#line 383
          jas_stream_printf(out, "%s\b\370PV", buf);
#line 384
          linelen += n;
          }
        }
#line 386
        (d[cmptno]) ++;
#line 354
        cmptno ++;
      }
      while_break___9: /* CIL Label */ ;
      }
      while_break___3: 
#line 353
      x ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: ;
#line 389
    if (fmt != 1) {
      {
#line 390
      jas_stream_printf(out, "\n");
#line 391
      linelen = 0;
      }
    }
#line 393
    if ((out->flags_ & 2) != 0) {
#line 394
      goto done;
    }
#line 344
    y ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___0: 
#line 398
  ret = 0;
  done: 
#line 402
  cmptno = 0;
  {
#line 402
  while (1) {
    while_continue___4: /* CIL Label */ ;

#line 402
    if (! (cmptno < numcmpts)) {
#line 402
      goto while_break___4;
    }
#line 403
    if (data[cmptno]) {
      {
#line 404
      jas_matrix_destroy(data[cmptno]);
      }
    }
#line 402
    cmptno ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___4: ;
#line 408
  return (ret);
}
}
#line 415 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
static int pnm_putsint(jas_stream_t *out , int wordsize , int_fast32_t *val ) 
{ 
  uint_fast32_t tmpval ;
  unsigned long tmp ;
  uint_fast32_t tmp___0 ;
  int __cil_tmp7 ;

  {
#line 418
  if (*val < 0L) {
#line 418
    if (wordsize < 32) {
#line 418
      tmp = (1UL << wordsize) - 1UL;
    } else {
#line 418
      tmp = 4294967295UL;
    }
#line 418
    tmp___0 = ~ ((uint_fast32_t )(- *val) + 1UL) & tmp;
  } else {
#line 418
    tmp___0 = (uint_fast32_t )*val;
  }
  {
#line 418
  tmpval = tmp___0;
#line 421
  __cil_tmp7 = pnm_putuint(out, wordsize, & tmpval);
  }
#line 421
  return (__cil_tmp7);
}
}
#line 424 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
static int pnm_putuint(jas_stream_t *out , int wordsize , uint_fast32_t *val ) 
{ 
  int n ;
  uint_fast32_t tmpval ;
  int c ;
  unsigned long tmp ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 430
  n = (wordsize + 7) / 8;
#line 431
  tmpval = *val;
#line 432
  if (8 * n < 32) {
#line 432
    tmp = (1UL << 8 * n) - 1UL;
  } else {
#line 432
    tmp = 4294967295UL;
  }
#line 432
  tmpval &= tmp;
#line 433
  tmpval <<= 8 * (4 - n);
  {
#line 434
  while (1) {
    while_continue: /* CIL Label */ ;
#line 434
    n --;
#line 434
    if (! (n >= 0)) {
#line 434
      goto while_break;
    }
#line 435
    c = (int )((tmpval >> 24) & 255UL);
#line 436
    if (! (out->flags_ & 7)) {
#line 436
      if (out->rwlimit_ >= 0L) {
#line 436
        if (out->rwcnt_ >= out->rwlimit_) {
#line 436
          out->flags_ |= 4;
#line 436
          tmp___1 = -1;
        } else {
#line 436
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 436
        (out->cnt_) --;
#line 436
        out->bufmode_ |= 32;
#line 436
        if (out->cnt_ < 0) {
          {
#line 436
          __cil_tmp8 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 436
          tmp___0 = __cil_tmp8;
          }
        } else {
#line 436
          __cil_tmp9 = out->ptr_;
#line 436
          (out->ptr_) ++;
#line 436
          *__cil_tmp9 = (unsigned char )c;
#line 436
          (out->rwcnt_) ++;
#line 436
          tmp___0 = (int )*__cil_tmp9;
        }
#line 436
        tmp___1 = tmp___0;
      }
#line 436
      tmp___2 = tmp___1;
    } else {
#line 436
      tmp___2 = -1;
    }
#line 436
    if (tmp___2 == -1) {
#line 437
      return (-1);
    }
#line 439
    tmpval = (tmpval << 8) & 4294967295UL;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 441
  return (0);
}
}
#line 445 "/root/patron-new/new_2/src/libjasper/pnm/pnm_enc.c"
static int pnm_putuint16(jas_stream_t *out , uint_fast16_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 447
  if (! (out->flags_ & 7)) {
#line 447
    if (out->rwlimit_ >= 0L) {
#line 447
      if (out->rwcnt_ >= out->rwlimit_) {
#line 447
        out->flags_ |= 4;
#line 447
        tmp___3 = -1;
      } else {
#line 447
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 447
      (out->cnt_) --;
#line 447
      out->bufmode_ |= 32;
#line 447
      if (out->cnt_ < 0) {
        {
#line 447
        __cil_tmp8 = jas_stream_flushbuf(out, (int )((unsigned char )(val & 255UL)));
#line 447
        tmp___2 = __cil_tmp8;
        }
      } else {
#line 447
        __cil_tmp9 = out->ptr_;
#line 447
        (out->ptr_) ++;
#line 447
        *__cil_tmp9 = (unsigned char )(val & 255UL);
#line 447
        (out->rwcnt_) ++;
#line 447
        tmp___2 = (int )*__cil_tmp9;
      }
#line 447
      tmp___3 = tmp___2;
    }
#line 447
    tmp___4 = tmp___3;
  } else {
#line 447
    tmp___4 = -1;
  }
#line 447
  if (! (out->flags_ & 7)) {
#line 447
    if (out->rwlimit_ >= 0L) {
#line 447
      if (out->rwcnt_ >= out->rwlimit_) {
#line 447
        out->flags_ |= 4;
#line 447
        tmp___0 = -1;
      } else {
#line 447
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
#line 447
      (out->cnt_) --;
#line 447
      out->bufmode_ |= 32;
#line 447
      if (out->cnt_ < 0) {
        {
#line 447
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )(val >> 8)));
#line 447
        tmp = __cil_tmp3;
        }
      } else {
#line 447
        __cil_tmp4 = out->ptr_;
#line 447
        (out->ptr_) ++;
#line 447
        *__cil_tmp4 = (unsigned char )(val >> 8);
#line 447
        (out->rwcnt_) ++;
#line 447
        tmp = (int )*__cil_tmp4;
      }
#line 447
      tmp___0 = tmp;
    }
#line 447
    tmp___1 = tmp___0;
  } else {
#line 447
    tmp___1 = -1;
  }
#line 447
  if (tmp___1 == -1) {
#line 449
    return (-1);
  } else
#line 447
  if (tmp___4 == -1) {
#line 449
    return (-1);
  }
#line 451
  return (0);
}
}
#line 89 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_gethdr(jas_stream_t *in , pnm_hdr_t *hdr ) ;
#line 90
static int pnm_getdata(jas_stream_t *in , pnm_hdr_t *hdr , jas_image_t *image ) ;
#line 92
static int pnm_getsintstr(jas_stream_t *in , int_fast32_t *val ) ;
#line 93
static int pnm_getuintstr(jas_stream_t *in , uint_fast32_t *val ) ;
#line 94
static int pnm_getbitstr(jas_stream_t *in , int *val ) ;
#line 95
static int pnm_getc(jas_stream_t *in ) ;
#line 97
static int pnm_getsint(jas_stream_t *in , int wordsize , int_fast32_t *val ) ;
#line 98
static int pnm_getuint(jas_stream_t *in , int wordsize , uint_fast32_t *val ) ;
#line 99
static int pnm_getint16(jas_stream_t *in , int *val ) ;
#line 106 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_allowtrunc  =    1;
#line 112 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
jas_image_t *pnm_decode(jas_stream_t *in , char *opts___0 ) 
{ 
  pnm_hdr_t hdr ;
  jas_image_t *image ;
  jas_image_cmptparm_t cmptparms[3] ;
  jas_image_cmptparm_t *cmptparm ;
  int i ;
  int __cil_tmp8 ;
  int __cil_tmp11 ;

  {
#line 120
  if (opts___0) {
    {
#line 121
    jas_eprintf("warning: ignoring options\n");
    }
  }
  {
#line 125
  __cil_tmp8 = pnm_gethdr(in, & hdr);
  }
#line 125
  if (__cil_tmp8) {
#line 126
    return ((jas_image_t *)0);
  }
#line 130
  cmptparm = cmptparms;
#line 130
  i = 0;
  {
#line 130
  while (1) {
    while_continue: /* CIL Label */ ;

#line 130
    if (! (i < hdr.numcmpts)) {
#line 130
      goto while_break;
    }
    {
#line 131
    cmptparm->tlx = (jas_image_coord_t )0;
#line 132
    cmptparm->tly = (jas_image_coord_t )0;
#line 133
    cmptparm->hstep = (jas_image_coord_t )1;
#line 134
    cmptparm->vstep = (jas_image_coord_t )1;
#line 135
    cmptparm->width = (jas_image_coord_t )hdr.width;
#line 136
    cmptparm->height = (jas_image_coord_t )hdr.height;
#line 137
    cmptparm->prec = pnm_maxvaltodepth((uint_fast32_t )hdr.maxval);
#line 138
    cmptparm->sgnd = hdr.sgnd;
#line 130
    cmptparm ++;
#line 130
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 140
  image = jas_image_create(hdr.numcmpts, cmptparms, 16384);
  }
#line 140
  if (! image) {
#line 141
    return ((jas_image_t *)0);
  }
#line 144
  if (hdr.numcmpts == 3) {
#line 145
    image->clrspc_ = (4 << 8) | 1;
#line 146
    (*(image->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
#line 148
    (*(image->cmpts_ + 1))->type_ = (jas_image_cmpttype_t )1;
#line 150
    (*(image->cmpts_ + 2))->type_ = (jas_image_cmpttype_t )2;
  } else {
#line 153
    image->clrspc_ = (3 << 8) | 1;
#line 154
    (*(image->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
  }
  {
#line 159
  __cil_tmp11 = pnm_getdata(in, & hdr, image);
  }
#line 159
  if (__cil_tmp11) {
    {
#line 160
    jas_image_destroy(image);
    }
#line 161
    return ((jas_image_t *)0);
  }
#line 164
  return (image);
}
}
#line 171 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
int pnm_validate(jas_stream_t *in ) 
{ 
  unsigned char buf[2] ;
  int i ;
  int n ;
  int __cil_tmp7 ;
  unsigned short const   **__cil_tmp8 ;

  {
  {
#line 180
  n = jas_stream_read(in, (void *)(buf), 2);
  }
#line 180
  if (n < 0) {
#line 181
    return (-1);
  }
#line 184
  i = n - 1;
  {
#line 184
  while (1) {
    while_continue: /* CIL Label */ ;

#line 184
    if (! (i >= 0)) {
#line 184
      goto while_break;
    }
    {
#line 185
    __cil_tmp7 = jas_stream_ungetc(in, (int )buf[i]);
    }
#line 185
    if (__cil_tmp7 == -1) {
#line 186
      return (-1);
    }
#line 184
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 190
  if (n < 2) {
#line 191
    return (-1);
  }
  {
#line 194
  __cil_tmp8 = __ctype_b_loc();
  }
#line 194
  if ((int )buf[0] == 80) {
#line 194
    if ((int )*(*__cil_tmp8 + (int )buf[1]) & 2048) {
#line 195
      return (0);
    }
  }
#line 197
  return (-1);
}
}
#line 204 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_gethdr(jas_stream_t *in , pnm_hdr_t *hdr ) 
{ 
  int_fast32_t maxval ;
  int_fast32_t width ;
  int_fast32_t height ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;

  {
  {
#line 209
  __cil_tmp8 = pnm_getsintstr(in, & height);
#line 209
  __cil_tmp7 = pnm_getsintstr(in, & width);
#line 209
  __cil_tmp6 = pnm_getint16(in, & hdr->magic);
  }
#line 209
  if (__cil_tmp6) {
#line 211
    return (-1);
  } else
#line 209
  if (__cil_tmp7) {
#line 211
    return (-1);
  } else
#line 209
  if (__cil_tmp8) {
#line 211
    return (-1);
  }
  {
#line 213
  hdr->width = (int )width;
#line 214
  hdr->height = (int )height;
#line 215
  __cil_tmp9 = pnm_type((uint_fast16_t )hdr->magic);
  }
#line 215
  if (__cil_tmp9 != 2) {
    {
#line 216
    __cil_tmp10 = pnm_getsintstr(in, & maxval);
    }
#line 216
    if (__cil_tmp10) {
#line 217
      return (-1);
    }
  } else {
#line 220
    maxval = (int_fast32_t )1;
  }
#line 222
  if (maxval < 0L) {
#line 223
    hdr->maxval = (int )(- maxval);
#line 224
    hdr->sgnd = 1;
  } else {
#line 226
    hdr->maxval = (int )maxval;
#line 227
    hdr->sgnd = 0;
  }
  {
#line 230
  __cil_tmp11 = pnm_type((uint_fast16_t )hdr->magic);
  }
#line 232
  if (__cil_tmp11 == 1) {
#line 232
    goto case_1;
  }
#line 232
  if (__cil_tmp11 == 2) {
#line 232
    goto case_1;
  }
#line 235
  if (__cil_tmp11 == 0) {
#line 235
    goto case_0;
  }
#line 238
  goto switch_default;
  case_1: 
#line 233
  hdr->numcmpts = 1;
#line 234
  goto switch_break;
  case_0: 
#line 236
  hdr->numcmpts = 3;
#line 237
  goto switch_break;
  switch_default: 
  {
#line 239
  abort();
  }
#line 240
  goto switch_break;
  switch_break: ;
#line 243
  return (0);
}
}
#line 250 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_getdata(jas_stream_t *in , pnm_hdr_t *hdr , jas_image_t *image ) 
{ 
  int ret ;
  int cmptno ;
  int fmt ;
  jas_matrix_t *data[3] ;
  int x ;
  int y ;
  int_fast64_t v ;
  int depth ;
  int type ;
  int c ;
  int n ;
  int __cil_tmp19 ;
  unsigned char *__cil_tmp20 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int uv ;
  int __cil_tmp25 ;
  int_fast32_t sv ;
  int __cil_tmp27 ;
  uint_fast32_t uv___0 ;
  int __cil_tmp29 ;
  int_fast32_t sv___0 ;
  int __cil_tmp31 ;
  uint_fast32_t uv___1 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;

  {
  {
#line 267
  ret = -1;
#line 272
  fmt = pnm_fmt((uint_fast16_t )hdr->magic);
#line 273
  type = pnm_type((uint_fast16_t )hdr->magic);
#line 274
  depth = pnm_maxvaltodepth((uint_fast32_t )hdr->maxval);
#line 276
  data[0] = (jas_matrix_t *)0;
#line 277
  data[1] = (jas_matrix_t *)0;
#line 278
  data[2] = (jas_matrix_t *)0;
#line 279
  cmptno = 0;
  }
  {
#line 279
  while (1) {
    while_continue: /* CIL Label */ ;

#line 279
    if (! (cmptno < hdr->numcmpts)) {
#line 279
      goto while_break;
    }
    {
#line 280
    data[cmptno] = jas_matrix_create(1, hdr->width);
    }
#line 280
    if (! data[cmptno]) {
#line 281
      goto done;
    }
#line 279
    cmptno ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break: 
#line 285
  y = 0;
  {
#line 285
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 285
    if (! (y < hdr->height)) {
#line 285
      goto while_break___0;
    }
#line 286
    if (type == 2) {
#line 287
      if (fmt == 1) {
#line 288
        x = 0;
        {
#line 288
        while (1) {
          while_continue___1: /* CIL Label */ ;

#line 288
          if (! (x < hdr->width)) {
#line 288
            goto while_break___1;
          }
#line 289
          if (! (in->flags_ & 7)) {
#line 289
            if (in->rwlimit_ >= 0L) {
#line 289
              if (in->rwcnt_ >= in->rwlimit_) {
#line 289
                in->flags_ |= 4;
#line 289
                tmp___0 = -1;
              } else {
#line 289
                goto _L___0;
              }
            } else {
              _L___0: /* CIL Label */ 
#line 289
              (in->cnt_) --;
#line 289
              if (in->cnt_ < 0) {
                {
#line 289
                __cil_tmp19 = jas_stream_fillbuf(in, 1);
#line 289
                tmp = __cil_tmp19;
                }
              } else {
#line 289
                __cil_tmp20 = in->ptr_;
#line 289
                (in->ptr_) ++;
#line 289
                (in->rwcnt_) ++;
#line 289
                tmp = (int )*__cil_tmp20;
              }
#line 289
              tmp___0 = tmp;
            }
#line 289
            tmp___1 = tmp___0;
          } else {
#line 289
            tmp___1 = -1;
          }
#line 289
          c = tmp___1;
#line 289
          if (c == -1) {
#line 290
            goto done;
          }
#line 292
          n = 8;
          {
#line 293
          while (1) {
            while_continue___2: /* CIL Label */ ;

#line 293
            if (n > 0) {
#line 293
              if (! (x < hdr->width)) {
#line 293
                goto while_break___2;
              }
            } else {
#line 293
              goto while_break___2;
            }
#line 294
            *(*((data[0])->rows_ + 0) + x) = (jas_seqent_t )(1 - ((c >> 7) & 1));
#line 295
            c <<= 1;
#line 296
            n --;
#line 297
            x ++;
          }
          while_break___11: /* CIL Label */ ;
          }
          while_break___2: ;
        }
        while_break___10: /* CIL Label */ ;
        }
        while_break___1: ;
      } else {
#line 301
        x = 0;
        {
#line 301
        while (1) {
          while_continue___3: /* CIL Label */ ;

#line 301
          if (! (x < hdr->width)) {
#line 301
            goto while_break___3;
          }
          {
#line 303
          __cil_tmp25 = pnm_getbitstr(in, & uv);
          }
#line 303
          if (__cil_tmp25) {
#line 304
            goto done;
          }
#line 306
          *(*((data[0])->rows_ + 0) + x) = (jas_seqent_t )(1 - uv);
#line 301
          x ++;
        }
        while_break___12: /* CIL Label */ ;
        }
        while_break___3: ;
      }
    } else {
#line 310
      x = 0;
      {
#line 310
      while (1) {
        while_continue___4: /* CIL Label */ ;

#line 310
        if (! (x < hdr->width)) {
#line 310
          goto while_break___4;
        }
#line 311
        cmptno = 0;
        {
#line 311
        while (1) {
          while_continue___5: /* CIL Label */ ;

#line 311
          if (! (cmptno < hdr->numcmpts)) {
#line 311
            goto while_break___5;
          }
#line 312
          if (fmt == 1) {
#line 314
            if (hdr->sgnd) {
              {
#line 317
              __cil_tmp27 = pnm_getsint(in, depth, & sv);
              }
#line 317
              if (__cil_tmp27) {
#line 318
                if (! pnm_allowtrunc) {
#line 319
                  goto done;
                }
#line 321
                sv = (int_fast32_t )0;
              }
#line 323
              v = sv;
            } else {
              {
#line 327
              __cil_tmp29 = pnm_getuint(in, depth, & uv___0);
              }
#line 327
              if (__cil_tmp29) {
#line 328
                if (! pnm_allowtrunc) {
#line 329
                  goto done;
                }
#line 331
                uv___0 = (uint_fast32_t )0;
              }
#line 333
              v = (int_fast64_t )uv___0;
            }
          } else
#line 337
          if (hdr->sgnd) {
            {
#line 340
            __cil_tmp31 = pnm_getsintstr(in, & sv___0);
            }
#line 340
            if (__cil_tmp31) {
#line 341
              if (! pnm_allowtrunc) {
#line 342
                goto done;
              }
#line 344
              sv___0 = (int_fast32_t )0;
            }
#line 346
            v = sv___0;
          } else {
            {
#line 350
            __cil_tmp33 = pnm_getuintstr(in, & uv___1);
            }
#line 350
            if (__cil_tmp33) {
#line 351
              if (! pnm_allowtrunc) {
#line 352
                goto done;
              }
#line 354
              uv___1 = (uint_fast32_t )0;
            }
#line 356
            v = (int_fast64_t )uv___1;
          }
#line 359
          *(*((data[cmptno])->rows_ + 0) + x) = v;
#line 311
          cmptno ++;
        }
        while_break___14: /* CIL Label */ ;
        }
        while_break___5: 
#line 310
        x ++;
      }
      while_break___13: /* CIL Label */ ;
      }
      while_break___4: ;
    }
#line 363
    cmptno = 0;
    {
#line 363
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 363
      if (! (cmptno < hdr->numcmpts)) {
#line 363
        goto while_break___6;
      }
      {
#line 364
      __cil_tmp34 = jas_image_writecmpt(image, cmptno, (jas_image_coord_t )0, (jas_image_coord_t )y,
                                        (jas_image_coord_t )hdr->width, (jas_image_coord_t )1,
                                        data[cmptno]);
      }
#line 364
      if (__cil_tmp34) {
#line 366
        goto done;
      }
#line 363
      cmptno ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___6: 
#line 285
    y ++;
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break___0: 
#line 371
  ret = 0;
  done: 
#line 375
  cmptno = 0;
  {
#line 375
  while (1) {
    while_continue___7: /* CIL Label */ ;

#line 375
    if (! (cmptno < hdr->numcmpts)) {
#line 375
      goto while_break___7;
    }
#line 376
    if (data[cmptno]) {
      {
#line 377
      jas_matrix_destroy(data[cmptno]);
      }
    }
#line 375
    cmptno ++;
  }
  while_break___16: /* CIL Label */ ;
  }
  while_break___7: ;
#line 381
  return (ret);
}
}
#line 388 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_getsint(jas_stream_t *in , int wordsize , int_fast32_t *val ) 
{ 
  uint_fast32_t tmpval ;
  int __cil_tmp5 ;

  {
  {
#line 392
  __cil_tmp5 = pnm_getuint(in, wordsize, & tmpval);
  }
#line 392
  if (__cil_tmp5) {
#line 393
    return (-1);
  }
#line 395
  if (val) {
#line 397
    *val = (int_fast32_t )tmpval;
  }
#line 400
  return (0);
}
}
#line 403 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_getuint(jas_stream_t *in , int wordsize , uint_fast32_t *val ) 
{ 
  uint_fast32_t tmpval ;
  int c ;
  int n ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 409
  tmpval = (uint_fast32_t )0;
#line 410
  n = (wordsize + 7) / 8;
  {
#line 411
  while (1) {
    while_continue: /* CIL Label */ ;
#line 411
    n --;
#line 411
    if (! (n >= 0)) {
#line 411
      goto while_break;
    }
#line 412
    if (! (in->flags_ & 7)) {
#line 412
      if (in->rwlimit_ >= 0L) {
#line 412
        if (in->rwcnt_ >= in->rwlimit_) {
#line 412
          in->flags_ |= 4;
#line 412
          tmp___0 = -1;
        } else {
#line 412
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 412
        (in->cnt_) --;
#line 412
        if (in->cnt_ < 0) {
          {
#line 412
          __cil_tmp7 = jas_stream_fillbuf(in, 1);
#line 412
          tmp = __cil_tmp7;
          }
        } else {
#line 412
          __cil_tmp8 = in->ptr_;
#line 412
          (in->ptr_) ++;
#line 412
          (in->rwcnt_) ++;
#line 412
          tmp = (int )*__cil_tmp8;
        }
#line 412
        tmp___0 = tmp;
      }
#line 412
      tmp___1 = tmp___0;
    } else {
#line 412
      tmp___1 = -1;
    }
#line 412
    c = tmp___1;
#line 412
    if (c == -1) {
#line 413
      return (-1);
    }
#line 415
    tmpval = (tmpval << 8) | (unsigned long )c;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 417
  tmpval &= (1UL << wordsize) - 1UL;
#line 418
  if (val) {
#line 419
    *val = tmpval;
  }
#line 422
  return (0);
}
}
#line 425 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_getbitstr(jas_stream_t *in , int *val ) 
{ 
  int c ;
  int_fast32_t v ;

  {
  {
#line 429
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 430
    c = pnm_getc(in);
    }
#line 430
    if (c == -1) {
#line 431
      return (-1);
    }
#line 433
    if (c == 35) {
      {
#line 434
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 435
        c = pnm_getc(in);
        }
#line 435
        if (c == -1) {
#line 436
          return (-1);
        }
#line 438
        if (c == 10) {
#line 439
          goto while_break___0;
        }
      }
      while_break___2: /* CIL Label */ ;
      }
      while_break___0: ;
    } else
#line 442
    if (c == 48) {
#line 443
      v = (int_fast32_t )(c - 48);
#line 444
      goto while_break;
    } else
#line 442
    if (c == 49) {
#line 443
      v = (int_fast32_t )(c - 48);
#line 444
      goto while_break;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 447
  if (val) {
#line 448
    *val = (int )v;
  }
#line 450
  return (0);
}
}
#line 453 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_getuintstr(jas_stream_t *in , uint_fast32_t *val ) 
{ 
  uint_fast32_t v ;
  int c ;
  unsigned short const   **__cil_tmp5 ;
  unsigned short const   **__cil_tmp7 ;
  unsigned short const   **__cil_tmp9 ;

  {
  {
#line 459
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 460
    c = pnm_getc(in);
    }
#line 460
    if (c == -1) {
#line 461
      return (-1);
    }
#line 459
    if (! ((int )*(*__cil_tmp5 + c) & 8192)) {
#line 459
      goto while_break;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 466
  v = (uint_fast32_t )0;
  {
#line 467
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 467
    __cil_tmp7 = __ctype_b_loc();
    }
#line 467
    if (! ((int )*(*__cil_tmp7 + c) & 2048)) {
#line 467
      goto while_break___0;
    }
    {
#line 468
    v = (10UL * v + (unsigned long )c) - 48UL;
#line 469
    c = pnm_getc(in);
    }
#line 469
    if (c < 0) {
#line 470
      return (-1);
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 475
  __cil_tmp9 = __ctype_b_loc();
  }
#line 475
  if (! ((int )*(*__cil_tmp9 + c) & 8192)) {
#line 476
    return (-1);
  }
#line 479
  if (val) {
#line 480
    *val = v;
  }
#line 482
  return (0);
}
}
#line 485 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_getsintstr(jas_stream_t *in , int_fast32_t *val ) 
{ 
  int c ;
  int s ;
  int_fast32_t v ;
  unsigned short const   **__cil_tmp6 ;
  unsigned short const   **__cil_tmp10 ;
  unsigned short const   **__cil_tmp12 ;
  int_fast32_t tmp ;

  {
  {
#line 492
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 493
    c = pnm_getc(in);
    }
#line 493
    if (c == -1) {
#line 494
      return (-1);
    }
#line 492
    if (! ((int )*(*__cil_tmp6 + c) & 8192)) {
#line 492
      goto while_break;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 499
  s = 1;
#line 500
  if (c == 45) {
    {
#line 501
    s = -1;
#line 502
    c = pnm_getc(in);
    }
#line 502
    if (c == -1) {
#line 503
      return (-1);
    }
  } else
#line 505
  if (c == 43) {
    {
#line 506
    c = pnm_getc(in);
    }
#line 506
    if (c == -1) {
#line 507
      return (-1);
    }
  }
#line 510
  v = (int_fast32_t )0;
  {
#line 511
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 511
    __cil_tmp10 = __ctype_b_loc();
    }
#line 511
    if (! ((int )*(*__cil_tmp10 + c) & 2048)) {
#line 511
      goto while_break___0;
    }
    {
#line 512
    v = (10L * v + (long )c) - 48L;
#line 513
    c = pnm_getc(in);
    }
#line 513
    if (c < 0) {
#line 514
      return (-1);
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 519
  __cil_tmp12 = __ctype_b_loc();
  }
#line 519
  if (! ((int )*(*__cil_tmp12 + c) & 8192)) {
#line 520
    return (-1);
  }
#line 523
  if (val) {
#line 524
    if (s >= 0) {
#line 524
      tmp = v;
    } else {
#line 524
      tmp = - v;
    }
#line 524
    *val = tmp;
  }
#line 527
  return (0);
}
}
#line 530 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_getc(jas_stream_t *in ) 
{ 
  int c ;
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
  {
#line 533
  while (1) {
    while_continue: /* CIL Label */ ;

#line 534
    if (! (in->flags_ & 7)) {
#line 534
      if (in->rwlimit_ >= 0L) {
#line 534
        if (in->rwcnt_ >= in->rwlimit_) {
#line 534
          in->flags_ |= 4;
#line 534
          tmp___0 = -1;
        } else {
#line 534
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 534
        (in->cnt_) --;
#line 534
        if (in->cnt_ < 0) {
          {
#line 534
          __cil_tmp3 = jas_stream_fillbuf(in, 1);
#line 534
          tmp = __cil_tmp3;
          }
        } else {
#line 534
          __cil_tmp4 = in->ptr_;
#line 534
          (in->ptr_) ++;
#line 534
          (in->rwcnt_) ++;
#line 534
          tmp = (int )*__cil_tmp4;
        }
#line 534
        tmp___0 = tmp;
      }
#line 534
      tmp___1 = tmp___0;
    } else {
#line 534
      tmp___1 = -1;
    }
#line 534
    c = tmp___1;
#line 534
    if (c == -1) {
#line 535
      return (-1);
    }
#line 537
    if (c != 35) {
#line 538
      return (c);
    }
    {
#line 540
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 541
      if (! (in->flags_ & 7)) {
#line 541
        if (in->rwlimit_ >= 0L) {
#line 541
          if (in->rwcnt_ >= in->rwlimit_) {
#line 541
            in->flags_ |= 4;
#line 541
            tmp___3 = -1;
          } else {
#line 541
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ 
#line 541
          (in->cnt_) --;
#line 541
          if (in->cnt_ < 0) {
            {
#line 541
            __cil_tmp8 = jas_stream_fillbuf(in, 1);
#line 541
            tmp___2 = __cil_tmp8;
            }
          } else {
#line 541
            __cil_tmp9 = in->ptr_;
#line 541
            (in->ptr_) ++;
#line 541
            (in->rwcnt_) ++;
#line 541
            tmp___2 = (int )*__cil_tmp9;
          }
#line 541
          tmp___3 = tmp___2;
        }
#line 541
        tmp___4 = tmp___3;
      } else {
#line 541
        tmp___4 = -1;
      }
#line 541
      c = tmp___4;
#line 541
      if (c == -1) {
#line 542
        return (-1);
      }
#line 540
      if (c != 10) {
#line 540
        if (! (c != 13)) {
#line 540
          goto while_break___0;
        }
      } else {
#line 540
        goto while_break___0;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break___0: ;
  }
  while_break: /* CIL Label */ ;
  }

#line 548
  return (0);
}
}
#line 548 "/root/patron-new/new_2/src/libjasper/pnm/pnm_dec.c"
static int pnm_getint16(jas_stream_t *in , int *val ) 
{ 
  int v ;
  int c ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 553
  if (! (in->flags_ & 7)) {
#line 553
    if (in->rwlimit_ >= 0L) {
#line 553
      if (in->rwcnt_ >= in->rwlimit_) {
#line 553
        in->flags_ |= 4;
#line 553
        tmp___0 = -1;
      } else {
#line 553
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 553
      (in->cnt_) --;
#line 553
      if (in->cnt_ < 0) {
        {
#line 553
        __cil_tmp5 = jas_stream_fillbuf(in, 1);
#line 553
        tmp = __cil_tmp5;
        }
      } else {
#line 553
        __cil_tmp6 = in->ptr_;
#line 553
        (in->ptr_) ++;
#line 553
        (in->rwcnt_) ++;
#line 553
        tmp = (int )*__cil_tmp6;
      }
#line 553
      tmp___0 = tmp;
    }
#line 553
    tmp___1 = tmp___0;
  } else {
#line 553
    tmp___1 = -1;
  }
#line 553
  c = tmp___1;
#line 553
  if (c == -1) {
#line 554
    return (-1);
  }
#line 556
  v = c & 255;
#line 557
  if (! (in->flags_ & 7)) {
#line 557
    if (in->rwlimit_ >= 0L) {
#line 557
      if (in->rwcnt_ >= in->rwlimit_) {
#line 557
        in->flags_ |= 4;
#line 557
        tmp___3 = -1;
      } else {
#line 557
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
#line 557
      (in->cnt_) --;
#line 557
      if (in->cnt_ < 0) {
        {
#line 557
        __cil_tmp10 = jas_stream_fillbuf(in, 1);
#line 557
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 557
        __cil_tmp11 = in->ptr_;
#line 557
        (in->ptr_) ++;
#line 557
        (in->rwcnt_) ++;
#line 557
        tmp___2 = (int )*__cil_tmp11;
      }
#line 557
      tmp___3 = tmp___2;
    }
#line 557
    tmp___4 = tmp___3;
  } else {
#line 557
    tmp___4 = -1;
  }
#line 557
  c = tmp___4;
#line 557
  if (c == -1) {
#line 558
    return (-1);
  }
#line 560
  v = (v << 8) | (c & 255);
#line 561
  *val = v;
#line 563
  return (0);
}
}
#line 88 "/root/patron-new/new_2/src/libjasper/pnm/pnm_cod.c"
int pnm_type(uint_fast16_t magic ) 
{ 
  int type ;

  {
#line 93
  if (magic == 20534UL) {
#line 93
    goto case_20534;
  }
#line 93
  if (magic == 20531UL) {
#line 93
    goto case_20534;
  }
#line 97
  if (magic == 20533UL) {
#line 97
    goto case_20533;
  }
#line 97
  if (magic == 20530UL) {
#line 97
    goto case_20533;
  }
#line 101
  if (magic == 20532UL) {
#line 101
    goto case_20532;
  }
#line 101
  if (magic == 20529UL) {
#line 101
    goto case_20532;
  }
#line 104
  goto switch_default;
  case_20534: 
#line 94
  type = 0;
#line 95
  goto switch_break;
  case_20533: 
#line 98
  type = 1;
#line 99
  goto switch_break;
  case_20532: 
#line 102
  type = 2;
#line 103
  goto switch_break;
  switch_default: 
  {
#line 106
  abort();
  }
#line 107
  goto switch_break;
  switch_break: ;
#line 109
  return (type);
}
}
#line 113 "/root/patron-new/new_2/src/libjasper/pnm/pnm_cod.c"
int pnm_fmt(uint_fast16_t magic ) 
{ 
  int fmt ;

  {
#line 119
  if (magic == 20531UL) {
#line 119
    goto case_20531;
  }
#line 119
  if (magic == 20530UL) {
#line 119
    goto case_20531;
  }
#line 119
  if (magic == 20529UL) {
#line 119
    goto case_20531;
  }
#line 124
  if (magic == 20534UL) {
#line 124
    goto case_20534;
  }
#line 124
  if (magic == 20533UL) {
#line 124
    goto case_20534;
  }
#line 124
  if (magic == 20532UL) {
#line 124
    goto case_20534;
  }
#line 127
  goto switch_default;
  case_20531: 
#line 120
  fmt = 0;
#line 121
  goto switch_break;
  case_20534: 
#line 125
  fmt = 1;
#line 126
  goto switch_break;
  switch_default: 
  {
#line 129
  abort();
  }
#line 130
  goto switch_break;
  switch_break: ;
#line 132
  return (fmt);
}
}
#line 136 "/root/patron-new/new_2/src/libjasper/pnm/pnm_cod.c"
int pnm_maxvaltodepth(uint_fast32_t maxval ) 
{ 
  int n ;

  {
#line 140
  n = 0;
  {
#line 141
  while (1) {
    while_continue: /* CIL Label */ ;

#line 141
    if (! (maxval > 0UL)) {
#line 141
      goto while_break;
    }
#line 142
    maxval >>= 1;
#line 143
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 145
  return (n);
}
}
#line 89 "../../../src/libjasper/include/jasper/jas_string.h"
char *jas_strdup(char const   *s ) ;
#line 116 "/root/patron-new/new_2/src/libjasper/pgx/pgx_cod.h"
void pgx_dumphdr(FILE *out , pgx_hdr_t *hdr ) ;
#line 81 "/root/patron-new/new_2/src/libjasper/pgx/pgx_enc.c"
static int pgx_puthdr(jas_stream_t *out , pgx_hdr_t *hdr ) ;
#line 82
static int pgx_putdata(jas_stream_t *out , pgx_hdr_t *hdr , jas_image_t *image , int cmpt ) ;
#line 83
static int pgx_putword(jas_stream_t *out , int bigendian , int prec , uint_fast32_t val ) ;
#line 85
static uint_fast32_t pgx_inttoword(jas_seqent_t v , int prec , int sgnd ) ;
#line 93 "/root/patron-new/new_2/src/libjasper/pgx/pgx_enc.c"
int pgx_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) 
{ 
  pgx_hdr_t hdr ;
  uint_fast32_t width ;
  uint_fast32_t height ;
  int sgnd ;
  int prec ;
  pgx_enc_t encbuf ;
  pgx_enc_t *enc ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
#line 101
  enc = & encbuf;
#line 104
  optstr = (char *)0;
#line 107
  if (image->clrspc_ >> 8 == 3) {
#line 107
    goto case_3;
  }
#line 114
  goto switch_default;
  case_3: 
  {
#line 108
  enc->cmpt = jas_image_getcmptbytype(image, 0);
  }
#line 108
  if (enc->cmpt < 0) {
    {
#line 110
    jas_eprintf("error: missing color component\n");
    }
#line 111
    return (-1);
  }
#line 113
  goto switch_break;
  switch_default: 
  {
#line 115
  jas_eprintf("error: BMP format does not support color space\n");
  }
#line 116
  return (-1);
#line 117
  goto switch_break;
  switch_break: 
#line 120
  width = (uint_fast32_t )(*(image->cmpts_ + enc->cmpt))->width_;
#line 121
  height = (uint_fast32_t )(*(image->cmpts_ + enc->cmpt))->height_;
#line 122
  prec = (*(image->cmpts_ + enc->cmpt))->prec_;
#line 123
  sgnd = (*(image->cmpts_ + enc->cmpt))->sgnd_;
#line 130
  if (image->numcmpts_ > 1) {
    {
#line 131
    jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
    }
#line 132
    return (-1);
  } else
#line 130
  if (prec > 16) {
    {
#line 131
    jas_eprintf("The PNM format cannot be used to represent an image with this geometry.\n\220");
    }
#line 132
    return (-1);
  }
  {
#line 135
  hdr.magic = (uint_fast16_t )20551;
#line 136
  hdr.bigendian = 1;
#line 137
  hdr.sgnd = sgnd;
#line 138
  hdr.prec = (uint_fast32_t )prec;
#line 139
  hdr.width = width;
#line 140
  hdr.height = height;
#line 146
  __cil_tmp12 = pgx_puthdr(out, & hdr);
  }
#line 146
  if (__cil_tmp12) {
#line 147
    return (-1);
  }
  {
#line 150
  __cil_tmp13 = pgx_putdata(out, & hdr, image, enc->cmpt);
  }
#line 150
  if (__cil_tmp13) {
#line 151
    return (-1);
  }
#line 154
  return (0);
}
}
#line 160 "/root/patron-new/new_2/src/libjasper/pgx/pgx_enc.c"
static int pgx_puthdr(jas_stream_t *out , pgx_hdr_t *hdr ) 
{ 
  char const   *tmp ;
  char const   *tmp___0 ;

  {
  {
#line 162
  jas_stream_printf(out, "%c%c", hdr->magic >> 8, hdr->magic & 255UL);
  }
#line 163
  if (hdr->bigendian) {
    {
#line 163
    strcpy((char *)tmp, "ML");
    }
  } else {
    {
#line 163
    strcpy((char *)tmp, "LM");
    }
  }
#line 163
  if (hdr->sgnd) {
    {
#line 163
    strcpy((char *)tmp___0, "-");
    }
  } else {
    {
#line 163
    strcpy((char *)tmp___0, "+");
    }
  }
  {
#line 163
  jas_stream_printf(out, " %s %s %d %ld %ld\n", tmp, tmp___0, hdr->prec, (long )hdr->width,
                    (long )hdr->height);
  }
#line 165
  if ((out->flags_ & 2) != 0) {
#line 166
    return (-1);
  }
#line 168
  return (0);
}
}
#line 171 "/root/patron-new/new_2/src/libjasper/pgx/pgx_enc.c"
static int pgx_putdata(jas_stream_t *out , pgx_hdr_t *hdr , jas_image_t *image , int cmpt ) 
{ 
  jas_matrix_t *data ;
  uint_fast32_t x ;
  uint_fast32_t y ;
  int_fast32_t v ;
  uint_fast32_t word ;
  int __cil_tmp11 ;
  int __cil_tmp13 ;

  {
  {
#line 179
  data = (jas_matrix_t *)0;
#line 181
  data = jas_matrix_create(1, (int )hdr->width);
  }
#line 181
  if (! data) {
#line 182
    goto error;
  }
#line 184
  y = (uint_fast32_t )0;
  {
#line 184
  while (1) {
    while_continue: /* CIL Label */ ;

#line 184
    if (! (y < hdr->height)) {
#line 184
      goto while_break;
    }
    {
#line 185
    __cil_tmp11 = jas_image_readcmpt(image, cmpt, (jas_image_coord_t )0, (jas_image_coord_t )y,
                                     (jas_image_coord_t )hdr->width, (jas_image_coord_t )1,
                                     data);
    }
#line 185
    if (__cil_tmp11) {
#line 186
      goto error;
    }
#line 188
    x = (uint_fast32_t )0;
    {
#line 188
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 188
      if (! (x < hdr->width)) {
#line 188
        goto while_break___0;
      }
      {
#line 189
      v = *(*(data->rows_ + 0) + x);
#line 190
      word = pgx_inttoword(v, (int )hdr->prec, hdr->sgnd);
#line 191
      __cil_tmp13 = pgx_putword(out, hdr->bigendian, (int )hdr->prec, word);
      }
#line 191
      if (__cil_tmp13) {
#line 192
        goto error;
      }
#line 188
      x ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 184
    y ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 196
  jas_matrix_destroy(data);
#line 197
  data = (jas_matrix_t *)0;
  }
#line 198
  return (0);
  error: 
#line 201
  if (data) {
    {
#line 202
    jas_matrix_destroy(data);
    }
  }
#line 204
  return (-1);
}
}
#line 207 "/root/patron-new/new_2/src/libjasper/pgx/pgx_enc.c"
static int pgx_putword(jas_stream_t *out , int bigendian , int prec , uint_fast32_t val ) 
{ 
  int i ;
  int j ;
  int wordsize ;
  int tmp ;
  int __cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 214
  val &= (unsigned long )((1 << prec) - 1);
#line 215
  wordsize = (prec + 7) / 8;
#line 216
  i = 0;
  {
#line 216
  while (1) {
    while_continue: /* CIL Label */ ;

#line 216
    if (! (i < wordsize)) {
#line 216
      goto while_break;
    }
#line 217
    if (bigendian) {
#line 217
      tmp = (wordsize - 1) - i;
    } else {
#line 217
      tmp = i;
    }
#line 217
    j = tmp;
#line 218
    if (! (out->flags_ & 7)) {
#line 218
      if (out->rwlimit_ >= 0L) {
#line 218
        if (out->rwcnt_ >= out->rwlimit_) {
#line 218
          out->flags_ |= 4;
#line 218
          tmp___1 = -1;
        } else {
#line 218
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 218
        (out->cnt_) --;
#line 218
        out->bufmode_ |= 32;
#line 218
        if (out->cnt_ < 0) {
          {
#line 218
          __cil_tmp9 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 8 * j) & 255UL)));
#line 218
          tmp___0 = __cil_tmp9;
          }
        } else {
#line 218
          __cil_tmp10 = out->ptr_;
#line 218
          (out->ptr_) ++;
#line 218
          *__cil_tmp10 = (unsigned char )((val >> 8 * j) & 255UL);
#line 218
          (out->rwcnt_) ++;
#line 218
          tmp___0 = (int )*__cil_tmp10;
        }
#line 218
        tmp___1 = tmp___0;
      }
#line 218
      tmp___2 = tmp___1;
    } else {
#line 218
      tmp___2 = -1;
    }
#line 218
    if (tmp___2 == -1) {
#line 219
      return (-1);
    }
#line 216
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 222
  return (0);
}
}
#line 225 "/root/patron-new/new_2/src/libjasper/pgx/pgx_enc.c"
static uint_fast32_t pgx_inttoword(jas_seqent_t v , int prec , int sgnd ) 
{ 
  uint_fast32_t ret ;
  long tmp ;

  {
#line 228
  if (sgnd) {
#line 228
    if (v < 0L) {
#line 228
      tmp = (long )(1 << prec) + v;
    } else {
#line 228
      tmp = v;
    }
  } else {
#line 228
    tmp = v;
  }
#line 228
  ret = (uint_fast32_t )(tmp & (long )((1 << prec) - 1));
#line 229
  return (ret);
}
}
#line 80 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
static int pgx_gethdr(jas_stream_t *in , pgx_hdr_t *hdr ) ;
#line 81
static int pgx_getdata(jas_stream_t *in , pgx_hdr_t *hdr , jas_image_t *image ) ;
#line 82
static int_fast32_t pgx_getword(jas_stream_t *in , int bigendian , int prec ) ;
#line 83
static int pgx_getsgnd(jas_stream_t *in , int *sgnd ) ;
#line 84
static int pgx_getbyteorder(jas_stream_t *in , int *bigendian ) ;
#line 85
static int pgx_getc(jas_stream_t *in ) ;
#line 86
static int pgx_getuint32(jas_stream_t *in , uint_fast32_t *val ) ;
#line 87
static jas_seqent_t pgx_wordtoint(uint_fast32_t v , int prec , int sgnd ) ;
#line 95 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
jas_image_t *pgx_decode(jas_stream_t *in , char *optstr ) 
{ 
  jas_image_t *image ;
  pgx_hdr_t hdr ;
  jas_image_cmptparm_t cmptparm ;
  int __cil_tmp6 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
  {
#line 102
  optstr = (char *)0;
#line 104
  image = (jas_image_t *)0;
#line 106
  __cil_tmp6 = pgx_gethdr(in, & hdr);
  }
#line 106
  if (__cil_tmp6) {
#line 107
    goto error;
  }
  {
#line 114
  image = jas_image_create0();
  }
#line 114
  if (! image) {
#line 115
    goto error;
  }
  {
#line 117
  cmptparm.tlx = (jas_image_coord_t )0;
#line 118
  cmptparm.tly = (jas_image_coord_t )0;
#line 119
  cmptparm.hstep = (jas_image_coord_t )1;
#line 120
  cmptparm.vstep = (jas_image_coord_t )1;
#line 121
  cmptparm.width = (jas_image_coord_t )hdr.width;
#line 122
  cmptparm.height = (jas_image_coord_t )hdr.height;
#line 123
  cmptparm.prec = (int )hdr.prec;
#line 124
  cmptparm.sgnd = hdr.sgnd;
#line 125
  __cil_tmp8 = jas_image_addcmpt(image, 0, & cmptparm);
  }
#line 125
  if (__cil_tmp8) {
#line 126
    goto error;
  }
  {
#line 128
  __cil_tmp9 = pgx_getdata(in, & hdr, image);
  }
#line 128
  if (__cil_tmp9) {
#line 129
    goto error;
  }
#line 132
  image->clrspc_ = (3 << 8) | 1;
#line 133
  (*(image->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
#line 136
  return (image);
  error: 
#line 139
  if (image) {
    {
#line 140
    jas_image_destroy(image);
    }
  }
#line 142
  return ((jas_image_t *)0);
}
}
#line 149 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
int pgx_validate(jas_stream_t *in ) 
{ 
  unsigned char buf[2] ;
  uint_fast32_t magic ;
  int i ;
  int n ;
  int __cil_tmp8 ;

  {
  {
#line 160
  n = jas_stream_read(in, (void *)(buf), 2);
  }
#line 160
  if (n < 0) {
#line 161
    return (-1);
  }
#line 166
  i = n - 1;
  {
#line 166
  while (1) {
    while_continue: /* CIL Label */ ;

#line 166
    if (! (i >= 0)) {
#line 166
      goto while_break;
    }
    {
#line 167
    __cil_tmp8 = jas_stream_ungetc(in, (int )buf[i]);
    }
#line 167
    if (__cil_tmp8 == -1) {
#line 168
      return (-1);
    }
#line 166
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 173
  if (n < 2) {
#line 174
    return (-1);
  }
#line 178
  magic = (uint_fast32_t )(((int )buf[0] << 8) | (int )buf[1]);
#line 181
  if (magic != 20551UL) {
#line 182
    return (-1);
  }
#line 185
  return (0);
}
}
#line 192 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
static int pgx_gethdr(jas_stream_t *in , pgx_hdr_t *hdr ) 
{ 
  int c ;
  unsigned char buf[2] ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  unsigned short const   **__cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;

  {
#line 197
  if (! (in->flags_ & 7)) {
#line 197
    if (in->rwlimit_ >= 0L) {
#line 197
      if (in->rwcnt_ >= in->rwlimit_) {
#line 197
        in->flags_ |= 4;
#line 197
        tmp___0 = -1;
      } else {
#line 197
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 197
      (in->cnt_) --;
#line 197
      if (in->cnt_ < 0) {
        {
#line 197
        __cil_tmp5 = jas_stream_fillbuf(in, 1);
#line 197
        tmp = __cil_tmp5;
        }
      } else {
#line 197
        __cil_tmp6 = in->ptr_;
#line 197
        (in->ptr_) ++;
#line 197
        (in->rwcnt_) ++;
#line 197
        tmp = (int )*__cil_tmp6;
      }
#line 197
      tmp___0 = tmp;
    }
#line 197
    tmp___1 = tmp___0;
  } else {
#line 197
    tmp___1 = -1;
  }
#line 197
  c = tmp___1;
#line 197
  if (c == -1) {
#line 198
    goto error;
  }
#line 200
  buf[0] = (unsigned char )c;
#line 201
  if (! (in->flags_ & 7)) {
#line 201
    if (in->rwlimit_ >= 0L) {
#line 201
      if (in->rwcnt_ >= in->rwlimit_) {
#line 201
        in->flags_ |= 4;
#line 201
        tmp___3 = -1;
      } else {
#line 201
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
#line 201
      (in->cnt_) --;
#line 201
      if (in->cnt_ < 0) {
        {
#line 201
        __cil_tmp10 = jas_stream_fillbuf(in, 1);
#line 201
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 201
        __cil_tmp11 = in->ptr_;
#line 201
        (in->ptr_) ++;
#line 201
        (in->rwcnt_) ++;
#line 201
        tmp___2 = (int )*__cil_tmp11;
      }
#line 201
      tmp___3 = tmp___2;
    }
#line 201
    tmp___4 = tmp___3;
  } else {
#line 201
    tmp___4 = -1;
  }
#line 201
  c = tmp___4;
#line 201
  if (c == -1) {
#line 202
    goto error;
  }
#line 204
  buf[1] = (unsigned char )c;
#line 205
  hdr->magic = (uint_fast16_t )(((int )buf[0] << 8) | (int )buf[1]);
#line 206
  if (hdr->magic != 20551UL) {
#line 207
    goto error;
  }
  {
#line 209
  __cil_tmp16 = __ctype_b_loc();
#line 209
  c = pgx_getc(in);
  }
#line 209
  if (c == -1) {
#line 210
    goto error;
  } else
#line 209
  if (! ((int )*(*__cil_tmp16 + c) & 8192)) {
#line 210
    goto error;
  }
  {
#line 212
  __cil_tmp17 = pgx_getbyteorder(in, & hdr->bigendian);
  }
#line 212
  if (__cil_tmp17) {
#line 213
    goto error;
  }
  {
#line 215
  __cil_tmp18 = pgx_getsgnd(in, & hdr->sgnd);
  }
#line 215
  if (__cil_tmp18) {
#line 216
    goto error;
  }
  {
#line 218
  __cil_tmp19 = pgx_getuint32(in, & hdr->prec);
  }
#line 218
  if (__cil_tmp19) {
#line 219
    goto error;
  }
  {
#line 221
  __cil_tmp20 = pgx_getuint32(in, & hdr->width);
  }
#line 221
  if (__cil_tmp20) {
#line 222
    goto error;
  }
  {
#line 224
  __cil_tmp21 = pgx_getuint32(in, & hdr->height);
  }
#line 224
  if (__cil_tmp21) {
#line 225
    goto error;
  }
#line 227
  return (0);
  error: 
#line 230
  return (-1);
}
}
#line 233 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
static int pgx_getdata(jas_stream_t *in , pgx_hdr_t *hdr , jas_image_t *image ) 
{ 
  jas_matrix_t *data ;
  uint_fast32_t x ;
  uint_fast32_t y ;
  uint_fast32_t word ;
  int_fast32_t v ;
  int __cil_tmp12 ;

  {
  {
#line 241
  data = (jas_matrix_t *)0;
#line 243
  data = jas_matrix_create(1, (int )hdr->width);
  }
#line 243
  if (! data) {
#line 244
    goto error;
  }
#line 246
  y = (uint_fast32_t )0;
  {
#line 246
  while (1) {
    while_continue: /* CIL Label */ ;

#line 246
    if (! (y < hdr->height)) {
#line 246
      goto while_break;
    }
#line 247
    x = (uint_fast32_t )0;
    {
#line 247
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 247
      if (! (x < hdr->width)) {
#line 247
        goto while_break___0;
      }
      {
#line 249
      v = pgx_getword(in, hdr->bigendian, (int )hdr->prec);
      }
#line 249
      if (v < 0L) {
#line 250
        goto error;
      }
      {
#line 252
      word = (uint_fast32_t )v;
#line 253
      v = pgx_wordtoint(word, (int )hdr->prec, hdr->sgnd);
#line 254
      *(*(data->rows_ + 0) + x) = v;
#line 247
      x ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 256
    __cil_tmp12 = jas_image_writecmpt(image, 0, (jas_image_coord_t )0, (jas_image_coord_t )y,
                                      (jas_image_coord_t )hdr->width, (jas_image_coord_t )1,
                                      data);
    }
#line 256
    if (__cil_tmp12) {
#line 257
      goto error;
    }
#line 246
    y ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 260
  jas_matrix_destroy(data);
  }
#line 261
  return (0);
  error: 
#line 264
  if (data) {
    {
#line 265
    jas_matrix_destroy(data);
    }
  }
#line 267
  return (-1);
}
}
#line 270 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
static int_fast32_t pgx_getword(jas_stream_t *in , int bigendian , int prec ) 
{ 
  uint_fast32_t val ;
  int i ;
  int j ;
  int c ;
  int wordsize ;
  int __cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 278
  wordsize = (prec + 7) / 8;
#line 280
  if (prec > 32) {
#line 281
    goto error;
  }
#line 284
  val = (uint_fast32_t )0;
#line 285
  i = 0;
  {
#line 285
  while (1) {
    while_continue: /* CIL Label */ ;

#line 285
    if (! (i < wordsize)) {
#line 285
      goto while_break;
    }
#line 286
    if (! (in->flags_ & 7)) {
#line 286
      if (in->rwlimit_ >= 0L) {
#line 286
        if (in->rwcnt_ >= in->rwlimit_) {
#line 286
          in->flags_ |= 4;
#line 286
          tmp___0 = -1;
        } else {
#line 286
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 286
        (in->cnt_) --;
#line 286
        if (in->cnt_ < 0) {
          {
#line 286
          __cil_tmp9 = jas_stream_fillbuf(in, 1);
#line 286
          tmp = __cil_tmp9;
          }
        } else {
#line 286
          __cil_tmp10 = in->ptr_;
#line 286
          (in->ptr_) ++;
#line 286
          (in->rwcnt_) ++;
#line 286
          tmp = (int )*__cil_tmp10;
        }
#line 286
        tmp___0 = tmp;
      }
#line 286
      tmp___1 = tmp___0;
    } else {
#line 286
      tmp___1 = -1;
    }
#line 286
    c = tmp___1;
#line 286
    if (c == -1) {
#line 287
      goto error;
    }
#line 289
    if (bigendian) {
#line 289
      tmp___2 = (wordsize - 1) - i;
    } else {
#line 289
      tmp___2 = i;
    }
#line 289
    j = tmp___2;
#line 290
    val |= (unsigned long )((c & 255) << 8 * j);
#line 285
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 292
  val &= (unsigned long )((1 << prec) - 1);
#line 293
  return ((int_fast32_t )val);
  error: 
#line 296
  return ((int_fast32_t )-1);
}
}
#line 299 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
static int pgx_getc(jas_stream_t *in ) 
{ 
  int c ;
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
  {
#line 302
  while (1) {
    while_continue: /* CIL Label */ ;

#line 303
    if (! (in->flags_ & 7)) {
#line 303
      if (in->rwlimit_ >= 0L) {
#line 303
        if (in->rwcnt_ >= in->rwlimit_) {
#line 303
          in->flags_ |= 4;
#line 303
          tmp___0 = -1;
        } else {
#line 303
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 303
        (in->cnt_) --;
#line 303
        if (in->cnt_ < 0) {
          {
#line 303
          __cil_tmp3 = jas_stream_fillbuf(in, 1);
#line 303
          tmp = __cil_tmp3;
          }
        } else {
#line 303
          __cil_tmp4 = in->ptr_;
#line 303
          (in->ptr_) ++;
#line 303
          (in->rwcnt_) ++;
#line 303
          tmp = (int )*__cil_tmp4;
        }
#line 303
        tmp___0 = tmp;
      }
#line 303
      tmp___1 = tmp___0;
    } else {
#line 303
      tmp___1 = -1;
    }
#line 303
    c = tmp___1;
#line 303
    if (c == -1) {
#line 304
      return (-1);
    }
#line 306
    if (c != 35) {
#line 307
      return (c);
    }
    {
#line 309
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 310
      if (! (in->flags_ & 7)) {
#line 310
        if (in->rwlimit_ >= 0L) {
#line 310
          if (in->rwcnt_ >= in->rwlimit_) {
#line 310
            in->flags_ |= 4;
#line 310
            tmp___3 = -1;
          } else {
#line 310
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ 
#line 310
          (in->cnt_) --;
#line 310
          if (in->cnt_ < 0) {
            {
#line 310
            __cil_tmp8 = jas_stream_fillbuf(in, 1);
#line 310
            tmp___2 = __cil_tmp8;
            }
          } else {
#line 310
            __cil_tmp9 = in->ptr_;
#line 310
            (in->ptr_) ++;
#line 310
            (in->rwcnt_) ++;
#line 310
            tmp___2 = (int )*__cil_tmp9;
          }
#line 310
          tmp___3 = tmp___2;
        }
#line 310
        tmp___4 = tmp___3;
      } else {
#line 310
        tmp___4 = -1;
      }
#line 310
      c = tmp___4;
#line 310
      if (c == -1) {
#line 311
        return (-1);
      }
#line 309
      if (c != 10) {
#line 309
        if (! (c != 13)) {
#line 309
          goto while_break___0;
        }
      } else {
#line 309
        goto while_break___0;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break___0: ;
  }
  while_break: /* CIL Label */ ;
  }

#line 317
  return (0);
}
}
#line 317 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
static int pgx_getbyteorder(jas_stream_t *in , int *bigendian ) 
{ 
  int c ;
  char buf[2] ;
  unsigned short const   **__cil_tmp5 ;
  unsigned short const   **__cil_tmp9 ;

  {
  {
#line 322
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 323
    c = pgx_getc(in);
    }
#line 323
    if (c == -1) {
#line 324
      return (-1);
    }
#line 322
    if (! ((int )*(*__cil_tmp5 + c) & 8192)) {
#line 322
      goto while_break;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 328
  buf[0] = (char )c;
#line 329
  c = pgx_getc(in);
  }
#line 329
  if (c == -1) {
#line 330
    goto error;
  }
#line 332
  buf[1] = (char )c;
#line 333
  if ((int )buf[0] == 77) {
#line 333
    if ((int )buf[1] == 76) {
#line 334
      *bigendian = 1;
    } else {
#line 333
      goto _L;
    }
  } else
  _L: 
#line 335
  if ((int )buf[0] == 76) {
#line 335
    if ((int )buf[1] == 77) {
#line 336
      *bigendian = 0;
    } else {
#line 338
      goto error;
    }
  } else {
#line 338
    goto error;
  }
  {
#line 341
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 341
    __cil_tmp9 = __ctype_b_loc();
#line 341
    c = pgx_getc(in);
    }
#line 341
    if (c != -1) {
#line 341
      if (! (! ((int )*(*__cil_tmp9 + c) & 8192))) {
#line 341
        goto while_break___0;
      }
    } else {
#line 341
      goto while_break___0;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 344
  if (c == -1) {
#line 345
    goto error;
  }
#line 347
  return (0);
  error: 
#line 350
  return (-1);
}
}
#line 353 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
static int pgx_getsgnd(jas_stream_t *in , int *sgnd ) 
{ 
  int c ;
  unsigned short const   **__cil_tmp4 ;
  unsigned short const   **__cil_tmp7 ;

  {
  {
#line 357
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 358
    c = pgx_getc(in);
    }
#line 358
    if (c == -1) {
#line 359
      return (-1);
    }
#line 357
    if (! ((int )*(*__cil_tmp4 + c) & 8192)) {
#line 357
      goto while_break;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 363
  if (c == 43) {
#line 364
    *sgnd = 0;
  } else
#line 365
  if (c == 45) {
#line 366
    *sgnd = 1;
  } else {
#line 368
    goto error;
  }
  {
#line 370
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 370
    __cil_tmp7 = __ctype_b_loc();
#line 370
    c = pgx_getc(in);
    }
#line 370
    if (c != -1) {
#line 370
      if (! (! ((int )*(*__cil_tmp7 + c) & 8192))) {
#line 370
        goto while_break___0;
      }
    } else {
#line 370
      goto while_break___0;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 373
  if (c == -1) {
#line 374
    goto error;
  }
#line 376
  return (0);
  error: 
#line 379
  return (-1);
}
}
#line 382 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
static int pgx_getuint32(jas_stream_t *in , uint_fast32_t *val ) 
{ 
  int c ;
  uint_fast32_t v ;
  unsigned short const   **__cil_tmp5 ;
  unsigned short const   **__cil_tmp7 ;
  unsigned short const   **__cil_tmp9 ;

  {
  {
#line 387
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 388
    c = pgx_getc(in);
    }
#line 388
    if (c == -1) {
#line 389
      return (-1);
    }
#line 387
    if (! ((int )*(*__cil_tmp5 + c) & 8192)) {
#line 387
      goto while_break;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 393
  v = (uint_fast32_t )0;
  {
#line 394
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 394
    __cil_tmp7 = __ctype_b_loc();
    }
#line 394
    if (! ((int )*(*__cil_tmp7 + c) & 2048)) {
#line 394
      goto while_break___0;
    }
    {
#line 395
    v = (10UL * v + (unsigned long )c) - 48UL;
#line 396
    c = pgx_getc(in);
    }
#line 396
    if (c < 0) {
#line 397
      return (-1);
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 400
  __cil_tmp9 = __ctype_b_loc();
  }
#line 400
  if (! ((int )*(*__cil_tmp9 + c) & 8192)) {
#line 401
    return (-1);
  }
#line 403
  *val = v;
#line 405
  return (0);
}
}
#line 408 "/root/patron-new/new_2/src/libjasper/pgx/pgx_dec.c"
static jas_seqent_t pgx_wordtoint(uint_fast32_t v , int prec , int sgnd ) 
{ 
  jas_seqent_t ret ;
  uint_fast32_t tmp ;

  {
#line 411
  v &= (unsigned long )((1 << prec) - 1);
#line 412
  if (sgnd) {
#line 412
    if (v & (unsigned long )(1 << (prec - 1))) {
#line 412
      tmp = v - (unsigned long )(1 << prec);
    } else {
#line 412
      tmp = v;
    }
  } else {
#line 412
    tmp = v;
  }
#line 412
  ret = (jas_seqent_t )tmp;
#line 413
  return (ret);
}
}
#line 72 "/root/patron-new/new_2/src/libjasper/pgx/pgx_cod.c"
void pgx_dumphdr(FILE *out , pgx_hdr_t *hdr ) 
{ 
  char const   *tmp ;
  char const   *tmp___0 ;

  {
#line 74
  if (hdr->bigendian) {
    {
#line 74
    strcpy((char *)tmp, "bigendian");
    }
  } else {
    {
#line 74
    strcpy((char *)tmp, "littleendian");
    }
  }
#line 74
  if (hdr->sgnd) {
    {
#line 74
    strcpy((char *)tmp___0, "signed");
    }
  } else {
    {
#line 74
    strcpy((char *)tmp___0, "unsigned\220");
    }
  }
  {
#line 74
  fprintf(out, "byteorder=%s sgnd=%s prec=%d width=%d height=%d\n\230\001", tmp, tmp___0,
          hdr->prec, hdr->width, hdr->height);
  }
#line 77
  return;
}
}
#line 107 "../../../src/libjasper/include/jasper/jas_malloc.h"
void *jas_malloc(size_t size ) ;
#line 110
void jas_free(void *ptr ) ;
#line 113
void *jas_realloc(void *ptr , size_t size ) ;
#line 116
void *jas_calloc(size_t num_elements , size_t element_size ) ;
#line 119
void *jas_alloc2(size_t num_elements , size_t element_size ) ;
#line 122
void *jas_alloc3(size_t num_arrays , size_t array_size , size_t element_size ) ;
#line 125
void *jas_realloc2(void *ptr , size_t num_elements , size_t element_size ) ;
#line 101 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static mif_hdr_t *mif_hdr_create(int maxcmpts ) ;
#line 102
static void mif_hdr_destroy(mif_hdr_t *hdr ) ;
#line 103
static int mif_hdr_growcmpts(mif_hdr_t *hdr , int maxcmpts ) ;
#line 104
static mif_hdr_t *mif_hdr_get(jas_stream_t *in ) ;
#line 105
static int mif_process_cmpt(mif_hdr_t *hdr , char *buf ) ;
#line 106
static int mif_hdr_put(mif_hdr_t *hdr , jas_stream_t *out ) ;
#line 107
static int mif_hdr_addcmpt(mif_hdr_t *hdr , int cmptno , mif_cmpt_t *cmpt ) ;
#line 108
static mif_cmpt_t *mif_cmpt_create(void) ;
#line 109
static void mif_cmpt_destroy(mif_cmpt_t *cmpt ) ;
#line 110
static char *mif_getline(jas_stream_t *stream , char *buf , int bufsize ) ;
#line 111
static int mif_getc(jas_stream_t *in ) ;
#line 112
static mif_hdr_t *mif_makehdrfromimage(jas_image_t *image ) ;
#line 118 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
jas_taginfo_t mif_tags2[3]  = {      {1, (char *)"component"}, 
        {0, (char *)"end"}, 
        {-1, (char *)0}};
#line 124 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
jas_taginfo_t mif_tags[10]  = 
#line 124
  {      {0, (char *)"tlx"}, 
        {1, (char *)"tly"}, 
        {2, (char *)"width"}, 
        {3, (char *)"height"}, 
        {4, (char *)"sampperx\250"}, 
        {5, (char *)"samppery\250"}, 
        {6, (char *)"prec"}, 
        {7, (char *)"sgnd"}, 
        {8, (char *)"data"}, 
        {-1, (char *)0}};
#line 143 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
jas_image_t *mif_decode(jas_stream_t *in , char *optstr ) 
{ 
  mif_hdr_t *hdr ;
  jas_image_t *image ;
  jas_image_t *tmpimage ;
  jas_stream_t *tmpstream ;
  int cmptno ;
  mif_cmpt_t *cmpt ;
  jas_image_cmptparm_t cmptparm ;
  jas_seq2d_t *data ;
  int_fast32_t x ;
  int_fast32_t y ;
  int bias ;
  jas_stream_t *__cil_tmp16 ;
  jas_stream_t *tmp ;
  int __cil_tmp19 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;

  {
  {
#line 158
  optstr = (char *)0;
#line 160
  hdr = (mif_hdr_t *)0;
#line 161
  image = (jas_image_t *)0;
#line 162
  tmpimage = (jas_image_t *)0;
#line 163
  tmpstream = (jas_stream_t *)0;
#line 164
  data = (jas_seq2d_t *)0;
#line 166
  hdr = mif_hdr_get(in);
  }
#line 166
  if (! hdr) {
#line 167
    goto error;
  }
  {
#line 170
  image = jas_image_create0();
  }
#line 170
  if (! image) {
#line 171
    goto error;
  }
#line 174
  cmptno = 0;
  {
#line 174
  while (1) {
    while_continue: /* CIL Label */ ;

#line 174
    if (! (cmptno < hdr->numcmpts)) {
#line 174
      goto while_break;
    }
#line 175
    cmpt = *(hdr->cmpts + cmptno);
#line 176
    if (cmpt->data) {
      {
#line 176
      __cil_tmp16 = jas_stream_fopen((char const   *)cmpt->data, "rb");
#line 176
      tmp = __cil_tmp16;
      }
    } else {
#line 176
      tmp = in;
    }
#line 176
    tmpstream = tmp;
#line 177
    if (! tmpstream) {
#line 178
      goto error;
    }
    {
#line 180
    tmpimage = jas_image_decode(tmpstream, -1, (char *)0);
    }
#line 180
    if (! tmpimage) {
#line 181
      goto error;
    }
#line 183
    if ((unsigned long )tmpstream != (unsigned long )in) {
      {
#line 184
      jas_stream_close(tmpstream);
#line 185
      tmpstream = (jas_stream_t *)0;
      }
    }
#line 187
    if (! cmpt->width) {
#line 188
      cmpt->width = (*(tmpimage->cmpts_ + 0))->width_;
    }
#line 190
    if (! cmpt->height) {
#line 191
      cmpt->height = (*(tmpimage->cmpts_ + 0))->width_;
    }
#line 193
    if (! cmpt->prec) {
#line 194
      cmpt->prec = (int_fast16_t )(*(tmpimage->cmpts_ + 0))->prec_;
    }
#line 196
    if (cmpt->sgnd < 0L) {
#line 197
      cmpt->sgnd = (int_fast16_t )(*(tmpimage->cmpts_ + 0))->sgnd_;
    }
    {
#line 199
    cmptparm.tlx = cmpt->tlx;
#line 200
    cmptparm.tly = cmpt->tly;
#line 201
    cmptparm.hstep = cmpt->sampperx;
#line 202
    cmptparm.vstep = cmpt->samppery;
#line 203
    cmptparm.width = cmpt->width;
#line 204
    cmptparm.height = cmpt->height;
#line 205
    cmptparm.prec = (int )cmpt->prec;
#line 206
    cmptparm.sgnd = (int )cmpt->sgnd;
#line 207
    __cil_tmp19 = jas_image_addcmpt(image, image->numcmpts_, & cmptparm);
    }
#line 207
    if (__cil_tmp19) {
#line 208
      goto error;
    }
    {
#line 210
    data = jas_seq2d_create(0, 0, (int )cmpt->width, (int )cmpt->height);
    }
#line 210
    if (! data) {
#line 211
      goto error;
    }
    {
#line 213
    __cil_tmp21 = jas_image_readcmpt(tmpimage, 0, (jas_image_coord_t )0, (jas_image_coord_t )0,
                                     cmpt->width, cmpt->height, data);
    }
#line 213
    if (__cil_tmp21) {
#line 215
      goto error;
    }
#line 217
    if (cmpt->sgnd) {
#line 218
      bias = 1 << (cmpt->prec - 1L);
#line 219
      y = (int_fast32_t )0;
      {
#line 219
      while (1) {
        while_continue___0: /* CIL Label */ ;

#line 219
        if (! (y < cmpt->height)) {
#line 219
          goto while_break___0;
        }
#line 220
        x = (int_fast32_t )0;
        {
#line 220
        while (1) {
          while_continue___1: /* CIL Label */ ;

#line 220
          if (! (x < cmpt->width)) {
#line 220
            goto while_break___1;
          }
#line 221
          *(*(data->rows_ + (y - data->ystart_)) + (x - data->xstart_)) -= (long )bias;
#line 220
          x ++;
        }
        while_break___4: /* CIL Label */ ;
        }
        while_break___1: 
#line 219
        y ++;
      }
      while_break___3: /* CIL Label */ ;
      }
      while_break___0: ;
    }
    {
#line 225
    __cil_tmp22 = jas_image_writecmpt(image, image->numcmpts_ - 1, (jas_image_coord_t )0,
                                      (jas_image_coord_t )0, cmpt->width, cmpt->height,
                                      data);
    }
#line 225
    if (__cil_tmp22) {
#line 227
      goto error;
    }
    {
#line 229
    jas_matrix_destroy(data);
#line 230
    data = (jas_seq2d_t *)0;
#line 231
    jas_image_destroy(tmpimage);
#line 232
    tmpimage = (jas_image_t *)0;
#line 174
    cmptno ++;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
  {
#line 235
  mif_hdr_destroy(hdr);
#line 236
  hdr = (mif_hdr_t *)0;
  }
#line 237
  return (image);
  error: 
#line 240
  if (image) {
    {
#line 241
    jas_image_destroy(image);
    }
  }
#line 243
  if (hdr) {
    {
#line 244
    mif_hdr_destroy(hdr);
    }
  }
#line 246
  if (tmpstream) {
#line 246
    if ((unsigned long )tmpstream != (unsigned long )in) {
      {
#line 247
      jas_stream_close(tmpstream);
      }
    }
  }
#line 249
  if (tmpimage) {
    {
#line 250
    jas_image_destroy(tmpimage);
    }
  }
#line 252
  if (data) {
    {
#line 253
    jas_matrix_destroy(data);
    }
  }
#line 255
  return ((jas_image_t *)0);
}
}
#line 264 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
int mif_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) 
{ 
  mif_hdr_t *hdr ;
  jas_image_t *tmpimage ;
  int fmt ;
  int cmptno ;
  mif_cmpt_t *cmpt ;
  jas_image_cmptparm_t cmptparm ;
  jas_seq2d_t *data ;
  int_fast32_t x ;
  int_fast32_t y ;
  int bias ;
  int __cil_tmp16 ;
  int __cil_tmp18 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;

  {
#line 277
  hdr = (mif_hdr_t *)0;
#line 278
  tmpimage = (jas_image_t *)0;
#line 279
  data = (jas_seq2d_t *)0;
#line 281
  if (optstr) {
#line 281
    if ((int )*optstr != 0) {
      {
#line 282
      jas_eprintf("warning: ignoring unsupported options\n");
      }
    }
  }
  {
#line 285
  fmt = jas_image_strtofmt((char *)"pnm");
  }
#line 285
  if (fmt < 0) {
    {
#line 286
    jas_eprintf("error: PNM support required\n");
    }
#line 287
    goto error;
  }
  {
#line 290
  hdr = mif_makehdrfromimage(image);
  }
#line 290
  if (! hdr) {
#line 291
    goto error;
  }
  {
#line 293
  __cil_tmp16 = mif_hdr_put(hdr, out);
  }
#line 293
  if (__cil_tmp16) {
#line 294
    goto error;
  }
#line 298
  cmptno = 0;
  {
#line 298
  while (1) {
    while_continue: /* CIL Label */ ;

#line 298
    if (! (cmptno < hdr->numcmpts)) {
#line 298
      goto while_break;
    }
#line 299
    cmpt = *(hdr->cmpts + cmptno);
#line 300
    if (! cmpt->data) {
      {
#line 301
      tmpimage = jas_image_create0();
      }
#line 301
      if (! tmpimage) {
#line 302
        goto error;
      }
      {
#line 304
      cmptparm.tlx = (jas_image_coord_t )0;
#line 305
      cmptparm.tly = (jas_image_coord_t )0;
#line 306
      cmptparm.hstep = cmpt->sampperx;
#line 307
      cmptparm.vstep = cmpt->samppery;
#line 308
      cmptparm.width = cmpt->width;
#line 309
      cmptparm.height = cmpt->height;
#line 310
      cmptparm.prec = (int )cmpt->prec;
#line 311
      cmptparm.sgnd = 0;
#line 312
      __cil_tmp18 = jas_image_addcmpt(tmpimage, tmpimage->numcmpts_, & cmptparm);
      }
#line 312
      if (__cil_tmp18) {
#line 313
        goto error;
      }
      {
#line 315
      data = jas_seq2d_create(0, 0, (int )cmpt->width, (int )cmpt->height);
      }
#line 315
      if (! data) {
#line 316
        goto error;
      }
      {
#line 318
      __cil_tmp20 = jas_image_readcmpt(image, cmptno, (jas_image_coord_t )0, (jas_image_coord_t )0,
                                       cmpt->width, cmpt->height, data);
      }
#line 318
      if (__cil_tmp20) {
#line 320
        goto error;
      }
#line 322
      if (cmpt->sgnd) {
#line 323
        bias = 1 << (cmpt->prec - 1L);
#line 324
        y = (int_fast32_t )0;
        {
#line 324
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 324
          if (! (y < cmpt->height)) {
#line 324
            goto while_break___0;
          }
#line 325
          x = (int_fast32_t )0;
          {
#line 325
          while (1) {
            while_continue___1: /* CIL Label */ ;

#line 325
            if (! (x < cmpt->width)) {
#line 325
              goto while_break___1;
            }
#line 326
            *(*(data->rows_ + (y - data->ystart_)) + (x - data->xstart_)) += (long )bias;
#line 325
            x ++;
          }
          while_break___4: /* CIL Label */ ;
          }
          while_break___1: 
#line 324
          y ++;
        }
        while_break___3: /* CIL Label */ ;
        }
        while_break___0: ;
      }
      {
#line 330
      __cil_tmp21 = jas_image_writecmpt(tmpimage, 0, (jas_image_coord_t )0, (jas_image_coord_t )0,
                                        cmpt->width, cmpt->height, data);
      }
#line 330
      if (__cil_tmp21) {
#line 332
        goto error;
      }
      {
#line 334
      jas_matrix_destroy(data);
#line 335
      data = (jas_seq2d_t *)0;
#line 336
      __cil_tmp22 = jas_image_encode(tmpimage, out, fmt, (char *)0);
      }
#line 336
      if (__cil_tmp22) {
#line 337
        goto error;
      }
      {
#line 339
      jas_image_destroy(tmpimage);
#line 340
      tmpimage = (jas_image_t *)0;
      }
    }
#line 298
    cmptno ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
  {
#line 344
  mif_hdr_destroy(hdr);
  }
#line 346
  return (0);
  error: 
#line 349
  if (hdr) {
    {
#line 350
    mif_hdr_destroy(hdr);
    }
  }
#line 352
  if (tmpimage) {
    {
#line 353
    jas_image_destroy(tmpimage);
    }
  }
#line 355
  if (data) {
    {
#line 356
    jas_matrix_destroy(data);
    }
  }
#line 358
  return (-1);
}
}
#line 365 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
int mif_validate(jas_stream_t *in ) 
{ 
  unsigned char buf[4] ;
  uint_fast32_t magic ;
  int i ;
  int n ;
  int __cil_tmp8 ;

  {
  {
#line 376
  n = jas_stream_read(in, (void *)(buf), 4);
  }
#line 376
  if (n < 0) {
#line 377
    return (-1);
  }
#line 382
  i = n - 1;
  {
#line 382
  while (1) {
    while_continue: /* CIL Label */ ;

#line 382
    if (! (i >= 0)) {
#line 382
      goto while_break;
    }
    {
#line 383
    __cil_tmp8 = jas_stream_ungetc(in, (int )buf[i]);
    }
#line 383
    if (__cil_tmp8 == -1) {
#line 384
      return (-1);
    }
#line 382
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 389
  if (n < 4) {
#line 390
    return (-1);
  }
#line 394
  magic = (uint_fast32_t )(((((int )buf[0] << 24) | ((int )buf[1] << 16)) | ((int )buf[2] << 8)) | (int )buf[3]);
#line 397
  if (magic != 1296647690UL) {
#line 398
    return (-1);
  }
#line 401
  return (0);
}
}
#line 408 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static mif_hdr_t *mif_hdr_create(int maxcmpts ) 
{ 
  mif_hdr_t *hdr ;
  int __cil_tmp4 ;
  void *tmp ;

  {
  {
#line 411
  tmp = jas_malloc(sizeof(mif_hdr_t ));
#line 411
  hdr = (mif_hdr_t *)tmp;
  }
#line 411
  if (! hdr) {
#line 412
    return ((mif_hdr_t *)0);
  }
  {
#line 414
  hdr->numcmpts = 0;
#line 415
  hdr->maxcmpts = 0;
#line 416
  hdr->cmpts = (mif_cmpt_t **)0;
#line 417
  __cil_tmp4 = mif_hdr_growcmpts(hdr, maxcmpts);
  }
#line 417
  if (__cil_tmp4) {
    {
#line 418
    mif_hdr_destroy(hdr);
    }
#line 419
    return ((mif_hdr_t *)0);
  }
#line 421
  return (hdr);
}
}
#line 424 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static void mif_hdr_destroy(mif_hdr_t *hdr ) 
{ 
  int cmptno ;

  {
#line 427
  if (hdr->cmpts) {
#line 428
    cmptno = 0;
    {
#line 428
    while (1) {
      while_continue: /* CIL Label */ ;

#line 428
      if (! (cmptno < hdr->numcmpts)) {
#line 428
        goto while_break;
      }
      {
#line 429
      mif_cmpt_destroy(*(hdr->cmpts + cmptno));
#line 428
      cmptno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 431
    jas_free((void *)hdr->cmpts);
    }
  }
  {
#line 433
  jas_free((void *)hdr);
  }
#line 435
  return;
}
}
#line 436 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static int mif_hdr_growcmpts(mif_hdr_t *hdr , int maxcmpts ) 
{ 
  int cmptno ;
  mif_cmpt_t **newcmpts ;
  void *__cil_tmp6 ;
  void *__cil_tmp7 ;
  void *tmp___0 ;

  {
#line 441
  if (! hdr->cmpts) {
    {
#line 441
    __cil_tmp6 = jas_alloc2((size_t )maxcmpts, sizeof(mif_cmpt_t *));
#line 441
    tmp___0 = __cil_tmp6;
    }
  } else {
    {
#line 441
    __cil_tmp7 = jas_realloc2((void *)hdr->cmpts, (size_t )maxcmpts, sizeof(mif_cmpt_t *));
#line 441
    tmp___0 = __cil_tmp7;
    }
  }
#line 441
  newcmpts = (mif_cmpt_t **)tmp___0;
#line 443
  if (! newcmpts) {
#line 444
    return (-1);
  }
#line 446
  hdr->maxcmpts = maxcmpts;
#line 447
  hdr->cmpts = newcmpts;
#line 448
  cmptno = hdr->numcmpts;
  {
#line 448
  while (1) {
    while_continue: /* CIL Label */ ;

#line 448
    if (! (cmptno < hdr->maxcmpts)) {
#line 448
      goto while_break;
    }
#line 449
    *(hdr->cmpts + cmptno) = (mif_cmpt_t *)0;
#line 448
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 451
  return (0);
}
}
#line 454 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static mif_hdr_t *mif_hdr_get(jas_stream_t *in ) 
{ 
  unsigned char magicbuf[4] ;
  char buf[4096] ;
  mif_hdr_t *hdr ;
  int done ;
  jas_tvparser_t *tvp ;
  int id ;
  int __cil_tmp8 ;
  char *__cil_tmp10 ;
  int __cil_tmp12 ;
  jas_taginfo_t *__cil_tmp15 ;

  {
  {
#line 463
  hdr = (mif_hdr_t *)0;
#line 465
  __cil_tmp8 = jas_stream_read(in, (void *)(magicbuf), 4);
  }
#line 465
  if (__cil_tmp8 != 4) {
#line 466
    goto error;
  }
#line 468
  if ((int )magicbuf[0] != 1296647690 >> 24) {
    {
#line 471
    jas_eprintf("error: bad signature\nV");
    }
#line 472
    goto error;
  } else
#line 468
  if ((int )magicbuf[1] != ((1296647690 >> 16) & 255)) {
    {
#line 471
    jas_eprintf("error: bad signature\nV");
    }
#line 472
    goto error;
  } else
#line 468
  if ((int )magicbuf[2] != ((1296647690 >> 8) & 255)) {
    {
#line 471
    jas_eprintf("error: bad signature\nV");
    }
#line 472
    goto error;
  } else
#line 468
  if ((int )magicbuf[3] != 10) {
    {
#line 471
    jas_eprintf("error: bad signature\nV");
    }
#line 472
    goto error;
  }
  {
#line 475
  hdr = mif_hdr_create(0);
  }
#line 475
  if (! hdr) {
#line 476
    goto error;
  }
#line 479
  done = 0;
  {
#line 480
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: 
    {
#line 481
    __cil_tmp10 = mif_getline(in, buf, (int )sizeof(buf));
    }
#line 481
    if (! __cil_tmp10) {
#line 482
      goto error;
    }
#line 484
    if ((int )buf[0] == 0) {
#line 485
      goto while_continue;
    }
    {
#line 487
    tvp = jas_tvparser_create((char const   *)(buf));
    }
#line 487
    if (! tvp) {
#line 488
      goto error;
    }
    {
#line 490
    __cil_tmp12 = jas_tvparser_next(tvp);
    }
#line 490
    if (__cil_tmp12) {
      {
#line 491
      abort();
      }
    }
    {
#line 493
    id = __cil_tmp15->id;
#line 494
    jas_tvparser_destroy(tvp);
    }
#line 496
    if (id == 1) {
#line 496
      goto case_1;
    }
#line 499
    if (id == 0) {
#line 499
      goto case_0;
    }
#line 495
    goto switch_break;
    case_1: 
    {
#line 497
    mif_process_cmpt(hdr, buf);
    }
#line 498
    goto switch_break;
    case_0: 
#line 500
    done = 1;
#line 501
    goto switch_break;
    switch_break: ;
#line 480
    if (! (! done)) {
#line 480
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 505
  return (hdr);
  error: 
#line 508
  if (hdr) {
    {
#line 509
    mif_hdr_destroy(hdr);
    }
  }
#line 511
  return ((mif_hdr_t *)0);
}
}
#line 514 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static int mif_process_cmpt(mif_hdr_t *hdr , char *buf ) 
{ 
  jas_tvparser_t *tvp ;
  mif_cmpt_t *cmpt ;
  int id ;
  jas_taginfo_t *__cil_tmp11 ;
  char *__cil_tmp12 ;
  int __cil_tmp13 ;
  char *__cil_tmp14 ;
  int __cil_tmp15 ;
  char *__cil_tmp16 ;
  int __cil_tmp17 ;
  char *__cil_tmp18 ;
  int __cil_tmp19 ;
  char *__cil_tmp20 ;
  int __cil_tmp21 ;
  char *__cil_tmp22 ;
  int __cil_tmp23 ;
  char *__cil_tmp24 ;
  int __cil_tmp25 ;
  char *__cil_tmp26 ;
  int __cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  int __cil_tmp30 ;

  {
  {
#line 520
  cmpt = (mif_cmpt_t *)0;
#line 521
  tvp = (jas_tvparser_t *)0;
#line 523
  cmpt = mif_cmpt_create();
  }
#line 523
  if (! cmpt) {
#line 524
    goto error;
  }
  {
#line 526
  cmpt->tlx = (int_fast32_t )0;
#line 527
  cmpt->tly = (int_fast32_t )0;
#line 528
  cmpt->sampperx = (int_fast32_t )0;
#line 529
  cmpt->samppery = (int_fast32_t )0;
#line 530
  cmpt->width = (int_fast32_t )0;
#line 531
  cmpt->height = (int_fast32_t )0;
#line 532
  cmpt->prec = (int_fast16_t )0;
#line 533
  cmpt->sgnd = (int_fast16_t )-1;
#line 534
  cmpt->data = (char *)0;
#line 536
  tvp = jas_tvparser_create((char const   *)buf);
  }
#line 536
  if (! tvp) {
#line 537
    goto error;
  }
  {
#line 539
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 539
    id = jas_tvparser_next(tvp);
    }
#line 539
    if (! (! id)) {
#line 539
      goto while_break;
    }
#line 542
    if (__cil_tmp11->id == 0) {
#line 542
      goto case_0;
    }
#line 545
    if (__cil_tmp11->id == 1) {
#line 545
      goto case_1;
    }
#line 548
    if (__cil_tmp11->id == 2) {
#line 548
      goto case_2;
    }
#line 551
    if (__cil_tmp11->id == 3) {
#line 551
      goto case_3;
    }
#line 554
    if (__cil_tmp11->id == 4) {
#line 554
      goto case_4;
    }
#line 557
    if (__cil_tmp11->id == 5) {
#line 557
      goto case_5;
    }
#line 560
    if (__cil_tmp11->id == 6) {
#line 560
      goto case_6;
    }
#line 563
    if (__cil_tmp11->id == 7) {
#line 563
      goto case_7;
    }
#line 566
    if (__cil_tmp11->id == 8) {
#line 566
      goto case_8;
    }
#line 540
    goto switch_break;
    case_0: 
    {
#line 543
    __cil_tmp12 = jas_tvparser_getval(tvp);
#line 543
    __cil_tmp13 = atoi((char const   *)__cil_tmp12);
#line 543
    cmpt->tlx = (int_fast32_t )__cil_tmp13;
    }
#line 544
    goto switch_break;
    case_1: 
    {
#line 546
    __cil_tmp14 = jas_tvparser_getval(tvp);
#line 546
    __cil_tmp15 = atoi((char const   *)__cil_tmp14);
#line 546
    cmpt->tly = (int_fast32_t )__cil_tmp15;
    }
#line 547
    goto switch_break;
    case_2: 
    {
#line 549
    __cil_tmp16 = jas_tvparser_getval(tvp);
#line 549
    __cil_tmp17 = atoi((char const   *)__cil_tmp16);
#line 549
    cmpt->width = (int_fast32_t )__cil_tmp17;
    }
#line 550
    goto switch_break;
    case_3: 
    {
#line 552
    __cil_tmp18 = jas_tvparser_getval(tvp);
#line 552
    __cil_tmp19 = atoi((char const   *)__cil_tmp18);
#line 552
    cmpt->height = (int_fast32_t )__cil_tmp19;
    }
#line 553
    goto switch_break;
    case_4: 
    {
#line 555
    __cil_tmp20 = jas_tvparser_getval(tvp);
#line 555
    __cil_tmp21 = atoi((char const   *)__cil_tmp20);
#line 555
    cmpt->sampperx = (int_fast32_t )__cil_tmp21;
    }
#line 556
    goto switch_break;
    case_5: 
    {
#line 558
    __cil_tmp22 = jas_tvparser_getval(tvp);
#line 558
    __cil_tmp23 = atoi((char const   *)__cil_tmp22);
#line 558
    cmpt->samppery = (int_fast32_t )__cil_tmp23;
    }
#line 559
    goto switch_break;
    case_6: 
    {
#line 561
    __cil_tmp24 = jas_tvparser_getval(tvp);
#line 561
    __cil_tmp25 = atoi((char const   *)__cil_tmp24);
#line 561
    cmpt->prec = (int_fast16_t )__cil_tmp25;
    }
#line 562
    goto switch_break;
    case_7: 
    {
#line 564
    __cil_tmp26 = jas_tvparser_getval(tvp);
#line 564
    __cil_tmp27 = atoi((char const   *)__cil_tmp26);
#line 564
    cmpt->sgnd = (int_fast16_t )__cil_tmp27;
    }
#line 565
    goto switch_break;
    case_8: 
    {
#line 567
    __cil_tmp28 = jas_tvparser_getval(tvp);
#line 567
    __cil_tmp29 = jas_strdup((char const   *)__cil_tmp28);
#line 567
    cmpt->data = __cil_tmp29;
    }
#line 567
    if (! cmpt->data) {
#line 568
      return (-1);
    }
#line 570
    goto switch_break;
    switch_break: ;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 573
  if (! cmpt->sampperx) {
#line 574
    goto error;
  } else
#line 573
  if (! cmpt->samppery) {
#line 574
    goto error;
  }
  {
#line 576
  __cil_tmp30 = mif_hdr_addcmpt(hdr, hdr->numcmpts, cmpt);
  }
#line 576
  if (__cil_tmp30) {
#line 577
    goto error;
  }
  {
#line 579
  jas_tvparser_destroy(tvp);
  }
#line 580
  return (0);
  error: 
#line 583
  if (cmpt) {
    {
#line 584
    mif_cmpt_destroy(cmpt);
    }
  }
#line 586
  if (tvp) {
    {
#line 587
    jas_tvparser_destroy(tvp);
    }
  }
#line 589
  return (-1);
}
}
#line 592 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static int mif_hdr_put(mif_hdr_t *hdr , jas_stream_t *out ) 
{ 
  int cmptno ;
  mif_cmpt_t *cmpt ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp20 ;
  unsigned char *__cil_tmp21 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;

  {
#line 598
  if (! (out->flags_ & 7)) {
#line 598
    if (out->rwlimit_ >= 0L) {
#line 598
      if (out->rwcnt_ >= out->rwlimit_) {
#line 598
        out->flags_ |= 4;
#line 598
        tmp___0 = -1;
      } else {
#line 598
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 598
      (out->cnt_) --;
#line 598
      out->bufmode_ |= 32;
#line 598
      if (out->cnt_ < 0) {
        {
#line 598
        __cil_tmp5 = jas_stream_flushbuf(out, (int )((unsigned char )((1296647690 >> 24) & 255)));
#line 598
        tmp = __cil_tmp5;
        }
      } else {
#line 598
        __cil_tmp6 = out->ptr_;
#line 598
        (out->ptr_) ++;
#line 598
        *__cil_tmp6 = (unsigned char )((1296647690 >> 24) & 255);
#line 598
        (out->rwcnt_) ++;
#line 598
        tmp = (int )*__cil_tmp6;
      }
#line 598
      tmp___0 = tmp;
    }
#line 598
    tmp___1 = tmp___0;
  } else {
#line 598
    tmp___1 = -1;
  }
#line 599
  if (! (out->flags_ & 7)) {
#line 599
    if (out->rwlimit_ >= 0L) {
#line 599
      if (out->rwcnt_ >= out->rwlimit_) {
#line 599
        out->flags_ |= 4;
#line 599
        tmp___3 = -1;
      } else {
#line 599
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
#line 599
      (out->cnt_) --;
#line 599
      out->bufmode_ |= 32;
#line 599
      if (out->cnt_ < 0) {
        {
#line 599
        __cil_tmp10 = jas_stream_flushbuf(out, (int )((unsigned char )((1296647690 >> 16) & 255)));
#line 599
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 599
        __cil_tmp11 = out->ptr_;
#line 599
        (out->ptr_) ++;
#line 599
        *__cil_tmp11 = (unsigned char )((1296647690 >> 16) & 255);
#line 599
        (out->rwcnt_) ++;
#line 599
        tmp___2 = (int )*__cil_tmp11;
      }
#line 599
      tmp___3 = tmp___2;
    }
#line 599
    tmp___4 = tmp___3;
  } else {
#line 599
    tmp___4 = -1;
  }
#line 600
  if (! (out->flags_ & 7)) {
#line 600
    if (out->rwlimit_ >= 0L) {
#line 600
      if (out->rwcnt_ >= out->rwlimit_) {
#line 600
        out->flags_ |= 4;
#line 600
        tmp___6 = -1;
      } else {
#line 600
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ 
#line 600
      (out->cnt_) --;
#line 600
      out->bufmode_ |= 32;
#line 600
      if (out->cnt_ < 0) {
        {
#line 600
        __cil_tmp15 = jas_stream_flushbuf(out, (int )((unsigned char )((1296647690 >> 8) & 255)));
#line 600
        tmp___5 = __cil_tmp15;
        }
      } else {
#line 600
        __cil_tmp16 = out->ptr_;
#line 600
        (out->ptr_) ++;
#line 600
        *__cil_tmp16 = (unsigned char )((1296647690 >> 8) & 255);
#line 600
        (out->rwcnt_) ++;
#line 600
        tmp___5 = (int )*__cil_tmp16;
      }
#line 600
      tmp___6 = tmp___5;
    }
#line 600
    tmp___7 = tmp___6;
  } else {
#line 600
    tmp___7 = -1;
  }
#line 601
  if (! (out->flags_ & 7)) {
#line 601
    if (out->rwlimit_ >= 0L) {
#line 601
      if (out->rwcnt_ >= out->rwlimit_) {
#line 601
        out->flags_ |= 4;
#line 601
        tmp___9 = -1;
      } else {
#line 601
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 601
      (out->cnt_) --;
#line 601
      out->bufmode_ |= 32;
#line 601
      if (out->cnt_ < 0) {
        {
#line 601
        __cil_tmp20 = jas_stream_flushbuf(out, 10);
#line 601
        tmp___8 = __cil_tmp20;
        }
      } else {
#line 601
        __cil_tmp21 = out->ptr_;
#line 601
        (out->ptr_) ++;
#line 601
        *__cil_tmp21 = (unsigned char)10;
#line 601
        (out->rwcnt_) ++;
#line 601
        tmp___8 = (int )*__cil_tmp21;
      }
#line 601
      tmp___9 = tmp___8;
    }
#line 601
    tmp___10 = tmp___9;
  } else {
#line 601
    tmp___10 = -1;
  }
#line 604
  cmptno = 0;
  {
#line 604
  while (1) {
    while_continue: /* CIL Label */ ;

#line 604
    if (! (cmptno < hdr->numcmpts)) {
#line 604
      goto while_break;
    }
    {
#line 605
    cmpt = *(hdr->cmpts + cmptno);
#line 606
    jas_stream_printf(out, "component tlx=%ld tly=%ld sampperx=%ld samppery=%ld width=%ld height=%ld prec=%d sgnd=%dPV",
                      cmpt->tlx, cmpt->tly, cmpt->sampperx, cmpt->samppery, cmpt->width,
                      cmpt->height, cmpt->prec, cmpt->sgnd);
    }
#line 610
    if (cmpt->data) {
      {
#line 611
      jas_stream_printf(out, " data=%s\230\001", cmpt->data);
      }
    }
    {
#line 613
    jas_stream_printf(out, "\n");
#line 604
    cmptno ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 617
  jas_stream_printf(out, "end\n");
  }
#line 619
  return (0);
}
}
#line 622 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static int mif_hdr_addcmpt(mif_hdr_t *hdr , int cmptno , mif_cmpt_t *cmpt ) 
{ 
  int __cil_tmp5 ;

  {
#line 625
  if (hdr->numcmpts >= hdr->maxcmpts) {
    {
#line 626
    __cil_tmp5 = mif_hdr_growcmpts(hdr, hdr->numcmpts + 128);
    }
#line 626
    if (__cil_tmp5) {
#line 627
      return (-1);
    }
  }
#line 630
  *(hdr->cmpts + hdr->numcmpts) = cmpt;
#line 631
  (hdr->numcmpts) ++;
#line 632
  return (0);
}
}
#line 639 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static mif_cmpt_t *mif_cmpt_create(void) 
{ 
  mif_cmpt_t *cmpt ;
  void *tmp ;

  {
  {
#line 642
  tmp = jas_malloc(sizeof(mif_cmpt_t ));
#line 642
  cmpt = (mif_cmpt_t *)tmp;
  }
#line 642
  if (! cmpt) {
#line 643
    return ((mif_cmpt_t *)0);
  }
  {
#line 645
  memset((void *)cmpt, 0, sizeof(mif_cmpt_t ));
  }
#line 646
  return (cmpt);
}
}
#line 649 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static void mif_cmpt_destroy(mif_cmpt_t *cmpt ) 
{ 


  {
#line 651
  if (cmpt->data) {
    {
#line 652
    jas_free((void *)cmpt->data);
    }
  }
  {
#line 654
  jas_free((void *)cmpt);
  }
#line 656
  return;
}
}
#line 661 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static char *mif_getline(jas_stream_t *stream , char *buf , int bufsize ) 
{ 
  int c ;
  char *bufptr ;
  char *__cil_tmp8 ;

  {
#line 667
  bufptr = buf;
  {
#line 668
  while (1) {
    while_continue: /* CIL Label */ ;

#line 668
    if (! (bufsize > 1)) {
#line 668
      goto while_break;
    }
    {
#line 669
    c = mif_getc(stream);
    }
#line 669
    if (c == -1) {
#line 670
      goto while_break;
    }
#line 672
    __cil_tmp8 = bufptr;
#line 672
    bufptr ++;
#line 672
    *__cil_tmp8 = (char )c;
#line 673
    bufsize --;
#line 674
    if (c == 10) {
#line 675
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 678
  *bufptr = (char )'\000';
#line 679
  bufptr = strchr((char const   *)buf, '\n');
  }
#line 679
  if (! bufptr) {
#line 680
    return ((char *)0);
  }
#line 682
  *bufptr = (char )'\000';
#line 683
  return (buf);
}
}
#line 686 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static int mif_getc(jas_stream_t *in ) 
{ 
  int c ;
  int done ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp14 ;
  int tmp___5 ;
  int __cil_tmp16 ;
  unsigned char *__cil_tmp17 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;

  {
#line 691
  done = 0;
  {
#line 692
  while (1) {
    while_continue: /* CIL Label */ ;

#line 693
    if (! (in->flags_ & 7)) {
#line 693
      if (in->rwlimit_ >= 0L) {
#line 693
        if (in->rwcnt_ >= in->rwlimit_) {
#line 693
          in->flags_ |= 4;
#line 693
          tmp___0 = -1;
        } else {
#line 693
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 693
        (in->cnt_) --;
#line 693
        if (in->cnt_ < 0) {
          {
#line 693
          __cil_tmp4 = jas_stream_fillbuf(in, 1);
#line 693
          tmp = __cil_tmp4;
          }
        } else {
#line 693
          __cil_tmp5 = in->ptr_;
#line 693
          (in->ptr_) ++;
#line 693
          (in->rwcnt_) ++;
#line 693
          tmp = (int )*__cil_tmp5;
        }
#line 693
        tmp___0 = tmp;
      }
#line 693
      tmp___1 = tmp___0;
    } else {
#line 693
      tmp___1 = -1;
    }
#line 693
    c = tmp___1;
#line 694
    if (c == -1) {
#line 694
      goto case_exp;
    }
#line 697
    if (c == 35) {
#line 697
      goto case_35;
    }
#line 708
    if (c == 92) {
#line 708
      goto case_92;
    }
#line 713
    goto switch_default;
    case_exp: 
#line 695
    done = 1;
#line 696
    goto switch_break;
    case_35: 
    {
#line 698
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 699
      if (! (in->flags_ & 7)) {
#line 699
        if (in->rwlimit_ >= 0L) {
#line 699
          if (in->rwcnt_ >= in->rwlimit_) {
#line 699
            in->flags_ |= 4;
#line 699
            tmp___3 = -1;
          } else {
#line 699
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ 
#line 699
          (in->cnt_) --;
#line 699
          if (in->cnt_ < 0) {
            {
#line 699
            __cil_tmp9 = jas_stream_fillbuf(in, 1);
#line 699
            tmp___2 = __cil_tmp9;
            }
          } else {
#line 699
            __cil_tmp10 = in->ptr_;
#line 699
            (in->ptr_) ++;
#line 699
            (in->rwcnt_) ++;
#line 699
            tmp___2 = (int )*__cil_tmp10;
          }
#line 699
          tmp___3 = tmp___2;
        }
#line 699
        tmp___4 = tmp___3;
      } else {
#line 699
        tmp___4 = -1;
      }
#line 699
      c = tmp___4;
#line 699
      if (c == -1) {
#line 700
        done = 1;
#line 701
        goto while_break___0;
      }
#line 703
      if (c == 10) {
#line 704
        goto while_break___0;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
#line 707
    goto switch_break;
    case_92: 
#line 709
    if (in->cnt_ <= 0) {
      {
#line 709
      __cil_tmp14 = jas_stream_fillbuf(in, 0);
#line 709
      tmp___5 = __cil_tmp14;
      }
    } else {
#line 709
      tmp___5 = (int )*(in->ptr_);
    }
#line 709
    if (tmp___5 == 10) {
#line 710
      if (! (in->flags_ & 7)) {
#line 710
        if (in->rwlimit_ >= 0L) {
#line 710
          if (in->rwcnt_ >= in->rwlimit_) {
#line 710
            in->flags_ |= 4;
#line 710
            tmp___7 = -1;
          } else {
#line 710
            goto _L___2;
          }
        } else {
          _L___2: /* CIL Label */ 
#line 710
          (in->cnt_) --;
#line 710
          if (in->cnt_ < 0) {
            {
#line 710
            __cil_tmp16 = jas_stream_fillbuf(in, 1);
#line 710
            tmp___6 = __cil_tmp16;
            }
          } else {
#line 710
            __cil_tmp17 = in->ptr_;
#line 710
            (in->ptr_) ++;
#line 710
            (in->rwcnt_) ++;
#line 710
            tmp___6 = (int )*__cil_tmp17;
          }
#line 710
          tmp___7 = tmp___6;
        }
#line 710
        tmp___8 = tmp___7;
      } else {
#line 710
        tmp___8 = -1;
      }
    }
#line 712
    goto switch_break;
    switch_default: 
#line 714
    done = 1;
#line 715
    goto switch_break;
    switch_break: ;
#line 692
    if (! (! done)) {
#line 692
      goto while_break;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 719
  return (c);
}
}
#line 726 "/root/patron-new/new_2/src/libjasper/mif/mif_cod.c"
static mif_hdr_t *mif_makehdrfromimage(jas_image_t *image ) 
{ 
  mif_hdr_t *hdr ;
  int cmptno ;
  mif_cmpt_t *cmpt ;
  void *tmp ;

  {
  {
#line 732
  hdr = mif_hdr_create(image->numcmpts_);
  }
#line 732
  if (! hdr) {
#line 733
    return ((mif_hdr_t *)0);
  }
#line 735
  hdr->magic = (uint_fast32_t )1296647690;
#line 736
  hdr->numcmpts = image->numcmpts_;
#line 737
  cmptno = 0;
  {
#line 737
  while (1) {
    while_continue: /* CIL Label */ ;

#line 737
    if (! (cmptno < hdr->numcmpts)) {
#line 737
      goto while_break;
    }
    {
#line 738
    tmp = jas_malloc(sizeof(mif_cmpt_t ));
#line 738
    *(hdr->cmpts + cmptno) = (mif_cmpt_t *)tmp;
#line 739
    cmpt = *(hdr->cmpts + cmptno);
#line 740
    cmpt->tlx = (*(image->cmpts_ + cmptno))->tlx_;
#line 741
    cmpt->tly = (*(image->cmpts_ + cmptno))->tly_;
#line 742
    cmpt->width = (*(image->cmpts_ + cmptno))->width_;
#line 743
    cmpt->height = (*(image->cmpts_ + cmptno))->height_;
#line 744
    cmpt->sampperx = (*(image->cmpts_ + cmptno))->hstep_;
#line 745
    cmpt->samppery = (*(image->cmpts_ + cmptno))->vstep_;
#line 746
    cmpt->prec = (int_fast16_t )(*(image->cmpts_ + cmptno))->prec_;
#line 747
    cmpt->sgnd = (int_fast16_t )(*(image->cmpts_ + cmptno))->sgnd_;
#line 748
    cmpt->data = (char *)0;
#line 737
    cmptno ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 750
  return (hdr);
}
}
#line 78 "/root/patron-new/new_2/src/libjasper/jpg/jpg_val.c"
int jpg_validate(jas_stream_t *in ) 
{ 
  unsigned char buf[2] ;
  int i ;
  int n ;
  int __cil_tmp7 ;

  {
  {
#line 88
  n = jas_stream_read(in, (void *)(buf), 2);
  }
#line 88
  if (n < 0) {
#line 89
    return (-1);
  }
#line 94
  i = n - 1;
  {
#line 94
  while (1) {
    while_continue: /* CIL Label */ ;

#line 94
    if (! (i >= 0)) {
#line 94
      goto while_break;
    }
    {
#line 95
    __cil_tmp7 = jas_stream_ungetc(in, (int )buf[i]);
    }
#line 95
    if (__cil_tmp7 == -1) {
#line 96
      return (-1);
    }
#line 94
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 101
  if (n < 2) {
#line 102
    return (-1);
  }
#line 106
  if ((int )buf[0] != 65496 >> 8) {
#line 107
    return (-1);
  } else
#line 106
  if ((int )buf[1] != 216) {
#line 107
    return (-1);
  }
#line 110
  return (0);
}
}
#line 891 "/usr/include/jpeglib.h"
extern struct jpeg_error_mgr *jpeg_std_error(struct jpeg_error_mgr *err ) ;
#line 906
extern void jpeg_CreateCompress(j_compress_ptr cinfo , int version , size_t structsize ) ;
#line 908
extern void jpeg_CreateDecompress(j_decompress_ptr cinfo , int version , size_t structsize ) ;
#line 911
extern void jpeg_destroy_compress(j_compress_ptr cinfo ) ;
#line 912
extern void jpeg_destroy_decompress(j_decompress_ptr cinfo ) ;
#line 916
extern void jpeg_stdio_dest(j_compress_ptr cinfo , FILE *outfile ) ;
#line 917
extern void jpeg_stdio_src(j_decompress_ptr cinfo , FILE *infile ) ;
#line 928
extern void jpeg_set_defaults(j_compress_ptr cinfo ) ;
#line 932
extern void jpeg_default_colorspace(j_compress_ptr cinfo ) ;
#line 933
extern void jpeg_set_quality(j_compress_ptr cinfo , int quality , boolean force_baseline ) ;
#line 951
extern void jpeg_start_compress(j_compress_ptr cinfo , boolean write_all_tables ) ;
#line 953
extern JDIMENSION jpeg_write_scanlines(j_compress_ptr cinfo , JSAMPARRAY scanlines ,
                                       JDIMENSION num_lines ) ;
#line 956
extern void jpeg_finish_compress(j_compress_ptr cinfo ) ;
#line 985
extern int jpeg_read_header(j_decompress_ptr cinfo , boolean require_image ) ;
#line 997
extern boolean jpeg_start_decompress(j_decompress_ptr cinfo ) ;
#line 998
extern JDIMENSION jpeg_read_scanlines(j_decompress_ptr cinfo , JSAMPARRAY scanlines ,
                                      JDIMENSION max_lines ) ;
#line 1005
extern boolean jpeg_finish_decompress(j_decompress_ptr cinfo ) ;
#line 116 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
jas_taginfo_t jpg_opttab[2]  = {      {0, (char *)"quality"}, 
        {-1, (char *)0}};
#line 125
static int jpg_copyfiletostream(jas_stream_t *out , FILE *in ) ;
#line 126
static void jpg_start_input(j_compress_ptr cinfo , struct jpg_src_s *sinfo ) ;
#line 127
static JDIMENSION jpg_get_pixel_rows(j_compress_ptr cinfo , struct jpg_src_s *sinfo ) ;
#line 128
static void jpg_finish_input(j_compress_ptr cinfo , struct jpg_src_s *sinfo ) ;
#line 129
static J_COLOR_SPACE tojpgcs(int colorspace ) ;
#line 130
static int jpg_parseencopts(char *optstr , jpg_encopts_t *encopts___0 ) ;
#line 136 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
static int jpg_copyfiletostream(jas_stream_t *out , FILE *in ) 
{ 
  int c ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 139
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 139
    c = fgetc(in);
    }
#line 139
    if (! (c != -1)) {
#line 139
      goto while_break;
    }
#line 140
    if (! (out->flags_ & 7)) {
#line 140
      if (out->rwlimit_ >= 0L) {
#line 140
        if (out->rwcnt_ >= out->rwlimit_) {
#line 140
          out->flags_ |= 4;
#line 140
          tmp___0 = -1;
        } else {
#line 140
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 140
        (out->cnt_) --;
#line 140
        out->bufmode_ |= 32;
#line 140
        if (out->cnt_ < 0) {
          {
#line 140
          __cil_tmp5 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 140
          tmp = __cil_tmp5;
          }
        } else {
#line 140
          __cil_tmp6 = out->ptr_;
#line 140
          (out->ptr_) ++;
#line 140
          *__cil_tmp6 = (unsigned char )c;
#line 140
          (out->rwcnt_) ++;
#line 140
          tmp = (int )*__cil_tmp6;
        }
#line 140
        tmp___0 = tmp;
      }
#line 140
      tmp___1 = tmp___0;
    } else {
#line 140
      tmp___1 = -1;
    }
#line 140
    if (tmp___1 == -1) {
#line 141
      return (-1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 144
  return (0);
}
}
#line 147 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
static void jpg_start_input(j_compress_ptr cinfo , struct jpg_src_s *sinfo ) 
{ 


  {
#line 150
  cinfo = (j_compress_ptr )0;
#line 152
  sinfo->row = (JDIMENSION )0;
#line 153
  return;
}
}
#line 155 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
static JDIMENSION jpg_get_pixel_rows(j_compress_ptr cinfo , struct jpg_src_s *sinfo ) 
{ 
  JSAMPLE *bufptr ;
  int i ;
  int cmptno ;
  int width ;
  int *cmpts ;
  int __cil_tmp8 ;

  {
#line 163
  cmpts = (sinfo->enc)->cmpts;
#line 165
  width = (int )((sinfo->image)->brx_ - (sinfo->image)->tlx_);
#line 167
  if (sinfo->error) {
#line 168
    return ((JDIMENSION )0);
  }
#line 170
  cmptno = 0;
  {
#line 170
  while (1) {
    while_continue: /* CIL Label */ ;

#line 170
    if (! (cmptno < cinfo->input_components)) {
#line 170
      goto while_break;
    }
    {
#line 171
    __cil_tmp8 = jas_image_readcmpt(sinfo->image, *(cmpts + cmptno), (jas_image_coord_t )0,
                                    (jas_image_coord_t )sinfo->row, (jas_image_coord_t )width,
                                    (jas_image_coord_t )1, sinfo->data);
#line 174
    bufptr = *(sinfo->buffer + 0) + cmptno;
#line 175
    i = 0;
    }
    {
#line 175
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 175
      if (! (i < width)) {
#line 175
        goto while_break___0;
      }
#line 176
      *bufptr = (JSAMPLE )*(*((sinfo->data)->rows_ + 0) + i);
#line 177
      bufptr += cinfo->input_components;
#line 175
      i ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 170
    cmptno ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 180
  (sinfo->row) ++;
#line 181
  return ((JDIMENSION )1);
}
}
#line 184 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
static void jpg_finish_input(j_compress_ptr cinfo , struct jpg_src_s *sinfo ) 
{ 


  {
#line 187
  cinfo = (j_compress_ptr )0;
#line 188
  sinfo = (struct jpg_src_s *)0;
#line 189
  return;
}
}
#line 197 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
int jpg_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) 
{ 
  JDIMENSION numscanlines ;
  struct jpeg_compress_struct cinfo ;
  struct jpeg_error_mgr jerr ;
  jas_image_coord_t width ;
  jas_image_coord_t height ;
  jpg_src_t src_mgr_buf ;
  jpg_src_t *src_mgr ;
  FILE *output_file ;
  int cmptno ;
  jpg_enc_t encbuf ;
  jpg_enc_t *enc ;
  jpg_encopts_t encopts___0 ;
  int __cil_tmp16 ;

  {
  {
#line 205
  src_mgr = & src_mgr_buf;
#line 209
  enc = & encbuf;
#line 212
  output_file = (FILE *)0;
#line 214
  __cil_tmp16 = jpg_parseencopts(optstr, & encopts___0);
  }
#line 214
  if (__cil_tmp16) {
#line 215
    goto error;
  }
#line 218
  if (image->clrspc_ >> 8 == 4) {
#line 218
    goto case_4;
  }
#line 232
  if (image->clrspc_ >> 8 == 5) {
#line 232
    goto case_5;
  }
#line 246
  if (image->clrspc_ >> 8 == 3) {
#line 246
    goto case_3;
  }
#line 256
  goto switch_default;
  case_4: 
#line 219
  if (image->clrspc_ != ((4 << 8) | 1)) {
    {
#line 220
    jas_eprintf("warning: inaccurate color\n");
    }
  }
  {
#line 221
  enc->numcmpts = 3;
#line 222
  enc->cmpts[2] = jas_image_getcmptbytype(image, 2);
#line 222
  enc->cmpts[1] = jas_image_getcmptbytype(image, 1);
#line 222
  enc->cmpts[0] = jas_image_getcmptbytype(image, 0);
  }
#line 222
  if (enc->cmpts[0] < 0) {
    {
#line 228
    jas_eprintf("error: missing color component\n");
    }
#line 229
    goto error;
  } else
#line 222
  if (enc->cmpts[1] < 0) {
    {
#line 228
    jas_eprintf("error: missing color component\n");
    }
#line 229
    goto error;
  } else
#line 222
  if (enc->cmpts[2] < 0) {
    {
#line 228
    jas_eprintf("error: missing color component\n");
    }
#line 229
    goto error;
  }
#line 231
  goto switch_break;
  case_5: 
#line 233
  if (image->clrspc_ != ((5 << 8) | 1)) {
    {
#line 234
    jas_eprintf("warning: inaccurate color\n");
    }
  }
  {
#line 235
  enc->numcmpts = 3;
#line 236
  enc->cmpts[2] = jas_image_getcmptbytype(image, 2);
#line 236
  enc->cmpts[1] = jas_image_getcmptbytype(image, 1);
#line 236
  enc->cmpts[0] = jas_image_getcmptbytype(image, 0);
  }
#line 236
  if (enc->cmpts[0] < 0) {
    {
#line 242
    jas_eprintf("error: missing color component\n");
    }
#line 243
    goto error;
  } else
#line 236
  if (enc->cmpts[1] < 0) {
    {
#line 242
    jas_eprintf("error: missing color component\n");
    }
#line 243
    goto error;
  } else
#line 236
  if (enc->cmpts[2] < 0) {
    {
#line 242
    jas_eprintf("error: missing color component\n");
    }
#line 243
    goto error;
  }
#line 245
  goto switch_break;
  case_3: 
#line 247
  if (image->clrspc_ != ((3 << 8) | 1)) {
    {
#line 248
    jas_eprintf("warning: inaccurate color\n");
    }
  }
  {
#line 249
  enc->numcmpts = 1;
#line 250
  enc->cmpts[0] = jas_image_getcmptbytype(image, 0);
  }
#line 250
  if (enc->cmpts[0] < 0) {
    {
#line 252
    jas_eprintf("error: missing color component\n");
    }
#line 253
    goto error;
  }
#line 255
  goto switch_break;
  switch_default: 
  {
#line 257
  jas_eprintf("error: JPG format does not support color space\n");
  }
#line 258
  goto error;
#line 259
  goto switch_break;
  switch_break: 
#line 262
  width = image->brx_ - image->tlx_;
#line 263
  height = image->bry_ - image->tly_;
#line 265
  cmptno = 0;
  {
#line 265
  while (1) {
    while_continue: /* CIL Label */ ;

#line 265
    if (! (cmptno < enc->numcmpts)) {
#line 265
      goto while_break;
    }
#line 266
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->width_ != width) {
      {
#line 274
      jas_eprintf("error: The JPG encoder cannot handle an image with this geometry.\n");
      }
#line 275
      goto error;
    } else
#line 266
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->height_ != height) {
      {
#line 274
      jas_eprintf("error: The JPG encoder cannot handle an image with this geometry.\n");
      }
#line 275
      goto error;
    } else
#line 266
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->tlx_ != 0L) {
      {
#line 274
      jas_eprintf("error: The JPG encoder cannot handle an image with this geometry.\n");
      }
#line 275
      goto error;
    } else
#line 266
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->tly_ != 0L) {
      {
#line 274
      jas_eprintf("error: The JPG encoder cannot handle an image with this geometry.\n");
      }
#line 275
      goto error;
    } else
#line 266
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->hstep_ != 1L) {
      {
#line 274
      jas_eprintf("error: The JPG encoder cannot handle an image with this geometry.\n");
      }
#line 275
      goto error;
    } else
#line 266
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->vstep_ != 1L) {
      {
#line 274
      jas_eprintf("error: The JPG encoder cannot handle an image with this geometry.\n");
      }
#line 275
      goto error;
    } else
#line 266
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->prec_ != 8) {
      {
#line 274
      jas_eprintf("error: The JPG encoder cannot handle an image with this geometry.\n");
      }
#line 275
      goto error;
    } else
#line 266
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->sgnd_ != 0) {
      {
#line 274
      jas_eprintf("error: The JPG encoder cannot handle an image with this geometry.\n");
      }
#line 275
      goto error;
    }
#line 265
    cmptno ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 279
  output_file = tmpfile();
  }
#line 279
  if (! output_file) {
#line 280
    goto error;
  }
  {
#line 284
  cinfo.err = jpeg_std_error(& jerr);
#line 285
  jpeg_CreateCompress(& cinfo, 80, sizeof(struct jpeg_compress_struct ));
#line 288
  jpeg_stdio_dest(& cinfo, output_file);
#line 290
  cinfo.in_color_space = tojpgcs(image->clrspc_);
#line 291
  cinfo.image_width = (JDIMENSION )width;
#line 292
  cinfo.image_height = (JDIMENSION )height;
#line 293
  cinfo.input_components = enc->numcmpts;
#line 294
  jpeg_set_defaults(& cinfo);
#line 296
  src_mgr->error = 0;
#line 297
  src_mgr->image = image;
#line 298
  src_mgr->data = jas_matrix_create(1, (int )width);
#line 300
  src_mgr->buffer = (*((cinfo.mem)->alloc_sarray))((j_common_ptr )(& cinfo), 1, (JDIMENSION )width * (unsigned int )cinfo.input_components,
                                                   (JDIMENSION )1);
#line 303
  src_mgr->buffer_height = (JDIMENSION )1;
#line 304
  src_mgr->enc = enc;
#line 307
  jpg_start_input(& cinfo, src_mgr);
  }
#line 309
  if (encopts___0.qual >= 0) {
    {
#line 310
    jpeg_set_quality(& cinfo, encopts___0.qual, 1);
    }
  }
  {
#line 314
  jpeg_default_colorspace(& cinfo);
#line 317
  jpeg_start_compress(& cinfo, 1);
  }
  {
#line 320
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 320
    if (! (cinfo.next_scanline < cinfo.image_height)) {
#line 320
      goto while_break___0;
    }
    {
#line 321
    numscanlines = jpg_get_pixel_rows(& cinfo, src_mgr);
    }
#line 321
    if (numscanlines <= 0U) {
#line 322
      goto while_break___0;
    }
    {
#line 324
    jpeg_write_scanlines(& cinfo, src_mgr->buffer, numscanlines);
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 328
  jpg_finish_input(& cinfo, src_mgr);
#line 329
  jpeg_finish_compress(& cinfo);
#line 330
  jpeg_destroy_compress(& cinfo);
#line 331
  jas_matrix_destroy(src_mgr->data);
#line 333
  rewind(output_file);
#line 334
  jpg_copyfiletostream(out, output_file);
#line 335
  fclose(output_file);
#line 336
  output_file = (FILE *)0;
  }
#line 338
  return (0);
  error: 
#line 341
  if (output_file) {
    {
#line 342
    fclose(output_file);
    }
  }
#line 344
  return (-1);
}
}
#line 347 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
static J_COLOR_SPACE tojpgcs(int colorspace ) 
{ 


  {
#line 350
  if (colorspace >> 8 == 4) {
#line 350
    goto case_4;
  }
#line 353
  if (colorspace >> 8 == 5) {
#line 353
    goto case_5;
  }
#line 356
  if (colorspace >> 8 == 3) {
#line 356
    goto case_3;
  }
#line 359
  goto switch_default;
  case_4: 
#line 351
  return ((J_COLOR_SPACE )2);
#line 352
  goto switch_break;
  case_5: 
#line 354
  return ((J_COLOR_SPACE )3);
#line 355
  goto switch_break;
  case_3: 
#line 357
  return ((J_COLOR_SPACE )1);
#line 358
  goto switch_break;
  switch_default: 
  {
#line 360
  abort();
  }
#line 361
  goto switch_break;
  switch_break: ;
#line 364
  return;
}
}
#line 366 "/root/patron-new/new_2/src/libjasper/jpg/jpg_enc.c"
static int jpg_parseencopts(char *optstr , jpg_encopts_t *encopts___0 ) 
{ 
  jas_tvparser_t *tvp ;
  char *qual_str ;
  int ret ;
  char *tmp ;
  jas_tvparser_t *__cil_tmp7 ;
  jas_taginfo_t *__cil_tmp11 ;
  int __cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
#line 372
  tvp = (jas_tvparser_t *)0;
#line 375
  encopts___0->qual = -1;
#line 378
  if (optstr) {
#line 378
    tmp = optstr;
  } else {
#line 378
    tmp = (char *)"\220";
  }
  {
#line 378
  __cil_tmp7 = jas_tvparser_create((char const   *)((int )tmp));
#line 378
  tvp = __cil_tmp7;
  }
#line 378
  if (! tvp) {
#line 379
    goto error;
  }
  {
#line 383
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 383
    ret = jas_tvparser_next(tvp);
    }
#line 383
    if (! (! ret)) {
#line 383
      goto while_break;
    }
#line 386
    if (__cil_tmp11->id == 0) {
#line 386
      goto case_0;
    }
#line 394
    goto switch_default;
    case_0: 
    {
#line 387
    qual_str = jas_tvparser_getval(tvp);
#line 388
    __cil_tmp13 = sscanf((char const   *)qual_str, "%d", & encopts___0->qual);
    }
#line 388
    if (__cil_tmp13 != 1) {
      {
#line 389
      __cil_tmp14 = jas_tvparser_getval(tvp);
#line 389
      jas_eprintf("ignoring bad quality specifier %s\n", __cil_tmp14);
#line 391
      encopts___0->qual = -1;
      }
    }
#line 393
    goto switch_break;
    switch_default: 
    {
#line 395
    __cil_tmp15 = jas_tvparser_gettag(tvp);
#line 395
    jas_eprintf("warning: ignoring invalid option %s\n", __cil_tmp15);
    }
#line 397
    goto switch_break;
    switch_break: ;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 400
  if (ret < 0) {
#line 401
    goto error;
  }
  {
#line 405
  jas_tvparser_destroy(tvp);
  }
#line 407
  return (0);
  error: 
#line 410
  if (tvp) {
    {
#line 411
    jas_tvparser_destroy(tvp);
    }
  }
#line 413
  return (-1);
}
}
#line 121 "/root/patron-new/new_2/src/libjasper/jpg/jpg_dec.c"
static void jpg_start_output(j_decompress_ptr cinfo , jpg_dest_t *dinfo ) ;
#line 122
static void jpg_put_pixel_rows(j_decompress_ptr cinfo , jpg_dest_t *dinfo , JDIMENSION rows_supplied ) ;
#line 124
static void jpg_finish_output(j_decompress_ptr cinfo , jpg_dest_t *dinfo ) ;
#line 125
static int jpg_copystreamtofile(FILE *out , jas_stream_t *in ) ;
#line 126
static jas_image_t *jpg_mkimage(j_decompress_ptr cinfo ) ;
#line 134 "/root/patron-new/new_2/src/libjasper/jpg/jpg_dec.c"
jas_image_t *jpg_decode(jas_stream_t *in , char *optstr ) 
{ 
  struct jpeg_decompress_struct cinfo ;
  struct jpeg_error_mgr jerr ;
  FILE *input_file ;
  jpg_dest_t dest_mgr_buf ;
  jpg_dest_t *dest_mgr ;
  int num_scanlines ;
  jas_image_t *image ;
  int __cil_tmp11 ;
  JDIMENSION __cil_tmp16 ;

  {
  {
#line 140
  dest_mgr = & dest_mgr_buf;
#line 145
  optstr = (char *)0;
#line 147
  image = (jas_image_t *)0;
#line 148
  input_file = (FILE *)0;
#line 149
  input_file = tmpfile();
  }
#line 149
  if (! input_file) {
#line 150
    goto error;
  }
  {
#line 152
  __cil_tmp11 = jpg_copystreamtofile(input_file, in);
  }
#line 152
  if (__cil_tmp11) {
#line 153
    goto error;
  }
  {
#line 155
  rewind(input_file);
#line 158
  cinfo.err = jpeg_std_error(& jerr);
#line 159
  jpeg_CreateDecompress(& cinfo, 80, sizeof(struct jpeg_decompress_struct ));
#line 162
  jpeg_stdio_src(& cinfo, input_file);
#line 165
  jpeg_read_header(& cinfo, 1);
#line 168
  jpeg_start_decompress(& cinfo);
#line 171
  image = jpg_mkimage(& cinfo);
  }
#line 171
  if (! image) {
#line 172
    goto error;
  }
  {
#line 176
  dest_mgr->image = image;
#line 177
  dest_mgr->data = jas_matrix_create(1, (int )cinfo.output_width);
#line 178
  dest_mgr->start_output = & jpg_start_output;
#line 179
  dest_mgr->put_pixel_rows = & jpg_put_pixel_rows;
#line 180
  dest_mgr->finish_output = & jpg_finish_output;
#line 181
  dest_mgr->buffer = (*((cinfo.mem)->alloc_sarray))((j_common_ptr )(& cinfo), 1, cinfo.output_width * (unsigned int )cinfo.output_components,
                                                    (JDIMENSION )1);
#line 184
  dest_mgr->buffer_height = (JDIMENSION )1;
#line 185
  dest_mgr->error = 0;
#line 188
  (*(dest_mgr->start_output))(& cinfo, dest_mgr);
  }
  {
#line 189
  while (1) {
    while_continue: /* CIL Label */ ;

#line 189
    if (! (cinfo.output_scanline < cinfo.output_height)) {
#line 189
      goto while_break;
    }
    {
#line 190
    __cil_tmp16 = jpeg_read_scanlines(& cinfo, dest_mgr->buffer, dest_mgr->buffer_height);
#line 190
    num_scanlines = (int )__cil_tmp16;
#line 192
    (*(dest_mgr->put_pixel_rows))(& cinfo, dest_mgr, (JDIMENSION )num_scanlines);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 194
  (*(dest_mgr->finish_output))(& cinfo, dest_mgr);
#line 197
  jpeg_finish_decompress(& cinfo);
#line 200
  jpeg_destroy_decompress(& cinfo);
#line 202
  jas_matrix_destroy(dest_mgr->data);
#line 204
  fclose(input_file);
  }
#line 206
  if (dest_mgr->error) {
#line 207
    goto error;
  }
#line 210
  return (image);
  error: 
#line 213
  if (image) {
    {
#line 214
    jas_image_destroy(image);
    }
  }
#line 216
  if (input_file) {
    {
#line 217
    fclose(input_file);
    }
  }
#line 219
  return ((jas_image_t *)0);
}
}
#line 226 "/root/patron-new/new_2/src/libjasper/jpg/jpg_dec.c"
static jas_image_t *jpg_mkimage(j_decompress_ptr cinfo ) 
{ 
  jas_image_t *image ;
  int cmptno ;
  jas_image_cmptparm_t cmptparm ;
  int numcmpts ;
  int __cil_tmp7 ;

  {
  {
#line 233
  image = (jas_image_t *)0;
#line 234
  numcmpts = cinfo->output_components;
#line 235
  image = jas_image_create0();
  }
#line 235
  if (! image) {
#line 236
    goto error;
  }
#line 238
  cmptno = 0;
  {
#line 238
  while (1) {
    while_continue: /* CIL Label */ ;

#line 238
    if (! (cmptno < numcmpts)) {
#line 238
      goto while_break;
    }
    {
#line 239
    cmptparm.tlx = (jas_image_coord_t )0;
#line 240
    cmptparm.tly = (jas_image_coord_t )0;
#line 241
    cmptparm.hstep = (jas_image_coord_t )1;
#line 242
    cmptparm.vstep = (jas_image_coord_t )1;
#line 243
    cmptparm.width = (jas_image_coord_t )cinfo->image_width;
#line 244
    cmptparm.height = (jas_image_coord_t )cinfo->image_height;
#line 245
    cmptparm.prec = 8;
#line 246
    cmptparm.sgnd = 0;
#line 247
    __cil_tmp7 = jas_image_addcmpt(image, cmptno, & cmptparm);
    }
#line 247
    if (__cil_tmp7) {
#line 248
      goto error;
    }
#line 238
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 252
  if (numcmpts == 3) {
#line 253
    image->clrspc_ = (4 << 8) | 1;
#line 254
    (*(image->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
#line 256
    (*(image->cmpts_ + 1))->type_ = (jas_image_cmpttype_t )1;
#line 258
    (*(image->cmpts_ + 2))->type_ = (jas_image_cmpttype_t )2;
  } else {
#line 261
    image->clrspc_ = (3 << 8) | 1;
#line 262
    (*(image->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
  }
#line 266
  return (image);
  error: 
#line 269
  if (image) {
    {
#line 270
    jas_image_destroy(image);
    }
  }
#line 272
  return ((jas_image_t *)0);
}
}
#line 279 "/root/patron-new/new_2/src/libjasper/jpg/jpg_dec.c"
static int jpg_copystreamtofile(FILE *out , jas_stream_t *in ) 
{ 
  int c ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp9 ;

  {
  {
#line 283
  while (1) {
    while_continue: /* CIL Label */ ;

#line 283
    if (! (in->flags_ & 7)) {
#line 283
      if (in->rwlimit_ >= 0L) {
#line 283
        if (in->rwcnt_ >= in->rwlimit_) {
#line 283
          in->flags_ |= 4;
#line 283
          tmp___0 = -1;
        } else {
#line 283
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 283
        (in->cnt_) --;
#line 283
        if (in->cnt_ < 0) {
          {
#line 283
          __cil_tmp4 = jas_stream_fillbuf(in, 1);
#line 283
          tmp = __cil_tmp4;
          }
        } else {
#line 283
          __cil_tmp5 = in->ptr_;
#line 283
          (in->ptr_) ++;
#line 283
          (in->rwcnt_) ++;
#line 283
          tmp = (int )*__cil_tmp5;
        }
#line 283
        tmp___0 = tmp;
      }
#line 283
      tmp___1 = tmp___0;
    } else {
#line 283
      tmp___1 = -1;
    }
#line 283
    c = tmp___1;
#line 283
    if (! (c != -1)) {
#line 283
      goto while_break;
    }
    {
#line 284
    __cil_tmp9 = fputc(c, out);
    }
#line 284
    if (__cil_tmp9 == -1) {
#line 285
      return (-1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 288
  if ((in->flags_ & 2) != 0) {
#line 289
    return (-1);
  }
#line 291
  return (0);
}
}
#line 298 "/root/patron-new/new_2/src/libjasper/jpg/jpg_dec.c"
static void jpg_start_output(j_decompress_ptr cinfo , jpg_dest_t *dinfo ) 
{ 


  {
#line 301
  cinfo = (j_decompress_ptr )0;
#line 303
  dinfo->row = (JDIMENSION )0;
#line 304
  return;
}
}
#line 306 "/root/patron-new/new_2/src/libjasper/jpg/jpg_dec.c"
static void jpg_put_pixel_rows(j_decompress_ptr cinfo , jpg_dest_t *dinfo , JDIMENSION rows_supplied ) 
{ 
  JSAMPLE *bufptr ;
  int cmptno ;
  JDIMENSION x ;
  uint_fast32_t width ;
  int __cil_tmp9 ;

  {
#line 314
  if (dinfo->error) {
#line 315
    return;
  }
#line 320
  cmptno = 0;
  {
#line 320
  while (1) {
    while_continue: /* CIL Label */ ;

#line 320
    if (! (cmptno < cinfo->output_components)) {
#line 320
      goto while_break;
    }
#line 321
    width = (uint_fast32_t )(*((dinfo->image)->cmpts_ + cmptno))->width_;
#line 322
    bufptr = *(dinfo->buffer + 0) + cmptno;
#line 323
    x = (JDIMENSION )0;
    {
#line 323
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 323
      if (! ((unsigned long )x < width)) {
#line 323
        goto while_break___0;
      }
#line 324
      *(*((dinfo->data)->rows_ + 0) + x) = (jas_seqent_t )((int )*bufptr);
#line 325
      bufptr += cinfo->output_components;
#line 323
      x ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 327
    __cil_tmp9 = jas_image_writecmpt(dinfo->image, cmptno, (jas_image_coord_t )0,
                                     (jas_image_coord_t )dinfo->row, (jas_image_coord_t )width,
                                     (jas_image_coord_t )1, dinfo->data);
    }
#line 327
    if (__cil_tmp9) {
#line 329
      dinfo->error = 1;
    }
#line 320
    cmptno ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 332
  dinfo->row += rows_supplied;
#line 333
  return;
}
}
#line 335 "/root/patron-new/new_2/src/libjasper/jpg/jpg_dec.c"
static void jpg_finish_output(j_decompress_ptr cinfo , jpg_dest_t *dinfo ) 
{ 


  {
#line 338
  cinfo = (j_decompress_ptr )0;
#line 339
  dinfo = (jpg_dest_t *)0;
#line 340
  return;
}
}
#line 710 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.h"
jpc_cstate_t *jpc_cstate_create(void) ;
#line 713
void jpc_cstate_destroy(jpc_cstate_t *cstate ) ;
#line 716
jpc_ms_t *jpc_ms_create(int type ) ;
#line 719
void jpc_ms_destroy(jpc_ms_t *ms ) ;
#line 731
jpc_ms_t *jpc_getms(jas_stream_t *in , jpc_cstate_t *cstate ) ;
#line 734
int jpc_putms(jas_stream_t *out , jpc_cstate_t *cstate , jpc_ms_t *ms ) ;
#line 737
int jpc_getdata(jas_stream_t *in , jas_stream_t *out , long len ) ;
#line 740
int jpc_putdata(jas_stream_t *out , jas_stream_t *in , long len ) ;
#line 743
void jpc_ms_dump(jpc_ms_t *ms , FILE *out ) ;
#line 746
int jpc_getuint8(jas_stream_t *in , uint_fast8_t *val ) ;
#line 749
int jpc_getuint16(jas_stream_t *in , uint_fast16_t *val ) ;
#line 752
int jpc_getuint32(jas_stream_t *in , uint_fast32_t *val ) ;
#line 755
int jpc_putuint8(jas_stream_t *out , uint_fast8_t val ) ;
#line 758
int jpc_putuint16(jas_stream_t *out , uint_fast16_t val ) ;
#line 761
int jpc_putuint32(jas_stream_t *out , uint_fast32_t val ) ;
#line 66 "/root/patron-new/new_2/src/libjasper/jpc/jpc_util.h"
int jpc_atoaf(char *s , int *numvalues , double **values ) ;
#line 69
jas_seq_t *jpc_seq_upsample(jas_seq_t *x , int m ) ;
#line 72
jas_seq_t *jpc_seq_conv(jas_seq_t *x , jas_seq_t *y ) ;
#line 75
jpc_fix_t jpc_seq_norm(jas_seq_t *x ) ;
#line 93 "/root/patron-new/new_2/src/libjasper/jpc/jpc_util.c"
static char delim[5]  ;
#line 91 "/root/patron-new/new_2/src/libjasper/jpc/jpc_util.c"
int jpc_atoaf(char *s , int *numvalues , double **values ) 
{ 
  char buf[4096] ;
  int n ;
  double *vs ;
  char *cp ;
  void *tmp ;

  {
  {
#line 93
  strcpy(delim, ", \t\n");
#line 99
  strncpy(buf, (char const   *)s, sizeof(buf));
#line 100
  buf[sizeof(buf) - 1UL] = (char )'\000';
#line 101
  n = 0;
#line 102
  cp = strtok(buf, (char const   *)(delim));
  }
#line 102
  if (cp) {
#line 103
    n ++;
    {
#line 104
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 104
      cp = strtok((char *)0, (char const   *)(delim));
      }
#line 104
      if (! cp) {
#line 104
        goto while_break;
      }
#line 105
      if ((unsigned long )cp != (unsigned long )((char *)0)) {
#line 106
        n ++;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break: ;
  }
#line 111
  if (n) {
    {
#line 112
    tmp = jas_alloc2((size_t )n, sizeof(double ));
#line 112
    vs = (double *)tmp;
    }
#line 112
    if (! vs) {
#line 113
      return (-1);
    }
    {
#line 116
    strncpy(buf, (char const   *)s, sizeof(buf));
#line 117
    buf[sizeof(buf) - 1UL] = (char )'\000';
#line 118
    n = 0;
#line 119
    cp = strtok(buf, (char const   *)(delim));
    }
#line 119
    if (cp) {
      {
#line 120
      *(vs + n) = atof((char const   *)cp);
#line 121
      n ++;
      }
      {
#line 122
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 122
        cp = strtok((char *)0, (char const   *)(delim));
        }
#line 122
        if (! cp) {
#line 122
          goto while_break___0;
        }
#line 123
        if ((unsigned long )cp != (unsigned long )((char *)0)) {
          {
#line 124
          *(vs + n) = atof((char const   *)cp);
#line 125
          n ++;
          }
        }
      }
      while_break___2: /* CIL Label */ ;
      }
      while_break___0: ;
    }
  } else {
#line 130
    vs = (double *)0;
  }
#line 133
  *numvalues = n;
#line 134
  *values = vs;
#line 136
  return (0);
}
}
#line 139 "/root/patron-new/new_2/src/libjasper/jpc/jpc_util.c"
jas_seq_t *jpc_seq_upsample(jas_seq_t *x , int m ) 
{ 
  jas_seq_t *z ;
  int i ;
  int tmp ;
  int tmp___0 ;
  jas_seqent_t tmp___1 ;

  {
  {
#line 144
  z = jas_seq2d_create((int )(x->xstart_ * (long )m), 0, (int )((x->xend_ - 1L) * (long )m + 1L),
                       1);
  }
#line 144
  if (! z) {
#line 145
    return ((jas_seq_t *)0);
  }
#line 146
  i = (int )z->xstart_;
  {
#line 146
  while (1) {
    while_continue: /* CIL Label */ ;

#line 146
    if (! ((long )i < z->xend_)) {
#line 146
      goto while_break;
    }
#line 147
    if (i < 0) {
#line 147
      if (- i % m) {
#line 147
        tmp = m - - i % m;
      } else {
#line 147
        tmp = 0;
      }
#line 147
      tmp___0 = tmp;
    } else {
#line 147
      tmp___0 = i % m;
    }
#line 147
    if (! tmp___0) {
#line 147
      tmp___1 = *(*(x->rows_ + 0) + ((long )(i / m) - x->xstart_));
    } else {
#line 147
      tmp___1 = (jpc_fix_t )0;
    }
#line 147
    *(*(z->rows_ + 0) + ((long )i - z->xstart_)) = tmp___1;
#line 146
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 151
  return (z);
}
}
#line 154 "/root/patron-new/new_2/src/libjasper/jpc/jpc_util.c"
jpc_fix_t jpc_seq_norm(jas_seq_t *x ) 
{ 
  jpc_fix_t s ;
  int i ;
  double __cil_tmp5 ;

  {
#line 159
  s = (jpc_fix_t )0;
#line 160
  i = (int )x->xstart_;
  {
#line 160
  while (1) {
    while_continue: /* CIL Label */ ;

#line 160
    if (! ((long )i < x->xend_)) {
#line 160
      goto while_break;
    }
#line 161
    s += *(*(x->rows_ + 0) + ((long )i - x->xstart_)) * *(*(x->rows_ + 0) + ((long )i - x->xstart_)) >> 13;
#line 160
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 164
  __cil_tmp5 = sqrt((double )s / (double )(1L << 13));
  }
#line 164
  return ((jpc_fix_t )(__cil_tmp5 * (double )(1L << 13)));
}
}
#line 167 "/root/patron-new/new_2/src/libjasper/jpc/jpc_util.c"
jas_seq_t *jpc_seq_conv(jas_seq_t *x , jas_seq_t *y ) 
{ 
  int i ;
  int j ;
  int k ;
  jas_seq_t *z ;
  jpc_fix_t s ;
  jpc_fix_t v ;

  {
  {
#line 176
  z = jas_seq2d_create((int )(x->xstart_ + y->xstart_), 0, (int )((x->xend_ + y->xend_) - 1L),
                       1);
#line 179
  i = (int )z->xstart_;
  }
  {
#line 179
  while (1) {
    while_continue: /* CIL Label */ ;

#line 179
    if (! ((long )i < z->xend_)) {
#line 179
      goto while_break;
    }
#line 180
    s = (jpc_fix_t )0;
#line 181
    j = (int )y->xstart_;
    {
#line 181
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 181
      if (! ((long )j < y->xend_)) {
#line 181
        goto while_break___0;
      }
#line 182
      k = i - j;
#line 183
      if ((long )k < x->xstart_) {
#line 184
        v = (jpc_fix_t )0;
      } else
#line 183
      if ((long )k >= x->xend_) {
#line 184
        v = (jpc_fix_t )0;
      } else {
#line 186
        v = *(*(x->rows_ + 0) + ((long )k - x->xstart_));
      }
#line 188
      s += *(*(y->rows_ + 0) + ((long )j - y->xstart_)) * v >> 13;
#line 181
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 190
    *(*(z->rows_ + 0) + ((long )i - z->xstart_)) = s;
#line 179
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 193
  return (z);
}
}
#line 110 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.h"
jpc_qmfb2d_t jpc_ft_qmfb2d ;
#line 111
jpc_qmfb2d_t jpc_ns_qmfb2d ;
#line 122 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.h"
jpc_tsfb_t *jpc_cod_gettsfb(int qmfbid , int numlvls ) ;
#line 125
void jpc_tsfb_destroy(jpc_tsfb_t *tsfb ) ;
#line 128
int jpc_tsfb_analyze(jpc_tsfb_t *tsfb , jas_seq2d_t *a ) ;
#line 131
int jpc_tsfb_synthesize(jpc_tsfb_t *tsfb , jas_seq2d_t *a ) ;
#line 134
int jpc_tsfb_getbands(jpc_tsfb_t *tsfb , uint_fast32_t xstart , uint_fast32_t ystart ,
                      uint_fast32_t xend , uint_fast32_t yend , jpc_tsfb_band_t *bands ) ;
#line 93 "/root/patron-new/new_2/src/libjasper/jpc/jpc_math.h"
int jpc_firstone(int x ) ;
#line 97
int jpc_floorlog2(int x ) ;
#line 85 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.c"
void jpc_tsfb_getbands2(jpc_tsfb_t *tsfb , int locxstart , int locystart , int xstart ,
                        int ystart , int xend , int yend , jpc_tsfb_band_t **bands ,
                        int numlvls ) ;
#line 93 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.c"
jpc_tsfb_t *jpc_cod_gettsfb(int qmfbid , int numlvls ) 
{ 
  jpc_tsfb_t *tsfb ;
  void *tmp ;

  {
  {
#line 97
  tmp = malloc(sizeof(jpc_tsfb_t ));
#line 97
  tsfb = (jpc_tsfb_t *)tmp;
  }
#line 97
  if (! tsfb) {
#line 98
    return ((jpc_tsfb_t *)0);
  }
#line 100
  if (numlvls > 0) {
#line 102
    if (qmfbid == 0) {
#line 102
      goto case_0;
    }
#line 105
    goto switch_default;
    case_0: 
#line 103
    tsfb->qmfb = & jpc_ns_qmfb2d;
#line 104
    goto switch_break;
    switch_default: 
#line 107
    tsfb->qmfb = & jpc_ft_qmfb2d;
#line 108
    goto switch_break;
    switch_break: ;
  } else {
#line 111
    tsfb->qmfb = (jpc_qmfb2d_t *)0;
  }
#line 113
  tsfb->numlvls = numlvls;
#line 114
  return (tsfb);
}
}
#line 117 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.c"
void jpc_tsfb_destroy(jpc_tsfb_t *tsfb ) 
{ 


  {
  {
#line 119
  free((void *)tsfb);
  }
#line 121
  return;
}
}
#line 124
int jpc_tsfb_analyze2(jpc_tsfb_t *tsfb , int *a , int xstart , int ystart , int width ,
                      int height , int stride , int numlvls ) ;
#line 122 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.c"
int jpc_tsfb_analyze(jpc_tsfb_t *tsfb , jas_seq2d_t *a ) 
{ 
  jas_seqent_t *tmp ;
  int __cil_tmp4 ;
  int tmp___0 ;

  {
#line 124
  if (tsfb->numlvls > 0) {
#line 124
    if (a->numrows_ > 1L) {
#line 124
      tmp = (jas_seqent_t *)(*(a->rows_ + 1) - *(a->rows_ + 0));
    } else {
#line 124
      tmp = (jas_seqent_t *)0L;
    }
    {
#line 124
    __cil_tmp4 = jpc_tsfb_analyze2(tsfb, *(a->rows_ + (a->ystart_ - a->ystart_)) + (a->xstart_ - a->xstart_),
                                   a->xstart_, a->ystart_, a->xend_ - a->xstart_,
                                   a->yend_ - a->ystart_, (int )tmp, tsfb->numlvls - 1);
#line 124
    tmp___0 = __cil_tmp4;
    }
  } else {
#line 124
    tmp___0 = 0;
  }
#line 124
  return (tmp___0);
}
}
#line 130 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.c"
int jpc_tsfb_analyze2(jpc_tsfb_t *tsfb , int *a , int xstart , int ystart , int width ,
                      int height , int stride , int numlvls ) 
{ 
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
#line 133
  if (width > 0) {
#line 133
    if (height > 0) {
      {
#line 134
      __cil_tmp9 = (*((tsfb->qmfb)->analyze))(a, xstart, ystart, width, height, stride);
      }
#line 134
      if (__cil_tmp9) {
#line 135
        return (-1);
      }
#line 136
      if (numlvls > 0) {
        {
#line 137
        __cil_tmp10 = jpc_tsfb_analyze2(tsfb, a, ((xstart + (1 << 1)) - 1) >> 1, ((ystart + (1 << 1)) - 1) >> 1,
                                        ((((xstart + width) + (1 << 1)) - 1) >> 1) - (((xstart + (1 << 1)) - 1) >> 1),
                                        ((((ystart + height) + (1 << 1)) - 1) >> 1) - (((ystart + (1 << 1)) - 1) >> 1),
                                        stride, numlvls - 1);
        }
#line 137
        if (__cil_tmp10) {
#line 142
          return (-1);
        }
      }
    }
  }
#line 146
  return (0);
}
}
#line 151
int jpc_tsfb_synthesize2(jpc_tsfb_t *tsfb , int *a , int xstart , int ystart , int width ,
                         int height , int stride , int numlvls ) ;
#line 149 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.c"
int jpc_tsfb_synthesize(jpc_tsfb_t *tsfb , jas_seq2d_t *a ) 
{ 
  jas_seqent_t *tmp ;
  int __cil_tmp4 ;
  int tmp___0 ;

  {
#line 151
  if (tsfb->numlvls > 0) {
#line 151
    if (a->numrows_ > 1L) {
#line 151
      tmp = (jas_seqent_t *)(*(a->rows_ + 1) - *(a->rows_ + 0));
    } else {
#line 151
      tmp = (jas_seqent_t *)0L;
    }
    {
#line 151
    __cil_tmp4 = jpc_tsfb_synthesize2(tsfb, *(a->rows_ + (a->ystart_ - a->ystart_)) + (a->xstart_ - a->xstart_),
                                      a->xstart_, a->ystart_, a->xend_ - a->xstart_,
                                      a->yend_ - a->ystart_, (int )tmp, tsfb->numlvls - 1);
#line 151
    tmp___0 = __cil_tmp4;
    }
  } else {
#line 151
    tmp___0 = 0;
  }
#line 151
  return (tmp___0);
}
}
#line 157 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.c"
int jpc_tsfb_synthesize2(jpc_tsfb_t *tsfb , int *a , int xstart , int ystart , int width ,
                         int height , int stride , int numlvls ) 
{ 
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
#line 160
  if (numlvls > 0) {
    {
#line 161
    __cil_tmp9 = jpc_tsfb_synthesize2(tsfb, a, ((xstart + (1 << 1)) - 1) >> 1, ((ystart + (1 << 1)) - 1) >> 1,
                                      ((((xstart + width) + (1 << 1)) - 1) >> 1) - (((xstart + (1 << 1)) - 1) >> 1),
                                      ((((ystart + height) + (1 << 1)) - 1) >> 1) - (((ystart + (1 << 1)) - 1) >> 1),
                                      stride, numlvls - 1);
    }
#line 161
    if (__cil_tmp9) {
#line 166
      return (-1);
    }
  }
#line 169
  if (width > 0) {
#line 169
    if (height > 0) {
      {
#line 170
      __cil_tmp10 = (*((tsfb->qmfb)->synthesize))(a, xstart, ystart, width, height,
                                                  stride);
      }
#line 170
      if (__cil_tmp10) {
#line 171
        return (-1);
      }
    }
  }
#line 174
  return (0);
}
}
#line 177 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.c"
int jpc_tsfb_getbands(jpc_tsfb_t *tsfb , uint_fast32_t xstart , uint_fast32_t ystart ,
                      uint_fast32_t xend , uint_fast32_t yend , jpc_tsfb_band_t *bands ) 
{ 
  jpc_tsfb_band_t *band ;

  {
#line 183
  band = bands;
#line 184
  if (tsfb->numlvls > 0) {
    {
#line 185
    jpc_tsfb_getbands2(tsfb, (int )xstart, (int )ystart, (int )xstart, (int )ystart,
                       (int )xend, (int )yend, & band, tsfb->numlvls);
    }
  } else {
#line 189
    band->xstart = (int )xstart;
#line 190
    band->ystart = (int )ystart;
#line 191
    band->xend = (int )xend;
#line 192
    band->yend = (int )yend;
#line 193
    band->locxstart = (int )xstart;
#line 194
    band->locystart = (int )ystart;
#line 195
    band->locxend = (band->locxstart + band->xend) - band->xstart;
#line 196
    band->locyend = (band->locystart + band->yend) - band->ystart;
#line 197
    band->orient = 0;
#line 198
    band->synenergywt = 1L << 13;
#line 199
    band ++;
  }
#line 201
  return ((int )(band - bands));
}
}
#line 204 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tsfb.c"
void jpc_tsfb_getbands2(jpc_tsfb_t *tsfb , int locxstart , int locystart , int xstart ,
                        int ystart , int xend , int yend , jpc_tsfb_band_t **bands ,
                        int numlvls ) 
{ 
  int newxstart ;
  int newystart ;
  int newxend ;
  int newyend ;
  jpc_tsfb_band_t *band ;

  {
#line 214
  newxstart = ((xstart + (1 << 1)) - 1) >> 1;
#line 215
  newystart = ((ystart + (1 << 1)) - 1) >> 1;
#line 216
  newxend = ((xend + (1 << 1)) - 1) >> 1;
#line 217
  newyend = ((yend + (1 << 1)) - 1) >> 1;
#line 219
  if (numlvls > 0) {
    {
#line 221
    jpc_tsfb_getbands2(tsfb, locxstart, locystart, newxstart, newystart, newxend,
                       newyend, bands, numlvls - 1);
#line 224
    band = *bands;
#line 225
    band->xstart = xstart >> 1;
#line 226
    band->ystart = newystart;
#line 227
    band->xend = xend >> 1;
#line 228
    band->yend = newyend;
#line 229
    band->locxstart = (locxstart + newxend) - newxstart;
#line 230
    band->locystart = locystart;
#line 231
    band->locxend = (band->locxstart + band->xend) - band->xstart;
#line 232
    band->locyend = (band->locystart + band->yend) - band->ystart;
#line 233
    band->orient = 2;
#line 234
    band->synenergywt = (jpc_fix_t )((*((tsfb->qmfb)->hpenergywts + (tsfb->numlvls - numlvls)) * *((tsfb->qmfb)->lpenergywts + (tsfb->numlvls - numlvls))) * (double )(1L << 13));
#line 237
    (*bands) ++;
#line 239
    band = *bands;
#line 240
    band->xstart = newxstart;
#line 241
    band->ystart = ystart >> 1;
#line 242
    band->xend = newxend;
#line 243
    band->yend = yend >> 1;
#line 244
    band->locxstart = locxstart;
#line 245
    band->locystart = (locystart + newyend) - newystart;
#line 246
    band->locxend = (band->locxstart + band->xend) - band->xstart;
#line 247
    band->locyend = (band->locystart + band->yend) - band->ystart;
#line 248
    band->orient = 1;
#line 249
    band->synenergywt = (jpc_fix_t )((*((tsfb->qmfb)->lpenergywts + (tsfb->numlvls - numlvls)) * *((tsfb->qmfb)->hpenergywts + (tsfb->numlvls - numlvls))) * (double )(1L << 13));
#line 252
    (*bands) ++;
#line 254
    band = *bands;
#line 255
    band->xstart = xstart >> 1;
#line 256
    band->ystart = ystart >> 1;
#line 257
    band->xend = xend >> 1;
#line 258
    band->yend = yend >> 1;
#line 259
    band->locxstart = (locxstart + newxend) - newxstart;
#line 260
    band->locystart = (locystart + newyend) - newystart;
#line 261
    band->locxend = (band->locxstart + band->xend) - band->xstart;
#line 262
    band->locyend = (band->locystart + band->yend) - band->ystart;
#line 263
    band->orient = 3;
#line 264
    band->synenergywt = (jpc_fix_t )((*((tsfb->qmfb)->hpenergywts + (tsfb->numlvls - numlvls)) * *((tsfb->qmfb)->hpenergywts + (tsfb->numlvls - numlvls))) * (double )(1L << 13));
#line 267
    (*bands) ++;
    }
  } else {
#line 271
    band = *bands;
#line 272
    band->xstart = xstart;
#line 273
    band->ystart = ystart;
#line 274
    band->xend = xend;
#line 275
    band->yend = yend;
#line 276
    band->locxstart = locxstart;
#line 277
    band->locystart = locystart;
#line 278
    band->locxend = (band->locxstart + band->xend) - band->xstart;
#line 279
    band->locyend = (band->locystart + band->yend) - band->ystart;
#line 280
    band->orient = 0;
#line 281
    band->synenergywt = (jpc_fix_t )((*((tsfb->qmfb)->lpenergywts + ((tsfb->numlvls - numlvls) - 1)) * *((tsfb->qmfb)->lpenergywts + ((tsfb->numlvls - numlvls) - 1))) * (double )(1L << 13));
#line 284
    (*bands) ++;
  }
#line 286
  return;
}
}
#line 37 "/usr/include/x86_64-linux-gnu/bits/stdlib.h"
__inline extern  __attribute__((__nothrow__)) char *( __attribute__((__gnu_inline__)) realpath)(char const   *__name ,
                                                                                                char *__resolved ) ;
#line 37 "/usr/include/x86_64-linux-gnu/bits/stdlib.h"
__inline extern char *( __attribute__((__gnu_inline__)) realpath)(char const   *__name ,
                                                                  char *__resolved ) 
{ 
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  char *__cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
  {
#line 39
  __cil_tmp3 = __builtin_object_size((void *)__resolved, 1);
  }
#line 39
  if (__cil_tmp3 != 0xffffffffffffffffUL) {
    {
#line 42
    __cil_tmp4 = __builtin_object_size((void *)__resolved, 1);
    }
#line 42
    if (__cil_tmp4 < 4096UL) {
      {
#line 43
      __cil_tmp5 = __builtin_object_size((void *)__resolved, 1);
#line 43
      __cil_tmp6 = __realpath_chk_warn(__name, __resolved, __cil_tmp5);
      }
#line 43
      return (__cil_tmp6);
    }
    {
#line 45
    __cil_tmp7 = __builtin_object_size((void *)__resolved, 1);
#line 45
    __cil_tmp8 = __realpath_chk(__name, __resolved, __cil_tmp7);
    }
#line 45
    return (__cil_tmp8);
  }
  {
#line 48
  __cil_tmp9 = __realpath_alias(__name, __resolved);
  }
#line 48
  return (__cil_tmp9);
}
}
#line 136 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.h"
jpc_bitstream_t *jpc_bitstream_sopen(jas_stream_t *stream , char *mode ) ;
#line 139
int jpc_bitstream_close(jpc_bitstream_t *bitstream ) ;
#line 164
long jpc_bitstream_getbits(jpc_bitstream_t *bitstream , int n ) ;
#line 167
int jpc_bitstream_putbits(jpc_bitstream_t *bitstream , int n , long v ) ;
#line 175
int jpc_bitstream_align(jpc_bitstream_t *bitstream ) ;
#line 180
int jpc_bitstream_inalign(jpc_bitstream_t *bitstream , int fillmask , int filldata ) ;
#line 185
int jpc_bitstream_outalign(jpc_bitstream_t *bitstream , int filldata ) ;
#line 188
int jpc_bitstream_needalign(jpc_bitstream_t *bitstream ) ;
#line 191
int jpc_bitstream_pending(jpc_bitstream_t *bitstream ) ;
#line 208
int jpc_bitstream_getbit_func(jpc_bitstream_t *bitstream ) ;
#line 210
int jpc_bitstream_putbit_func(jpc_bitstream_t *bitstream , int b ) ;
#line 212
int jpc_bitstream_fillbuf(jpc_bitstream_t *bitstream ) ;
#line 138 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.h"
jpc_tagtree_t *jpc_tagtree_create(int numleafsh , int numleafsv ) ;
#line 141
void jpc_tagtree_destroy(jpc_tagtree_t *tree ) ;
#line 144
void jpc_tagtree_copy(jpc_tagtree_t *dsttree , jpc_tagtree_t *srctree ) ;
#line 147
void jpc_tagtree_reset(jpc_tagtree_t *tree ) ;
#line 150
void jpc_tagtree_setvalue(jpc_tagtree_t *tree , jpc_tagtreenode_t *leaf , int value ) ;
#line 154
jpc_tagtreenode_t *jpc_tagtree_getleaf(jpc_tagtree_t *tree , int n ) ;
#line 157
int jpc_tagtree_decode(jpc_tagtree_t *tree , jpc_tagtreenode_t *leaf , int threshold ,
                       jpc_bitstream_t *in ) ;
#line 161
int jpc_tagtree_encode(jpc_tagtree_t *tree , jpc_tagtreenode_t *leaf , int threshold ,
                       jpc_bitstream_t *out ) ;
#line 165
void jpc_tagtree_dump(jpc_tagtree_t *tree , FILE *out ) ;
#line 87 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
static jpc_tagtree_t *jpc_tagtree_alloc(void) ;
#line 95 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
jpc_tagtree_t *jpc_tagtree_create(int numleafsh , int numleafsv ) 
{ 
  int nplh[32] ;
  int nplv[32] ;
  jpc_tagtreenode_t *node ;
  jpc_tagtreenode_t *parentnode ;
  jpc_tagtreenode_t *parentnode0 ;
  jpc_tagtree_t *tree ;
  int i ;
  int j ;
  int k ;
  int numlvls ;
  int n ;
  void *tmp___0 ;

  {
  {
#line 111
  tree = jpc_tagtree_alloc();
  }
#line 111
  if (! tree) {
#line 112
    return ((jpc_tagtree_t *)0);
  }
#line 114
  tree->numleafsh_ = numleafsh;
#line 115
  tree->numleafsv_ = numleafsv;
#line 117
  numlvls = 0;
#line 118
  nplh[0] = numleafsh;
#line 119
  nplv[0] = numleafsv;
  {
#line 120
  while (1) {
    while_continue: /* CIL Label */ ;
#line 121
    n = nplh[numlvls] * nplv[numlvls];
#line 122
    nplh[numlvls + 1] = (nplh[numlvls] + 1) / 2;
#line 123
    nplv[numlvls + 1] = (nplv[numlvls] + 1) / 2;
#line 124
    tree->numnodes_ += n;
#line 125
    numlvls ++;
#line 120
    if (! (n > 1)) {
#line 120
      goto while_break;
    }
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: 
  {
#line 128
  tmp___0 = jas_alloc2((size_t )tree->numnodes_, sizeof(jpc_tagtreenode_t ));
#line 128
  tree->nodes_ = (jpc_tagtreenode_t *)tmp___0;
  }
#line 128
  if (! tree->nodes_) {
#line 129
    return ((jpc_tagtree_t *)0);
  }
#line 134
  node = tree->nodes_;
#line 135
  parentnode = tree->nodes_ + tree->numleafsh_ * tree->numleafsv_;
#line 136
  parentnode0 = parentnode;
#line 138
  i = 0;
  {
#line 138
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 138
    if (! (i < numlvls - 1)) {
#line 138
      goto while_break___0;
    }
#line 139
    j = 0;
    {
#line 139
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 139
      if (! (j < nplv[i])) {
#line 139
        goto while_break___1;
      }
#line 140
      k = nplh[i];
      {
#line 141
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 141
        k --;
#line 141
        if (! (k >= 0)) {
#line 141
          goto while_break___2;
        }
#line 142
        node->parent_ = parentnode;
#line 143
        node ++;
#line 144
        k --;
#line 144
        if (k >= 0) {
#line 145
          node->parent_ = parentnode;
#line 146
          node ++;
        }
#line 148
        parentnode ++;
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___2: ;
#line 150
      if (j & 1) {
#line 151
        parentnode0 = parentnode;
      } else
#line 150
      if (j == nplv[i] - 1) {
#line 151
        parentnode0 = parentnode;
      } else {
#line 153
        parentnode = parentnode0;
#line 154
        parentnode0 += nplh[i];
      }
#line 139
      j ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___1: 
#line 138
    i ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 158
  node->parent_ = (struct jpc_tagtreenode_ *)0;
#line 162
  jpc_tagtree_reset(tree);
  }
#line 164
  return (tree);
}
}
#line 169 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
void jpc_tagtree_destroy(jpc_tagtree_t *tree ) 
{ 


  {
#line 171
  if (tree->nodes_) {
    {
#line 172
    jas_free((void *)tree->nodes_);
    }
  }
  {
#line 174
  jas_free((void *)tree);
  }
#line 176
  return;
}
}
#line 177 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
static jpc_tagtree_t *jpc_tagtree_alloc(void) 
{ 
  jpc_tagtree_t *tree ;
  void *tmp ;

  {
  {
#line 181
  tmp = jas_malloc(sizeof(jpc_tagtree_t ));
#line 181
  tree = (jpc_tagtree_t *)tmp;
  }
#line 181
  if (! tree) {
#line 182
    return ((jpc_tagtree_t *)0);
  }
#line 184
  tree->numleafsh_ = 0;
#line 185
  tree->numleafsv_ = 0;
#line 186
  tree->numnodes_ = 0;
#line 187
  tree->nodes_ = (jpc_tagtreenode_t *)0;
#line 189
  return (tree);
}
}
#line 198 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
void jpc_tagtree_copy(jpc_tagtree_t *dsttree , jpc_tagtree_t *srctree ) 
{ 
  int n ;
  jpc_tagtreenode_t *srcnode ;
  jpc_tagtreenode_t *dstnode ;

  {
#line 208
  n = srctree->numnodes_;
#line 209
  srcnode = srctree->nodes_;
#line 210
  dstnode = dsttree->nodes_;
  {
#line 211
  while (1) {
    while_continue: /* CIL Label */ ;
#line 211
    n --;
#line 211
    if (! (n >= 0)) {
#line 211
      goto while_break;
    }
#line 212
    dstnode->value_ = srcnode->value_;
#line 213
    dstnode->low_ = srcnode->low_;
#line 214
    dstnode->known_ = srcnode->known_;
#line 215
    dstnode ++;
#line 216
    srcnode ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 220
  return;
}
}
#line 222 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
void jpc_tagtree_reset(jpc_tagtree_t *tree ) 
{ 
  int n ;
  jpc_tagtreenode_t *node ;

  {
#line 227
  n = tree->numnodes_;
#line 228
  node = tree->nodes_;
  {
#line 230
  while (1) {
    while_continue: /* CIL Label */ ;
#line 230
    n --;
#line 230
    if (! (n >= 0)) {
#line 230
      goto while_break;
    }
#line 231
    node->value_ = 2147483647;
#line 232
    node->low_ = 0;
#line 233
    node->known_ = 0;
#line 234
    node ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 238
  return;
}
}
#line 241 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
void jpc_tagtree_setvalue(jpc_tagtree_t *tree , jpc_tagtreenode_t *leaf , int value ) 
{ 
  jpc_tagtreenode_t *node ;

  {
#line 247
  tree = (jpc_tagtree_t *)0;
#line 251
  node = leaf;
  {
#line 252
  while (1) {
    while_continue: /* CIL Label */ ;

#line 252
    if (node) {
#line 252
      if (! (node->value_ > value)) {
#line 252
        goto while_break;
      }
    } else {
#line 252
      goto while_break;
    }
#line 253
    node->value_ = value;
#line 254
    node = node->parent_;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 258
  return;
}
}
#line 260 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
jpc_tagtreenode_t *jpc_tagtree_getleaf(jpc_tagtree_t *tree , int n ) 
{ 


  {
#line 262
  return (tree->nodes_ + n);
}
}
#line 267 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
int jpc_tagtree_encode(jpc_tagtree_t *tree , jpc_tagtreenode_t *leaf , int threshold ,
                       jpc_bitstream_t *out ) 
{ 
  jpc_tagtreenode_t *stk[31] ;
  jpc_tagtreenode_t **stkptr ;
  jpc_tagtreenode_t *node ;
  int low ;
  jpc_tagtreenode_t **__cil_tmp11 ;
  int tmp___2 ;
  int __cil_tmp14 ;
  unsigned char *__cil_tmp15 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___9 ;
  int __cil_tmp23 ;
  unsigned char *__cil_tmp24 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;

  {
#line 276
  tree = (jpc_tagtree_t *)0;
#line 282
  stkptr = stk;
#line 283
  node = leaf;
  {
#line 284
  while (1) {
    while_continue: /* CIL Label */ ;

#line 284
    if (! node->parent_) {
#line 284
      goto while_break;
    }
#line 285
    __cil_tmp11 = stkptr;
#line 285
    stkptr ++;
#line 285
    *__cil_tmp11 = node;
#line 286
    node = node->parent_;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
#line 289
  low = 0;
  {
#line 290
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 291
    if (low > node->low_) {
#line 294
      node->low_ = low;
    } else {
#line 296
      low = node->low_;
    }
    {
#line 299
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 299
      if (! (low < threshold)) {
#line 299
        goto while_break___1;
      }
#line 300
      if (low >= node->value_) {
#line 301
        if (! node->known_) {
#line 302
          (out->cnt_) --;
#line 302
          if (out->cnt_ < 0) {
#line 302
            if (! ((out->stream_)->flags_ & 7)) {
#line 302
              if ((out->stream_)->rwlimit_ >= 0L) {
#line 302
                if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 302
                  (out->stream_)->flags_ |= 4;
#line 302
                  tmp___4 = -1;
                } else {
#line 302
                  goto _L___0;
                }
              } else {
                _L___0: /* CIL Label */ 
#line 302
                ((out->stream_)->cnt_) --;
#line 302
                (out->stream_)->bufmode_ |= 32;
#line 302
                if ((out->stream_)->cnt_ < 0) {
                  {
#line 302
                  __cil_tmp14 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 302
                  tmp___3 = __cil_tmp14;
                  }
                } else {
#line 302
                  __cil_tmp15 = (out->stream_)->ptr_;
#line 302
                  ((out->stream_)->ptr_) ++;
#line 302
                  *__cil_tmp15 = (unsigned char )(out->buf_ >> 8);
#line 302
                  ((out->stream_)->rwcnt_) ++;
#line 302
                  tmp___3 = (int )*__cil_tmp15;
                }
#line 302
                tmp___4 = tmp___3;
              }
#line 302
              tmp___5 = tmp___4;
            } else {
#line 302
              tmp___5 = -1;
            }
#line 302
            if (tmp___5 == -1) {
#line 302
              tmp___6 = -1;
            } else {
#line 302
              tmp___6 = 1;
            }
#line 302
            out->buf_ |= (unsigned long )(1 << out->cnt_);
#line 302
            if (out->buf_ == 65280UL) {
#line 302
              tmp___2 = 6;
            } else {
#line 302
              tmp___2 = 7;
            }
#line 302
            out->cnt_ = tmp___2;
#line 302
            out->buf_ = (out->buf_ << 8) & 65535UL;
#line 302
            tmp___7 = tmp___6;
          } else {
#line 302
            out->buf_ |= (unsigned long )(1 << out->cnt_);
#line 302
            tmp___7 = 1;
          }
#line 302
          if (tmp___7 == -1) {
#line 303
            return (-1);
          }
#line 305
          node->known_ = 1;
        }
#line 307
        goto while_break___1;
      }
#line 309
      (out->cnt_) --;
#line 309
      if (out->cnt_ < 0) {
#line 309
        if (! ((out->stream_)->flags_ & 7)) {
#line 309
          if ((out->stream_)->rwlimit_ >= 0L) {
#line 309
            if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 309
              (out->stream_)->flags_ |= 4;
#line 309
              tmp___11 = -1;
            } else {
#line 309
              goto _L___1;
            }
          } else {
            _L___1: /* CIL Label */ 
#line 309
            ((out->stream_)->cnt_) --;
#line 309
            (out->stream_)->bufmode_ |= 32;
#line 309
            if ((out->stream_)->cnt_ < 0) {
              {
#line 309
              __cil_tmp23 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 309
              tmp___10 = __cil_tmp23;
              }
            } else {
#line 309
              __cil_tmp24 = (out->stream_)->ptr_;
#line 309
              ((out->stream_)->ptr_) ++;
#line 309
              *__cil_tmp24 = (unsigned char )(out->buf_ >> 8);
#line 309
              ((out->stream_)->rwcnt_) ++;
#line 309
              tmp___10 = (int )*__cil_tmp24;
            }
#line 309
            tmp___11 = tmp___10;
          }
#line 309
          tmp___12 = tmp___11;
        } else {
#line 309
          tmp___12 = -1;
        }
#line 309
        if (tmp___12 == -1) {
#line 309
          tmp___13 = -1;
        } else {
#line 309
          tmp___13 = 0;
        }
#line 309
        out->buf_ = out->buf_;
#line 309
        if (out->buf_ == 65280UL) {
#line 309
          tmp___9 = 6;
        } else {
#line 309
          tmp___9 = 7;
        }
#line 309
        out->cnt_ = tmp___9;
#line 309
        out->buf_ = (out->buf_ << 8) & 65535UL;
#line 309
        tmp___14 = tmp___13;
      } else {
#line 309
        out->buf_ = out->buf_;
#line 309
        tmp___14 = 0;
      }
#line 309
      if (tmp___14 == -1) {
#line 310
        return (-1);
      }
#line 312
      low ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
#line 314
    node->low_ = low;
#line 315
    if ((unsigned long )stkptr == (unsigned long )(stk)) {
#line 316
      goto while_break___0;
    }
#line 318
    stkptr --;
#line 318
    node = *stkptr;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: ;
#line 321
  if (leaf->low_ < threshold) {
#line 321
    tmp___15 = 1;
  } else {
#line 321
    tmp___15 = 0;
  }
#line 321
  return (tmp___15);
}
}
#line 327 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
int jpc_tagtree_decode(jpc_tagtree_t *tree , jpc_tagtreenode_t *leaf , int threshold ,
                       jpc_bitstream_t *in ) 
{ 
  jpc_tagtreenode_t *stk[31] ;
  jpc_tagtreenode_t **stkptr ;
  jpc_tagtreenode_t *node ;
  int low ;
  int ret ;
  jpc_tagtreenode_t **__cil_tmp11 ;
  int __cil_tmp13 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 337
  tree = (jpc_tagtree_t *)0;
#line 342
  stkptr = stk;
#line 343
  node = leaf;
  {
#line 344
  while (1) {
    while_continue: /* CIL Label */ ;

#line 344
    if (! node->parent_) {
#line 344
      goto while_break;
    }
#line 345
    __cil_tmp11 = stkptr;
#line 345
    stkptr ++;
#line 345
    *__cil_tmp11 = node;
#line 346
    node = node->parent_;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
#line 349
  low = 0;
  {
#line 350
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 351
    if (low > node->low_) {
#line 352
      node->low_ = low;
    } else {
#line 354
      low = node->low_;
    }
    {
#line 356
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 356
      if (low < threshold) {
#line 356
        if (! (low < node->value_)) {
#line 356
          goto while_break___1;
        }
      } else {
#line 356
        goto while_break___1;
      }
#line 357
      (in->cnt_) --;
#line 357
      if (in->cnt_ >= 0) {
#line 357
        tmp___1 = (int )((in->buf_ >> in->cnt_) & 1UL);
      } else {
        {
#line 357
        __cil_tmp13 = jpc_bitstream_fillbuf(in);
#line 357
        tmp___1 = __cil_tmp13;
        }
      }
#line 357
      ret = tmp___1;
#line 357
      if (ret < 0) {
#line 358
        return (-1);
      }
#line 360
      if (ret) {
#line 361
        node->value_ = low;
      } else {
#line 363
        low ++;
      }
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
#line 366
    node->low_ = low;
#line 367
    if ((unsigned long )stkptr == (unsigned long )(stk)) {
#line 368
      goto while_break___0;
    }
#line 370
    stkptr --;
#line 370
    node = *stkptr;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: ;
#line 373
  if (node->value_ < threshold) {
#line 373
    tmp___2 = 1;
  } else {
#line 373
    tmp___2 = 0;
  }
#line 373
  return (tmp___2);
}
}
#line 380 "/root/patron-new/new_2/src/libjasper/jpc/jpc_tagtree.c"
void jpc_tagtree_dump(jpc_tagtree_t *tree , FILE *out ) 
{ 
  jpc_tagtreenode_t *node ;
  int n ;

  {
#line 385
  node = tree->nodes_;
#line 386
  n = tree->numnodes_;
  {
#line 387
  while (1) {
    while_continue: /* CIL Label */ ;
#line 387
    n --;
#line 387
    if (! (n >= 0)) {
#line 387
      goto while_break;
    }
    {
#line 388
    fprintf(out, "node %p, parent %p, value %d, lower %d, known %d\n4=\371PV", (void *)node,
            (void *)node->parent_, node->value_, node->low_, node->known_);
#line 391
    node ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 396
  return;
}
}
#line 229 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.h"
jpc_pi_t *jpc_pi_create0(void) ;
#line 232
void jpc_pi_destroy(jpc_pi_t *pi ) ;
#line 235
int jpc_pi_addpchg(jpc_pi_t *pi , jpc_pocpchg_t *pchg ) ;
#line 238
int jpc_pi_init(jpc_pi_t *pi ) ;
#line 244
int jpc_pi_next(jpc_pi_t *pi ) ;
#line 269
jpc_pchglist_t *jpc_pchglist_create(void) ;
#line 272
void jpc_pchglist_destroy(jpc_pchglist_t *pchglist ) ;
#line 275
int jpc_pchglist_insert(jpc_pchglist_t *pchglist , int pchgno , jpc_pchg_t *pchg ) ;
#line 278
jpc_pchg_t *jpc_pchglist_remove(jpc_pchglist_t *pchglist , int pchgno ) ;
#line 281
jpc_pchg_t *jpc_pchglist_get(jpc_pchglist_t *pchglist , int pchgno ) ;
#line 284
jpc_pchglist_t *jpc_pchglist_copy(jpc_pchglist_t *pchglist ) ;
#line 287
int jpc_pchglist_numpchgs(jpc_pchglist_t *pchglist ) ;
#line 294
void jpc_pchg_destroy(jpc_pchg_t *pchg ) ;
#line 297
jpc_pchg_t *jpc_pchg_copy(jpc_pchg_t *pchg ) ;
#line 122 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqcod.h"
jpc_mqstate_t jpc_mqstates[94] ;
#line 156 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.h"
jpc_mqenc_t *jpc_mqenc_create(int maxctxs , jas_stream_t *out ) ;
#line 159
void jpc_mqenc_destroy(jpc_mqenc_t *mqenc ) ;
#line 166
void jpc_mqenc_init(jpc_mqenc_t *mqenc ) ;
#line 180
void jpc_mqenc_setctxs(jpc_mqenc_t *mqenc , int numctxs , jpc_mqctx_t *ctxs ) ;
#line 191
void jpc_mqenc_getstate(jpc_mqenc_t *mqenc , jpc_mqencstate_t *state ) ;
#line 194
int jpc_mqenc_flush(jpc_mqenc_t *mqenc , int termmode ) ;
#line 211
int jpc_mqenc_dump(jpc_mqenc_t *mqenc , FILE *out ) ;
#line 229
int jpc_mqenc_codemps2(jpc_mqenc_t *mqenc ) ;
#line 230
int jpc_mqenc_codelps(jpc_mqenc_t *mqenc ) ;
#line 234
int jpc_mqenc_putbit_func(jpc_mqenc_t *mqenc , int bit ) ;
#line 88 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2enc.h"
int jpc_enc_encpkts(jpc_enc_t *enc , jas_stream_t *out ) ;
#line 91
int jpc_enc_encpkt(jpc_enc_t *enc , jas_stream_t *out , int compno , int lvlno , int prcno ,
                   int lyrno ) ;
#line 95
void jpc_save_t2state(jpc_enc_t *enc ) ;
#line 98
void jpc_restore_t2state(jpc_enc_t *enc ) ;
#line 101
void jpc_init_t2state(jpc_enc_t *enc , int raflag ) ;
#line 104
jpc_pi_t *jpc_enc_pi_create(jpc_enc_cp_t *cp , jpc_enc_tile_t *tile ) ;
#line 94 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2enc.c"
static int jpc_putcommacode(jpc_bitstream_t *out , int n ) 
{ 
  int tmp___1 ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___8 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;

  {
  {
#line 98
  while (1) {
    while_continue: /* CIL Label */ ;
#line 98
    n --;
#line 98
    if (! (n >= 0)) {
#line 98
      goto while_break;
    }
#line 99
    (out->cnt_) --;
#line 99
    if (out->cnt_ < 0) {
#line 99
      if (! ((out->stream_)->flags_ & 7)) {
#line 99
        if ((out->stream_)->rwlimit_ >= 0L) {
#line 99
          if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 99
            (out->stream_)->flags_ |= 4;
#line 99
            tmp___3 = -1;
          } else {
#line 99
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ 
#line 99
          ((out->stream_)->cnt_) --;
#line 99
          (out->stream_)->bufmode_ |= 32;
#line 99
          if ((out->stream_)->cnt_ < 0) {
            {
#line 99
            __cil_tmp6 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 99
            tmp___2 = __cil_tmp6;
            }
          } else {
#line 99
            __cil_tmp7 = (out->stream_)->ptr_;
#line 99
            ((out->stream_)->ptr_) ++;
#line 99
            *__cil_tmp7 = (unsigned char )(out->buf_ >> 8);
#line 99
            ((out->stream_)->rwcnt_) ++;
#line 99
            tmp___2 = (int )*__cil_tmp7;
          }
#line 99
          tmp___3 = tmp___2;
        }
#line 99
        tmp___4 = tmp___3;
      } else {
#line 99
        tmp___4 = -1;
      }
#line 99
      if (tmp___4 == -1) {
#line 99
        tmp___5 = -1;
      } else {
#line 99
        tmp___5 = 1;
      }
#line 99
      out->buf_ |= (unsigned long )(1 << out->cnt_);
#line 99
      if (out->buf_ == 65280UL) {
#line 99
        tmp___1 = 6;
      } else {
#line 99
        tmp___1 = 7;
      }
#line 99
      out->cnt_ = tmp___1;
#line 99
      out->buf_ = (out->buf_ << 8) & 65535UL;
#line 99
      tmp___6 = tmp___5;
    } else {
#line 99
      out->buf_ |= (unsigned long )(1 << out->cnt_);
#line 99
      tmp___6 = 1;
    }
#line 99
    if (tmp___6 == -1) {
#line 100
      return (-1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 103
  (out->cnt_) --;
#line 103
  if (out->cnt_ < 0) {
#line 103
    if (! ((out->stream_)->flags_ & 7)) {
#line 103
      if ((out->stream_)->rwlimit_ >= 0L) {
#line 103
        if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 103
          (out->stream_)->flags_ |= 4;
#line 103
          tmp___10 = -1;
        } else {
#line 103
          goto _L___1;
        }
      } else {
        _L___1: /* CIL Label */ 
#line 103
        ((out->stream_)->cnt_) --;
#line 103
        (out->stream_)->bufmode_ |= 32;
#line 103
        if ((out->stream_)->cnt_ < 0) {
          {
#line 103
          __cil_tmp15 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 103
          tmp___9 = __cil_tmp15;
          }
        } else {
#line 103
          __cil_tmp16 = (out->stream_)->ptr_;
#line 103
          ((out->stream_)->ptr_) ++;
#line 103
          *__cil_tmp16 = (unsigned char )(out->buf_ >> 8);
#line 103
          ((out->stream_)->rwcnt_) ++;
#line 103
          tmp___9 = (int )*__cil_tmp16;
        }
#line 103
        tmp___10 = tmp___9;
      }
#line 103
      tmp___11 = tmp___10;
    } else {
#line 103
      tmp___11 = -1;
    }
#line 103
    if (tmp___11 == -1) {
#line 103
      tmp___12 = -1;
    } else {
#line 103
      tmp___12 = 0;
    }
#line 103
    out->buf_ = out->buf_;
#line 103
    if (out->buf_ == 65280UL) {
#line 103
      tmp___8 = 6;
    } else {
#line 103
      tmp___8 = 7;
    }
#line 103
    out->cnt_ = tmp___8;
#line 103
    out->buf_ = (out->buf_ << 8) & 65535UL;
#line 103
    tmp___13 = tmp___12;
  } else {
#line 103
    out->buf_ = out->buf_;
#line 103
    tmp___13 = 0;
  }
#line 103
  if (tmp___13 == -1) {
#line 104
    return (-1);
  }
#line 106
  return (0);
}
}
#line 109 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2enc.c"
static int jpc_putnumnewpasses(jpc_bitstream_t *out , int n ) 
{ 
  int ret ;
  int tmp___0 ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
#line 113
  if (n <= 0) {
#line 114
    return (-1);
  } else
#line 115
  if (n == 1) {
#line 116
    (out->cnt_) --;
#line 116
    if (out->cnt_ < 0) {
#line 116
      if (! ((out->stream_)->flags_ & 7)) {
#line 116
        if ((out->stream_)->rwlimit_ >= 0L) {
#line 116
          if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 116
            (out->stream_)->flags_ |= 4;
#line 116
            tmp___2 = -1;
          } else {
#line 116
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ 
#line 116
          ((out->stream_)->cnt_) --;
#line 116
          (out->stream_)->bufmode_ |= 32;
#line 116
          if ((out->stream_)->cnt_ < 0) {
            {
#line 116
            __cil_tmp6 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 116
            tmp___1 = __cil_tmp6;
            }
          } else {
#line 116
            __cil_tmp7 = (out->stream_)->ptr_;
#line 116
            ((out->stream_)->ptr_) ++;
#line 116
            *__cil_tmp7 = (unsigned char )(out->buf_ >> 8);
#line 116
            ((out->stream_)->rwcnt_) ++;
#line 116
            tmp___1 = (int )*__cil_tmp7;
          }
#line 116
          tmp___2 = tmp___1;
        }
#line 116
        tmp___3 = tmp___2;
      } else {
#line 116
        tmp___3 = -1;
      }
#line 116
      if (tmp___3 == -1) {
#line 116
        tmp___4 = -1;
      } else {
#line 116
        tmp___4 = 0;
      }
#line 116
      out->buf_ = out->buf_;
#line 116
      if (out->buf_ == 65280UL) {
#line 116
        tmp___0 = 6;
      } else {
#line 116
        tmp___0 = 7;
      }
#line 116
      out->cnt_ = tmp___0;
#line 116
      out->buf_ = (out->buf_ << 8) & 65535UL;
#line 116
      tmp___5 = tmp___4;
    } else {
#line 116
      out->buf_ = out->buf_;
#line 116
      tmp___5 = 0;
    }
#line 116
    ret = tmp___5;
  } else
#line 117
  if (n == 2) {
    {
#line 118
    ret = jpc_bitstream_putbits(out, 2, 2L);
    }
  } else
#line 119
  if (n <= 5) {
    {
#line 120
    ret = jpc_bitstream_putbits(out, 4, (long )(12 | (n - 3)));
    }
  } else
#line 121
  if (n <= 36) {
    {
#line 122
    ret = jpc_bitstream_putbits(out, 9, (long )(480 | (n - 6)));
    }
  } else
#line 123
  if (n <= 164) {
    {
#line 124
    ret = jpc_bitstream_putbits(out, 16, (long )(65408 | (n - 37)));
    }
  } else {
#line 129
    return (-1);
  }
#line 132
  if (ret != -1) {
#line 132
    tmp___6 = 0;
  } else {
#line 132
    tmp___6 = -1;
  }
#line 132
  return (tmp___6);
}
}
#line 135 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2enc.c"
int jpc_enc_encpkts(jpc_enc_t *enc , jas_stream_t *out ) 
{ 
  jpc_enc_tile_t *tile ;
  jpc_pi_t *pi ;
  int __cil_tmp5 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;

  {
  {
#line 140
  tile = enc->curtile;
#line 142
  jpc_init_t2state(enc, 0);
#line 143
  pi = tile->pi;
#line 144
  jpc_pi_init(pi);
#line 146
  __cil_tmp5 = jpc_pi_next(pi);
  }
#line 146
  if (! __cil_tmp5) {
    {
#line 147
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 148
      __cil_tmp10 = jpc_enc_encpkt(enc, out, pi->compno, pi->rlvlno, pi->prcno, pi->lyrno);
      }
#line 148
      if (__cil_tmp10) {
#line 150
        return (-1);
      }
      {
#line 152
      __cil_tmp11 = jpc_pi_next(pi);
      }
#line 152
      if (__cil_tmp11) {
#line 153
        goto while_break;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  }
#line 158
  return (0);
}
}
#line 161 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2enc.c"
int jpc_enc_encpkt(jpc_enc_t *enc , jas_stream_t *out , int compno , int lvlno , int prcno ,
                   int lyrno ) 
{ 
  jpc_enc_tcmpt_t *comp ;
  jpc_enc_rlvl_t *lvl ;
  jpc_enc_band_t *band ;
  jpc_enc_band_t *endbands ;
  jpc_enc_cblk_t *cblk ;
  jpc_enc_cblk_t *endcblks ;
  jpc_bitstream_t *outb ;
  jpc_enc_pass_t *pass ;
  jpc_enc_pass_t *startpass ;
  jpc_enc_pass_t *lastpass ;
  jpc_enc_pass_t *endpass ;
  jpc_enc_pass_t *endpasses ;
  int i ;
  int included ;
  int ret ;
  jpc_tagtreenode_t *leaf ;
  int n ;
  int t1 ;
  int t2 ;
  int adjust ;
  int maxadjust ;
  int datalen ;
  int numnewpasses ;
  int passcount ;
  jpc_enc_tile_t *tile ;
  jpc_enc_prc_t *prc ;
  jpc_enc_cp_t *cp ;
  jpc_ms_t *ms ;
  int __cil_tmp36 ;
  int tmp___1 ;
  int __cil_tmp41 ;
  unsigned char *__cil_tmp42 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int __cil_tmp52 ;
  int tmp___9 ;
  int __cil_tmp55 ;
  unsigned char *__cil_tmp56 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int __cil_tmp65 ;
  int __cil_tmp66 ;
  int __cil_tmp67 ;
  int tmp___16 ;
  int tmp___17 ;
  int __cil_tmp70 ;
  int __cil_tmp74 ;
  int __cil_tmp75 ;
  int __cil_tmp77 ;
  int __cil_tmp81 ;
  jpc_enc_pass_t *tmp___21 ;
  int tmp___22 ;
  int tmp___23 ;

  {
#line 192
  tile = enc->curtile;
#line 193
  cp = enc->cp;
#line 195
  if ((int )cp->tcp.csty & 2) {
    {
#line 196
    ms = jpc_ms_create(65425);
    }
#line 196
    if (! ms) {
#line 197
      return (-1);
    }
    {
#line 199
    ms->parms.sop.seqno = (uint_fast16_t )(tile->pi)->pktno;
#line 200
    __cil_tmp36 = jpc_putms(out, enc->cstate, ms);
    }
#line 200
    if (__cil_tmp36) {
#line 201
      return (-1);
    }
    {
#line 203
    jpc_ms_destroy(ms);
    }
  }
  {
#line 206
  outb = jpc_bitstream_sopen(out, (char *)"w+]\371PV");
#line 209
  (outb->cnt_) --;
  }
#line 209
  if (outb->cnt_ < 0) {
#line 209
    if (! ((outb->stream_)->flags_ & 7)) {
#line 209
      if ((outb->stream_)->rwlimit_ >= 0L) {
#line 209
        if ((outb->stream_)->rwcnt_ >= (outb->stream_)->rwlimit_) {
#line 209
          (outb->stream_)->flags_ |= 4;
#line 209
          tmp___3 = -1;
        } else {
#line 209
          goto _L___1;
        }
      } else {
        _L___1: /* CIL Label */ 
#line 209
        ((outb->stream_)->cnt_) --;
#line 209
        (outb->stream_)->bufmode_ |= 32;
#line 209
        if ((outb->stream_)->cnt_ < 0) {
          {
#line 209
          __cil_tmp41 = jas_stream_flushbuf(outb->stream_, (int )((unsigned char )(outb->buf_ >> 8)));
#line 209
          tmp___2 = __cil_tmp41;
          }
        } else {
#line 209
          __cil_tmp42 = (outb->stream_)->ptr_;
#line 209
          ((outb->stream_)->ptr_) ++;
#line 209
          *__cil_tmp42 = (unsigned char )(outb->buf_ >> 8);
#line 209
          ((outb->stream_)->rwcnt_) ++;
#line 209
          tmp___2 = (int )*__cil_tmp42;
        }
#line 209
        tmp___3 = tmp___2;
      }
#line 209
      tmp___4 = tmp___3;
    } else {
#line 209
      tmp___4 = -1;
    }
#line 209
    if (tmp___4 == -1) {
#line 209
      tmp___5 = -1;
    } else {
#line 209
      tmp___5 = 1;
    }
#line 209
    outb->buf_ |= (unsigned long )(1 << outb->cnt_);
#line 209
    if (outb->buf_ == 65280UL) {
#line 209
      tmp___1 = 6;
    } else {
#line 209
      tmp___1 = 7;
    }
#line 209
    outb->cnt_ = tmp___1;
#line 209
    outb->buf_ = (outb->buf_ << 8) & 65535UL;
#line 209
    tmp___6 = tmp___5;
  } else {
#line 209
    outb->buf_ |= (unsigned long )(1 << outb->cnt_);
#line 209
    tmp___6 = 1;
  }
#line 209
  if (tmp___6 == -1) {
#line 210
    return (-1);
  }
#line 215
  comp = tile->tcmpts + compno;
#line 216
  lvl = comp->rlvls + lvlno;
#line 217
  endbands = lvl->bands + lvl->numbands;
#line 218
  band = lvl->bands;
  {
#line 218
  while (1) {
    while_continue___8: /* CIL Label */ ;
    while_continue: ;
#line 218
    if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 218
      goto while_break;
    }
#line 219
    if (! band->data) {
#line 220
      goto while_continue;
    }
#line 222
    prc = band->prcs + prcno;
#line 223
    if (! prc->cblks) {
#line 224
      goto while_continue;
    }
#line 227
    endcblks = prc->cblks + prc->numcblks;
#line 228
    cblk = prc->cblks;
    {
#line 228
    while (1) {
      while_continue___9: /* CIL Label */ ;

#line 228
      if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 228
        goto while_break___0;
      }
#line 229
      if (! lyrno) {
        {
#line 230
        leaf = jpc_tagtree_getleaf(prc->nlibtree, (int )(cblk - prc->cblks));
#line 231
        jpc_tagtree_setvalue(prc->nlibtree, leaf, cblk->numimsbs);
        }
      }
#line 233
      pass = cblk->curpass;
#line 234
      if (pass) {
#line 234
        if (pass->lyrno == lyrno) {
#line 234
          tmp___22 = 1;
        } else {
#line 234
          tmp___22 = 0;
        }
      } else {
#line 234
        tmp___22 = 0;
      }
#line 234
      included = tmp___22;
#line 235
      if (included) {
#line 235
        if (! cblk->numencpasses) {
          {
#line 237
          leaf = jpc_tagtree_getleaf(prc->incltree, (int )(cblk - prc->cblks));
#line 239
          jpc_tagtree_setvalue(prc->incltree, leaf, pass->lyrno);
          }
        }
      }
#line 228
      cblk ++;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___0: 
#line 243
    endcblks = prc->cblks + prc->numcblks;
#line 244
    cblk = prc->cblks;
    {
#line 244
    while (1) {
      while_continue___10: /* CIL Label */ ;
      while_continue___1: ;
#line 244
      if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 244
        goto while_break___1;
      }
#line 245
      pass = cblk->curpass;
#line 246
      if (pass) {
#line 246
        if (pass->lyrno == lyrno) {
#line 246
          tmp___23 = 1;
        } else {
#line 246
          tmp___23 = 0;
        }
      } else {
#line 246
        tmp___23 = 0;
      }
#line 246
      included = tmp___23;
#line 247
      if (! cblk->numencpasses) {
        {
#line 248
        leaf = jpc_tagtree_getleaf(prc->incltree, (int )(cblk - prc->cblks));
#line 250
        __cil_tmp52 = jpc_tagtree_encode(prc->incltree, leaf, lyrno + 1, outb);
        }
#line 250
        if (__cil_tmp52 < 0) {
#line 252
          return (-1);
        }
      } else {
#line 255
        (outb->cnt_) --;
#line 255
        if (outb->cnt_ < 0) {
#line 255
          if (! ((outb->stream_)->flags_ & 7)) {
#line 255
            if ((outb->stream_)->rwlimit_ >= 0L) {
#line 255
              if ((outb->stream_)->rwcnt_ >= (outb->stream_)->rwlimit_) {
#line 255
                (outb->stream_)->flags_ |= 4;
#line 255
                tmp___11 = -1;
              } else {
#line 255
                goto _L___2;
              }
            } else {
              _L___2: /* CIL Label */ 
#line 255
              ((outb->stream_)->cnt_) --;
#line 255
              (outb->stream_)->bufmode_ |= 32;
#line 255
              if ((outb->stream_)->cnt_ < 0) {
                {
#line 255
                __cil_tmp55 = jas_stream_flushbuf(outb->stream_, (int )((unsigned char )(outb->buf_ >> 8)));
#line 255
                tmp___10 = __cil_tmp55;
                }
              } else {
#line 255
                __cil_tmp56 = (outb->stream_)->ptr_;
#line 255
                ((outb->stream_)->ptr_) ++;
#line 255
                *__cil_tmp56 = (unsigned char )(outb->buf_ >> 8);
#line 255
                ((outb->stream_)->rwcnt_) ++;
#line 255
                tmp___10 = (int )*__cil_tmp56;
              }
#line 255
              tmp___11 = tmp___10;
            }
#line 255
            tmp___12 = tmp___11;
          } else {
#line 255
            tmp___12 = -1;
          }
#line 255
          if (tmp___12 == -1) {
#line 255
            tmp___13 = -1;
          } else {
#line 255
            tmp___13 = included & 1;
          }
#line 255
          outb->buf_ |= (unsigned long )((included & 1) << outb->cnt_);
#line 255
          if (outb->buf_ == 65280UL) {
#line 255
            tmp___9 = 6;
          } else {
#line 255
            tmp___9 = 7;
          }
#line 255
          outb->cnt_ = tmp___9;
#line 255
          outb->buf_ = (outb->buf_ << 8) & 65535UL;
#line 255
          tmp___14 = tmp___13;
        } else {
#line 255
          outb->buf_ |= (unsigned long )((included & 1) << outb->cnt_);
#line 255
          tmp___14 = included & 1;
        }
#line 255
        if (tmp___14 == -1) {
#line 256
          return (-1);
        }
      }
#line 260
      if (! included) {
#line 261
        goto while_continue___1;
      }
#line 263
      if (! cblk->numencpasses) {
        {
#line 264
        i = 1;
#line 265
        leaf = jpc_tagtree_getleaf(prc->nlibtree, (int )(cblk - prc->cblks));
        }
        {
#line 266
        while (1) {
          while_continue___11: /* CIL Label */ ;
          {
#line 267
          ret = jpc_tagtree_encode(prc->nlibtree, leaf, i, outb);
          }
#line 267
          if (ret < 0) {
#line 268
            return (-1);
          }
#line 270
          if (ret) {
#line 271
            goto while_break___2;
          }
#line 273
          i ++;
        }
        while_break___12: /* CIL Label */ ;
        }
        while_break___2: ;
      }
#line 278
      endpasses = cblk->passes + cblk->numpasses;
#line 279
      startpass = pass;
#line 280
      endpass = startpass;
      {
#line 281
      while (1) {
        while_continue___12: /* CIL Label */ ;

#line 281
        if ((unsigned long )endpass != (unsigned long )endpasses) {
#line 281
          if (! (endpass->lyrno == lyrno)) {
#line 281
            goto while_break___3;
          }
        } else {
#line 281
          goto while_break___3;
        }
#line 282
        endpass ++;
      }
      while_break___13: /* CIL Label */ ;
      }
      while_break___3: 
      {
#line 284
      numnewpasses = (int )(endpass - startpass);
#line 285
      __cil_tmp65 = jpc_putnumnewpasses(outb, numnewpasses);
      }
#line 285
      if (__cil_tmp65) {
#line 286
        return (-1);
      }
#line 290
      lastpass = endpass - 1;
#line 291
      n = startpass->start;
#line 292
      passcount = 1;
#line 293
      maxadjust = 0;
#line 294
      pass = startpass;
      {
#line 294
      while (1) {
        while_continue___13: /* CIL Label */ ;

#line 294
        if (! ((unsigned long )pass != (unsigned long )endpass)) {
#line 294
          goto while_break___4;
        }
#line 295
        if ((unsigned long )pass == (unsigned long )lastpass) {
          _L: 
          {
#line 296
          datalen = pass->end - n;
#line 297
          __cil_tmp66 = jpc_firstone(datalen);
#line 297
          t1 = __cil_tmp66 + 1;
#line 298
          __cil_tmp67 = jpc_floorlog2(passcount);
#line 298
          t2 = cblk->numlenbits + __cil_tmp67;
          }
#line 299
          if (t1 - t2 > 0) {
#line 299
            tmp___16 = t1 - t2;
          } else {
#line 299
            tmp___16 = 0;
          }
#line 299
          adjust = tmp___16;
#line 300
          if (adjust > maxadjust) {
#line 300
            tmp___17 = adjust;
          } else {
#line 300
            tmp___17 = maxadjust;
          }
#line 300
          maxadjust = tmp___17;
#line 301
          n += datalen;
#line 302
          passcount = 1;
        } else
#line 295
        if (pass->term) {
#line 295
          goto _L;
        } else {
#line 304
          passcount ++;
        }
#line 294
        pass ++;
      }
      while_break___14: /* CIL Label */ ;
      }
      while_break___4: 
      {
#line 307
      __cil_tmp70 = jpc_putcommacode(outb, maxadjust);
      }
#line 307
      if (__cil_tmp70) {
#line 308
        return (-1);
      }
#line 310
      cblk->numlenbits += maxadjust;
#line 312
      lastpass = endpass - 1;
#line 313
      n = startpass->start;
#line 314
      passcount = 1;
#line 315
      pass = startpass;
      {
#line 315
      while (1) {
        while_continue___14: /* CIL Label */ ;

#line 315
        if (! ((unsigned long )pass != (unsigned long )endpass)) {
#line 315
          goto while_break___5;
        }
#line 316
        if ((unsigned long )pass == (unsigned long )lastpass) {
          _L___0: 
          {
#line 317
          datalen = pass->end - n;
#line 319
          __cil_tmp74 = jpc_floorlog2(passcount);
#line 319
          __cil_tmp75 = jpc_bitstream_putbits(outb, cblk->numlenbits + __cil_tmp74,
                                              (long )datalen);
          }
#line 319
          if (__cil_tmp75 == -1) {
#line 320
            return (-1);
          }
#line 322
          n += datalen;
#line 323
          passcount = 1;
        } else
#line 316
        if (pass->term) {
#line 316
          goto _L___0;
        } else {
#line 325
          passcount ++;
        }
#line 315
        pass ++;
      }
      while_break___15: /* CIL Label */ ;
      }
      while_break___5: 
#line 244
      cblk ++;
    }
    while_break___11: /* CIL Label */ ;
    }
    while_break___1: 
#line 218
    band ++;
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break: 
  {
#line 331
  jpc_bitstream_outalign(outb, 0);
#line 332
  jpc_bitstream_close(outb);
  }
#line 334
  if ((int )cp->tcp.csty & 4) {
    {
#line 335
    ms = jpc_ms_create(65426);
    }
#line 335
    if (! ms) {
#line 336
      return (-1);
    }
    {
#line 338
    __cil_tmp77 = jpc_putms(out, enc->cstate, ms);
    }
#line 338
    if (__cil_tmp77) {
#line 339
      return (-1);
    }
    {
#line 341
    jpc_ms_destroy(ms);
    }
  }
#line 344
  comp = tile->tcmpts + compno;
#line 345
  lvl = comp->rlvls + lvlno;
#line 346
  endbands = lvl->bands + lvl->numbands;
#line 347
  band = lvl->bands;
  {
#line 347
  while (1) {
    while_continue___15: /* CIL Label */ ;
    while_continue___6: ;
#line 347
    if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 347
      goto while_break___6;
    }
#line 348
    if (! band->data) {
#line 349
      goto while_continue___6;
    }
#line 351
    prc = band->prcs + prcno;
#line 352
    if (! prc->cblks) {
#line 353
      goto while_continue___6;
    }
#line 355
    endcblks = prc->cblks + prc->numcblks;
#line 356
    cblk = prc->cblks;
    {
#line 356
    while (1) {
      while_continue___16: /* CIL Label */ ;
      while_continue___7: ;
#line 356
      if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 356
        goto while_break___7;
      }
#line 357
      pass = cblk->curpass;
#line 359
      if (! pass) {
#line 360
        goto while_continue___7;
      }
#line 362
      if (pass->lyrno != lyrno) {
#line 364
        goto while_continue___7;
      }
#line 367
      endpasses = cblk->passes + cblk->numpasses;
#line 368
      startpass = pass;
#line 369
      endpass = startpass;
      {
#line 370
      while (1) {
        while_continue___17: /* CIL Label */ ;

#line 370
        if ((unsigned long )endpass != (unsigned long )endpasses) {
#line 370
          if (! (endpass->lyrno == lyrno)) {
#line 370
            goto while_break___8;
          }
        } else {
#line 370
          goto while_break___8;
        }
#line 371
        endpass ++;
      }
      while_break___18: /* CIL Label */ ;
      }
      while_break___8: 
      {
#line 373
      lastpass = endpass - 1;
#line 374
      numnewpasses = (int )(endpass - startpass);
#line 376
      jas_stream_seek(cblk->stream, (long )startpass->start, 0);
#line 378
      __cil_tmp81 = jas_stream_copy(out, cblk->stream, lastpass->end - startpass->start);
      }
#line 378
      if (__cil_tmp81) {
#line 379
        return (-1);
      }
#line 381
      if ((unsigned long )endpass != (unsigned long )endpasses) {
#line 381
        tmp___21 = endpass;
      } else {
#line 381
        tmp___21 = (jpc_enc_pass_t *)0;
      }
#line 381
      cblk->curpass = tmp___21;
#line 382
      cblk->numencpasses += numnewpasses;
#line 356
      cblk ++;
    }
    while_break___17: /* CIL Label */ ;
    }
    while_break___7: 
#line 347
    band ++;
  }
  while_break___16: /* CIL Label */ ;
  }
  while_break___6: ;
#line 387
  return (0);
}
}
#line 390 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2enc.c"
void jpc_save_t2state(jpc_enc_t *enc ) 
{ 
  jpc_enc_tcmpt_t *comp ;
  jpc_enc_tcmpt_t *endcomps ;
  jpc_enc_rlvl_t *lvl ;
  jpc_enc_rlvl_t *endlvls ;
  jpc_enc_band_t *band ;
  jpc_enc_band_t *endbands ;
  jpc_enc_cblk_t *cblk ;
  jpc_enc_cblk_t *endcblks ;
  jpc_enc_tile_t *tile ;
  int prcno ;
  jpc_enc_prc_t *prc ;

  {
#line 406
  tile = enc->curtile;
#line 408
  endcomps = tile->tcmpts + tile->numtcmpts;
#line 409
  comp = tile->tcmpts;
  {
#line 409
  while (1) {
    while_continue: /* CIL Label */ ;

#line 409
    if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 409
      goto while_break;
    }
#line 410
    endlvls = comp->rlvls + comp->numrlvls;
#line 411
    lvl = comp->rlvls;
    {
#line 411
    while (1) {
      while_continue___3: /* CIL Label */ ;
      while_continue___0: ;
#line 411
      if (! ((unsigned long )lvl != (unsigned long )endlvls)) {
#line 411
        goto while_break___0;
      }
#line 412
      if (! lvl->bands) {
#line 413
        goto while_continue___0;
      }
#line 415
      endbands = lvl->bands + lvl->numbands;
#line 416
      band = lvl->bands;
      {
#line 416
      while (1) {
        while_continue___4: /* CIL Label */ ;
        while_continue___1: ;
#line 416
        if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 416
          goto while_break___1;
        }
#line 417
        if (! band->data) {
#line 418
          goto while_continue___1;
        }
#line 420
        prc = band->prcs;
#line 420
        prcno = 0;
        {
#line 420
        while (1) {
          while_continue___5: /* CIL Label */ ;
          while_continue___2: ;
#line 420
          if (! (prcno < lvl->numprcs)) {
#line 420
            goto while_break___2;
          }
#line 421
          if (! prc->cblks) {
#line 422
            goto while_continue___2;
          }
          {
#line 424
          jpc_tagtree_copy(prc->savincltree, prc->incltree);
#line 425
          jpc_tagtree_copy(prc->savnlibtree, prc->nlibtree);
#line 426
          endcblks = prc->cblks + prc->numcblks;
#line 427
          cblk = prc->cblks;
          }
          {
#line 427
          while (1) {
            while_continue___6: /* CIL Label */ ;

#line 427
            if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 427
              goto while_break___3;
            }
#line 428
            cblk->savedcurpass = cblk->curpass;
#line 429
            cblk->savednumencpasses = cblk->numencpasses;
#line 430
            cblk->savednumlenbits = cblk->numlenbits;
#line 427
            cblk ++;
          }
          while_break___8: /* CIL Label */ ;
          }
          while_break___3: 
#line 420
          prc ++;
#line 420
          prcno ++;
        }
        while_break___7: /* CIL Label */ ;
        }
        while_break___2: 
#line 416
        band ++;
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___1: 
#line 411
      lvl ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: 
#line 409
    comp ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: ;
#line 413
  return;
}
}
#line 439 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2enc.c"
void jpc_restore_t2state(jpc_enc_t *enc ) 
{ 
  jpc_enc_tcmpt_t *comp ;
  jpc_enc_tcmpt_t *endcomps ;
  jpc_enc_rlvl_t *lvl ;
  jpc_enc_rlvl_t *endlvls ;
  jpc_enc_band_t *band ;
  jpc_enc_band_t *endbands ;
  jpc_enc_cblk_t *cblk ;
  jpc_enc_cblk_t *endcblks ;
  jpc_enc_tile_t *tile ;
  int prcno ;
  jpc_enc_prc_t *prc ;

  {
#line 454
  tile = enc->curtile;
#line 456
  endcomps = tile->tcmpts + tile->numtcmpts;
#line 457
  comp = tile->tcmpts;
  {
#line 457
  while (1) {
    while_continue: /* CIL Label */ ;

#line 457
    if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 457
      goto while_break;
    }
#line 458
    endlvls = comp->rlvls + comp->numrlvls;
#line 459
    lvl = comp->rlvls;
    {
#line 459
    while (1) {
      while_continue___3: /* CIL Label */ ;
      while_continue___0: ;
#line 459
      if (! ((unsigned long )lvl != (unsigned long )endlvls)) {
#line 459
        goto while_break___0;
      }
#line 460
      if (! lvl->bands) {
#line 461
        goto while_continue___0;
      }
#line 463
      endbands = lvl->bands + lvl->numbands;
#line 464
      band = lvl->bands;
      {
#line 464
      while (1) {
        while_continue___4: /* CIL Label */ ;
        while_continue___1: ;
#line 464
        if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 464
          goto while_break___1;
        }
#line 465
        if (! band->data) {
#line 466
          goto while_continue___1;
        }
#line 468
        prc = band->prcs;
#line 468
        prcno = 0;
        {
#line 468
        while (1) {
          while_continue___5: /* CIL Label */ ;
          while_continue___2: ;
#line 468
          if (! (prcno < lvl->numprcs)) {
#line 468
            goto while_break___2;
          }
#line 469
          if (! prc->cblks) {
#line 470
            goto while_continue___2;
          }
          {
#line 472
          jpc_tagtree_copy(prc->incltree, prc->savincltree);
#line 473
          jpc_tagtree_copy(prc->nlibtree, prc->savnlibtree);
#line 474
          endcblks = prc->cblks + prc->numcblks;
#line 475
          cblk = prc->cblks;
          }
          {
#line 475
          while (1) {
            while_continue___6: /* CIL Label */ ;

#line 475
            if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 475
              goto while_break___3;
            }
#line 476
            cblk->curpass = cblk->savedcurpass;
#line 477
            cblk->numencpasses = cblk->savednumencpasses;
#line 478
            cblk->numlenbits = cblk->savednumlenbits;
#line 475
            cblk ++;
          }
          while_break___8: /* CIL Label */ ;
          }
          while_break___3: 
#line 468
          prc ++;
#line 468
          prcno ++;
        }
        while_break___7: /* CIL Label */ ;
        }
        while_break___2: 
#line 464
        band ++;
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___1: 
#line 459
      lvl ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: 
#line 457
    comp ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: ;
#line 461
  return;
}
}
#line 486 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2enc.c"
void jpc_init_t2state(jpc_enc_t *enc , int raflag ) 
{ 
  jpc_enc_tcmpt_t *comp ;
  jpc_enc_tcmpt_t *endcomps ;
  jpc_enc_rlvl_t *lvl ;
  jpc_enc_rlvl_t *endlvls ;
  jpc_enc_band_t *band ;
  jpc_enc_band_t *endbands ;
  jpc_enc_cblk_t *cblk ;
  jpc_enc_cblk_t *endcblks ;
  jpc_enc_pass_t *pass ;
  jpc_enc_pass_t *endpasses ;
  jpc_tagtreenode_t *leaf ;
  jpc_enc_tile_t *tile ;
  int prcno ;
  jpc_enc_prc_t *prc ;
  int __cil_tmp17 ;
  jpc_enc_pass_t *tmp___0 ;

  {
#line 505
  tile = enc->curtile;
#line 507
  endcomps = tile->tcmpts + tile->numtcmpts;
#line 508
  comp = tile->tcmpts;
  {
#line 508
  while (1) {
    while_continue: /* CIL Label */ ;

#line 508
    if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 508
      goto while_break;
    }
#line 509
    endlvls = comp->rlvls + comp->numrlvls;
#line 510
    lvl = comp->rlvls;
    {
#line 510
    while (1) {
      while_continue___3: /* CIL Label */ ;
      while_continue___0: ;
#line 510
      if (! ((unsigned long )lvl != (unsigned long )endlvls)) {
#line 510
        goto while_break___0;
      }
#line 511
      if (! lvl->bands) {
#line 512
        goto while_continue___0;
      }
#line 514
      endbands = lvl->bands + lvl->numbands;
#line 515
      band = lvl->bands;
      {
#line 515
      while (1) {
        while_continue___4: /* CIL Label */ ;
        while_continue___1: ;
#line 515
        if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 515
          goto while_break___1;
        }
#line 516
        if (! band->data) {
#line 517
          goto while_continue___1;
        }
#line 519
        prc = band->prcs;
#line 519
        prcno = 0;
        {
#line 519
        while (1) {
          while_continue___5: /* CIL Label */ ;
          while_continue___2: ;
#line 519
          if (! (prcno < lvl->numprcs)) {
#line 519
            goto while_break___2;
          }
#line 520
          if (! prc->cblks) {
#line 521
            goto while_continue___2;
          }
          {
#line 523
          jpc_tagtree_reset(prc->incltree);
#line 524
          jpc_tagtree_reset(prc->nlibtree);
#line 525
          endcblks = prc->cblks + prc->numcblks;
#line 526
          cblk = prc->cblks;
          }
          {
#line 526
          while (1) {
            while_continue___6: /* CIL Label */ ;

#line 526
            if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 526
              goto while_break___3;
            }
            {
#line 527
            __cil_tmp17 = jas_stream_rewind(cblk->stream);
            }
#line 530
            if (cblk->numpasses > 0) {
#line 530
              tmp___0 = cblk->passes;
            } else {
#line 530
              tmp___0 = (jpc_enc_pass_t *)0;
            }
            {
#line 530
            cblk->curpass = tmp___0;
#line 531
            cblk->numencpasses = 0;
#line 532
            cblk->numlenbits = 3;
#line 533
            cblk->numimsbs = band->numbps - cblk->numbps;
#line 535
            leaf = jpc_tagtree_getleaf(prc->nlibtree, (int )(cblk - prc->cblks));
#line 536
            jpc_tagtree_setvalue(prc->nlibtree, leaf, cblk->numimsbs);
            }
#line 538
            if (raflag) {
#line 539
              endpasses = cblk->passes + cblk->numpasses;
#line 540
              pass = cblk->passes;
              {
#line 540
              while (1) {
                while_continue___7: /* CIL Label */ ;

#line 540
                if (! ((unsigned long )pass != (unsigned long )endpasses)) {
#line 540
                  goto while_break___4;
                }
#line 541
                pass->lyrno = -1;
#line 542
                pass->lyrno = 0;
#line 540
                pass ++;
              }
              while_break___10: /* CIL Label */ ;
              }
              while_break___4: ;
            }
#line 526
            cblk ++;
          }
          while_break___9: /* CIL Label */ ;
          }
          while_break___3: 
#line 519
          prc ++;
#line 519
          prcno ++;
        }
        while_break___8: /* CIL Label */ ;
        }
        while_break___2: 
#line 515
        band ++;
      }
      while_break___7: /* CIL Label */ ;
      }
      while_break___1: 
#line 510
      lvl ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: 
#line 508
    comp ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: ;
#line 512
  return;
}
}
#line 553 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2enc.c"
jpc_pi_t *jpc_enc_pi_create(jpc_enc_cp_t *cp , jpc_enc_tile_t *tile ) 
{ 
  jpc_pi_t *pi ;
  int compno ;
  jpc_picomp_t *picomp ;
  jpc_pirlvl_t *pirlvl ;
  jpc_enc_tcmpt_t *tcomp ;
  int rlvlno ;
  jpc_enc_rlvl_t *rlvl ;
  int prcno ;
  int *prclyrno ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 565
  pi = jpc_pi_create0();
  }
#line 565
  if (! pi) {
#line 566
    return ((jpc_pi_t *)0);
  }
  {
#line 568
  pi->pktno = -1;
#line 569
  pi->numcomps = (int )cp->numcmpts;
#line 570
  tmp = jas_alloc2((size_t )pi->numcomps, sizeof(jpc_picomp_t ));
#line 570
  pi->picomps = (jpc_picomp_t *)tmp;
  }
#line 570
  if (! pi->picomps) {
    {
#line 571
    jpc_pi_destroy(pi);
    }
#line 572
    return ((jpc_pi_t *)0);
  }
#line 574
  picomp = pi->picomps;
#line 574
  compno = 0;
  {
#line 574
  while (1) {
    while_continue: /* CIL Label */ ;

#line 574
    if (! (compno < pi->numcomps)) {
#line 574
      goto while_break;
    }
#line 576
    picomp->pirlvls = (jpc_pirlvl_t *)0;
#line 574
    picomp ++;
#line 574
    compno ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break: 
#line 579
  picomp = pi->picomps;
#line 579
  tcomp = tile->tcmpts;
#line 579
  compno = 0;
  {
#line 579
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 579
    if (! (compno < pi->numcomps)) {
#line 579
      goto while_break___0;
    }
    {
#line 581
    picomp->numrlvls = tcomp->numrlvls;
#line 582
    tmp___0 = jas_alloc2((size_t )picomp->numrlvls, sizeof(jpc_pirlvl_t ));
#line 582
    picomp->pirlvls = (jpc_pirlvl_t *)tmp___0;
    }
#line 582
    if (! picomp->pirlvls) {
      {
#line 584
      jpc_pi_destroy(pi);
      }
#line 585
      return ((jpc_pi_t *)0);
    }
#line 587
    pirlvl = picomp->pirlvls;
#line 587
    rlvlno = 0;
    {
#line 587
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 587
      if (! (rlvlno < picomp->numrlvls)) {
#line 587
        goto while_break___1;
      }
#line 589
      pirlvl->prclyrnos = (int *)0;
#line 588
      pirlvl ++;
#line 588
      rlvlno ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___1: 
#line 591
    rlvl = tcomp->rlvls;
#line 591
    pirlvl = picomp->pirlvls;
#line 591
    rlvlno = 0;
    {
#line 591
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 591
      if (! (rlvlno < picomp->numrlvls)) {
#line 591
        goto while_break___2;
      }
#line 594
      pirlvl->numprcs = rlvl->numprcs;
#line 595
      if (rlvl->numprcs) {
        {
#line 596
        tmp___1 = jas_alloc2((size_t )pirlvl->numprcs, sizeof(long ));
#line 596
        pirlvl->prclyrnos = (int *)tmp___1;
        }
#line 596
        if (! pirlvl->prclyrnos) {
          {
#line 598
          jpc_pi_destroy(pi);
          }
#line 599
          return ((jpc_pi_t *)0);
        }
      } else {
#line 602
        pirlvl->prclyrnos = (int *)0;
      }
#line 592
      rlvl ++;
#line 592
      pirlvl ++;
#line 592
      rlvlno ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___2: 
#line 580
    picomp ++;
#line 580
    tcomp ++;
#line 580
    compno ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___0: 
#line 607
  pi->maxrlvls = 0;
#line 608
  picomp = pi->picomps;
#line 608
  tcomp = tile->tcmpts;
#line 608
  compno = 0;
  {
#line 608
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 608
    if (! (compno < pi->numcomps)) {
#line 608
      goto while_break___3;
    }
#line 610
    picomp->hsamp = (int )(cp->ccps + compno)->sampgrdstepx;
#line 611
    picomp->vsamp = (int )(cp->ccps + compno)->sampgrdstepy;
#line 612
    rlvl = tcomp->rlvls;
#line 612
    pirlvl = picomp->pirlvls;
#line 612
    rlvlno = 0;
    {
#line 612
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 612
      if (! (rlvlno < picomp->numrlvls)) {
#line 612
        goto while_break___4;
      }
#line 614
      pirlvl->prcwidthexpn = rlvl->prcwidthexpn;
#line 615
      pirlvl->prcheightexpn = rlvl->prcheightexpn;
#line 616
      prclyrno = pirlvl->prclyrnos;
#line 616
      prcno = 0;
      {
#line 616
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 616
        if (! (prcno < pirlvl->numprcs)) {
#line 616
          goto while_break___5;
        }
#line 618
        *prclyrno = 0;
#line 617
        prclyrno ++;
#line 617
        prcno ++;
      }
      while_break___12: /* CIL Label */ ;
      }
      while_break___5: 
#line 620
      pirlvl->numhprcs = rlvl->numhprcs;
#line 613
      rlvl ++;
#line 613
      pirlvl ++;
#line 613
      rlvlno ++;
    }
    while_break___11: /* CIL Label */ ;
    }
    while_break___4: ;
#line 622
    if (pi->maxrlvls < tcomp->numrlvls) {
#line 623
      pi->maxrlvls = tcomp->numrlvls;
    }
#line 609
    picomp ++;
#line 609
    tcomp ++;
#line 609
    compno ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___3: 
#line 627
  pi->numlyrs = tile->numlyrs;
#line 628
  pi->xstart = (int )tile->tlx;
#line 629
  pi->ystart = (int )tile->tly;
#line 630
  pi->xend = (int )tile->brx;
#line 631
  pi->yend = (int )tile->bry;
#line 633
  pi->picomp = (jpc_picomp_t *)0;
#line 634
  pi->pirlvl = (jpc_pirlvl_t *)0;
#line 635
  pi->x = 0;
#line 636
  pi->y = 0;
#line 637
  pi->compno = 0;
#line 638
  pi->rlvlno = 0;
#line 639
  pi->prcno = 0;
#line 640
  pi->lyrno = 0;
#line 641
  pi->xstep = 0;
#line 642
  pi->ystep = 0;
#line 644
  pi->pchgno = -1;
#line 646
  pi->defaultpchg.prgord = tile->prg;
#line 647
  pi->defaultpchg.compnostart = (uint_fast16_t )0;
#line 648
  pi->defaultpchg.compnoend = (uint_fast16_t )pi->numcomps;
#line 649
  pi->defaultpchg.rlvlnostart = (uint_fast8_t )0;
#line 650
  pi->defaultpchg.rlvlnoend = (uint_fast8_t )pi->maxrlvls;
#line 651
  pi->defaultpchg.lyrnoend = (uint_fast16_t )pi->numlyrs;
#line 652
  pi->pchg = (jpc_pchg_t *)0;
#line 654
  pi->valid = 0;
#line 656
  return (pi);
}
}
#line 124 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.h"
jpc_mqdec_t *jpc_mqdec_create(int maxctxs , jas_stream_t *in ) ;
#line 127
void jpc_mqdec_destroy(jpc_mqdec_t *mqdec ) ;
#line 134
void jpc_mqdec_setinput(jpc_mqdec_t *mqdec , jas_stream_t *in ) ;
#line 137
void jpc_mqdec_init(jpc_mqdec_t *mqdec ) ;
#line 148
void jpc_mqdec_setctx(jpc_mqdec_t *mqdec , int ctxno , jpc_mqctx_t *ctx ) ;
#line 151
void jpc_mqdec_setctxs(jpc_mqdec_t *mqdec , int numctxs , jpc_mqctx_t *ctxs ) ;
#line 180
void jpc_mqdec_dump(jpc_mqdec_t *mqdec , FILE *out ) ;
#line 267
int jpc_mqdec_getbit_func(jpc_mqdec_t *mqdec ) ;
#line 268
int jpc_mqdec_mpsexchrenormd(jpc_mqdec_t *mqdec ) ;
#line 269
int jpc_mqdec_lpsexchrenormd(jpc_mqdec_t *mqdec ) ;
#line 684 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.h"
jpc_dec_seg_t *jpc_seg_alloc(void) ;
#line 687
void jpc_seg_destroy(jpc_dec_seg_t *seg ) ;
#line 690
void jpc_seglist_remove(jpc_dec_seglist_t *list , jpc_dec_seg_t *seg ) ;
#line 693
void jpc_seglist_insert(jpc_dec_seglist_t *list , jpc_dec_seg_t *ins , jpc_dec_seg_t *node ) ;
#line 89 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2dec.h"
int jpc_dec_decodepkts(jpc_dec_t *dec , jas_stream_t *pkthdrstream , jas_stream_t *in ) ;
#line 93
jpc_pi_t *jpc_dec_pi_create(jpc_dec_t *dec , jpc_dec_tile_t *tile ) ;
#line 182 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.h"
int jpc_zcctxnolut[1024]  ;
#line 183 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.h"
int jpc_spblut[256]  ;
#line 184 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.h"
int jpc_scctxnolut[256]  ;
#line 185 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.h"
int jpc_magctxnolut[4096]  ;
#line 186 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.h"
jpc_fix_t jpc_refnmsedec[128]  ;
#line 187 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.h"
jpc_fix_t jpc_signmsedec[128]  ;
#line 188 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.h"
jpc_fix_t jpc_refnmsedec0[128]  ;
#line 189 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.h"
jpc_fix_t jpc_signmsedec0[128]  ;
#line 192 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.h"
jpc_mqctx_t jpc_mqctxs[19]  ;
#line 199
void jpc_initctxs(jpc_mqctx_t *ctxs ) ;
#line 202
int jpc_getzcctxno(int f , int orient ) ;
#line 207
int jpc_getspb(int f ) ;
#line 212
int jpc_getscctxno(int f ) ;
#line 217
int jpc_getmagctxno(int f ) ;
#line 223
jpc_fix_t jpc_getsignmsedec_func(jpc_fix_t x , int bitpos ) ;
#line 276
void jpc_initluts(void) ;
#line 279
int JPC_NOMINALGAIN(int qmfbid , int numlvls , int lvlno , int orient ) ;
#line 282
int JPC_PASSTYPE(int passno ) ;
#line 285
int JPC_SEGTYPE(int passno , int firstpassno , int bypass ) ;
#line 288
int JPC_SEGPASSCNT(int passno , int firstpassno , int numpasses , int bypass , int termall ) ;
#line 292
int JPC_ISTERMINATED(int passno , int firstpassno , int numpasses , int termall ,
                     int lazy ) ;
#line 97 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2dec.c"
long jpc_dec_lookahead(jas_stream_t *in ) ;
#line 98
static int jpc_getcommacode(jpc_bitstream_t *in ) ;
#line 99
static int jpc_getnumnewpasses(jpc_bitstream_t *in ) ;
#line 100
static int jpc_dec_decodepkt(jpc_dec_t *dec , jas_stream_t *pkthdrstream , jas_stream_t *in ,
                             int compno , int rlvlno , int prcno , int lyrno ) ;
#line 107 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2dec.c"
static int jpc_getcommacode(jpc_bitstream_t *in ) 
{ 
  int n ;
  int v ;
  int __cil_tmp5 ;
  int tmp___0 ;

  {
#line 112
  n = 0;
  {
#line 113
  while (1) {
    while_continue: /* CIL Label */ ;
#line 114
    (in->cnt_) --;
#line 114
    if (in->cnt_ >= 0) {
#line 114
      tmp___0 = (int )((in->buf_ >> in->cnt_) & 1UL);
    } else {
      {
#line 114
      __cil_tmp5 = jpc_bitstream_fillbuf(in);
#line 114
      tmp___0 = __cil_tmp5;
      }
    }
#line 114
    v = tmp___0;
#line 114
    if (v < 0) {
#line 115
      return (-1);
    }
#line 117
    if (in->flags_ & 2) {
#line 118
      return (-1);
    }
#line 120
    if (! v) {
#line 121
      goto while_break;
    }
#line 123
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 126
  return (n);
}
}
#line 129 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2dec.c"
static int jpc_getnumnewpasses(jpc_bitstream_t *in ) 
{ 
  int n ;
  int __cil_tmp4 ;
  int tmp___0 ;
  int __cil_tmp7 ;
  int tmp___2 ;
  long __cil_tmp9 ;
  long __cil_tmp10 ;
  long __cil_tmp11 ;

  {
#line 133
  (in->cnt_) --;
#line 133
  if (in->cnt_ >= 0) {
#line 133
    tmp___0 = (int )((in->buf_ >> in->cnt_) & 1UL);
  } else {
    {
#line 133
    __cil_tmp4 = jpc_bitstream_fillbuf(in);
#line 133
    tmp___0 = __cil_tmp4;
    }
  }
#line 133
  n = tmp___0;
#line 133
  if (n > 0) {
#line 134
    (in->cnt_) --;
#line 134
    if (in->cnt_ >= 0) {
#line 134
      tmp___2 = (int )((in->buf_ >> in->cnt_) & 1UL);
    } else {
      {
#line 134
      __cil_tmp7 = jpc_bitstream_fillbuf(in);
#line 134
      tmp___2 = __cil_tmp7;
      }
    }
#line 134
    n = tmp___2;
#line 134
    if (n > 0) {
      {
#line 135
      __cil_tmp9 = jpc_bitstream_getbits(in, 2);
#line 135
      n = (int )__cil_tmp9;
      }
#line 135
      if (n == 3) {
        {
#line 136
        __cil_tmp10 = jpc_bitstream_getbits(in, 5);
#line 136
        n = (int )__cil_tmp10;
        }
#line 136
        if (n == 31) {
          {
#line 137
          __cil_tmp11 = jpc_bitstream_getbits(in, 7);
#line 137
          n = (int )__cil_tmp11;
          }
#line 137
          if (n >= 0) {
#line 138
            n += 37;
          }
        } else
#line 140
        if (n >= 0) {
#line 141
          n += 6;
        }
      } else
#line 143
      if (n >= 0) {
#line 144
        n += 3;
      }
    } else
#line 146
    if (! n) {
#line 147
      n += 2;
    }
  } else
#line 149
  if (! n) {
#line 150
    n ++;
  }
#line 153
  return (n);
}
}
#line 156 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2dec.c"
static int jpc_dec_decodepkt(jpc_dec_t *dec , jas_stream_t *pkthdrstream , jas_stream_t *in ,
                             int compno , int rlvlno , int prcno , int lyrno ) 
{ 
  jpc_bitstream_t *inb ;
  jpc_dec_tcomp_t *tcomp ;
  jpc_dec_rlvl_t *rlvl ;
  jpc_dec_band_t *band ;
  jpc_dec_cblk_t *cblk ;
  int n ;
  int m ;
  int i ;
  jpc_tagtreenode_t *leaf ;
  int included ;
  int ret ;
  int numnewpasses ;
  jpc_dec_seg_t *seg ;
  int len ;
  int present ;
  int savenumnewpasses ;
  int mycounter ;
  jpc_ms_t *ms ;
  jpc_dec_tile_t *tile ;
  jpc_dec_ccp_t *ccp ;
  jpc_dec_cp_t *cp ;
  int bandno ;
  jpc_dec_prc_t *prc ;
  int usedcblkcnt ;
  int cblkno ;
  uint_fast32_t bodylen ;
  int discard ;
  int passno ;
  int maxpasses ;
  int hdrlen ;
  int hdroffstart ;
  int hdroffend ;
  long __cil_tmp40 ;
  int __cil_tmp44 ;
  int tmp___0 ;
  int __cil_tmp49 ;
  int tmp___2 ;
  int tmp___3 ;
  int __cil_tmp59 ;
  long __cil_tmp60 ;
  int __cil_tmp61 ;
  int __cil_tmp62 ;
  long __cil_tmp63 ;
  int __cil_tmp65 ;
  int __cil_tmp67 ;
  int __cil_tmp68 ;

  {
#line 194
  bodylen = (uint_fast32_t )0;
#line 196
  discard = lyrno >= dec->maxlyrs;
#line 198
  tile = dec->curtile;
#line 199
  cp = tile->cp;
#line 200
  ccp = cp->ccps + compno;
#line 207
  if ((int )cp->csty & 2) {
    {
#line 208
    __cil_tmp40 = jpc_dec_lookahead(in);
    }
#line 208
    if (__cil_tmp40 == 65425L) {
      {
#line 209
      ms = jpc_getms(in, dec->cstate);
      }
#line 209
      if (! ms) {
#line 210
        return (-1);
      }
#line 212
      if (ms->id != 65425UL) {
        {
#line 213
        jpc_ms_destroy(ms);
#line 214
        jas_eprintf("missing SOP marker segment\n\370PV");
        }
#line 215
        return (-1);
      }
      {
#line 217
      jpc_ms_destroy(ms);
      }
    }
  }
  {
#line 221
  hdroffstart = (int )pkthdrstream->rwcnt_;
#line 223
  inb = jpc_bitstream_sopen(pkthdrstream, (char *)"r");
  }
#line 223
  if (! inb) {
#line 224
    return (-1);
  }
#line 227
  (inb->cnt_) --;
#line 227
  if (inb->cnt_ >= 0) {
#line 227
    tmp___0 = (int )((inb->buf_ >> inb->cnt_) & 1UL);
  } else {
    {
#line 227
    __cil_tmp44 = jpc_bitstream_fillbuf(inb);
#line 227
    tmp___0 = __cil_tmp44;
    }
  }
#line 227
  present = tmp___0;
#line 227
  if (present < 0) {
#line 228
    return (1);
  }
#line 234
  if (present) {
#line 236
    tcomp = tile->tcomps + compno;
#line 237
    rlvl = tcomp->rlvls + rlvlno;
#line 238
    bodylen = (uint_fast32_t )0;
#line 239
    band = rlvl->bands;
#line 239
    bandno = 0;
    {
#line 239
    while (1) {
      while_continue___4: /* CIL Label */ ;
      while_continue: ;
#line 239
      if (! (bandno < rlvl->numbands)) {
#line 239
        goto while_break;
      }
#line 241
      if (! band->data) {
#line 242
        goto while_continue;
      }
#line 244
      prc = band->prcs + prcno;
#line 245
      if (! prc->cblks) {
#line 246
        goto while_continue;
      }
#line 248
      usedcblkcnt = 0;
#line 249
      cblk = prc->cblks;
#line 249
      cblkno = 0;
      {
#line 249
      while (1) {
        while_continue___5: /* CIL Label */ ;
        while_continue___0: ;
#line 249
        if (! (cblkno < prc->numcblks)) {
#line 249
          goto while_break___0;
        }
#line 251
        usedcblkcnt ++;
#line 252
        if (! cblk->numpasses) {
          {
#line 253
          leaf = jpc_tagtree_getleaf(prc->incltagtree, usedcblkcnt - 1);
#line 254
          included = jpc_tagtree_decode(prc->incltagtree, leaf, lyrno + 1, inb);
          }
#line 254
          if (included < 0) {
#line 255
            return (-1);
          }
        } else {
#line 258
          (inb->cnt_) --;
#line 258
          if (inb->cnt_ >= 0) {
#line 258
            tmp___2 = (int )((inb->buf_ >> inb->cnt_) & 1UL);
          } else {
            {
#line 258
            __cil_tmp49 = jpc_bitstream_fillbuf(inb);
#line 258
            tmp___2 = __cil_tmp49;
            }
          }
#line 258
          included = tmp___2;
#line 258
          if (included < 0) {
#line 259
            return (-1);
          }
        }
#line 264
        if (! included) {
#line 265
          goto while_continue___0;
        }
#line 267
        if (! cblk->numpasses) {
          {
#line 268
          i = 1;
#line 269
          leaf = jpc_tagtree_getleaf(prc->numimsbstagtree, usedcblkcnt - 1);
          }
          {
#line 270
          while (1) {
            while_continue___6: /* CIL Label */ ;
            {
#line 271
            ret = jpc_tagtree_decode(prc->numimsbstagtree, leaf, i, inb);
            }
#line 271
            if (ret < 0) {
#line 272
              return (-1);
            }
#line 274
            if (ret) {
#line 275
              goto while_break___1;
            }
#line 277
            i ++;
          }
          while_break___8: /* CIL Label */ ;
          }
          while_break___1: 
#line 279
          cblk->numimsbs = i - 1;
#line 280
          cblk->firstpassno = cblk->numimsbs * 3;
        }
        {
#line 282
        numnewpasses = jpc_getnumnewpasses(inb);
        }
#line 282
        if (numnewpasses < 0) {
#line 283
          return (-1);
        }
#line 286
        seg = cblk->curseg;
#line 287
        savenumnewpasses = numnewpasses;
#line 288
        mycounter = 0;
#line 289
        if (numnewpasses > 0) {
          {
#line 290
          m = jpc_getcommacode(inb);
          }
#line 290
          if (m < 0) {
#line 291
            return (-1);
          }
#line 293
          cblk->numlenbits += m;
          {
#line 295
          while (1) {
            while_continue___7: /* CIL Label */ ;

#line 295
            if (! (numnewpasses > 0)) {
#line 295
              goto while_break___2;
            }
            {
#line 296
            passno = (cblk->firstpassno + cblk->numpasses) + mycounter;
#line 298
            maxpasses = JPC_SEGPASSCNT(passno, cblk->firstpassno, 10000, ((int )ccp->cblkctx & 1) != 0,
                                       ((int )ccp->cblkctx & 4) != 0);
            }
#line 299
            if (! seg) {
#line 299
              if (! discard) {
                {
#line 300
                seg = jpc_seg_alloc();
                }
#line 300
                if (! seg) {
#line 301
                  return (-1);
                }
                {
#line 303
                jpc_seglist_insert(& cblk->segs, cblk->segs.tail, seg);
                }
#line 304
                if (! cblk->curseg) {
#line 305
                  cblk->curseg = seg;
                }
                {
#line 307
                seg->passno = passno;
#line 308
                seg->type = JPC_SEGTYPE(seg->passno, cblk->firstpassno, ((int )ccp->cblkctx & 1) != 0);
#line 309
                seg->maxpasses = maxpasses;
                }
              }
            }
#line 311
            if (numnewpasses < maxpasses) {
#line 311
              tmp___3 = numnewpasses;
            } else {
#line 311
              tmp___3 = maxpasses;
            }
            {
#line 311
            n = tmp___3;
#line 312
            mycounter += n;
#line 313
            numnewpasses -= n;
#line 314
            __cil_tmp59 = jpc_floorlog2(n);
#line 314
            __cil_tmp60 = jpc_bitstream_getbits(inb, cblk->numlenbits + __cil_tmp59);
#line 314
            len = (int )__cil_tmp60;
            }
#line 314
            if (len < 0) {
#line 315
              return (-1);
            }
#line 318
            if (! discard) {
#line 319
              seg->lyrno = lyrno;
#line 320
              seg->numpasses += n;
#line 321
              seg->cnt = len;
#line 322
              seg = seg->next;
            }
#line 324
            bodylen += (unsigned long )len;
          }
          while_break___9: /* CIL Label */ ;
          }
          while_break___2: ;
        }
#line 327
        cblk->numpasses += savenumnewpasses;
#line 250
        cblk ++;
#line 250
        cblkno ++;
      }
      while_break___7: /* CIL Label */ ;
      }
      while_break___0: 
#line 240
      band ++;
#line 240
      bandno ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break: 
    {
#line 331
    jpc_bitstream_inalign(inb, 0, 0);
    }
  } else {
    {
#line 334
    __cil_tmp61 = jpc_bitstream_inalign(inb, 127, 0);
    }
#line 334
    if (__cil_tmp61) {
      {
#line 335
      jas_eprintf("alignment failed\n");
      }
#line 336
      return (-1);
    }
  }
  {
#line 339
  jpc_bitstream_close(inb);
#line 341
  hdroffend = (int )pkthdrstream->rwcnt_;
#line 342
  hdrlen = hdroffend - hdroffstart;
#line 343
  __cil_tmp62 = jas_getdbglevel();
  }
#line 343
  if (__cil_tmp62 >= 5) {
    {
#line 344
    jas_eprintf("hdrlen=%lu bodylen=%lu \n\230\001", (unsigned long )hdrlen, bodylen);
    }
  }
#line 348
  if ((int )cp->csty & 4) {
    {
#line 349
    __cil_tmp63 = jpc_dec_lookahead(pkthdrstream);
    }
#line 349
    if (__cil_tmp63 == 65426L) {
      {
#line 350
      ms = jpc_getms(pkthdrstream, dec->cstate);
      }
#line 350
      if (! ms) {
        {
#line 351
        jas_eprintf("cannot get (EPH) marker segment\n\220");
        }
#line 352
        return (-1);
      }
#line 354
      if (ms->id != 65426UL) {
        {
#line 355
        jpc_ms_destroy(ms);
#line 356
        jas_eprintf("missing EPH marker segment\n");
        }
#line 357
        return (-1);
      }
      {
#line 359
      jpc_ms_destroy(ms);
      }
    }
  }
  {
#line 365
  __cil_tmp65 = jas_getdbglevel();
  }
#line 365
  if (__cil_tmp65 >= 1) {
    {
#line 366
    jas_eprintf("packet body offset=%06ld\n", in->rwcnt_);
    }
  }
#line 369
  if (! discard) {
#line 370
    tcomp = tile->tcomps + compno;
#line 371
    rlvl = tcomp->rlvls + rlvlno;
#line 372
    band = rlvl->bands;
#line 372
    bandno = 0;
    {
#line 372
    while (1) {
      while_continue___8: /* CIL Label */ ;
      while_continue___3: ;
#line 372
      if (! (bandno < rlvl->numbands)) {
#line 372
        goto while_break___3;
      }
#line 374
      if (! band->data) {
#line 375
        goto while_continue___3;
      }
#line 377
      prc = band->prcs + prcno;
#line 378
      if (! prc->cblks) {
#line 379
        goto while_continue___3;
      }
#line 381
      cblk = prc->cblks;
#line 381
      cblkno = 0;
      {
#line 381
      while (1) {
        while_continue___9: /* CIL Label */ ;

#line 381
        if (! (cblkno < prc->numcblks)) {
#line 381
          goto while_break___4;
        }
#line 383
        seg = cblk->curseg;
        {
#line 384
        while (1) {
          while_continue___10: /* CIL Label */ ;

#line 384
          if (! seg) {
#line 384
            goto while_break___5;
          }
#line 385
          if (! seg->stream) {
            {
#line 386
            seg->stream = jas_stream_memopen((char *)0, 0);
            }
#line 386
            if (! seg->stream) {
#line 387
              return (-1);
            }
          }
#line 393
          if (seg->cnt > 0) {
            {
#line 394
            __cil_tmp67 = jpc_getdata(in, seg->stream, (long )seg->cnt);
            }
#line 394
            if (__cil_tmp67 < 0) {
#line 395
              return (-1);
            }
#line 397
            seg->cnt = 0;
          }
#line 399
          if (seg->numpasses >= seg->maxpasses) {
#line 400
            cblk->curseg = seg->next;
          }
#line 402
          seg = seg->next;
        }
        while_break___12: /* CIL Label */ ;
        }
        while_break___5: 
#line 382
        cblk ++;
#line 382
        cblkno ++;
      }
      while_break___11: /* CIL Label */ ;
      }
      while_break___4: 
#line 373
      band ++;
#line 373
      bandno ++;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___3: ;
  } else {
    {
#line 407
    __cil_tmp68 = jas_stream_gobble(in, (int )bodylen);
    }
#line 407
    if (__cil_tmp68 != (int )bodylen) {
#line 408
      return (-1);
    }
  }
#line 411
  return (0);
}
}
#line 417 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2dec.c"
int jpc_dec_decodepkts(jpc_dec_t *dec , jas_stream_t *pkthdrstream , jas_stream_t *in ) 
{ 
  jpc_dec_tile_t *tile ;
  jpc_pi_t *pi ;
  int ret ;
  int __cil_tmp7 ;
  int tmp ;
  long __cil_tmp9 ;
  int __cil_tmp11 ;
  int __cil_tmp21 ;

  {
#line 423
  tile = dec->curtile;
#line 424
  pi = tile->pi;
  {
#line 425
  while (1) {
    while_continue: /* CIL Label */ ;

#line 426
    if ((tile->pkthdrstream)->cnt_ <= 0) {
      {
#line 426
      __cil_tmp7 = jas_stream_fillbuf(tile->pkthdrstream, 0);
#line 426
      tmp = __cil_tmp7;
      }
    } else {
#line 426
      tmp = (int )*((tile->pkthdrstream)->ptr_);
    }
#line 426
    if (! tile->pkthdrstream) {
      _L: 
      {
#line 427
      __cil_tmp9 = jpc_dec_lookahead(in);
      }
#line 429
      if (__cil_tmp9 == 65424L) {
#line 429
        goto case_65424;
      }
#line 429
      if (__cil_tmp9 == 65497L) {
#line 429
        goto case_65424;
      }
#line 434
      if (__cil_tmp9 == 0L) {
#line 434
        goto case_0;
      }
#line 434
      if (__cil_tmp9 == 65426L) {
#line 434
        goto case_0;
      }
#line 434
      if (__cil_tmp9 == 65425L) {
#line 434
        goto case_0;
      }
#line 436
      goto switch_default;
      case_65424: 
#line 430
      return (0);
#line 431
      goto switch_break;
      case_0: 
#line 435
      goto switch_break;
      switch_default: 
#line 437
      return (-1);
#line 438
      goto switch_break;
      switch_break: ;
    } else
#line 426
    if (tmp == -1) {
#line 426
      goto _L;
    }
    {
#line 441
    ret = jpc_pi_next(pi);
    }
#line 441
    if (ret) {
#line 442
      return (ret);
    }
#line 444
    if (dec->maxpkts >= 0) {
#line 444
      if (dec->numpkts >= dec->maxpkts) {
        {
#line 445
        jas_eprintf("warning: stopping decode prematurely as requested\n");
        }
#line 446
        return (0);
      }
    }
    {
#line 448
    __cil_tmp11 = jas_getdbglevel();
    }
#line 448
    if (__cil_tmp11 >= 1) {
      {
#line 449
      jas_eprintf("packet offset=%08ld prg=%d cmptno=%02d rlvlno=%02d prcno=%03d lyrno=%02d\nV",
                  in->rwcnt_, (int )(pi->pchg)->prgord, pi->compno, pi->rlvlno, pi->prcno,
                  pi->lyrno);
      }
    }
    {
#line 454
    __cil_tmp21 = jpc_dec_decodepkt(dec, pkthdrstream, in, pi->compno, pi->rlvlno,
                                    pi->prcno, pi->lyrno);
    }
#line 454
    if (__cil_tmp21) {
#line 456
      return (-1);
    }
#line 458
    (dec->numpkts) ++;
  }
  while_break: /* CIL Label */ ;
  }

#line 461
  return (0);
}
}
#line 464 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2dec.c"
jpc_pi_t *jpc_dec_pi_create(jpc_dec_t *dec , jpc_dec_tile_t *tile ) 
{ 
  jpc_pi_t *pi ;
  int compno ;
  jpc_picomp_t *picomp ;
  jpc_pirlvl_t *pirlvl ;
  jpc_dec_tcomp_t *tcomp ;
  int rlvlno ;
  jpc_dec_rlvl_t *rlvl ;
  int prcno ;
  int *prclyrno ;
  jpc_dec_cmpt_t *cmpt ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 477
  pi = jpc_pi_create0();
  }
#line 477
  if (! pi) {
#line 478
    return ((jpc_pi_t *)0);
  }
  {
#line 480
  pi->numcomps = dec->numcomps;
#line 481
  tmp = jas_alloc2((size_t )pi->numcomps, sizeof(jpc_picomp_t ));
#line 481
  pi->picomps = (jpc_picomp_t *)tmp;
  }
#line 481
  if (! pi->picomps) {
    {
#line 482
    jpc_pi_destroy(pi);
    }
#line 483
    return ((jpc_pi_t *)0);
  }
#line 485
  picomp = pi->picomps;
#line 485
  compno = 0;
  {
#line 485
  while (1) {
    while_continue: /* CIL Label */ ;

#line 485
    if (! (compno < pi->numcomps)) {
#line 485
      goto while_break;
    }
#line 487
    picomp->pirlvls = (jpc_pirlvl_t *)0;
#line 485
    picomp ++;
#line 485
    compno ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break: 
#line 490
  picomp = pi->picomps;
#line 490
  tcomp = tile->tcomps;
#line 490
  compno = 0;
  {
#line 490
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 490
    if (! (compno < pi->numcomps)) {
#line 490
      goto while_break___0;
    }
    {
#line 492
    picomp->numrlvls = tcomp->numrlvls;
#line 493
    tmp___0 = jas_alloc2((size_t )picomp->numrlvls, sizeof(jpc_pirlvl_t ));
#line 493
    picomp->pirlvls = (jpc_pirlvl_t *)tmp___0;
    }
#line 493
    if (! picomp->pirlvls) {
      {
#line 495
      jpc_pi_destroy(pi);
      }
#line 496
      return ((jpc_pi_t *)0);
    }
#line 498
    pirlvl = picomp->pirlvls;
#line 498
    rlvlno = 0;
    {
#line 498
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 498
      if (! (rlvlno < picomp->numrlvls)) {
#line 498
        goto while_break___1;
      }
#line 500
      pirlvl->prclyrnos = (int *)0;
#line 499
      pirlvl ++;
#line 499
      rlvlno ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___1: 
#line 502
    rlvl = tcomp->rlvls;
#line 502
    pirlvl = picomp->pirlvls;
#line 502
    rlvlno = 0;
    {
#line 502
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 502
      if (! (rlvlno < picomp->numrlvls)) {
#line 502
        goto while_break___2;
      }
      {
#line 505
      pirlvl->numprcs = rlvl->numprcs;
#line 506
      tmp___1 = jas_alloc2((size_t )pirlvl->numprcs, sizeof(long ));
#line 506
      pirlvl->prclyrnos = (int *)tmp___1;
      }
#line 506
      if (! pirlvl->prclyrnos) {
        {
#line 508
        jpc_pi_destroy(pi);
        }
#line 509
        return ((jpc_pi_t *)0);
      }
#line 503
      rlvl ++;
#line 503
      pirlvl ++;
#line 503
      rlvlno ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___2: 
#line 491
    picomp ++;
#line 491
    tcomp ++;
#line 491
    compno ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___0: 
#line 514
  pi->maxrlvls = 0;
#line 515
  cmpt = dec->cmpts;
#line 515
  picomp = pi->picomps;
#line 515
  tcomp = tile->tcomps;
#line 515
  compno = 0;
  {
#line 515
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 515
    if (! (compno < pi->numcomps)) {
#line 515
      goto while_break___3;
    }
#line 518
    picomp->hsamp = (int )cmpt->hstep;
#line 519
    picomp->vsamp = (int )cmpt->vstep;
#line 520
    rlvl = tcomp->rlvls;
#line 520
    pirlvl = picomp->pirlvls;
#line 520
    rlvlno = 0;
    {
#line 520
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 520
      if (! (rlvlno < picomp->numrlvls)) {
#line 520
        goto while_break___4;
      }
#line 522
      pirlvl->prcwidthexpn = rlvl->prcwidthexpn;
#line 523
      pirlvl->prcheightexpn = rlvl->prcheightexpn;
#line 524
      prclyrno = pirlvl->prclyrnos;
#line 524
      prcno = 0;
      {
#line 524
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 524
        if (! (prcno < pirlvl->numprcs)) {
#line 524
          goto while_break___5;
        }
#line 526
        *prclyrno = 0;
#line 525
        prclyrno ++;
#line 525
        prcno ++;
      }
      while_break___12: /* CIL Label */ ;
      }
      while_break___5: 
#line 528
      pirlvl->numhprcs = rlvl->numhprcs;
#line 521
      rlvl ++;
#line 521
      pirlvl ++;
#line 521
      rlvlno ++;
    }
    while_break___11: /* CIL Label */ ;
    }
    while_break___4: ;
#line 530
    if (pi->maxrlvls < tcomp->numrlvls) {
#line 531
      pi->maxrlvls = tcomp->numrlvls;
    }
#line 516
    cmpt ++;
#line 516
    picomp ++;
#line 516
    tcomp ++;
#line 516
    compno ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___3: 
#line 535
  pi->numlyrs = (int )(tile->cp)->numlyrs;
#line 536
  pi->xstart = (int )tile->xstart;
#line 537
  pi->ystart = (int )tile->ystart;
#line 538
  pi->xend = (int )tile->xend;
#line 539
  pi->yend = (int )tile->yend;
#line 541
  pi->picomp = (jpc_picomp_t *)0;
#line 542
  pi->pirlvl = (jpc_pirlvl_t *)0;
#line 543
  pi->x = 0;
#line 544
  pi->y = 0;
#line 545
  pi->compno = 0;
#line 546
  pi->rlvlno = 0;
#line 547
  pi->prcno = 0;
#line 548
  pi->lyrno = 0;
#line 549
  pi->xstep = 0;
#line 550
  pi->ystep = 0;
#line 552
  pi->pchgno = -1;
#line 554
  pi->defaultpchg.prgord = (tile->cp)->prgord;
#line 555
  pi->defaultpchg.compnostart = (uint_fast16_t )0;
#line 556
  pi->defaultpchg.compnoend = (uint_fast16_t )pi->numcomps;
#line 557
  pi->defaultpchg.rlvlnostart = (uint_fast8_t )0;
#line 558
  pi->defaultpchg.rlvlnoend = (uint_fast8_t )pi->maxrlvls;
#line 559
  pi->defaultpchg.lyrnoend = (uint_fast16_t )pi->numlyrs;
#line 560
  pi->pchg = (jpc_pchg_t *)0;
#line 562
  pi->valid = 0;
#line 564
  return (pi);
}
}
#line 567 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2dec.c"
long jpc_dec_lookahead(jas_stream_t *in ) 
{ 
  uint_fast16_t x ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;

  {
  {
#line 570
  __cil_tmp3 = jpc_getuint16(in, & x);
  }
#line 570
  if (__cil_tmp3) {
#line 571
    return (-1L);
  }
  {
#line 573
  __cil_tmp5 = jas_stream_ungetc(in, (int )(x >> 8));
#line 573
  __cil_tmp4 = jas_stream_ungetc(in, (int )(x & 255UL));
  }
#line 573
  if (__cil_tmp4 == -1) {
#line 575
    return (-1L);
  } else
#line 573
  if (__cil_tmp5 == -1) {
#line 575
    return (-1L);
  }
#line 577
  if (x >= 65408UL) {
#line 577
    if (x <= 65535UL) {
#line 578
      return ((long )x);
    }
  }
#line 580
  return (0L);
}
}
#line 78 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
static int jpc_pi_nextlrcp(jpc_pi_t *pi ) ;
#line 79
static int jpc_pi_nextrlcp(jpc_pi_t *pi ) ;
#line 80
static int jpc_pi_nextrpcl(jpc_pi_t *pi ) ;
#line 81
static int jpc_pi_nextpcrl(jpc_pi_t *pi ) ;
#line 82
static int jpc_pi_nextcprl(jpc_pi_t *pi ) ;
#line 84 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
int jpc_pi_next(jpc_pi_t *pi ) 
{ 
  jpc_pchg_t *pchg ;
  int ret ;
  int __cil_tmp4 ;
  int __cil_tmp6 ;

  {
  {
#line 90
  while (1) {
    while_continue: /* CIL Label */ ;
#line 92
    pi->valid = 0;
#line 94
    if (! pi->pchg) {
      {
#line 95
      (pi->pchgno) ++;
#line 96
      pi->compno = 0;
#line 97
      pi->rlvlno = 0;
#line 98
      pi->prcno = 0;
#line 99
      pi->lyrno = 0;
#line 100
      pi->prgvolfirst = 1;
#line 101
      __cil_tmp4 = jpc_pchglist_numpchgs(pi->pchglist);
      }
#line 101
      if (pi->pchgno < __cil_tmp4) {
        {
#line 102
        pi->pchg = jpc_pchglist_get(pi->pchglist, pi->pchgno);
        }
      } else {
        {
#line 103
        __cil_tmp6 = jpc_pchglist_numpchgs(pi->pchglist);
        }
#line 103
        if (pi->pchgno == __cil_tmp6) {
#line 104
          pi->pchg = & pi->defaultpchg;
        } else {
#line 106
          return (1);
        }
      }
    }
#line 110
    pchg = pi->pchg;
#line 112
    if ((int )pchg->prgord == 0) {
#line 112
      goto case_0;
    }
#line 115
    if ((int )pchg->prgord == 1) {
#line 115
      goto case_1;
    }
#line 118
    if ((int )pchg->prgord == 2) {
#line 118
      goto case_2;
    }
#line 121
    if ((int )pchg->prgord == 3) {
#line 121
      goto case_3;
    }
#line 124
    if ((int )pchg->prgord == 4) {
#line 124
      goto case_4;
    }
#line 127
    goto switch_default;
    case_0: 
    {
#line 113
    ret = jpc_pi_nextlrcp(pi);
    }
#line 114
    goto switch_break;
    case_1: 
    {
#line 116
    ret = jpc_pi_nextrlcp(pi);
    }
#line 117
    goto switch_break;
    case_2: 
    {
#line 119
    ret = jpc_pi_nextrpcl(pi);
    }
#line 120
    goto switch_break;
    case_3: 
    {
#line 122
    ret = jpc_pi_nextpcrl(pi);
    }
#line 123
    goto switch_break;
    case_4: 
    {
#line 125
    ret = jpc_pi_nextcprl(pi);
    }
#line 126
    goto switch_break;
    switch_default: 
#line 128
    ret = -1;
#line 129
    goto switch_break;
    switch_break: ;
#line 131
    if (! ret) {
#line 132
      pi->valid = 1;
#line 133
      (pi->pktno) ++;
#line 134
      return (0);
    }
#line 136
    pi->pchg = (jpc_pchg_t *)0;
  }
  while_break: /* CIL Label */ ;
  }

#line 140
  return (0);
}
}
#line 140 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
static int jpc_pi_nextlrcp(jpc_pi_t *pi ) 
{ 
  jpc_pchg_t *pchg ;
  int *prclyrno ;

  {
#line 145
  pchg = pi->pchg;
#line 146
  if (! pi->prgvolfirst) {
#line 147
    prclyrno = (pi->pirlvl)->prclyrnos + pi->prcno;
#line 148
    goto skip;
  } else {
#line 150
    pi->prgvolfirst = 0;
  }
#line 153
  pi->lyrno = 0;
  {
#line 153
  while (1) {
    while_continue: /* CIL Label */ ;

#line 153
    if (pi->lyrno < pi->numlyrs) {
#line 153
      if (! (pi->lyrno < (int )pchg->lyrnoend)) {
#line 153
        goto while_break;
      }
    } else {
#line 153
      goto while_break;
    }
#line 155
    pi->rlvlno = (int )pchg->rlvlnostart;
    {
#line 155
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 155
      if (pi->rlvlno < pi->maxrlvls) {
#line 155
        if (! (pi->rlvlno < (int )pchg->rlvlnoend)) {
#line 155
          goto while_break___0;
        }
      } else {
#line 155
        goto while_break___0;
      }
#line 157
      pi->picomp = pi->picomps + pi->compno;
#line 157
      pi->compno = (int )pchg->compnostart;
      {
#line 157
      while (1) {
        while_continue___3: /* CIL Label */ ;
        while_continue___1: ;
#line 157
        if (pi->compno < pi->numcomps) {
#line 157
          if (! (pi->compno < (int )pchg->compnoend)) {
#line 157
            goto while_break___1;
          }
        } else {
#line 157
          goto while_break___1;
        }
#line 161
        if (pi->rlvlno >= (pi->picomp)->numrlvls) {
#line 162
          goto while_continue___1;
        }
#line 164
        pi->pirlvl = (pi->picomp)->pirlvls + pi->rlvlno;
#line 165
        prclyrno = (pi->pirlvl)->prclyrnos;
#line 165
        pi->prcno = 0;
        {
#line 165
        while (1) {
          while_continue___4: /* CIL Label */ ;

#line 165
          if (! (pi->prcno < (pi->pirlvl)->numprcs)) {
#line 165
            goto while_break___2;
          }
#line 169
          if (pi->lyrno >= *prclyrno) {
#line 170
            *prclyrno = pi->lyrno;
#line 171
            (*prclyrno) ++;
#line 172
            return (0);
          }
          skip: 
#line 167
          prclyrno ++;
#line 167
          (pi->prcno) ++;
        }
        while_break___6: /* CIL Label */ ;
        }
        while_break___2: 
#line 159
        (pi->picomp) ++;
#line 159
        (pi->compno) ++;
      }
      while_break___5: /* CIL Label */ ;
      }
      while_break___1: 
#line 156
      (pi->rlvlno) ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___0: 
#line 154
    (pi->lyrno) ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: ;
#line 180
  return (1);
}
}
#line 183 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
static int jpc_pi_nextrlcp(jpc_pi_t *pi ) 
{ 
  jpc_pchg_t *pchg ;
  int *prclyrno ;

  {
#line 188
  pchg = pi->pchg;
#line 189
  if (! pi->prgvolfirst) {
#line 191
    prclyrno = (pi->pirlvl)->prclyrnos + pi->prcno;
#line 192
    goto skip;
  } else {
#line 194
    pi->prgvolfirst = 0;
  }
#line 197
  pi->rlvlno = (int )pchg->rlvlnostart;
  {
#line 197
  while (1) {
    while_continue: /* CIL Label */ ;

#line 197
    if (pi->rlvlno < pi->maxrlvls) {
#line 197
      if (! (pi->rlvlno < (int )pchg->rlvlnoend)) {
#line 197
        goto while_break;
      }
    } else {
#line 197
      goto while_break;
    }
#line 199
    pi->lyrno = 0;
    {
#line 199
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 199
      if (pi->lyrno < pi->numlyrs) {
#line 199
        if (! (pi->lyrno < (int )pchg->lyrnoend)) {
#line 199
          goto while_break___0;
        }
      } else {
#line 199
        goto while_break___0;
      }
#line 201
      pi->picomp = pi->picomps + pi->compno;
#line 201
      pi->compno = (int )pchg->compnostart;
      {
#line 201
      while (1) {
        while_continue___3: /* CIL Label */ ;
        while_continue___1: ;
#line 201
        if (pi->compno < pi->numcomps) {
#line 201
          if (! (pi->compno < (int )pchg->compnoend)) {
#line 201
            goto while_break___1;
          }
        } else {
#line 201
          goto while_break___1;
        }
#line 204
        if (pi->rlvlno >= (pi->picomp)->numrlvls) {
#line 205
          goto while_continue___1;
        }
#line 207
        pi->pirlvl = (pi->picomp)->pirlvls + pi->rlvlno;
#line 208
        prclyrno = (pi->pirlvl)->prclyrnos;
#line 208
        pi->prcno = 0;
        {
#line 208
        while (1) {
          while_continue___4: /* CIL Label */ ;

#line 208
          if (! (pi->prcno < (pi->pirlvl)->numprcs)) {
#line 208
            goto while_break___2;
          }
#line 210
          if (pi->lyrno >= *prclyrno) {
#line 211
            *prclyrno = pi->lyrno;
#line 212
            (*prclyrno) ++;
#line 213
            return (0);
          }
          skip: 
#line 209
          prclyrno ++;
#line 209
          (pi->prcno) ++;
        }
        while_break___6: /* CIL Label */ ;
        }
        while_break___2: 
#line 203
        (pi->picomp) ++;
#line 203
        (pi->compno) ++;
      }
      while_break___5: /* CIL Label */ ;
      }
      while_break___1: 
#line 200
      (pi->lyrno) ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___0: 
#line 198
    (pi->rlvlno) ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: ;
#line 221
  return (1);
}
}
#line 224 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
static int jpc_pi_nextrpcl(jpc_pi_t *pi ) 
{ 
  int rlvlno ;
  jpc_pirlvl_t *pirlvl ;
  jpc_pchg_t *pchg ;
  int prchind ;
  int prcvind ;
  int *prclyrno ;
  int compno ;
  jpc_picomp_t *picomp ;
  int xstep ;
  int ystep ;
  uint_fast32_t r ;
  uint_fast32_t rpx ;
  uint_fast32_t rpy ;
  uint_fast32_t trx0 ;
  uint_fast32_t try0 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 242
  pchg = pi->pchg;
#line 243
  if (! pi->prgvolfirst) {
#line 244
    goto skip;
  } else {
#line 246
    pi->xstep = 0;
#line 247
    pi->ystep = 0;
#line 248
    picomp = pi->picomps;
#line 248
    compno = 0;
    {
#line 248
    while (1) {
      while_continue: /* CIL Label */ ;

#line 248
      if (! (compno < pi->numcomps)) {
#line 248
        goto while_break;
      }
#line 250
      pirlvl = picomp->pirlvls;
#line 250
      rlvlno = 0;
      {
#line 250
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 250
        if (! (rlvlno < picomp->numrlvls)) {
#line 250
          goto while_break___0;
        }
#line 252
        xstep = picomp->hsamp * (1 << (((pirlvl->prcwidthexpn + picomp->numrlvls) - rlvlno) - 1));
#line 254
        ystep = picomp->vsamp * (1 << (((pirlvl->prcheightexpn + picomp->numrlvls) - rlvlno) - 1));
#line 256
        if (! pi->xstep) {
#line 256
          tmp___0 = xstep;
        } else {
#line 256
          if (pi->xstep < xstep) {
#line 256
            tmp = pi->xstep;
          } else {
#line 256
            tmp = xstep;
          }
#line 256
          tmp___0 = tmp;
        }
#line 256
        pi->xstep = tmp___0;
#line 257
        if (! pi->ystep) {
#line 257
          tmp___2 = ystep;
        } else {
#line 257
          if (pi->ystep < ystep) {
#line 257
            tmp___1 = pi->ystep;
          } else {
#line 257
            tmp___1 = ystep;
          }
#line 257
          tmp___2 = tmp___1;
        }
#line 257
        pi->ystep = tmp___2;
#line 251
        pirlvl ++;
#line 251
        rlvlno ++;
      }
      while_break___7: /* CIL Label */ ;
      }
      while_break___0: 
#line 249
      picomp ++;
#line 249
      compno ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break: 
#line 260
    pi->prgvolfirst = 0;
  }
#line 263
  pi->rlvlno = (int )pchg->rlvlnostart;
  {
#line 263
  while (1) {
    while_continue___6: /* CIL Label */ ;

#line 263
    if (pi->rlvlno < (int )pchg->rlvlnoend) {
#line 263
      if (! (pi->rlvlno < pi->maxrlvls)) {
#line 263
        goto while_break___1;
      }
    } else {
#line 263
      goto while_break___1;
    }
#line 265
    pi->y = pi->ystart;
    {
#line 265
    while (1) {
      while_continue___7: /* CIL Label */ ;

#line 265
      if (! (pi->y < pi->yend)) {
#line 265
        goto while_break___2;
      }
#line 267
      pi->x = pi->xstart;
      {
#line 267
      while (1) {
        while_continue___8: /* CIL Label */ ;

#line 267
        if (! (pi->x < pi->xend)) {
#line 267
          goto while_break___3;
        }
#line 269
        pi->picomp = pi->picomps + pi->compno;
#line 269
        pi->compno = (int )pchg->compnostart;
        {
#line 269
        while (1) {
          while_continue___9: /* CIL Label */ ;
          while_continue___4: ;
#line 269
          if (pi->compno < (int )pchg->compnoend) {
#line 269
            if (! (pi->compno < pi->numcomps)) {
#line 269
              goto while_break___4;
            }
          } else {
#line 269
            goto while_break___4;
          }
#line 273
          if (pi->rlvlno >= (pi->picomp)->numrlvls) {
#line 274
            goto while_continue___4;
          }
#line 276
          pi->pirlvl = (pi->picomp)->pirlvls + pi->rlvlno;
#line 277
          if ((pi->pirlvl)->numprcs == 0) {
#line 278
            goto while_continue___4;
          }
#line 280
          r = (uint_fast32_t )(((pi->picomp)->numrlvls - 1) - pi->rlvlno);
#line 281
          rpx = r + (unsigned long )(pi->pirlvl)->prcwidthexpn;
#line 282
          rpy = r + (unsigned long )(pi->pirlvl)->prcheightexpn;
#line 283
          trx0 = (uint_fast32_t )(((pi->xstart + ((pi->picomp)->hsamp << r)) - 1) / ((pi->picomp)->hsamp << r));
#line 284
          try0 = (uint_fast32_t )(((pi->ystart + ((pi->picomp)->vsamp << r)) - 1) / ((pi->picomp)->vsamp << r));
#line 285
          if (pi->x == pi->xstart) {
#line 285
            if ((trx0 << r) % (unsigned long )(1 << rpx)) {
              _L___2: 
#line 285
              if (pi->y == pi->ystart) {
#line 285
                if ((try0 << r) % (unsigned long )(1 << rpy)) {
                  _L: 
#line 289
                  prchind = (int )((unsigned long )(((pi->x + ((pi->picomp)->hsamp << r)) - 1) / ((pi->picomp)->hsamp << r) >> (pi->pirlvl)->prcwidthexpn) - (trx0 >> (pi->pirlvl)->prcwidthexpn));
#line 292
                  prcvind = (int )((unsigned long )(((pi->y + ((pi->picomp)->vsamp << r)) - 1) / ((pi->picomp)->vsamp << r) >> (pi->pirlvl)->prcheightexpn) - (try0 >> (pi->pirlvl)->prcheightexpn));
#line 295
                  pi->prcno = prcvind * (pi->pirlvl)->numhprcs + prchind;
#line 298
                  pi->lyrno = 0;
                  {
#line 298
                  while (1) {
                    while_continue___10: /* CIL Label */ ;

#line 298
                    if (pi->lyrno < pi->numlyrs) {
#line 298
                      if (! (pi->lyrno < (int )pchg->lyrnoend)) {
#line 298
                        goto while_break___5;
                      }
                    } else {
#line 298
                      goto while_break___5;
                    }
#line 300
                    prclyrno = (pi->pirlvl)->prclyrnos + pi->prcno;
#line 301
                    if (pi->lyrno >= *prclyrno) {
#line 302
                      (*prclyrno) ++;
#line 303
                      return (0);
                    }
                    skip: 
#line 299
                    (pi->lyrno) ++;
                  }
                  while_break___12: /* CIL Label */ ;
                  }
                  while_break___5: ;
                } else {
#line 285
                  goto _L___1;
                }
              } else
              _L___1: 
#line 285
              if (! (pi->y % (1 << rpy))) {
#line 285
                goto _L;
              }
            } else {
#line 285
              goto _L___3;
            }
          } else
          _L___3: 
#line 285
          if (! (pi->x % (1 << rpx))) {
#line 285
            goto _L___2;
          }
#line 272
          (pi->picomp) ++;
#line 272
          (pi->compno) ++;
        }
        while_break___11: /* CIL Label */ ;
        }
        while_break___4: 
#line 267
        pi->x += pi->xstep - pi->x % pi->xstep;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___3: 
#line 265
      pi->y += pi->ystep - pi->y % pi->ystep;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___2: 
#line 264
    (pi->rlvlno) ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___1: ;
#line 313
  return (1);
}
}
#line 316 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
static int jpc_pi_nextpcrl(jpc_pi_t *pi ) 
{ 
  int rlvlno ;
  jpc_pirlvl_t *pirlvl ;
  jpc_pchg_t *pchg ;
  int prchind ;
  int prcvind ;
  int *prclyrno ;
  int compno ;
  jpc_picomp_t *picomp ;
  int xstep ;
  int ystep ;
  uint_fast32_t trx0 ;
  uint_fast32_t try0 ;
  uint_fast32_t r ;
  uint_fast32_t rpx ;
  uint_fast32_t rpy ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 334
  pchg = pi->pchg;
#line 335
  if (! pi->prgvolfirst) {
#line 336
    goto skip;
  } else {
#line 338
    pi->xstep = 0;
#line 339
    pi->ystep = 0;
#line 340
    picomp = pi->picomps;
#line 340
    compno = 0;
    {
#line 340
    while (1) {
      while_continue: /* CIL Label */ ;

#line 340
      if (! (compno < pi->numcomps)) {
#line 340
        goto while_break;
      }
#line 342
      pirlvl = picomp->pirlvls;
#line 342
      rlvlno = 0;
      {
#line 342
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 342
        if (! (rlvlno < picomp->numrlvls)) {
#line 342
          goto while_break___0;
        }
#line 344
        xstep = picomp->hsamp * (1 << (((pirlvl->prcwidthexpn + picomp->numrlvls) - rlvlno) - 1));
#line 347
        ystep = picomp->vsamp * (1 << (((pirlvl->prcheightexpn + picomp->numrlvls) - rlvlno) - 1));
#line 350
        if (! pi->xstep) {
#line 350
          tmp___0 = xstep;
        } else {
#line 350
          if (pi->xstep < xstep) {
#line 350
            tmp = pi->xstep;
          } else {
#line 350
            tmp = xstep;
          }
#line 350
          tmp___0 = tmp;
        }
#line 350
        pi->xstep = tmp___0;
#line 352
        if (! pi->ystep) {
#line 352
          tmp___2 = ystep;
        } else {
#line 352
          if (pi->ystep < ystep) {
#line 352
            tmp___1 = pi->ystep;
          } else {
#line 352
            tmp___1 = ystep;
          }
#line 352
          tmp___2 = tmp___1;
        }
#line 352
        pi->ystep = tmp___2;
#line 343
        pirlvl ++;
#line 343
        rlvlno ++;
      }
      while_break___7: /* CIL Label */ ;
      }
      while_break___0: 
#line 341
      picomp ++;
#line 341
      compno ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break: 
#line 356
    pi->prgvolfirst = 0;
  }
#line 359
  pi->y = pi->ystart;
  {
#line 359
  while (1) {
    while_continue___6: /* CIL Label */ ;

#line 359
    if (! (pi->y < pi->yend)) {
#line 359
      goto while_break___1;
    }
#line 361
    pi->x = pi->xstart;
    {
#line 361
    while (1) {
      while_continue___7: /* CIL Label */ ;

#line 361
      if (! (pi->x < pi->xend)) {
#line 361
        goto while_break___2;
      }
#line 363
      pi->picomp = pi->picomps + pi->compno;
#line 363
      pi->compno = (int )pchg->compnostart;
      {
#line 363
      while (1) {
        while_continue___8: /* CIL Label */ ;

#line 363
        if (pi->compno < pi->numcomps) {
#line 363
          if (! (pi->compno < (int )pchg->compnoend)) {
#line 363
            goto while_break___3;
          }
        } else {
#line 363
          goto while_break___3;
        }
#line 367
        pi->pirlvl = (pi->picomp)->pirlvls + pi->rlvlno;
#line 367
        pi->rlvlno = (int )pchg->rlvlnostart;
        {
#line 367
        while (1) {
          while_continue___9: /* CIL Label */ ;
          while_continue___4: ;
#line 367
          if (pi->rlvlno < (pi->picomp)->numrlvls) {
#line 367
            if (! (pi->rlvlno < (int )pchg->rlvlnoend)) {
#line 367
              goto while_break___4;
            }
          } else {
#line 367
            goto while_break___4;
          }
#line 372
          if ((pi->pirlvl)->numprcs == 0) {
#line 373
            goto while_continue___4;
          }
#line 375
          r = (uint_fast32_t )(((pi->picomp)->numrlvls - 1) - pi->rlvlno);
#line 376
          trx0 = (uint_fast32_t )(((pi->xstart + ((pi->picomp)->hsamp << r)) - 1) / ((pi->picomp)->hsamp << r));
#line 377
          try0 = (uint_fast32_t )(((pi->ystart + ((pi->picomp)->vsamp << r)) - 1) / ((pi->picomp)->vsamp << r));
#line 378
          rpx = r + (unsigned long )(pi->pirlvl)->prcwidthexpn;
#line 379
          rpy = r + (unsigned long )(pi->pirlvl)->prcheightexpn;
#line 380
          if (pi->x == pi->xstart) {
#line 380
            if ((trx0 << r) % (unsigned long )(1 << rpx)) {
              _L___5: 
#line 380
              if (pi->y == pi->ystart) {
#line 380
                if ((try0 << r) % (unsigned long )(1 << rpy)) {
                  _L: 
#line 384
                  prchind = (int )((unsigned long )(((pi->x + ((pi->picomp)->hsamp << r)) - 1) / ((pi->picomp)->hsamp << r) >> (pi->pirlvl)->prcwidthexpn) - (trx0 >> (pi->pirlvl)->prcwidthexpn));
#line 387
                  prcvind = (int )((unsigned long )(((pi->y + ((pi->picomp)->vsamp << r)) - 1) / ((pi->picomp)->vsamp << r) >> (pi->pirlvl)->prcheightexpn) - (try0 >> (pi->pirlvl)->prcheightexpn));
#line 390
                  pi->prcno = prcvind * (pi->pirlvl)->numhprcs + prchind;
#line 392
                  pi->lyrno = 0;
                  {
#line 392
                  while (1) {
                    while_continue___10: /* CIL Label */ ;

#line 392
                    if (pi->lyrno < pi->numlyrs) {
#line 392
                      if (! (pi->lyrno < (int )pchg->lyrnoend)) {
#line 392
                        goto while_break___5;
                      }
                    } else {
#line 392
                      goto while_break___5;
                    }
#line 394
                    prclyrno = (pi->pirlvl)->prclyrnos + pi->prcno;
#line 395
                    if (pi->lyrno >= *prclyrno) {
#line 396
                      (*prclyrno) ++;
#line 397
                      return (0);
                    }
                    skip: 
#line 393
                    (pi->lyrno) ++;
                  }
                  while_break___12: /* CIL Label */ ;
                  }
                  while_break___5: ;
                } else {
#line 380
                  goto _L___4;
                }
              } else
              _L___4: 
#line 380
              if (! (pi->y % ((pi->picomp)->vsamp << rpy))) {
#line 380
                goto _L;
              }
            } else {
#line 380
              goto _L___6;
            }
          } else
          _L___6: 
#line 380
          if (! (pi->x % ((pi->picomp)->hsamp << rpx))) {
#line 380
            goto _L___5;
          }
#line 370
          (pi->pirlvl) ++;
#line 370
          (pi->rlvlno) ++;
        }
        while_break___11: /* CIL Label */ ;
        }
        while_break___4: 
#line 365
        (pi->picomp) ++;
#line 365
        (pi->compno) ++;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___3: 
#line 361
      pi->x += pi->xstep - pi->x % pi->xstep;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___2: 
#line 359
    pi->y += pi->ystep - pi->y % pi->ystep;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___1: ;
#line 407
  return (1);
}
}
#line 410 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
static int jpc_pi_nextcprl(jpc_pi_t *pi ) 
{ 
  int rlvlno ;
  jpc_pirlvl_t *pirlvl ;
  jpc_pchg_t *pchg ;
  int prchind ;
  int prcvind ;
  int *prclyrno ;
  uint_fast32_t trx0 ;
  uint_fast32_t try0 ;
  uint_fast32_t r ;
  uint_fast32_t rpx ;
  uint_fast32_t rpy ;
  int tmp ;
  int tmp___0 ;

  {
#line 424
  pchg = pi->pchg;
#line 425
  if (! pi->prgvolfirst) {
#line 426
    goto skip;
  } else {
#line 428
    pi->prgvolfirst = 0;
  }
#line 431
  pi->picomp = pi->picomps + pi->compno;
#line 431
  pi->compno = (int )pchg->compnostart;
  {
#line 431
  while (1) {
    while_continue: /* CIL Label */ ;

#line 431
    if (pi->compno < (int )pchg->compnoend) {
#line 431
      if (! (pi->compno < pi->numcomps)) {
#line 431
        goto while_break;
      }
    } else {
#line 431
      goto while_break;
    }
#line 434
    pirlvl = (pi->picomp)->pirlvls;
#line 435
    pi->xstep = (pi->picomp)->hsamp * (1 << ((pirlvl->prcwidthexpn + (pi->picomp)->numrlvls) - 1));
#line 437
    pi->ystep = (pi->picomp)->vsamp * (1 << ((pirlvl->prcheightexpn + (pi->picomp)->numrlvls) - 1));
#line 439
    pirlvl = (pi->picomp)->pirlvls + 1;
#line 439
    rlvlno = 1;
    {
#line 439
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 439
      if (! (rlvlno < (pi->picomp)->numrlvls)) {
#line 439
        goto while_break___0;
      }
#line 441
      if (pi->xstep < (pi->picomp)->hsamp * (1 << (((pirlvl->prcwidthexpn + (pi->picomp)->numrlvls) - rlvlno) - 1))) {
#line 441
        tmp = pi->xstep;
      } else {
#line 441
        tmp = (pi->picomp)->hsamp * (1 << (((pirlvl->prcwidthexpn + (pi->picomp)->numrlvls) - rlvlno) - 1));
      }
#line 441
      pi->xstep = tmp;
#line 444
      if (pi->ystep < (pi->picomp)->vsamp * (1 << (((pirlvl->prcheightexpn + (pi->picomp)->numrlvls) - rlvlno) - 1))) {
#line 444
        tmp___0 = pi->ystep;
      } else {
#line 444
        tmp___0 = (pi->picomp)->vsamp * (1 << (((pirlvl->prcheightexpn + (pi->picomp)->numrlvls) - rlvlno) - 1));
      }
#line 444
      pi->ystep = tmp___0;
#line 440
      pirlvl ++;
#line 440
      rlvlno ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: 
#line 448
    pi->y = pi->ystart;
    {
#line 448
    while (1) {
      while_continue___5: /* CIL Label */ ;

#line 448
      if (! (pi->y < pi->yend)) {
#line 448
        goto while_break___1;
      }
#line 450
      pi->x = pi->xstart;
      {
#line 450
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 450
        if (! (pi->x < pi->xend)) {
#line 450
          goto while_break___2;
        }
#line 452
        pi->pirlvl = (pi->picomp)->pirlvls + pi->rlvlno;
#line 452
        pi->rlvlno = (int )pchg->rlvlnostart;
        {
#line 452
        while (1) {
          while_continue___7: /* CIL Label */ ;
          while_continue___3: ;
#line 452
          if (pi->rlvlno < (pi->picomp)->numrlvls) {
#line 452
            if (! (pi->rlvlno < (int )pchg->rlvlnoend)) {
#line 452
              goto while_break___3;
            }
          } else {
#line 452
            goto while_break___3;
          }
#line 456
          if ((pi->pirlvl)->numprcs == 0) {
#line 457
            goto while_continue___3;
          }
#line 459
          r = (uint_fast32_t )(((pi->picomp)->numrlvls - 1) - pi->rlvlno);
#line 460
          trx0 = (uint_fast32_t )(((pi->xstart + ((pi->picomp)->hsamp << r)) - 1) / ((pi->picomp)->hsamp << r));
#line 461
          try0 = (uint_fast32_t )(((pi->ystart + ((pi->picomp)->vsamp << r)) - 1) / ((pi->picomp)->vsamp << r));
#line 462
          rpx = r + (unsigned long )(pi->pirlvl)->prcwidthexpn;
#line 463
          rpy = r + (unsigned long )(pi->pirlvl)->prcheightexpn;
#line 464
          if (pi->x == pi->xstart) {
#line 464
            if ((trx0 << r) % (unsigned long )(1 << rpx)) {
              _L___8: 
#line 464
              if (pi->y == pi->ystart) {
#line 464
                if ((try0 << r) % (unsigned long )(1 << rpy)) {
                  _L: 
#line 468
                  prchind = (int )((unsigned long )(((pi->x + ((pi->picomp)->hsamp << r)) - 1) / ((pi->picomp)->hsamp << r) >> (pi->pirlvl)->prcwidthexpn) - (trx0 >> (pi->pirlvl)->prcwidthexpn));
#line 471
                  prcvind = (int )((unsigned long )(((pi->y + ((pi->picomp)->vsamp << r)) - 1) / ((pi->picomp)->vsamp << r) >> (pi->pirlvl)->prcheightexpn) - (try0 >> (pi->pirlvl)->prcheightexpn));
#line 474
                  pi->prcno = prcvind * (pi->pirlvl)->numhprcs + prchind;
#line 479
                  pi->lyrno = 0;
                  {
#line 479
                  while (1) {
                    while_continue___8: /* CIL Label */ ;

#line 479
                    if (pi->lyrno < pi->numlyrs) {
#line 479
                      if (! (pi->lyrno < (int )pchg->lyrnoend)) {
#line 479
                        goto while_break___4;
                      }
                    } else {
#line 479
                      goto while_break___4;
                    }
#line 481
                    prclyrno = (pi->pirlvl)->prclyrnos + pi->prcno;
#line 482
                    if (pi->lyrno >= *prclyrno) {
#line 483
                      (*prclyrno) ++;
#line 484
                      return (0);
                    }
                    skip: 
#line 480
                    (pi->lyrno) ++;
                  }
                  while_break___10: /* CIL Label */ ;
                  }
                  while_break___4: ;
                } else {
#line 464
                  goto _L___7;
                }
              } else
              _L___7: 
#line 464
              if (! (pi->y % ((pi->picomp)->vsamp << rpy))) {
#line 464
                goto _L;
              }
            } else {
#line 464
              goto _L___9;
            }
          } else
          _L___9: 
#line 464
          if (! (pi->x % ((pi->picomp)->hsamp << rpx))) {
#line 464
            goto _L___8;
          }
#line 455
          (pi->pirlvl) ++;
#line 455
          (pi->rlvlno) ++;
        }
        while_break___9: /* CIL Label */ ;
        }
        while_break___3: 
#line 451
        pi->x += pi->xstep - pi->x % pi->xstep;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___2: 
#line 449
      pi->y += pi->ystep - pi->y % pi->ystep;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: 
#line 432
    (pi->picomp) ++;
#line 432
    (pi->compno) ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: ;
#line 494
  return (1);
}
}
#line 497 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
static void pirlvl_destroy(jpc_pirlvl_t *rlvl ) 
{ 


  {
#line 499
  if (rlvl->prclyrnos) {
    {
#line 500
    jas_free((void *)rlvl->prclyrnos);
    }
  }
#line 503
  return;
}
}
#line 504 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
static void jpc_picomp_destroy(jpc_picomp_t *picomp ) 
{ 
  int rlvlno ;
  jpc_pirlvl_t *pirlvl ;

  {
#line 508
  if (picomp->pirlvls) {
#line 509
    pirlvl = picomp->pirlvls;
#line 509
    rlvlno = 0;
    {
#line 509
    while (1) {
      while_continue: /* CIL Label */ ;

#line 509
      if (! (rlvlno < picomp->numrlvls)) {
#line 509
        goto while_break;
      }
      {
#line 511
      pirlvl_destroy(pirlvl);
#line 510
      pirlvl ++;
#line 510
      rlvlno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 513
    jas_free((void *)picomp->pirlvls);
    }
  }
#line 516
  return;
}
}
#line 517 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
void jpc_pi_destroy(jpc_pi_t *pi ) 
{ 
  jpc_picomp_t *picomp ;
  int compno ;

  {
#line 521
  if (pi->picomps) {
#line 522
    picomp = pi->picomps;
#line 522
    compno = 0;
    {
#line 522
    while (1) {
      while_continue: /* CIL Label */ ;

#line 522
      if (! (compno < pi->numcomps)) {
#line 522
        goto while_break;
      }
      {
#line 524
      jpc_picomp_destroy(picomp);
#line 523
      picomp ++;
#line 523
      compno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 526
    jas_free((void *)pi->picomps);
    }
  }
#line 528
  if (pi->pchglist) {
    {
#line 529
    jpc_pchglist_destroy(pi->pchglist);
    }
  }
  {
#line 531
  jas_free((void *)pi);
  }
#line 533
  return;
}
}
#line 534 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
jpc_pi_t *jpc_pi_create0(void) 
{ 
  jpc_pi_t *pi ;
  void *tmp ;

  {
  {
#line 537
  tmp = jas_malloc(sizeof(jpc_pi_t ));
#line 537
  pi = (jpc_pi_t *)tmp;
  }
#line 537
  if (! pi) {
#line 538
    return ((jpc_pi_t *)0);
  }
  {
#line 540
  pi->picomps = (jpc_picomp_t *)0;
#line 541
  pi->pchgno = 0;
#line 542
  pi->pchglist = jpc_pchglist_create();
  }
#line 542
  if (! pi->pchglist) {
    {
#line 543
    jas_free((void *)pi);
    }
#line 544
    return ((jpc_pi_t *)0);
  }
#line 546
  return (pi);
}
}
#line 549 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
int jpc_pi_addpchg(jpc_pi_t *pi , jpc_pocpchg_t *pchg ) 
{ 
  int __cil_tmp3 ;

  {
  {
#line 551
  __cil_tmp3 = jpc_pchglist_insert(pi->pchglist, -1, pchg);
  }
#line 551
  return (__cil_tmp3);
}
}
#line 554 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
jpc_pchglist_t *jpc_pchglist_create(void) 
{ 
  jpc_pchglist_t *pchglist ;
  void *tmp ;

  {
  {
#line 557
  tmp = jas_malloc(sizeof(jpc_pchglist_t ));
#line 557
  pchglist = (jpc_pchglist_t *)tmp;
  }
#line 557
  if (! pchglist) {
#line 558
    return ((jpc_pchglist_t *)0);
  }
#line 560
  pchglist->numpchgs = 0;
#line 561
  pchglist->maxpchgs = 0;
#line 562
  pchglist->pchgs = (jpc_pchg_t **)0;
#line 563
  return (pchglist);
}
}
#line 566 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
int jpc_pchglist_insert(jpc_pchglist_t *pchglist , int pchgno , jpc_pchg_t *pchg ) 
{ 
  int i ;
  int newmaxpchgs ;
  jpc_pchg_t **newpchgs ;
  void *tmp ;

  {
#line 571
  if (pchgno < 0) {
#line 572
    pchgno = pchglist->numpchgs;
  }
#line 574
  if (pchglist->numpchgs >= pchglist->maxpchgs) {
    {
#line 575
    newmaxpchgs = pchglist->maxpchgs + 128;
#line 576
    tmp = jas_realloc2((void *)pchglist->pchgs, (size_t )newmaxpchgs, sizeof(jpc_pchg_t *));
#line 576
    newpchgs = (jpc_pchg_t **)tmp;
    }
#line 576
    if (! newpchgs) {
#line 578
      return (-1);
    }
#line 580
    pchglist->maxpchgs = newmaxpchgs;
#line 581
    pchglist->pchgs = newpchgs;
  }
#line 583
  i = pchglist->numpchgs;
  {
#line 583
  while (1) {
    while_continue: /* CIL Label */ ;

#line 583
    if (! (i > pchgno)) {
#line 583
      goto while_break;
    }
#line 584
    *(pchglist->pchgs + i) = *(pchglist->pchgs + (i - 1));
#line 583
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 586
  *(pchglist->pchgs + pchgno) = pchg;
#line 587
  (pchglist->numpchgs) ++;
#line 588
  return (0);
}
}
#line 591 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
jpc_pchg_t *jpc_pchglist_remove(jpc_pchglist_t *pchglist , int pchgno ) 
{ 
  int i ;
  jpc_pchg_t *pchg ;

  {
#line 596
  pchg = *(pchglist->pchgs + pchgno);
#line 597
  i = pchgno + 1;
  {
#line 597
  while (1) {
    while_continue: /* CIL Label */ ;

#line 597
    if (! (i < pchglist->numpchgs)) {
#line 597
      goto while_break;
    }
#line 598
    *(pchglist->pchgs + (i - 1)) = *(pchglist->pchgs + i);
#line 597
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 600
  (pchglist->numpchgs) --;
#line 601
  return (pchg);
}
}
#line 604 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
jpc_pchg_t *jpc_pchg_copy(jpc_pchg_t *pchg ) 
{ 
  jpc_pchg_t *newpchg ;
  void *tmp ;

  {
  {
#line 607
  tmp = jas_malloc(sizeof(jpc_pchg_t ));
#line 607
  newpchg = (jpc_pchg_t *)tmp;
  }
#line 607
  if (! newpchg) {
#line 608
    return ((jpc_pchg_t *)0);
  }
#line 610
  *newpchg = *pchg;
#line 611
  return (newpchg);
}
}
#line 614 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
jpc_pchglist_t *jpc_pchglist_copy(jpc_pchglist_t *pchglist ) 
{ 
  jpc_pchglist_t *newpchglist ;
  jpc_pchg_t *newpchg ;
  int pchgno ;
  int __cil_tmp7 ;

  {
  {
#line 619
  newpchglist = jpc_pchglist_create();
  }
#line 619
  if (! newpchglist) {
#line 620
    return ((jpc_pchglist_t *)0);
  }
#line 622
  pchgno = 0;
  {
#line 622
  while (1) {
    while_continue: /* CIL Label */ ;

#line 622
    if (! (pchgno < pchglist->numpchgs)) {
#line 622
      goto while_break;
    }
    {
#line 623
    __cil_tmp7 = jpc_pchglist_insert(newpchglist, -1, newpchg);
#line 623
    newpchg = jpc_pchg_copy(*(pchglist->pchgs + pchgno));
    }
#line 623
    if (! newpchg) {
      {
#line 625
      jpc_pchglist_destroy(newpchglist);
      }
#line 626
      return ((jpc_pchglist_t *)0);
    } else
#line 623
    if (__cil_tmp7) {
      {
#line 625
      jpc_pchglist_destroy(newpchglist);
      }
#line 626
      return ((jpc_pchglist_t *)0);
    }
#line 622
    pchgno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 629
  return (newpchglist);
}
}
#line 632 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
void jpc_pchglist_destroy(jpc_pchglist_t *pchglist ) 
{ 
  int pchgno ;

  {
#line 635
  if (pchglist->pchgs) {
#line 636
    pchgno = 0;
    {
#line 636
    while (1) {
      while_continue: /* CIL Label */ ;

#line 636
      if (! (pchgno < pchglist->numpchgs)) {
#line 636
        goto while_break;
      }
      {
#line 637
      jpc_pchg_destroy(*(pchglist->pchgs + pchgno));
#line 636
      pchgno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 639
    jas_free((void *)pchglist->pchgs);
    }
  }
  {
#line 641
  jas_free((void *)pchglist);
  }
#line 643
  return;
}
}
#line 644 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
void jpc_pchg_destroy(jpc_pchg_t *pchg ) 
{ 


  {
  {
#line 646
  jas_free((void *)pchg);
  }
#line 648
  return;
}
}
#line 649 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
jpc_pchg_t *jpc_pchglist_get(jpc_pchglist_t *pchglist , int pchgno ) 
{ 


  {
#line 651
  return (*(pchglist->pchgs + pchgno));
}
}
#line 654 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
int jpc_pchglist_numpchgs(jpc_pchglist_t *pchglist ) 
{ 


  {
#line 656
  return (pchglist->numpchgs);
}
}
#line 659 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t2cod.c"
int jpc_pi_init(jpc_pi_t *pi ) 
{ 
  int compno ;
  int rlvlno ;
  int prcno ;
  jpc_picomp_t *picomp ;
  jpc_pirlvl_t *pirlvl ;
  int *prclyrno ;

  {
#line 668
  pi->prgvolfirst = 0;
#line 669
  pi->valid = 0;
#line 670
  pi->pktno = -1;
#line 671
  pi->pchgno = -1;
#line 672
  pi->pchg = (jpc_pchg_t *)0;
#line 674
  picomp = pi->picomps;
#line 674
  compno = 0;
  {
#line 674
  while (1) {
    while_continue: /* CIL Label */ ;

#line 674
    if (! (compno < pi->numcomps)) {
#line 674
      goto while_break;
    }
#line 676
    pirlvl = picomp->pirlvls;
#line 676
    rlvlno = 0;
    {
#line 676
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 676
      if (! (rlvlno < picomp->numrlvls)) {
#line 676
        goto while_break___0;
      }
#line 678
      prclyrno = pirlvl->prclyrnos;
#line 678
      prcno = 0;
      {
#line 678
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 678
        if (! (prcno < pirlvl->numprcs)) {
#line 678
          goto while_break___1;
        }
#line 680
        *prclyrno = 0;
#line 679
        prclyrno ++;
#line 679
        prcno ++;
      }
      while_break___4: /* CIL Label */ ;
      }
      while_break___1: 
#line 677
      pirlvl ++;
#line 677
      rlvlno ++;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
#line 675
    picomp ++;
#line 675
    compno ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 684
  return (0);
}
}
#line 87 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.h"
int jpc_enc_enccblks(jpc_enc_t *enc ) ;
#line 90
int jpc_enc_enccblk(jpc_enc_t *enc , jas_stream_t *out , jpc_enc_tcmpt_t *tcmpt ,
                    jpc_enc_band_t *band , jpc_enc_cblk_t *cblk ) ;
#line 88 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.c"
static int jpc_encsigpass(jpc_mqenc_t *mqenc , int bitpos , int orient , int vcausalflag ,
                          jas_matrix_t *flags , jas_matrix_t *data , int term , long *nmsedec ) ;
#line 91
static int jpc_encrefpass(jpc_mqenc_t *mqenc , int bitpos , int vcausalflag , jas_matrix_t *flags ,
                          jas_matrix_t *data , int term , long *nmsedec ) ;
#line 94
static int jpc_encclnpass(jpc_mqenc_t *mqenc , int bitpos , int orient , int vcausalflag ,
                          int segsymflag , jas_matrix_t *flags , jas_matrix_t *data ,
                          int term , long *nmsedec ) ;
#line 97
static int jpc_encrawsigpass(jpc_bitstream_t *out , int bitpos , int vcausalflag ,
                             jas_matrix_t *flags , jas_matrix_t *data , int term ,
                             long *nmsedec ) ;
#line 100
static int jpc_encrawrefpass(jpc_bitstream_t *out , int bitpos , int vcausalflag ,
                             jas_matrix_t *flags , jas_matrix_t *data , int term ,
                             long *nmsedec ) ;
#line 108 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.c"
int jpc_enc_enccblks(jpc_enc_t *enc ) 
{ 
  jpc_enc_tcmpt_t *tcmpt ;
  jpc_enc_tcmpt_t *endcomps ;
  jpc_enc_rlvl_t *lvl ;
  jpc_enc_rlvl_t *endlvls ;
  jpc_enc_band_t *band ;
  jpc_enc_band_t *endbands ;
  jpc_enc_cblk_t *cblk ;
  jpc_enc_cblk_t *endcblks ;
  int i ;
  int j ;
  int mx ;
  int bmx ;
  int v ;
  jpc_enc_tile_t *tile ;
  uint_fast32_t prcno ;
  jpc_enc_prc_t *prc ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int tmp ;
  int __cil_tmp23 ;

  {
#line 127
  tile = enc->curtile;
#line 129
  endcomps = tile->tcmpts + tile->numtcmpts;
#line 130
  tcmpt = tile->tcmpts;
  {
#line 130
  while (1) {
    while_continue: /* CIL Label */ ;

#line 130
    if (! ((unsigned long )tcmpt != (unsigned long )endcomps)) {
#line 130
      goto while_break;
    }
#line 131
    endlvls = tcmpt->rlvls + tcmpt->numrlvls;
#line 132
    lvl = tcmpt->rlvls;
    {
#line 132
    while (1) {
      while_continue___3: /* CIL Label */ ;
      while_continue___0: ;
#line 132
      if (! ((unsigned long )lvl != (unsigned long )endlvls)) {
#line 132
        goto while_break___0;
      }
#line 133
      if (! lvl->bands) {
#line 134
        goto while_continue___0;
      }
#line 136
      endbands = lvl->bands + lvl->numbands;
#line 137
      band = lvl->bands;
      {
#line 137
      while (1) {
        while_continue___4: /* CIL Label */ ;
        while_continue___1: ;
#line 137
        if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 137
          goto while_break___1;
        }
#line 138
        if (! band->data) {
#line 139
          goto while_continue___1;
        }
#line 141
        prc = band->prcs;
#line 141
        prcno = (uint_fast32_t )0;
        {
#line 141
        while (1) {
          while_continue___5: /* CIL Label */ ;
          while_continue___2: ;
#line 141
          if (! (prcno < (unsigned long )lvl->numprcs)) {
#line 141
            goto while_break___2;
          }
#line 142
          if (! prc->cblks) {
#line 143
            goto while_continue___2;
          }
#line 145
          bmx = 0;
#line 146
          endcblks = prc->cblks + prc->numcblks;
#line 147
          cblk = prc->cblks;
          {
#line 147
          while (1) {
            while_continue___6: /* CIL Label */ ;

#line 147
            if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 147
              goto while_break___3;
            }
#line 148
            mx = 0;
#line 149
            i = 0;
            {
#line 149
            while (1) {
              while_continue___7: /* CIL Label */ ;

#line 149
              if (! ((long )i < (cblk->data)->numrows_)) {
#line 149
                goto while_break___4;
              }
#line 150
              j = 0;
              {
#line 150
              while (1) {
                while_continue___8: /* CIL Label */ ;

#line 150
                if (! ((long )j < (cblk->data)->numcols_)) {
#line 150
                  goto while_break___5;
                }
                {
#line 151
                v = abs((int )*(*((cblk->data)->rows_ + i) + j));
                }
#line 152
                if (v > mx) {
#line 153
                  mx = v;
                }
#line 150
                j ++;
              }
              while_break___14: /* CIL Label */ ;
              }
              while_break___5: 
#line 149
              i ++;
            }
            while_break___13: /* CIL Label */ ;
            }
            while_break___4: ;
#line 157
            if (mx > bmx) {
#line 158
              bmx = mx;
            }
            {
#line 160
            __cil_tmp19 = jpc_firstone(mx);
            }
#line 160
            if ((__cil_tmp19 + 1) - 6 > 0) {
              {
#line 160
              __cil_tmp20 = jpc_firstone(mx);
#line 160
              tmp = (__cil_tmp20 + 1) - 6;
              }
            } else {
#line 160
              tmp = 0;
            }
#line 160
            cblk->numbps = tmp;
#line 147
            cblk ++;
          }
          while_break___12: /* CIL Label */ ;
          }
          while_break___3: 
#line 163
          cblk = prc->cblks;
          {
#line 163
          while (1) {
            while_continue___9: /* CIL Label */ ;

#line 163
            if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 163
              goto while_break___6;
            }
#line 164
            cblk->numimsbs = band->numbps - cblk->numbps;
#line 163
            cblk ++;
          }
          while_break___15: /* CIL Label */ ;
          }
          while_break___6: 
#line 168
          cblk = prc->cblks;
          {
#line 168
          while (1) {
            while_continue___10: /* CIL Label */ ;

#line 168
            if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 168
              goto while_break___7;
            }
            {
#line 169
            __cil_tmp23 = jpc_enc_enccblk(enc, cblk->stream, tcmpt, band, cblk);
            }
#line 169
            if (__cil_tmp23) {
#line 170
              return (-1);
            }
#line 168
            cblk ++;
          }
          while_break___16: /* CIL Label */ ;
          }
          while_break___7: 
#line 141
          prc ++;
#line 141
          prcno ++;
        }
        while_break___11: /* CIL Label */ ;
        }
        while_break___2: 
#line 137
        band ++;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___1: 
#line 132
      lvl ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___0: 
#line 130
    tcmpt ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break: ;
#line 177
  return (0);
}
}
#line 180 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.c"
int getthebyte(jas_stream_t *in , long off ) 
{ 
  int c ;
  long oldpos ;
  int __cil_tmp7 ;
  int tmp___0 ;

  {
  {
#line 184
  oldpos = jas_stream_tell(in);
#line 186
  jas_stream_seek(in, off, 0);
  }
#line 187
  if (in->cnt_ <= 0) {
    {
#line 187
    __cil_tmp7 = jas_stream_fillbuf(in, 0);
#line 187
    tmp___0 = __cil_tmp7;
    }
  } else {
#line 187
    tmp___0 = (int )*(in->ptr_);
  }
  {
#line 187
  c = tmp___0;
#line 188
  jas_stream_seek(in, oldpos, 0);
  }
#line 189
  return (c);
}
}
#line 193 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.c"
int jpc_enc_enccblk(jpc_enc_t *enc , jas_stream_t *out , jpc_enc_tcmpt_t *tcmpt ,
                    jpc_enc_band_t *band , jpc_enc_cblk_t *cblk ) 
{ 
  jpc_enc_pass_t *pass ;
  jpc_enc_pass_t *endpasses ;
  int bitpos ;
  int n ;
  int adjust ;
  int ret ;
  int passtype ;
  int t ;
  jpc_bitstream_t *bout ;
  jpc_enc_pass_t *termpass ;
  jpc_enc_rlvl_t *rlvl ;
  int vcausal ;
  int segsym ;
  int termmode ;
  int c ;
  int tmp___1 ;
  jpc_enc_pass_t *tmp___3 ;
  long __cil_tmp37 ;
  int tmp___9 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  int tmp___10 ;
  int __cil_tmp43 ;
  int __cil_tmp44 ;
  int tmp___11 ;
  long __cil_tmp49 ;
  int __cil_tmp50 ;
  long __cil_tmp51 ;
  long __cil_tmp52 ;
  int __cil_tmp53 ;
  jpc_enc_pass_t *tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  void *tmp___18 ;

  {
  {
#line 211
  bout = (jpc_bitstream_t *)0;
#line 212
  rlvl = band->rlvl;
#line 214
  cblk->stream = jas_stream_memopen((char *)0, 0);
#line 216
  cblk->mqenc = jpc_mqenc_create(19, cblk->stream);
#line 218
  jpc_mqenc_setctxs(cblk->mqenc, 19, jpc_mqctxs);
  }
#line 220
  if (cblk->numbps > 0) {
#line 220
    tmp___1 = 3 * cblk->numbps - 2;
  } else {
#line 220
    tmp___1 = 0;
  }
#line 220
  cblk->numpasses = tmp___1;
#line 221
  if (cblk->numpasses > 0) {
    {
#line 222
    tmp___18 = jas_alloc2((size_t )cblk->numpasses, sizeof(jpc_enc_pass_t ));
#line 222
    cblk->passes = (jpc_enc_pass_t *)tmp___18;
    }
  } else {
#line 225
    cblk->passes = (jpc_enc_pass_t *)0;
  }
#line 227
  if (cblk->passes) {
#line 227
    tmp___3 = cblk->passes + cblk->numpasses;
  } else {
#line 227
    tmp___3 = (jpc_enc_pass_t *)0;
  }
#line 227
  endpasses = tmp___3;
#line 228
  pass = cblk->passes;
  {
#line 228
  while (1) {
    while_continue: /* CIL Label */ ;

#line 228
    if (! ((unsigned long )pass != (unsigned long )endpasses)) {
#line 228
      goto while_break;
    }
    {
#line 229
    pass->start = 0;
#line 230
    pass->end = 0;
#line 231
    pass->term = JPC_ISTERMINATED((int )(pass - cblk->passes), 0, cblk->numpasses,
                                  (tcmpt->cblksty & 4) != 0, (tcmpt->cblksty & 1) != 0);
#line 232
    pass->type = JPC_SEGTYPE((int )(pass - cblk->passes), 0, (tcmpt->cblksty & 1) != 0);
#line 233
    pass->lyrno = -1;
    }
#line 234
    if ((unsigned long )pass == (unsigned long )(endpasses - 1)) {
#line 236
      pass->term = 1;
    }
#line 228
    pass ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: 
  {
#line 240
  cblk->flags = jas_matrix_create((int )((cblk->data)->numrows_ + 2L), (int )((cblk->data)->numcols_ + 2L));
#line 245
  bitpos = cblk->numbps - 1;
#line 246
  pass = cblk->passes;
#line 247
  n = cblk->numpasses;
  }
  {
#line 248
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 248
    n --;
#line 248
    if (! (n >= 0)) {
#line 248
      goto while_break___0;
    }
#line 250
    if (! (pass->type == 1)) {
#line 254
      if (! bout) {
        {
#line 255
        bout = jpc_bitstream_sopen(cblk->stream, (char *)"w");
        }
      }
    }
    {
#line 261
    passtype = (int )(((pass - cblk->passes) + 2L) % 3L);
#line 265
    __cil_tmp37 = jas_stream_tell(cblk->stream);
#line 265
    pass->start = (int )__cil_tmp37;
#line 270
    vcausal = (tcmpt->cblksty & 8) != 0;
#line 271
    segsym = (tcmpt->cblksty & 32) != 0;
    }
#line 272
    if (pass->term) {
#line 273
      if (tcmpt->cblksty & 16) {
#line 273
        tmp___9 = 1;
      } else {
#line 273
        tmp___9 = 0;
      }
#line 273
      termmode = tmp___9 + 1;
    } else {
#line 276
      termmode = 0;
    }
#line 279
    if (passtype == 0) {
#line 279
      goto case_0;
    }
#line 286
    if (passtype == 1) {
#line 286
      goto case_1;
    }
#line 278
    goto switch_break;
    case_0: 
#line 280
    if (pass->type == 1) {
      {
#line 280
      __cil_tmp40 = jpc_encsigpass(cblk->mqenc, bitpos, band->orient, vcausal, cblk->flags,
                                   cblk->data, termmode, & pass->nmsedec);
#line 280
      tmp___10 = __cil_tmp40;
      }
    } else {
      {
#line 280
      __cil_tmp41 = jpc_encrawsigpass(bout, bitpos, vcausal, cblk->flags, cblk->data,
                                      termmode, & pass->nmsedec);
#line 280
      tmp___10 = __cil_tmp41;
      }
    }
#line 280
    ret = tmp___10;
#line 285
    goto switch_break;
    case_1: 
#line 287
    if (pass->type == 1) {
      {
#line 287
      __cil_tmp43 = jpc_encrefpass(cblk->mqenc, bitpos, vcausal, cblk->flags, cblk->data,
                                   termmode, & pass->nmsedec);
#line 287
      tmp___11 = __cil_tmp43;
      }
    } else {
      {
#line 287
      __cil_tmp44 = jpc_encrawrefpass(bout, bitpos, vcausal, cblk->flags, cblk->data,
                                      termmode, & pass->nmsedec);
#line 287
      tmp___11 = __cil_tmp44;
      }
    }
#line 287
    ret = tmp___11;
#line 292
    goto switch_break;
    {
#line 295
    ret = jpc_encclnpass(cblk->mqenc, bitpos, band->orient, vcausal, segsym, cblk->flags,
                         cblk->data, termmode, & pass->nmsedec);
    }
#line 298
    goto switch_break;
#line 301
    goto switch_break;
    switch_break: ;
#line 304
    if (pass->type == 1) {
#line 305
      if (pass->term) {
        {
#line 306
        jpc_mqenc_init(cblk->mqenc);
        }
      }
      {
#line 308
      jpc_mqenc_getstate(cblk->mqenc, & pass->mqencstate);
#line 309
      __cil_tmp49 = jas_stream_tell(cblk->stream);
#line 309
      pass->end = (int )__cil_tmp49;
      }
#line 310
      if (tcmpt->cblksty & 2) {
        {
#line 311
        jpc_mqenc_setctxs(cblk->mqenc, 19, jpc_mqctxs);
        }
      }
    } else
#line 314
    if (pass->term) {
      {
#line 315
      __cil_tmp50 = jpc_bitstream_pending(bout);
      }
#line 315
      if (__cil_tmp50) {
        {
#line 316
        jpc_bitstream_outalign(bout, 42);
        }
      }
      {
#line 318
      jpc_bitstream_close(bout);
#line 319
      bout = (jpc_bitstream_t *)0;
#line 320
      __cil_tmp51 = jas_stream_tell(cblk->stream);
#line 320
      pass->end = (int )__cil_tmp51;
      }
    } else {
      {
#line 322
      __cil_tmp53 = jpc_bitstream_pending(bout);
#line 322
      __cil_tmp52 = jas_stream_tell(cblk->stream);
#line 322
      pass->end = (int )(__cil_tmp52 + (long )__cil_tmp53);
      }
    }
#line 333
    pass->wmsedec = (((((((((double )((band->rlvl)->tcmpt)->synweight / (double )(1L << 13)) * ((double )((band->rlvl)->tcmpt)->synweight / (double )(1L << 13))) * ((double )band->synweight / (double )(1L << 13))) * ((double )band->synweight / (double )(1L << 13))) * ((double )band->absstepsize / (double )(1L << 13))) * ((double )band->absstepsize / (double )(1L << 13))) * (double )(1 << bitpos)) * (double )(1 << bitpos)) * ((double )pass->nmsedec / (double )(1L << 13));
#line 340
    pass->cumwmsedec = pass->wmsedec;
#line 341
    if ((unsigned long )pass != (unsigned long )cblk->passes) {
#line 342
      pass->cumwmsedec += (pass + -1)->cumwmsedec;
    }
#line 344
    if (passtype == 2) {
#line 345
      bitpos --;
    }
#line 347
    pass ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___0: 
#line 354
  n = 0;
#line 355
  if (cblk->passes) {
#line 355
    tmp___14 = cblk->passes + cblk->numpasses;
  } else {
#line 355
    tmp___14 = (jpc_enc_pass_t *)0;
  }
#line 355
  endpasses = tmp___14;
#line 356
  pass = cblk->passes;
  {
#line 356
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 356
    if (! ((unsigned long )pass != (unsigned long )endpasses)) {
#line 356
      goto while_break___1;
    }
#line 357
    if (pass->start < n) {
#line 358
      pass->start = n;
    }
#line 360
    if (pass->end < n) {
#line 361
      pass->end = n;
    }
#line 363
    if (! pass->term) {
#line 364
      termpass = pass;
      {
#line 365
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 365
        if (termpass - pass < (long )cblk->numpasses) {
#line 365
          if (! (! termpass->term)) {
#line 365
            goto while_break___2;
          }
        } else {
#line 365
          goto while_break___2;
        }
#line 367
        termpass ++;
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___2: ;
#line 369
      if (pass->type == 1) {
#line 370
        if (pass->mqencstate.lastbyte == 255) {
#line 370
          tmp___15 = 1;
        } else {
#line 370
          tmp___15 = 0;
        }
#line 370
        t = tmp___15;
#line 371
        if (pass->mqencstate.ctreg >= 5U) {
#line 372
          adjust = 4 + t;
        } else {
#line 374
          adjust = 5 + t;
        }
#line 376
        pass->end += adjust;
      }
#line 378
      if (pass->end > termpass->end) {
#line 379
        pass->end = termpass->end;
      }
      {
#line 381
      c = getthebyte(cblk->stream, (long )(pass->end - 1));
      }
#line 381
      if (c == -1) {
        {
#line 382
        abort();
        }
      }
#line 384
      if (c == 255) {
#line 385
        (pass->end) ++;
      }
#line 387
      if (n > pass->end) {
#line 387
        tmp___16 = n;
      } else {
#line 387
        tmp___16 = pass->end;
      }
#line 387
      n = tmp___16;
    } else {
#line 389
      if (n > pass->end) {
#line 389
        tmp___17 = n;
      } else {
#line 389
        tmp___17 = pass->end;
      }
#line 389
      n = tmp___17;
    }
#line 356
    pass ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break___1: ;
#line 397
  if (bout) {
    {
#line 398
    jpc_bitstream_close(bout);
    }
  }
#line 401
  return (0);
}
}
#line 429 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.c"
static int jpc_encsigpass(jpc_mqenc_t *mqenc , int bitpos , int orient , int vcausalflag ,
                          jas_matrix_t *flags , jas_matrix_t *data , int term , long *nmsedec ) 
{ 
  int i ;
  int j ;
  int one ;
  int vscanlen ;
  int width ;
  int height ;
  int frowstep ;
  int drowstep ;
  int fstripestep ;
  int dstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *fp ;
  jpc_fix_t *dp ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dvscanstart ;
  int k ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  int f ;
  int v ;
  int __cil_tmp31 ;
  int tmp___2 ;
  int __cil_tmp33 ;
  unsigned long tmp___3 ;
  int __cil_tmp35 ;
  unsigned long tmp___4 ;
  int __cil_tmp37 ;
  int __cil_tmp38 ;
  int tmp___5 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  int tmp___6 ;
  jpc_fix_t tmp___7 ;
  int tmp___8 ;
  int __cil_tmp45 ;
  unsigned long tmp___9 ;
  int __cil_tmp47 ;
  unsigned long tmp___10 ;
  register jpc_fix_t *np ;
  register jpc_fix_t *sp ;
  int f___0 ;
  int v___0 ;
  int __cil_tmp53 ;
  int tmp___11 ;
  int __cil_tmp55 ;
  unsigned long tmp___12 ;
  int __cil_tmp57 ;
  unsigned long tmp___13 ;
  int __cil_tmp59 ;
  int __cil_tmp60 ;
  int tmp___14 ;
  int __cil_tmp62 ;
  int __cil_tmp63 ;
  int tmp___15 ;
  jpc_fix_t tmp___16 ;
  int tmp___17 ;
  int __cil_tmp67 ;
  unsigned long tmp___18 ;
  int __cil_tmp69 ;
  unsigned long tmp___19 ;
  register jpc_fix_t *np___0 ;
  register jpc_fix_t *sp___0 ;
  int f___1 ;
  int v___1 ;
  int __cil_tmp75 ;
  int tmp___20 ;
  int __cil_tmp77 ;
  unsigned long tmp___21 ;
  int __cil_tmp79 ;
  unsigned long tmp___22 ;
  int __cil_tmp81 ;
  int __cil_tmp82 ;
  int tmp___23 ;
  int __cil_tmp84 ;
  int __cil_tmp85 ;
  int tmp___24 ;
  jpc_fix_t tmp___25 ;
  int tmp___26 ;
  int __cil_tmp89 ;
  unsigned long tmp___27 ;
  int __cil_tmp91 ;
  unsigned long tmp___28 ;
  register jpc_fix_t *np___1 ;
  register jpc_fix_t *sp___1 ;
  int f___2 ;
  int v___2 ;
  int __cil_tmp97 ;
  int tmp___29 ;
  int __cil_tmp99 ;
  unsigned long tmp___30 ;
  int __cil_tmp101 ;
  unsigned long tmp___31 ;
  int __cil_tmp103 ;
  int __cil_tmp104 ;
  int tmp___32 ;
  int __cil_tmp106 ;
  int __cil_tmp107 ;
  int tmp___33 ;
  jpc_fix_t tmp___34 ;
  int tmp___35 ;
  int __cil_tmp111 ;
  unsigned long tmp___36 ;
  int __cil_tmp113 ;
  unsigned long tmp___37 ;
  register jpc_fix_t *np___2 ;
  register jpc_fix_t *sp___2 ;
  int tmp___38 ;

  {
#line 450
  *nmsedec = 0L;
#line 451
  width = (int )data->numcols_;
#line 452
  height = (int )data->numrows_;
#line 453
  if (flags->numrows_ > 1L) {
#line 453
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 453
    tmp = (jas_seqent_t *)0L;
  }
#line 453
  frowstep = (int )tmp;
#line 454
  if (data->numrows_ > 1L) {
#line 454
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 454
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 454
  drowstep = (int )tmp___0;
#line 455
  fstripestep = frowstep << 2;
#line 456
  dstripestep = drowstep << 2;
#line 458
  one = 1 << (bitpos + 6);
#line 460
  fstripestart = *(flags->rows_ + 1) + 1;
#line 461
  dstripestart = *(data->rows_ + 0) + 0;
#line 462
  i = height;
  {
#line 462
  while (1) {
    while_continue: /* CIL Label */ ;

#line 462
    if (! (i > 0)) {
#line 462
      goto while_break;
    }
#line 464
    fvscanstart = fstripestart;
#line 465
    dvscanstart = dstripestart;
#line 466
    if (i < 4) {
#line 466
      tmp___1 = i;
    } else {
#line 466
      tmp___1 = 4;
    }
#line 466
    vscanlen = tmp___1;
#line 467
    j = width;
    {
#line 467
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 467
      if (! (j > 0)) {
#line 467
        goto while_break___0;
      }
#line 468
      fp = fvscanstart;
#line 469
      dp = dvscanstart;
#line 470
      k = vscanlen;
#line 472
      f = (int )*fp;
#line 472
      if (f & 255) {
#line 472
        if (! (f & 20480)) {
          {
#line 472
          __cil_tmp31 = abs((int )*dp);
          }
#line 472
          if (__cil_tmp31 & one) {
#line 472
            tmp___2 = 1;
          } else {
#line 472
            tmp___2 = 0;
          }
#line 472
          v = tmp___2;
#line 472
          mqenc->curctx = mqenc->ctxs + jpc_zcctxnolut[(orient << 8) | (f & 255)];
#line 472
          if ((*(mqenc->curctx))->mps == v) {
#line 472
            if (! (mqenc->areg & 32768UL)) {
              {
#line 472
              __cil_tmp33 = jpc_mqenc_codemps2(mqenc);
#line 472
              tmp___3 = (unsigned long )__cil_tmp33;
              }
            } else {
#line 472
              mqenc->creg += (*(mqenc->curctx))->qeval;
#line 472
              tmp___3 = mqenc->creg;
            }
#line 472
            mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 472
            tmp___4 = tmp___3;
          } else {
            {
#line 472
            __cil_tmp35 = jpc_mqenc_codelps(mqenc);
#line 472
            tmp___4 = (unsigned long )__cil_tmp35;
            }
          }
#line 472
          if (v) {
#line 472
            if (bitpos + 6 > 6) {
#line 472
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 472
                __cil_tmp37 = abs((int )*dp);
#line 472
                tmp___5 = __cil_tmp37 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 472
                __cil_tmp38 = abs((int )*dp);
#line 472
                tmp___5 = __cil_tmp38 << - ((bitpos + 6) - 6);
                }
              }
#line 472
              tmp___7 = jpc_signmsedec[tmp___5 & ((1 << 7) - 1)];
            } else {
#line 472
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 472
                __cil_tmp40 = abs((int )*dp);
#line 472
                tmp___6 = __cil_tmp40 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 472
                __cil_tmp41 = abs((int )*dp);
#line 472
                tmp___6 = __cil_tmp41 << - ((bitpos + 6) - 6);
                }
              }
#line 472
              tmp___7 = jpc_signmsedec0[tmp___6 & ((1 << 7) - 1)];
            }
#line 472
            *nmsedec += tmp___7;
#line 472
            if (*dp < 0L) {
#line 472
              tmp___8 = 1;
            } else {
#line 472
              tmp___8 = 0;
            }
#line 472
            v = tmp___8;
#line 472
            mqenc->curctx = mqenc->ctxs + jpc_scctxnolut[(f & 4080) >> 4];
#line 472
            if ((*(mqenc->curctx))->mps == (v ^ jpc_spblut[(f & 4080) >> 4])) {
#line 472
              if (! (mqenc->areg & 32768UL)) {
                {
#line 472
                __cil_tmp45 = jpc_mqenc_codemps2(mqenc);
#line 472
                tmp___9 = (unsigned long )__cil_tmp45;
                }
              } else {
#line 472
                mqenc->creg += (*(mqenc->curctx))->qeval;
#line 472
                tmp___9 = mqenc->creg;
              }
#line 472
              mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 472
              tmp___10 = tmp___9;
            } else {
              {
#line 472
              __cil_tmp47 = jpc_mqenc_codelps(mqenc);
#line 472
              tmp___10 = (unsigned long )__cil_tmp47;
              }
            }
#line 472
            np = fp - frowstep;
#line 472
            sp = fp + frowstep;
#line 472
            if (vcausalflag) {
#line 472
              *(sp + -1) |= 1L;
#line 472
              *(sp + 1) |= 8L;
#line 472
              if (v) {
#line 472
                *sp |= 272L;
#line 472
                *(fp + -1) |= 544L;
#line 472
                *(fp + 1) |= 2176L;
              } else {
#line 472
                *sp |= 16L;
#line 472
                *(fp + -1) |= 32L;
#line 472
                *(fp + 1) |= 128L;
              }
            } else {
#line 472
              *(np + -1) |= 2L;
#line 472
              *(np + 1) |= 4L;
#line 472
              *(sp + -1) |= 1L;
#line 472
              *(sp + 1) |= 8L;
#line 472
              if (v) {
#line 472
                *np |= 1088L;
#line 472
                *sp |= 272L;
#line 472
                *(fp + -1) |= 544L;
#line 472
                *(fp + 1) |= 2176L;
              } else {
#line 472
                *np |= 64L;
#line 472
                *sp |= 16L;
#line 472
                *(fp + -1) |= 32L;
#line 472
                *(fp + 1) |= 128L;
              }
            }
#line 472
            *fp |= 4096L;
          }
#line 472
          *fp |= 16384L;
        }
      }
#line 474
      k --;
#line 474
      if (k <= 0) {
#line 475
        goto while_continue___0;
      }
#line 477
      fp += frowstep;
#line 478
      dp += drowstep;
#line 479
      f___0 = (int )*fp;
#line 479
      if (f___0 & 255) {
#line 479
        if (! (f___0 & 20480)) {
          {
#line 479
          __cil_tmp53 = abs((int )*dp);
          }
#line 479
          if (__cil_tmp53 & one) {
#line 479
            tmp___11 = 1;
          } else {
#line 479
            tmp___11 = 0;
          }
#line 479
          v___0 = tmp___11;
#line 479
          mqenc->curctx = mqenc->ctxs + jpc_zcctxnolut[(orient << 8) | (f___0 & 255)];
#line 479
          if ((*(mqenc->curctx))->mps == v___0) {
#line 479
            if (! (mqenc->areg & 32768UL)) {
              {
#line 479
              __cil_tmp55 = jpc_mqenc_codemps2(mqenc);
#line 479
              tmp___12 = (unsigned long )__cil_tmp55;
              }
            } else {
#line 479
              mqenc->creg += (*(mqenc->curctx))->qeval;
#line 479
              tmp___12 = mqenc->creg;
            }
#line 479
            mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 479
            tmp___13 = tmp___12;
          } else {
            {
#line 479
            __cil_tmp57 = jpc_mqenc_codelps(mqenc);
#line 479
            tmp___13 = (unsigned long )__cil_tmp57;
            }
          }
#line 479
          if (v___0) {
#line 479
            if (bitpos + 6 > 6) {
#line 479
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 479
                __cil_tmp59 = abs((int )*dp);
#line 479
                tmp___14 = __cil_tmp59 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 479
                __cil_tmp60 = abs((int )*dp);
#line 479
                tmp___14 = __cil_tmp60 << - ((bitpos + 6) - 6);
                }
              }
#line 479
              tmp___16 = jpc_signmsedec[tmp___14 & ((1 << 7) - 1)];
            } else {
#line 479
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 479
                __cil_tmp62 = abs((int )*dp);
#line 479
                tmp___15 = __cil_tmp62 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 479
                __cil_tmp63 = abs((int )*dp);
#line 479
                tmp___15 = __cil_tmp63 << - ((bitpos + 6) - 6);
                }
              }
#line 479
              tmp___16 = jpc_signmsedec0[tmp___15 & ((1 << 7) - 1)];
            }
#line 479
            *nmsedec += tmp___16;
#line 479
            if (*dp < 0L) {
#line 479
              tmp___17 = 1;
            } else {
#line 479
              tmp___17 = 0;
            }
#line 479
            v___0 = tmp___17;
#line 479
            mqenc->curctx = mqenc->ctxs + jpc_scctxnolut[(f___0 & 4080) >> 4];
#line 479
            if ((*(mqenc->curctx))->mps == (v___0 ^ jpc_spblut[(f___0 & 4080) >> 4])) {
#line 479
              if (! (mqenc->areg & 32768UL)) {
                {
#line 479
                __cil_tmp67 = jpc_mqenc_codemps2(mqenc);
#line 479
                tmp___18 = (unsigned long )__cil_tmp67;
                }
              } else {
#line 479
                mqenc->creg += (*(mqenc->curctx))->qeval;
#line 479
                tmp___18 = mqenc->creg;
              }
#line 479
              mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 479
              tmp___19 = tmp___18;
            } else {
              {
#line 479
              __cil_tmp69 = jpc_mqenc_codelps(mqenc);
#line 479
              tmp___19 = (unsigned long )__cil_tmp69;
              }
            }
#line 479
            np___0 = fp - frowstep;
#line 479
            sp___0 = fp + frowstep;
#line 479
            *(np___0 + -1) |= 2L;
#line 479
            *(np___0 + 1) |= 4L;
#line 479
            *(sp___0 + -1) |= 1L;
#line 479
            *(sp___0 + 1) |= 8L;
#line 479
            if (v___0) {
#line 479
              *np___0 |= 1088L;
#line 479
              *sp___0 |= 272L;
#line 479
              *(fp + -1) |= 544L;
#line 479
              *(fp + 1) |= 2176L;
            } else {
#line 479
              *np___0 |= 64L;
#line 479
              *sp___0 |= 16L;
#line 479
              *(fp + -1) |= 32L;
#line 479
              *(fp + 1) |= 128L;
            }
#line 479
            *fp |= 4096L;
          }
#line 479
          *fp |= 16384L;
        }
      }
#line 481
      k --;
#line 481
      if (k <= 0) {
#line 482
        goto while_continue___0;
      }
#line 484
      fp += frowstep;
#line 485
      dp += drowstep;
#line 486
      f___1 = (int )*fp;
#line 486
      if (f___1 & 255) {
#line 486
        if (! (f___1 & 20480)) {
          {
#line 486
          __cil_tmp75 = abs((int )*dp);
          }
#line 486
          if (__cil_tmp75 & one) {
#line 486
            tmp___20 = 1;
          } else {
#line 486
            tmp___20 = 0;
          }
#line 486
          v___1 = tmp___20;
#line 486
          mqenc->curctx = mqenc->ctxs + jpc_zcctxnolut[(orient << 8) | (f___1 & 255)];
#line 486
          if ((*(mqenc->curctx))->mps == v___1) {
#line 486
            if (! (mqenc->areg & 32768UL)) {
              {
#line 486
              __cil_tmp77 = jpc_mqenc_codemps2(mqenc);
#line 486
              tmp___21 = (unsigned long )__cil_tmp77;
              }
            } else {
#line 486
              mqenc->creg += (*(mqenc->curctx))->qeval;
#line 486
              tmp___21 = mqenc->creg;
            }
#line 486
            mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 486
            tmp___22 = tmp___21;
          } else {
            {
#line 486
            __cil_tmp79 = jpc_mqenc_codelps(mqenc);
#line 486
            tmp___22 = (unsigned long )__cil_tmp79;
            }
          }
#line 486
          if (v___1) {
#line 486
            if (bitpos + 6 > 6) {
#line 486
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 486
                __cil_tmp81 = abs((int )*dp);
#line 486
                tmp___23 = __cil_tmp81 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 486
                __cil_tmp82 = abs((int )*dp);
#line 486
                tmp___23 = __cil_tmp82 << - ((bitpos + 6) - 6);
                }
              }
#line 486
              tmp___25 = jpc_signmsedec[tmp___23 & ((1 << 7) - 1)];
            } else {
#line 486
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 486
                __cil_tmp84 = abs((int )*dp);
#line 486
                tmp___24 = __cil_tmp84 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 486
                __cil_tmp85 = abs((int )*dp);
#line 486
                tmp___24 = __cil_tmp85 << - ((bitpos + 6) - 6);
                }
              }
#line 486
              tmp___25 = jpc_signmsedec0[tmp___24 & ((1 << 7) - 1)];
            }
#line 486
            *nmsedec += tmp___25;
#line 486
            if (*dp < 0L) {
#line 486
              tmp___26 = 1;
            } else {
#line 486
              tmp___26 = 0;
            }
#line 486
            v___1 = tmp___26;
#line 486
            mqenc->curctx = mqenc->ctxs + jpc_scctxnolut[(f___1 & 4080) >> 4];
#line 486
            if ((*(mqenc->curctx))->mps == (v___1 ^ jpc_spblut[(f___1 & 4080) >> 4])) {
#line 486
              if (! (mqenc->areg & 32768UL)) {
                {
#line 486
                __cil_tmp89 = jpc_mqenc_codemps2(mqenc);
#line 486
                tmp___27 = (unsigned long )__cil_tmp89;
                }
              } else {
#line 486
                mqenc->creg += (*(mqenc->curctx))->qeval;
#line 486
                tmp___27 = mqenc->creg;
              }
#line 486
              mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 486
              tmp___28 = tmp___27;
            } else {
              {
#line 486
              __cil_tmp91 = jpc_mqenc_codelps(mqenc);
#line 486
              tmp___28 = (unsigned long )__cil_tmp91;
              }
            }
#line 486
            np___1 = fp - frowstep;
#line 486
            sp___1 = fp + frowstep;
#line 486
            *(np___1 + -1) |= 2L;
#line 486
            *(np___1 + 1) |= 4L;
#line 486
            *(sp___1 + -1) |= 1L;
#line 486
            *(sp___1 + 1) |= 8L;
#line 486
            if (v___1) {
#line 486
              *np___1 |= 1088L;
#line 486
              *sp___1 |= 272L;
#line 486
              *(fp + -1) |= 544L;
#line 486
              *(fp + 1) |= 2176L;
            } else {
#line 486
              *np___1 |= 64L;
#line 486
              *sp___1 |= 16L;
#line 486
              *(fp + -1) |= 32L;
#line 486
              *(fp + 1) |= 128L;
            }
#line 486
            *fp |= 4096L;
          }
#line 486
          *fp |= 16384L;
        }
      }
#line 488
      k --;
#line 488
      if (k <= 0) {
#line 489
        goto while_continue___0;
      }
#line 491
      fp += frowstep;
#line 492
      dp += drowstep;
#line 493
      f___2 = (int )*fp;
#line 493
      if (f___2 & 255) {
#line 493
        if (! (f___2 & 20480)) {
          {
#line 493
          __cil_tmp97 = abs((int )*dp);
          }
#line 493
          if (__cil_tmp97 & one) {
#line 493
            tmp___29 = 1;
          } else {
#line 493
            tmp___29 = 0;
          }
#line 493
          v___2 = tmp___29;
#line 493
          mqenc->curctx = mqenc->ctxs + jpc_zcctxnolut[(orient << 8) | (f___2 & 255)];
#line 493
          if ((*(mqenc->curctx))->mps == v___2) {
#line 493
            if (! (mqenc->areg & 32768UL)) {
              {
#line 493
              __cil_tmp99 = jpc_mqenc_codemps2(mqenc);
#line 493
              tmp___30 = (unsigned long )__cil_tmp99;
              }
            } else {
#line 493
              mqenc->creg += (*(mqenc->curctx))->qeval;
#line 493
              tmp___30 = mqenc->creg;
            }
#line 493
            mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 493
            tmp___31 = tmp___30;
          } else {
            {
#line 493
            __cil_tmp101 = jpc_mqenc_codelps(mqenc);
#line 493
            tmp___31 = (unsigned long )__cil_tmp101;
            }
          }
#line 493
          if (v___2) {
#line 493
            if (bitpos + 6 > 6) {
#line 493
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 493
                __cil_tmp103 = abs((int )*dp);
#line 493
                tmp___32 = __cil_tmp103 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 493
                __cil_tmp104 = abs((int )*dp);
#line 493
                tmp___32 = __cil_tmp104 << - ((bitpos + 6) - 6);
                }
              }
#line 493
              tmp___34 = jpc_signmsedec[tmp___32 & ((1 << 7) - 1)];
            } else {
#line 493
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 493
                __cil_tmp106 = abs((int )*dp);
#line 493
                tmp___33 = __cil_tmp106 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 493
                __cil_tmp107 = abs((int )*dp);
#line 493
                tmp___33 = __cil_tmp107 << - ((bitpos + 6) - 6);
                }
              }
#line 493
              tmp___34 = jpc_signmsedec0[tmp___33 & ((1 << 7) - 1)];
            }
#line 493
            *nmsedec += tmp___34;
#line 493
            if (*dp < 0L) {
#line 493
              tmp___35 = 1;
            } else {
#line 493
              tmp___35 = 0;
            }
#line 493
            v___2 = tmp___35;
#line 493
            mqenc->curctx = mqenc->ctxs + jpc_scctxnolut[(f___2 & 4080) >> 4];
#line 493
            if ((*(mqenc->curctx))->mps == (v___2 ^ jpc_spblut[(f___2 & 4080) >> 4])) {
#line 493
              if (! (mqenc->areg & 32768UL)) {
                {
#line 493
                __cil_tmp111 = jpc_mqenc_codemps2(mqenc);
#line 493
                tmp___36 = (unsigned long )__cil_tmp111;
                }
              } else {
#line 493
                mqenc->creg += (*(mqenc->curctx))->qeval;
#line 493
                tmp___36 = mqenc->creg;
              }
#line 493
              mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 493
              tmp___37 = tmp___36;
            } else {
              {
#line 493
              __cil_tmp113 = jpc_mqenc_codelps(mqenc);
#line 493
              tmp___37 = (unsigned long )__cil_tmp113;
              }
            }
#line 493
            np___2 = fp - frowstep;
#line 493
            sp___2 = fp + frowstep;
#line 493
            *(np___2 + -1) |= 2L;
#line 493
            *(np___2 + 1) |= 4L;
#line 493
            *(sp___2 + -1) |= 1L;
#line 493
            *(sp___2 + 1) |= 8L;
#line 493
            if (v___2) {
#line 493
              *np___2 |= 1088L;
#line 493
              *sp___2 |= 272L;
#line 493
              *(fp + -1) |= 544L;
#line 493
              *(fp + 1) |= 2176L;
            } else {
#line 493
              *np___2 |= 64L;
#line 493
              *sp___2 |= 16L;
#line 493
              *(fp + -1) |= 32L;
#line 493
              *(fp + 1) |= 128L;
            }
#line 493
            *fp |= 4096L;
          }
#line 493
          *fp |= 16384L;
        }
      }
#line 467
      dvscanstart ++;
#line 467
      fvscanstart ++;
#line 467
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 462
    dstripestart += dstripestep;
#line 462
    fstripestart += fstripestep;
#line 462
    i -= 4;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 499
  if (term) {
    {
#line 500
    jpc_mqenc_flush(mqenc, term - 1);
    }
  }
#line 503
  if (mqenc->err) {
#line 503
    tmp___38 = -1;
  } else {
#line 503
    tmp___38 = 0;
  }
#line 503
  return (tmp___38);
}
}
#line 528 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.c"
static int jpc_encrawsigpass(jpc_bitstream_t *out , int bitpos , int vcausalflag ,
                             jas_matrix_t *flags , jas_matrix_t *data , int term ,
                             long *nmsedec ) 
{ 
  int i ;
  int j ;
  int k ;
  int one ;
  int vscanlen ;
  int width ;
  int height ;
  int frowstep ;
  int drowstep ;
  int fstripestep ;
  int dstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *fp ;
  jpc_fix_t *dp ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dvscanstart ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  jpc_fix_t f ;
  jpc_fix_t v ;
  int __cil_tmp30 ;
  int tmp___2 ;
  int tmp___4 ;
  int __cil_tmp34 ;
  unsigned char *__cil_tmp35 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  long tmp___8 ;
  long tmp___9 ;
  int __cil_tmp41 ;
  int __cil_tmp42 ;
  int tmp___10 ;
  int __cil_tmp44 ;
  int __cil_tmp45 ;
  int tmp___11 ;
  jpc_fix_t tmp___12 ;
  int tmp___13 ;
  int tmp___15 ;
  int __cil_tmp51 ;
  unsigned char *__cil_tmp52 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  long tmp___19 ;
  long tmp___20 ;
  register jpc_fix_t *np ;
  register jpc_fix_t *sp ;
  jpc_fix_t f___0 ;
  jpc_fix_t v___0 ;
  int __cil_tmp62 ;
  int tmp___21 ;
  int tmp___23 ;
  int __cil_tmp66 ;
  unsigned char *__cil_tmp67 ;
  int tmp___24 ;
  int tmp___25 ;
  int tmp___26 ;
  long tmp___27 ;
  long tmp___28 ;
  int __cil_tmp73 ;
  int __cil_tmp74 ;
  int tmp___29 ;
  int __cil_tmp76 ;
  int __cil_tmp77 ;
  int tmp___30 ;
  jpc_fix_t tmp___31 ;
  int tmp___32 ;
  int tmp___34 ;
  int __cil_tmp83 ;
  unsigned char *__cil_tmp84 ;
  int tmp___35 ;
  int tmp___36 ;
  int tmp___37 ;
  long tmp___38 ;
  long tmp___39 ;
  register jpc_fix_t *np___0 ;
  register jpc_fix_t *sp___0 ;
  jpc_fix_t f___1 ;
  jpc_fix_t v___1 ;
  int __cil_tmp94 ;
  int tmp___40 ;
  int tmp___42 ;
  int __cil_tmp98 ;
  unsigned char *__cil_tmp99 ;
  int tmp___43 ;
  int tmp___44 ;
  int tmp___45 ;
  long tmp___46 ;
  long tmp___47 ;
  int __cil_tmp105 ;
  int __cil_tmp106 ;
  int tmp___48 ;
  int __cil_tmp108 ;
  int __cil_tmp109 ;
  int tmp___49 ;
  jpc_fix_t tmp___50 ;
  int tmp___51 ;
  int tmp___53 ;
  int __cil_tmp115 ;
  unsigned char *__cil_tmp116 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  long tmp___57 ;
  long tmp___58 ;
  register jpc_fix_t *np___1 ;
  register jpc_fix_t *sp___1 ;
  jpc_fix_t f___2 ;
  jpc_fix_t v___2 ;
  int __cil_tmp126 ;
  int tmp___59 ;
  int tmp___61 ;
  int __cil_tmp130 ;
  unsigned char *__cil_tmp131 ;
  int tmp___62 ;
  int tmp___63 ;
  int tmp___64 ;
  long tmp___65 ;
  long tmp___66 ;
  int __cil_tmp137 ;
  int __cil_tmp138 ;
  int tmp___67 ;
  int __cil_tmp140 ;
  int __cil_tmp141 ;
  int tmp___68 ;
  jpc_fix_t tmp___69 ;
  int tmp___70 ;
  int tmp___72 ;
  int __cil_tmp147 ;
  unsigned char *__cil_tmp148 ;
  int tmp___73 ;
  int tmp___74 ;
  int tmp___75 ;
  long tmp___76 ;
  long tmp___77 ;
  register jpc_fix_t *np___2 ;
  register jpc_fix_t *sp___2 ;

  {
#line 549
  *nmsedec = 0L;
#line 550
  width = (int )data->numcols_;
#line 551
  height = (int )data->numrows_;
#line 552
  if (flags->numrows_ > 1L) {
#line 552
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 552
    tmp = (jas_seqent_t *)0L;
  }
#line 552
  frowstep = (int )tmp;
#line 553
  if (data->numrows_ > 1L) {
#line 553
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 553
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 553
  drowstep = (int )tmp___0;
#line 554
  fstripestep = frowstep << 2;
#line 555
  dstripestep = drowstep << 2;
#line 557
  one = 1 << (bitpos + 6);
#line 559
  fstripestart = *(flags->rows_ + 1) + 1;
#line 560
  dstripestart = *(data->rows_ + 0) + 0;
#line 561
  i = height;
  {
#line 561
  while (1) {
    while_continue: /* CIL Label */ ;

#line 561
    if (! (i > 0)) {
#line 561
      goto while_break;
    }
#line 563
    fvscanstart = fstripestart;
#line 564
    dvscanstart = dstripestart;
#line 565
    if (i < 4) {
#line 565
      tmp___1 = i;
    } else {
#line 565
      tmp___1 = 4;
    }
#line 565
    vscanlen = tmp___1;
#line 566
    j = width;
    {
#line 566
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 566
      if (! (j > 0)) {
#line 566
        goto while_break___0;
      }
#line 567
      fp = fvscanstart;
#line 568
      dp = dvscanstart;
#line 569
      k = vscanlen;
#line 571
      f = *fp;
#line 571
      if (f & 255L) {
#line 571
        if (! (f & 20480L)) {
          {
#line 571
          __cil_tmp30 = abs((int )*dp);
          }
#line 571
          if (__cil_tmp30 & one) {
#line 571
            tmp___2 = 1;
          } else {
#line 571
            tmp___2 = 0;
          }
#line 571
          v = (jpc_fix_t )tmp___2;
#line 571
          (out->cnt_) --;
#line 571
          if (out->cnt_ < 0) {
#line 571
            if (! ((out->stream_)->flags_ & 7)) {
#line 571
              if ((out->stream_)->rwlimit_ >= 0L) {
#line 571
                if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 571
                  (out->stream_)->flags_ |= 4;
#line 571
                  tmp___6 = -1;
                } else {
#line 571
                  goto _L___10;
                }
              } else {
                _L___10: /* CIL Label */ 
#line 571
                ((out->stream_)->cnt_) --;
#line 571
                (out->stream_)->bufmode_ |= 32;
#line 571
                if ((out->stream_)->cnt_ < 0) {
                  {
#line 571
                  __cil_tmp34 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 571
                  tmp___5 = __cil_tmp34;
                  }
                } else {
#line 571
                  __cil_tmp35 = (out->stream_)->ptr_;
#line 571
                  ((out->stream_)->ptr_) ++;
#line 571
                  *__cil_tmp35 = (unsigned char )(out->buf_ >> 8);
#line 571
                  ((out->stream_)->rwcnt_) ++;
#line 571
                  tmp___5 = (int )*__cil_tmp35;
                }
#line 571
                tmp___6 = tmp___5;
              }
#line 571
              tmp___7 = tmp___6;
            } else {
#line 571
              tmp___7 = -1;
            }
#line 571
            if (tmp___7 == -1) {
#line 571
              tmp___8 = -1L;
            } else {
#line 571
              tmp___8 = v & 1L;
            }
#line 571
            out->buf_ |= (unsigned long )((v & 1L) << out->cnt_);
#line 571
            if (out->buf_ == 65280UL) {
#line 571
              tmp___4 = 6;
            } else {
#line 571
              tmp___4 = 7;
            }
#line 571
            out->cnt_ = tmp___4;
#line 571
            out->buf_ = (out->buf_ << 8) & 65535UL;
#line 571
            tmp___9 = tmp___8;
          } else {
#line 571
            out->buf_ |= (unsigned long )((v & 1L) << out->cnt_);
#line 571
            tmp___9 = v & 1L;
          }
#line 571
          if (tmp___9 == -1L) {
#line 571
            return (-1);
          }
#line 571
          if (v) {
#line 571
            if (bitpos + 6 > 6) {
#line 571
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 571
                __cil_tmp41 = abs((int )*dp);
#line 571
                tmp___10 = __cil_tmp41 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 571
                __cil_tmp42 = abs((int )*dp);
#line 571
                tmp___10 = __cil_tmp42 << - ((bitpos + 6) - 6);
                }
              }
#line 571
              tmp___12 = jpc_signmsedec[tmp___10 & ((1 << 7) - 1)];
            } else {
#line 571
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 571
                __cil_tmp44 = abs((int )*dp);
#line 571
                tmp___11 = __cil_tmp44 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 571
                __cil_tmp45 = abs((int )*dp);
#line 571
                tmp___11 = __cil_tmp45 << - ((bitpos + 6) - 6);
                }
              }
#line 571
              tmp___12 = jpc_signmsedec0[tmp___11 & ((1 << 7) - 1)];
            }
#line 571
            *nmsedec += tmp___12;
#line 571
            if (*dp < 0L) {
#line 571
              tmp___13 = 1;
            } else {
#line 571
              tmp___13 = 0;
            }
#line 571
            v = (jpc_fix_t )tmp___13;
#line 571
            (out->cnt_) --;
#line 571
            if (out->cnt_ < 0) {
#line 571
              if (! ((out->stream_)->flags_ & 7)) {
#line 571
                if ((out->stream_)->rwlimit_ >= 0L) {
#line 571
                  if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 571
                    (out->stream_)->flags_ |= 4;
#line 571
                    tmp___17 = -1;
                  } else {
#line 571
                    goto _L___11;
                  }
                } else {
                  _L___11: /* CIL Label */ 
#line 571
                  ((out->stream_)->cnt_) --;
#line 571
                  (out->stream_)->bufmode_ |= 32;
#line 571
                  if ((out->stream_)->cnt_ < 0) {
                    {
#line 571
                    __cil_tmp51 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 571
                    tmp___16 = __cil_tmp51;
                    }
                  } else {
#line 571
                    __cil_tmp52 = (out->stream_)->ptr_;
#line 571
                    ((out->stream_)->ptr_) ++;
#line 571
                    *__cil_tmp52 = (unsigned char )(out->buf_ >> 8);
#line 571
                    ((out->stream_)->rwcnt_) ++;
#line 571
                    tmp___16 = (int )*__cil_tmp52;
                  }
#line 571
                  tmp___17 = tmp___16;
                }
#line 571
                tmp___18 = tmp___17;
              } else {
#line 571
                tmp___18 = -1;
              }
#line 571
              if (tmp___18 == -1) {
#line 571
                tmp___19 = -1L;
              } else {
#line 571
                tmp___19 = v & 1L;
              }
#line 571
              out->buf_ |= (unsigned long )((v & 1L) << out->cnt_);
#line 571
              if (out->buf_ == 65280UL) {
#line 571
                tmp___15 = 6;
              } else {
#line 571
                tmp___15 = 7;
              }
#line 571
              out->cnt_ = tmp___15;
#line 571
              out->buf_ = (out->buf_ << 8) & 65535UL;
#line 571
              tmp___20 = tmp___19;
            } else {
#line 571
              out->buf_ |= (unsigned long )((v & 1L) << out->cnt_);
#line 571
              tmp___20 = v & 1L;
            }
#line 571
            if (tmp___20 == -1L) {
#line 571
              return (-1);
            }
#line 571
            np = fp - frowstep;
#line 571
            sp = fp + frowstep;
#line 571
            if (vcausalflag) {
#line 571
              *(sp + -1) |= 1L;
#line 571
              *(sp + 1) |= 8L;
#line 571
              if (v) {
#line 571
                *sp |= 272L;
#line 571
                *(fp + -1) |= 544L;
#line 571
                *(fp + 1) |= 2176L;
              } else {
#line 571
                *sp |= 16L;
#line 571
                *(fp + -1) |= 32L;
#line 571
                *(fp + 1) |= 128L;
              }
            } else {
#line 571
              *(np + -1) |= 2L;
#line 571
              *(np + 1) |= 4L;
#line 571
              *(sp + -1) |= 1L;
#line 571
              *(sp + 1) |= 8L;
#line 571
              if (v) {
#line 571
                *np |= 1088L;
#line 571
                *sp |= 272L;
#line 571
                *(fp + -1) |= 544L;
#line 571
                *(fp + 1) |= 2176L;
              } else {
#line 571
                *np |= 64L;
#line 571
                *sp |= 16L;
#line 571
                *(fp + -1) |= 32L;
#line 571
                *(fp + 1) |= 128L;
              }
            }
#line 571
            *fp |= 4096L;
          }
#line 571
          *fp |= 16384L;
        }
      }
#line 573
      k --;
#line 573
      if (k <= 0) {
#line 574
        goto while_continue___0;
      }
#line 576
      fp += frowstep;
#line 577
      dp += drowstep;
#line 579
      f___0 = *fp;
#line 579
      if (f___0 & 255L) {
#line 579
        if (! (f___0 & 20480L)) {
          {
#line 579
          __cil_tmp62 = abs((int )*dp);
          }
#line 579
          if (__cil_tmp62 & one) {
#line 579
            tmp___21 = 1;
          } else {
#line 579
            tmp___21 = 0;
          }
#line 579
          v___0 = (jpc_fix_t )tmp___21;
#line 579
          (out->cnt_) --;
#line 579
          if (out->cnt_ < 0) {
#line 579
            if (! ((out->stream_)->flags_ & 7)) {
#line 579
              if ((out->stream_)->rwlimit_ >= 0L) {
#line 579
                if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 579
                  (out->stream_)->flags_ |= 4;
#line 579
                  tmp___25 = -1;
                } else {
#line 579
                  goto _L___12;
                }
              } else {
                _L___12: /* CIL Label */ 
#line 579
                ((out->stream_)->cnt_) --;
#line 579
                (out->stream_)->bufmode_ |= 32;
#line 579
                if ((out->stream_)->cnt_ < 0) {
                  {
#line 579
                  __cil_tmp66 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 579
                  tmp___24 = __cil_tmp66;
                  }
                } else {
#line 579
                  __cil_tmp67 = (out->stream_)->ptr_;
#line 579
                  ((out->stream_)->ptr_) ++;
#line 579
                  *__cil_tmp67 = (unsigned char )(out->buf_ >> 8);
#line 579
                  ((out->stream_)->rwcnt_) ++;
#line 579
                  tmp___24 = (int )*__cil_tmp67;
                }
#line 579
                tmp___25 = tmp___24;
              }
#line 579
              tmp___26 = tmp___25;
            } else {
#line 579
              tmp___26 = -1;
            }
#line 579
            if (tmp___26 == -1) {
#line 579
              tmp___27 = -1L;
            } else {
#line 579
              tmp___27 = v___0 & 1L;
            }
#line 579
            out->buf_ |= (unsigned long )((v___0 & 1L) << out->cnt_);
#line 579
            if (out->buf_ == 65280UL) {
#line 579
              tmp___23 = 6;
            } else {
#line 579
              tmp___23 = 7;
            }
#line 579
            out->cnt_ = tmp___23;
#line 579
            out->buf_ = (out->buf_ << 8) & 65535UL;
#line 579
            tmp___28 = tmp___27;
          } else {
#line 579
            out->buf_ |= (unsigned long )((v___0 & 1L) << out->cnt_);
#line 579
            tmp___28 = v___0 & 1L;
          }
#line 579
          if (tmp___28 == -1L) {
#line 579
            return (-1);
          }
#line 579
          if (v___0) {
#line 579
            if (bitpos + 6 > 6) {
#line 579
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 579
                __cil_tmp73 = abs((int )*dp);
#line 579
                tmp___29 = __cil_tmp73 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 579
                __cil_tmp74 = abs((int )*dp);
#line 579
                tmp___29 = __cil_tmp74 << - ((bitpos + 6) - 6);
                }
              }
#line 579
              tmp___31 = jpc_signmsedec[tmp___29 & ((1 << 7) - 1)];
            } else {
#line 579
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 579
                __cil_tmp76 = abs((int )*dp);
#line 579
                tmp___30 = __cil_tmp76 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 579
                __cil_tmp77 = abs((int )*dp);
#line 579
                tmp___30 = __cil_tmp77 << - ((bitpos + 6) - 6);
                }
              }
#line 579
              tmp___31 = jpc_signmsedec0[tmp___30 & ((1 << 7) - 1)];
            }
#line 579
            *nmsedec += tmp___31;
#line 579
            if (*dp < 0L) {
#line 579
              tmp___32 = 1;
            } else {
#line 579
              tmp___32 = 0;
            }
#line 579
            v___0 = (jpc_fix_t )tmp___32;
#line 579
            (out->cnt_) --;
#line 579
            if (out->cnt_ < 0) {
#line 579
              if (! ((out->stream_)->flags_ & 7)) {
#line 579
                if ((out->stream_)->rwlimit_ >= 0L) {
#line 579
                  if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 579
                    (out->stream_)->flags_ |= 4;
#line 579
                    tmp___36 = -1;
                  } else {
#line 579
                    goto _L___13;
                  }
                } else {
                  _L___13: /* CIL Label */ 
#line 579
                  ((out->stream_)->cnt_) --;
#line 579
                  (out->stream_)->bufmode_ |= 32;
#line 579
                  if ((out->stream_)->cnt_ < 0) {
                    {
#line 579
                    __cil_tmp83 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 579
                    tmp___35 = __cil_tmp83;
                    }
                  } else {
#line 579
                    __cil_tmp84 = (out->stream_)->ptr_;
#line 579
                    ((out->stream_)->ptr_) ++;
#line 579
                    *__cil_tmp84 = (unsigned char )(out->buf_ >> 8);
#line 579
                    ((out->stream_)->rwcnt_) ++;
#line 579
                    tmp___35 = (int )*__cil_tmp84;
                  }
#line 579
                  tmp___36 = tmp___35;
                }
#line 579
                tmp___37 = tmp___36;
              } else {
#line 579
                tmp___37 = -1;
              }
#line 579
              if (tmp___37 == -1) {
#line 579
                tmp___38 = -1L;
              } else {
#line 579
                tmp___38 = v___0 & 1L;
              }
#line 579
              out->buf_ |= (unsigned long )((v___0 & 1L) << out->cnt_);
#line 579
              if (out->buf_ == 65280UL) {
#line 579
                tmp___34 = 6;
              } else {
#line 579
                tmp___34 = 7;
              }
#line 579
              out->cnt_ = tmp___34;
#line 579
              out->buf_ = (out->buf_ << 8) & 65535UL;
#line 579
              tmp___39 = tmp___38;
            } else {
#line 579
              out->buf_ |= (unsigned long )((v___0 & 1L) << out->cnt_);
#line 579
              tmp___39 = v___0 & 1L;
            }
#line 579
            if (tmp___39 == -1L) {
#line 579
              return (-1);
            }
#line 579
            np___0 = fp - frowstep;
#line 579
            sp___0 = fp + frowstep;
#line 579
            *(np___0 + -1) |= 2L;
#line 579
            *(np___0 + 1) |= 4L;
#line 579
            *(sp___0 + -1) |= 1L;
#line 579
            *(sp___0 + 1) |= 8L;
#line 579
            if (v___0) {
#line 579
              *np___0 |= 1088L;
#line 579
              *sp___0 |= 272L;
#line 579
              *(fp + -1) |= 544L;
#line 579
              *(fp + 1) |= 2176L;
            } else {
#line 579
              *np___0 |= 64L;
#line 579
              *sp___0 |= 16L;
#line 579
              *(fp + -1) |= 32L;
#line 579
              *(fp + 1) |= 128L;
            }
#line 579
            *fp |= 4096L;
          }
#line 579
          *fp |= 16384L;
        }
      }
#line 581
      k --;
#line 581
      if (k <= 0) {
#line 582
        goto while_continue___0;
      }
#line 584
      fp += frowstep;
#line 585
      dp += drowstep;
#line 587
      f___1 = *fp;
#line 587
      if (f___1 & 255L) {
#line 587
        if (! (f___1 & 20480L)) {
          {
#line 587
          __cil_tmp94 = abs((int )*dp);
          }
#line 587
          if (__cil_tmp94 & one) {
#line 587
            tmp___40 = 1;
          } else {
#line 587
            tmp___40 = 0;
          }
#line 587
          v___1 = (jpc_fix_t )tmp___40;
#line 587
          (out->cnt_) --;
#line 587
          if (out->cnt_ < 0) {
#line 587
            if (! ((out->stream_)->flags_ & 7)) {
#line 587
              if ((out->stream_)->rwlimit_ >= 0L) {
#line 587
                if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 587
                  (out->stream_)->flags_ |= 4;
#line 587
                  tmp___44 = -1;
                } else {
#line 587
                  goto _L___14;
                }
              } else {
                _L___14: /* CIL Label */ 
#line 587
                ((out->stream_)->cnt_) --;
#line 587
                (out->stream_)->bufmode_ |= 32;
#line 587
                if ((out->stream_)->cnt_ < 0) {
                  {
#line 587
                  __cil_tmp98 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 587
                  tmp___43 = __cil_tmp98;
                  }
                } else {
#line 587
                  __cil_tmp99 = (out->stream_)->ptr_;
#line 587
                  ((out->stream_)->ptr_) ++;
#line 587
                  *__cil_tmp99 = (unsigned char )(out->buf_ >> 8);
#line 587
                  ((out->stream_)->rwcnt_) ++;
#line 587
                  tmp___43 = (int )*__cil_tmp99;
                }
#line 587
                tmp___44 = tmp___43;
              }
#line 587
              tmp___45 = tmp___44;
            } else {
#line 587
              tmp___45 = -1;
            }
#line 587
            if (tmp___45 == -1) {
#line 587
              tmp___46 = -1L;
            } else {
#line 587
              tmp___46 = v___1 & 1L;
            }
#line 587
            out->buf_ |= (unsigned long )((v___1 & 1L) << out->cnt_);
#line 587
            if (out->buf_ == 65280UL) {
#line 587
              tmp___42 = 6;
            } else {
#line 587
              tmp___42 = 7;
            }
#line 587
            out->cnt_ = tmp___42;
#line 587
            out->buf_ = (out->buf_ << 8) & 65535UL;
#line 587
            tmp___47 = tmp___46;
          } else {
#line 587
            out->buf_ |= (unsigned long )((v___1 & 1L) << out->cnt_);
#line 587
            tmp___47 = v___1 & 1L;
          }
#line 587
          if (tmp___47 == -1L) {
#line 587
            return (-1);
          }
#line 587
          if (v___1) {
#line 587
            if (bitpos + 6 > 6) {
#line 587
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 587
                __cil_tmp105 = abs((int )*dp);
#line 587
                tmp___48 = __cil_tmp105 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 587
                __cil_tmp106 = abs((int )*dp);
#line 587
                tmp___48 = __cil_tmp106 << - ((bitpos + 6) - 6);
                }
              }
#line 587
              tmp___50 = jpc_signmsedec[tmp___48 & ((1 << 7) - 1)];
            } else {
#line 587
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 587
                __cil_tmp108 = abs((int )*dp);
#line 587
                tmp___49 = __cil_tmp108 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 587
                __cil_tmp109 = abs((int )*dp);
#line 587
                tmp___49 = __cil_tmp109 << - ((bitpos + 6) - 6);
                }
              }
#line 587
              tmp___50 = jpc_signmsedec0[tmp___49 & ((1 << 7) - 1)];
            }
#line 587
            *nmsedec += tmp___50;
#line 587
            if (*dp < 0L) {
#line 587
              tmp___51 = 1;
            } else {
#line 587
              tmp___51 = 0;
            }
#line 587
            v___1 = (jpc_fix_t )tmp___51;
#line 587
            (out->cnt_) --;
#line 587
            if (out->cnt_ < 0) {
#line 587
              if (! ((out->stream_)->flags_ & 7)) {
#line 587
                if ((out->stream_)->rwlimit_ >= 0L) {
#line 587
                  if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 587
                    (out->stream_)->flags_ |= 4;
#line 587
                    tmp___55 = -1;
                  } else {
#line 587
                    goto _L___15;
                  }
                } else {
                  _L___15: /* CIL Label */ 
#line 587
                  ((out->stream_)->cnt_) --;
#line 587
                  (out->stream_)->bufmode_ |= 32;
#line 587
                  if ((out->stream_)->cnt_ < 0) {
                    {
#line 587
                    __cil_tmp115 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 587
                    tmp___54 = __cil_tmp115;
                    }
                  } else {
#line 587
                    __cil_tmp116 = (out->stream_)->ptr_;
#line 587
                    ((out->stream_)->ptr_) ++;
#line 587
                    *__cil_tmp116 = (unsigned char )(out->buf_ >> 8);
#line 587
                    ((out->stream_)->rwcnt_) ++;
#line 587
                    tmp___54 = (int )*__cil_tmp116;
                  }
#line 587
                  tmp___55 = tmp___54;
                }
#line 587
                tmp___56 = tmp___55;
              } else {
#line 587
                tmp___56 = -1;
              }
#line 587
              if (tmp___56 == -1) {
#line 587
                tmp___57 = -1L;
              } else {
#line 587
                tmp___57 = v___1 & 1L;
              }
#line 587
              out->buf_ |= (unsigned long )((v___1 & 1L) << out->cnt_);
#line 587
              if (out->buf_ == 65280UL) {
#line 587
                tmp___53 = 6;
              } else {
#line 587
                tmp___53 = 7;
              }
#line 587
              out->cnt_ = tmp___53;
#line 587
              out->buf_ = (out->buf_ << 8) & 65535UL;
#line 587
              tmp___58 = tmp___57;
            } else {
#line 587
              out->buf_ |= (unsigned long )((v___1 & 1L) << out->cnt_);
#line 587
              tmp___58 = v___1 & 1L;
            }
#line 587
            if (tmp___58 == -1L) {
#line 587
              return (-1);
            }
#line 587
            np___1 = fp - frowstep;
#line 587
            sp___1 = fp + frowstep;
#line 587
            *(np___1 + -1) |= 2L;
#line 587
            *(np___1 + 1) |= 4L;
#line 587
            *(sp___1 + -1) |= 1L;
#line 587
            *(sp___1 + 1) |= 8L;
#line 587
            if (v___1) {
#line 587
              *np___1 |= 1088L;
#line 587
              *sp___1 |= 272L;
#line 587
              *(fp + -1) |= 544L;
#line 587
              *(fp + 1) |= 2176L;
            } else {
#line 587
              *np___1 |= 64L;
#line 587
              *sp___1 |= 16L;
#line 587
              *(fp + -1) |= 32L;
#line 587
              *(fp + 1) |= 128L;
            }
#line 587
            *fp |= 4096L;
          }
#line 587
          *fp |= 16384L;
        }
      }
#line 589
      k --;
#line 589
      if (k <= 0) {
#line 590
        goto while_continue___0;
      }
#line 592
      fp += frowstep;
#line 593
      dp += drowstep;
#line 595
      f___2 = *fp;
#line 595
      if (f___2 & 255L) {
#line 595
        if (! (f___2 & 20480L)) {
          {
#line 595
          __cil_tmp126 = abs((int )*dp);
          }
#line 595
          if (__cil_tmp126 & one) {
#line 595
            tmp___59 = 1;
          } else {
#line 595
            tmp___59 = 0;
          }
#line 595
          v___2 = (jpc_fix_t )tmp___59;
#line 595
          (out->cnt_) --;
#line 595
          if (out->cnt_ < 0) {
#line 595
            if (! ((out->stream_)->flags_ & 7)) {
#line 595
              if ((out->stream_)->rwlimit_ >= 0L) {
#line 595
                if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 595
                  (out->stream_)->flags_ |= 4;
#line 595
                  tmp___63 = -1;
                } else {
#line 595
                  goto _L___16;
                }
              } else {
                _L___16: /* CIL Label */ 
#line 595
                ((out->stream_)->cnt_) --;
#line 595
                (out->stream_)->bufmode_ |= 32;
#line 595
                if ((out->stream_)->cnt_ < 0) {
                  {
#line 595
                  __cil_tmp130 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 595
                  tmp___62 = __cil_tmp130;
                  }
                } else {
#line 595
                  __cil_tmp131 = (out->stream_)->ptr_;
#line 595
                  ((out->stream_)->ptr_) ++;
#line 595
                  *__cil_tmp131 = (unsigned char )(out->buf_ >> 8);
#line 595
                  ((out->stream_)->rwcnt_) ++;
#line 595
                  tmp___62 = (int )*__cil_tmp131;
                }
#line 595
                tmp___63 = tmp___62;
              }
#line 595
              tmp___64 = tmp___63;
            } else {
#line 595
              tmp___64 = -1;
            }
#line 595
            if (tmp___64 == -1) {
#line 595
              tmp___65 = -1L;
            } else {
#line 595
              tmp___65 = v___2 & 1L;
            }
#line 595
            out->buf_ |= (unsigned long )((v___2 & 1L) << out->cnt_);
#line 595
            if (out->buf_ == 65280UL) {
#line 595
              tmp___61 = 6;
            } else {
#line 595
              tmp___61 = 7;
            }
#line 595
            out->cnt_ = tmp___61;
#line 595
            out->buf_ = (out->buf_ << 8) & 65535UL;
#line 595
            tmp___66 = tmp___65;
          } else {
#line 595
            out->buf_ |= (unsigned long )((v___2 & 1L) << out->cnt_);
#line 595
            tmp___66 = v___2 & 1L;
          }
#line 595
          if (tmp___66 == -1L) {
#line 595
            return (-1);
          }
#line 595
          if (v___2) {
#line 595
            if (bitpos + 6 > 6) {
#line 595
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 595
                __cil_tmp137 = abs((int )*dp);
#line 595
                tmp___67 = __cil_tmp137 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 595
                __cil_tmp138 = abs((int )*dp);
#line 595
                tmp___67 = __cil_tmp138 << - ((bitpos + 6) - 6);
                }
              }
#line 595
              tmp___69 = jpc_signmsedec[tmp___67 & ((1 << 7) - 1)];
            } else {
#line 595
              if ((bitpos + 6) - 6 >= 0) {
                {
#line 595
                __cil_tmp140 = abs((int )*dp);
#line 595
                tmp___68 = __cil_tmp140 >> ((bitpos + 6) - 6);
                }
              } else {
                {
#line 595
                __cil_tmp141 = abs((int )*dp);
#line 595
                tmp___68 = __cil_tmp141 << - ((bitpos + 6) - 6);
                }
              }
#line 595
              tmp___69 = jpc_signmsedec0[tmp___68 & ((1 << 7) - 1)];
            }
#line 595
            *nmsedec += tmp___69;
#line 595
            if (*dp < 0L) {
#line 595
              tmp___70 = 1;
            } else {
#line 595
              tmp___70 = 0;
            }
#line 595
            v___2 = (jpc_fix_t )tmp___70;
#line 595
            (out->cnt_) --;
#line 595
            if (out->cnt_ < 0) {
#line 595
              if (! ((out->stream_)->flags_ & 7)) {
#line 595
                if ((out->stream_)->rwlimit_ >= 0L) {
#line 595
                  if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 595
                    (out->stream_)->flags_ |= 4;
#line 595
                    tmp___74 = -1;
                  } else {
#line 595
                    goto _L___17;
                  }
                } else {
                  _L___17: /* CIL Label */ 
#line 595
                  ((out->stream_)->cnt_) --;
#line 595
                  (out->stream_)->bufmode_ |= 32;
#line 595
                  if ((out->stream_)->cnt_ < 0) {
                    {
#line 595
                    __cil_tmp147 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 595
                    tmp___73 = __cil_tmp147;
                    }
                  } else {
#line 595
                    __cil_tmp148 = (out->stream_)->ptr_;
#line 595
                    ((out->stream_)->ptr_) ++;
#line 595
                    *__cil_tmp148 = (unsigned char )(out->buf_ >> 8);
#line 595
                    ((out->stream_)->rwcnt_) ++;
#line 595
                    tmp___73 = (int )*__cil_tmp148;
                  }
#line 595
                  tmp___74 = tmp___73;
                }
#line 595
                tmp___75 = tmp___74;
              } else {
#line 595
                tmp___75 = -1;
              }
#line 595
              if (tmp___75 == -1) {
#line 595
                tmp___76 = -1L;
              } else {
#line 595
                tmp___76 = v___2 & 1L;
              }
#line 595
              out->buf_ |= (unsigned long )((v___2 & 1L) << out->cnt_);
#line 595
              if (out->buf_ == 65280UL) {
#line 595
                tmp___72 = 6;
              } else {
#line 595
                tmp___72 = 7;
              }
#line 595
              out->cnt_ = tmp___72;
#line 595
              out->buf_ = (out->buf_ << 8) & 65535UL;
#line 595
              tmp___77 = tmp___76;
            } else {
#line 595
              out->buf_ |= (unsigned long )((v___2 & 1L) << out->cnt_);
#line 595
              tmp___77 = v___2 & 1L;
            }
#line 595
            if (tmp___77 == -1L) {
#line 595
              return (-1);
            }
#line 595
            np___2 = fp - frowstep;
#line 595
            sp___2 = fp + frowstep;
#line 595
            *(np___2 + -1) |= 2L;
#line 595
            *(np___2 + 1) |= 4L;
#line 595
            *(sp___2 + -1) |= 1L;
#line 595
            *(sp___2 + 1) |= 8L;
#line 595
            if (v___2) {
#line 595
              *np___2 |= 1088L;
#line 595
              *sp___2 |= 272L;
#line 595
              *(fp + -1) |= 544L;
#line 595
              *(fp + 1) |= 2176L;
            } else {
#line 595
              *np___2 |= 64L;
#line 595
              *sp___2 |= 16L;
#line 595
              *(fp + -1) |= 32L;
#line 595
              *(fp + 1) |= 128L;
            }
#line 595
            *fp |= 4096L;
          }
#line 595
          *fp |= 16384L;
        }
      }
#line 597
      k --;
#line 597
      if (k <= 0) {
#line 598
        goto while_continue___0;
      }
#line 600
      fp += frowstep;
#line 601
      dp += drowstep;
#line 566
      dvscanstart ++;
#line 566
      fvscanstart ++;
#line 566
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 561
    dstripestart += dstripestep;
#line 561
    fstripestart += fstripestep;
#line 561
    i -= 4;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 606
  if (term) {
    {
#line 607
    jpc_bitstream_outalign(out, 42);
    }
  }
#line 610
  return (0);
}
}
#line 630 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.c"
static int jpc_encrefpass(jpc_mqenc_t *mqenc , int bitpos , int vcausalflag , jas_matrix_t *flags ,
                          jas_matrix_t *data , int term , long *nmsedec ) 
{ 
  int i ;
  int j ;
  int one ;
  int vscanlen ;
  int d ;
  int width ;
  int height ;
  int frowstep ;
  int drowstep ;
  int fstripestep ;
  int dstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dvscanstart ;
  jpc_fix_t *dp ;
  jpc_fix_t *fp ;
  int k ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  int v ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  int tmp___2 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;
  int tmp___3 ;
  jpc_fix_t tmp___4 ;
  int __cil_tmp37 ;
  int tmp___5 ;
  int __cil_tmp39 ;
  unsigned long tmp___6 ;
  int __cil_tmp41 ;
  unsigned long tmp___7 ;
  int v___0 ;
  int __cil_tmp44 ;
  int __cil_tmp45 ;
  int tmp___8 ;
  int __cil_tmp47 ;
  int __cil_tmp48 ;
  int tmp___9 ;
  jpc_fix_t tmp___10 ;
  int __cil_tmp51 ;
  int tmp___11 ;
  int __cil_tmp53 ;
  unsigned long tmp___12 ;
  int __cil_tmp55 ;
  unsigned long tmp___13 ;
  int v___1 ;
  int __cil_tmp58 ;
  int __cil_tmp59 ;
  int tmp___14 ;
  int __cil_tmp61 ;
  int __cil_tmp62 ;
  int tmp___15 ;
  jpc_fix_t tmp___16 ;
  int __cil_tmp65 ;
  int tmp___17 ;
  int __cil_tmp67 ;
  unsigned long tmp___18 ;
  int __cil_tmp69 ;
  unsigned long tmp___19 ;
  int v___2 ;
  int __cil_tmp72 ;
  int __cil_tmp73 ;
  int tmp___20 ;
  int __cil_tmp75 ;
  int __cil_tmp76 ;
  int tmp___21 ;
  jpc_fix_t tmp___22 ;
  int __cil_tmp79 ;
  int tmp___23 ;
  int __cil_tmp81 ;
  unsigned long tmp___24 ;
  int __cil_tmp83 ;
  unsigned long tmp___25 ;
  int tmp___26 ;

  {
#line 652
  *nmsedec = 0L;
#line 653
  width = (int )data->numcols_;
#line 654
  height = (int )data->numrows_;
#line 655
  if (flags->numrows_ > 1L) {
#line 655
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 655
    tmp = (jas_seqent_t *)0L;
  }
#line 655
  frowstep = (int )tmp;
#line 656
  if (data->numrows_ > 1L) {
#line 656
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 656
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 656
  drowstep = (int )tmp___0;
#line 657
  fstripestep = frowstep << 2;
#line 658
  dstripestep = drowstep << 2;
#line 660
  one = 1 << (bitpos + 6);
#line 662
  fstripestart = *(flags->rows_ + 1) + 1;
#line 663
  dstripestart = *(data->rows_ + 0) + 0;
#line 664
  i = height;
  {
#line 664
  while (1) {
    while_continue: /* CIL Label */ ;

#line 664
    if (! (i > 0)) {
#line 664
      goto while_break;
    }
#line 666
    fvscanstart = fstripestart;
#line 667
    dvscanstart = dstripestart;
#line 668
    if (i < 4) {
#line 668
      tmp___1 = i;
    } else {
#line 668
      tmp___1 = 4;
    }
#line 668
    vscanlen = tmp___1;
#line 669
    j = width;
    {
#line 669
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 669
      if (! (j > 0)) {
#line 669
        goto while_break___0;
      }
#line 670
      fp = fvscanstart;
#line 671
      dp = dvscanstart;
#line 672
      k = vscanlen;
#line 674
      if ((*fp & 20480L) == 4096L) {
#line 674
        d = (int )*dp;
#line 674
        if (bitpos + 6 > 6) {
#line 674
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 674
            __cil_tmp30 = abs(d);
#line 674
            tmp___2 = __cil_tmp30 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 674
            __cil_tmp31 = abs(d);
#line 674
            tmp___2 = __cil_tmp31 << - ((bitpos + 6) - 6);
            }
          }
#line 674
          tmp___4 = jpc_refnmsedec[tmp___2 & ((1 << 7) - 1)];
        } else {
#line 674
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 674
            __cil_tmp33 = abs(d);
#line 674
            tmp___3 = __cil_tmp33 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 674
            __cil_tmp34 = abs(d);
#line 674
            tmp___3 = __cil_tmp34 << - ((bitpos + 6) - 6);
            }
          }
#line 674
          tmp___4 = jpc_refnmsedec0[tmp___3 & ((1 << 7) - 1)];
        }
        {
#line 674
        *nmsedec += tmp___4;
#line 674
        mqenc->curctx = mqenc->ctxs + jpc_magctxnolut[(*fp & 255L) | (long )(((*fp & 8192L) != 0L) << 11)];
#line 674
        __cil_tmp37 = abs(d);
        }
#line 674
        if (__cil_tmp37 & one) {
#line 674
          tmp___5 = 1;
        } else {
#line 674
          tmp___5 = 0;
        }
#line 674
        v = tmp___5;
#line 674
        if ((*(mqenc->curctx))->mps == v) {
#line 674
          if (! (mqenc->areg & 32768UL)) {
            {
#line 674
            __cil_tmp39 = jpc_mqenc_codemps2(mqenc);
#line 674
            tmp___6 = (unsigned long )__cil_tmp39;
            }
          } else {
#line 674
            mqenc->creg += (*(mqenc->curctx))->qeval;
#line 674
            tmp___6 = mqenc->creg;
          }
#line 674
          mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 674
          tmp___7 = tmp___6;
        } else {
          {
#line 674
          __cil_tmp41 = jpc_mqenc_codelps(mqenc);
#line 674
          tmp___7 = (unsigned long )__cil_tmp41;
          }
        }
#line 674
        *fp |= 8192L;
      }
#line 676
      k --;
#line 676
      if (k <= 0) {
#line 677
        goto while_continue___0;
      }
#line 679
      fp += frowstep;
#line 680
      dp += drowstep;
#line 681
      if ((*fp & 20480L) == 4096L) {
#line 681
        d = (int )*dp;
#line 681
        if (bitpos + 6 > 6) {
#line 681
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 681
            __cil_tmp44 = abs(d);
#line 681
            tmp___8 = __cil_tmp44 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 681
            __cil_tmp45 = abs(d);
#line 681
            tmp___8 = __cil_tmp45 << - ((bitpos + 6) - 6);
            }
          }
#line 681
          tmp___10 = jpc_refnmsedec[tmp___8 & ((1 << 7) - 1)];
        } else {
#line 681
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 681
            __cil_tmp47 = abs(d);
#line 681
            tmp___9 = __cil_tmp47 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 681
            __cil_tmp48 = abs(d);
#line 681
            tmp___9 = __cil_tmp48 << - ((bitpos + 6) - 6);
            }
          }
#line 681
          tmp___10 = jpc_refnmsedec0[tmp___9 & ((1 << 7) - 1)];
        }
        {
#line 681
        *nmsedec += tmp___10;
#line 681
        mqenc->curctx = mqenc->ctxs + jpc_magctxnolut[(*fp & 255L) | (long )(((*fp & 8192L) != 0L) << 11)];
#line 681
        __cil_tmp51 = abs(d);
        }
#line 681
        if (__cil_tmp51 & one) {
#line 681
          tmp___11 = 1;
        } else {
#line 681
          tmp___11 = 0;
        }
#line 681
        v___0 = tmp___11;
#line 681
        if ((*(mqenc->curctx))->mps == v___0) {
#line 681
          if (! (mqenc->areg & 32768UL)) {
            {
#line 681
            __cil_tmp53 = jpc_mqenc_codemps2(mqenc);
#line 681
            tmp___12 = (unsigned long )__cil_tmp53;
            }
          } else {
#line 681
            mqenc->creg += (*(mqenc->curctx))->qeval;
#line 681
            tmp___12 = mqenc->creg;
          }
#line 681
          mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 681
          tmp___13 = tmp___12;
        } else {
          {
#line 681
          __cil_tmp55 = jpc_mqenc_codelps(mqenc);
#line 681
          tmp___13 = (unsigned long )__cil_tmp55;
          }
        }
#line 681
        *fp |= 8192L;
      }
#line 683
      k --;
#line 683
      if (k <= 0) {
#line 684
        goto while_continue___0;
      }
#line 686
      fp += frowstep;
#line 687
      dp += drowstep;
#line 688
      if ((*fp & 20480L) == 4096L) {
#line 688
        d = (int )*dp;
#line 688
        if (bitpos + 6 > 6) {
#line 688
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 688
            __cil_tmp58 = abs(d);
#line 688
            tmp___14 = __cil_tmp58 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 688
            __cil_tmp59 = abs(d);
#line 688
            tmp___14 = __cil_tmp59 << - ((bitpos + 6) - 6);
            }
          }
#line 688
          tmp___16 = jpc_refnmsedec[tmp___14 & ((1 << 7) - 1)];
        } else {
#line 688
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 688
            __cil_tmp61 = abs(d);
#line 688
            tmp___15 = __cil_tmp61 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 688
            __cil_tmp62 = abs(d);
#line 688
            tmp___15 = __cil_tmp62 << - ((bitpos + 6) - 6);
            }
          }
#line 688
          tmp___16 = jpc_refnmsedec0[tmp___15 & ((1 << 7) - 1)];
        }
        {
#line 688
        *nmsedec += tmp___16;
#line 688
        mqenc->curctx = mqenc->ctxs + jpc_magctxnolut[(*fp & 255L) | (long )(((*fp & 8192L) != 0L) << 11)];
#line 688
        __cil_tmp65 = abs(d);
        }
#line 688
        if (__cil_tmp65 & one) {
#line 688
          tmp___17 = 1;
        } else {
#line 688
          tmp___17 = 0;
        }
#line 688
        v___1 = tmp___17;
#line 688
        if ((*(mqenc->curctx))->mps == v___1) {
#line 688
          if (! (mqenc->areg & 32768UL)) {
            {
#line 688
            __cil_tmp67 = jpc_mqenc_codemps2(mqenc);
#line 688
            tmp___18 = (unsigned long )__cil_tmp67;
            }
          } else {
#line 688
            mqenc->creg += (*(mqenc->curctx))->qeval;
#line 688
            tmp___18 = mqenc->creg;
          }
#line 688
          mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 688
          tmp___19 = tmp___18;
        } else {
          {
#line 688
          __cil_tmp69 = jpc_mqenc_codelps(mqenc);
#line 688
          tmp___19 = (unsigned long )__cil_tmp69;
          }
        }
#line 688
        *fp |= 8192L;
      }
#line 690
      k --;
#line 690
      if (k <= 0) {
#line 691
        goto while_continue___0;
      }
#line 693
      fp += frowstep;
#line 694
      dp += drowstep;
#line 695
      if ((*fp & 20480L) == 4096L) {
#line 695
        d = (int )*dp;
#line 695
        if (bitpos + 6 > 6) {
#line 695
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 695
            __cil_tmp72 = abs(d);
#line 695
            tmp___20 = __cil_tmp72 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 695
            __cil_tmp73 = abs(d);
#line 695
            tmp___20 = __cil_tmp73 << - ((bitpos + 6) - 6);
            }
          }
#line 695
          tmp___22 = jpc_refnmsedec[tmp___20 & ((1 << 7) - 1)];
        } else {
#line 695
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 695
            __cil_tmp75 = abs(d);
#line 695
            tmp___21 = __cil_tmp75 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 695
            __cil_tmp76 = abs(d);
#line 695
            tmp___21 = __cil_tmp76 << - ((bitpos + 6) - 6);
            }
          }
#line 695
          tmp___22 = jpc_refnmsedec0[tmp___21 & ((1 << 7) - 1)];
        }
        {
#line 695
        *nmsedec += tmp___22;
#line 695
        mqenc->curctx = mqenc->ctxs + jpc_magctxnolut[(*fp & 255L) | (long )(((*fp & 8192L) != 0L) << 11)];
#line 695
        __cil_tmp79 = abs(d);
        }
#line 695
        if (__cil_tmp79 & one) {
#line 695
          tmp___23 = 1;
        } else {
#line 695
          tmp___23 = 0;
        }
#line 695
        v___2 = tmp___23;
#line 695
        if ((*(mqenc->curctx))->mps == v___2) {
#line 695
          if (! (mqenc->areg & 32768UL)) {
            {
#line 695
            __cil_tmp81 = jpc_mqenc_codemps2(mqenc);
#line 695
            tmp___24 = (unsigned long )__cil_tmp81;
            }
          } else {
#line 695
            mqenc->creg += (*(mqenc->curctx))->qeval;
#line 695
            tmp___24 = mqenc->creg;
          }
#line 695
          mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 695
          tmp___25 = tmp___24;
        } else {
          {
#line 695
          __cil_tmp83 = jpc_mqenc_codelps(mqenc);
#line 695
          tmp___25 = (unsigned long )__cil_tmp83;
          }
        }
#line 695
        *fp |= 8192L;
      }
#line 669
      dvscanstart ++;
#line 669
      fvscanstart ++;
#line 669
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 664
    dstripestart += dstripestep;
#line 664
    fstripestart += fstripestep;
#line 664
    i -= 4;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 701
  if (term) {
    {
#line 702
    jpc_mqenc_flush(mqenc, term - 1);
    }
  }
#line 705
  if (mqenc->err) {
#line 705
    tmp___26 = -1;
  } else {
#line 705
    tmp___26 = 0;
  }
#line 705
  return (tmp___26);
}
}
#line 723 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.c"
static int jpc_encrawrefpass(jpc_bitstream_t *out , int bitpos , int vcausalflag ,
                             jas_matrix_t *flags , jas_matrix_t *data , int term ,
                             long *nmsedec ) 
{ 
  int i ;
  int j ;
  int k ;
  int one ;
  int vscanlen ;
  int width ;
  int height ;
  int frowstep ;
  int drowstep ;
  int fstripestep ;
  int dstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dvscanstart ;
  jpc_fix_t *dp ;
  jpc_fix_t *fp ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  jpc_fix_t d ;
  jpc_fix_t v ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  int tmp___2 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;
  int tmp___3 ;
  jpc_fix_t tmp___4 ;
  int __cil_tmp37 ;
  int tmp___5 ;
  int tmp___7 ;
  int __cil_tmp41 ;
  unsigned char *__cil_tmp42 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  long tmp___11 ;
  long tmp___12 ;
  jpc_fix_t d___0 ;
  jpc_fix_t v___0 ;
  int __cil_tmp50 ;
  int __cil_tmp51 ;
  int tmp___13 ;
  int __cil_tmp53 ;
  int __cil_tmp54 ;
  int tmp___14 ;
  jpc_fix_t tmp___15 ;
  int __cil_tmp57 ;
  int tmp___16 ;
  int tmp___18 ;
  int __cil_tmp61 ;
  unsigned char *__cil_tmp62 ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  long tmp___22 ;
  long tmp___23 ;
  jpc_fix_t d___1 ;
  jpc_fix_t v___1 ;
  int __cil_tmp70 ;
  int __cil_tmp71 ;
  int tmp___24 ;
  int __cil_tmp73 ;
  int __cil_tmp74 ;
  int tmp___25 ;
  jpc_fix_t tmp___26 ;
  int __cil_tmp77 ;
  int tmp___27 ;
  int tmp___29 ;
  int __cil_tmp81 ;
  unsigned char *__cil_tmp82 ;
  int tmp___30 ;
  int tmp___31 ;
  int tmp___32 ;
  long tmp___33 ;
  long tmp___34 ;
  jpc_fix_t d___2 ;
  jpc_fix_t v___2 ;
  int __cil_tmp90 ;
  int __cil_tmp91 ;
  int tmp___35 ;
  int __cil_tmp93 ;
  int __cil_tmp94 ;
  int tmp___36 ;
  jpc_fix_t tmp___37 ;
  int __cil_tmp97 ;
  int tmp___38 ;
  int tmp___40 ;
  int __cil_tmp101 ;
  unsigned char *__cil_tmp102 ;
  int tmp___41 ;
  int tmp___42 ;
  int tmp___43 ;
  long tmp___44 ;
  long tmp___45 ;

  {
#line 744
  *nmsedec = 0L;
#line 745
  width = (int )data->numcols_;
#line 746
  height = (int )data->numrows_;
#line 747
  if (flags->numrows_ > 1L) {
#line 747
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 747
    tmp = (jas_seqent_t *)0L;
  }
#line 747
  frowstep = (int )tmp;
#line 748
  if (data->numrows_ > 1L) {
#line 748
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 748
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 748
  drowstep = (int )tmp___0;
#line 749
  fstripestep = frowstep << 2;
#line 750
  dstripestep = drowstep << 2;
#line 752
  one = 1 << (bitpos + 6);
#line 754
  fstripestart = *(flags->rows_ + 1) + 1;
#line 755
  dstripestart = *(data->rows_ + 0) + 0;
#line 756
  i = height;
  {
#line 756
  while (1) {
    while_continue: /* CIL Label */ ;

#line 756
    if (! (i > 0)) {
#line 756
      goto while_break;
    }
#line 758
    fvscanstart = fstripestart;
#line 759
    dvscanstart = dstripestart;
#line 760
    if (i < 4) {
#line 760
      tmp___1 = i;
    } else {
#line 760
      tmp___1 = 4;
    }
#line 760
    vscanlen = tmp___1;
#line 761
    j = width;
    {
#line 761
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 761
      if (! (j > 0)) {
#line 761
        goto while_break___0;
      }
#line 762
      fp = fvscanstart;
#line 763
      dp = dvscanstart;
#line 764
      k = vscanlen;
#line 766
      if ((*fp & 20480L) == 4096L) {
#line 766
        d = *dp;
#line 766
        if (bitpos + 6 > 6) {
#line 766
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 766
            __cil_tmp30 = abs((int )d);
#line 766
            tmp___2 = __cil_tmp30 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 766
            __cil_tmp31 = abs((int )d);
#line 766
            tmp___2 = __cil_tmp31 << - ((bitpos + 6) - 6);
            }
          }
#line 766
          tmp___4 = jpc_refnmsedec[tmp___2 & ((1 << 7) - 1)];
        } else {
#line 766
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 766
            __cil_tmp33 = abs((int )d);
#line 766
            tmp___3 = __cil_tmp33 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 766
            __cil_tmp34 = abs((int )d);
#line 766
            tmp___3 = __cil_tmp34 << - ((bitpos + 6) - 6);
            }
          }
#line 766
          tmp___4 = jpc_refnmsedec0[tmp___3 & ((1 << 7) - 1)];
        }
        {
#line 766
        *nmsedec += tmp___4;
#line 766
        __cil_tmp37 = abs((int )d);
        }
#line 766
        if (__cil_tmp37 & one) {
#line 766
          tmp___5 = 1;
        } else {
#line 766
          tmp___5 = 0;
        }
#line 766
        v = (jpc_fix_t )tmp___5;
#line 766
        (out->cnt_) --;
#line 766
        if (out->cnt_ < 0) {
#line 766
          if (! ((out->stream_)->flags_ & 7)) {
#line 766
            if ((out->stream_)->rwlimit_ >= 0L) {
#line 766
              if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 766
                (out->stream_)->flags_ |= 4;
#line 766
                tmp___9 = -1;
              } else {
#line 766
                goto _L___10;
              }
            } else {
              _L___10: /* CIL Label */ 
#line 766
              ((out->stream_)->cnt_) --;
#line 766
              (out->stream_)->bufmode_ |= 32;
#line 766
              if ((out->stream_)->cnt_ < 0) {
                {
#line 766
                __cil_tmp41 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 766
                tmp___8 = __cil_tmp41;
                }
              } else {
#line 766
                __cil_tmp42 = (out->stream_)->ptr_;
#line 766
                ((out->stream_)->ptr_) ++;
#line 766
                *__cil_tmp42 = (unsigned char )(out->buf_ >> 8);
#line 766
                ((out->stream_)->rwcnt_) ++;
#line 766
                tmp___8 = (int )*__cil_tmp42;
              }
#line 766
              tmp___9 = tmp___8;
            }
#line 766
            tmp___10 = tmp___9;
          } else {
#line 766
            tmp___10 = -1;
          }
#line 766
          if (tmp___10 == -1) {
#line 766
            tmp___11 = -1L;
          } else {
#line 766
            tmp___11 = v & 1L;
          }
#line 766
          out->buf_ |= (unsigned long )((v & 1L) << out->cnt_);
#line 766
          if (out->buf_ == 65280UL) {
#line 766
            tmp___7 = 6;
          } else {
#line 766
            tmp___7 = 7;
          }
#line 766
          out->cnt_ = tmp___7;
#line 766
          out->buf_ = (out->buf_ << 8) & 65535UL;
#line 766
          tmp___12 = tmp___11;
        } else {
#line 766
          out->buf_ |= (unsigned long )((v & 1L) << out->cnt_);
#line 766
          tmp___12 = v & 1L;
        }
#line 766
        if (tmp___12 == -1L) {
#line 766
          return (-1);
        }
#line 766
        *fp |= 8192L;
      }
#line 768
      k --;
#line 768
      if (k <= 0) {
#line 769
        goto while_continue___0;
      }
#line 771
      fp += frowstep;
#line 772
      dp += drowstep;
#line 773
      if ((*fp & 20480L) == 4096L) {
#line 773
        d___0 = *dp;
#line 773
        if (bitpos + 6 > 6) {
#line 773
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 773
            __cil_tmp50 = abs((int )d___0);
#line 773
            tmp___13 = __cil_tmp50 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 773
            __cil_tmp51 = abs((int )d___0);
#line 773
            tmp___13 = __cil_tmp51 << - ((bitpos + 6) - 6);
            }
          }
#line 773
          tmp___15 = jpc_refnmsedec[tmp___13 & ((1 << 7) - 1)];
        } else {
#line 773
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 773
            __cil_tmp53 = abs((int )d___0);
#line 773
            tmp___14 = __cil_tmp53 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 773
            __cil_tmp54 = abs((int )d___0);
#line 773
            tmp___14 = __cil_tmp54 << - ((bitpos + 6) - 6);
            }
          }
#line 773
          tmp___15 = jpc_refnmsedec0[tmp___14 & ((1 << 7) - 1)];
        }
        {
#line 773
        *nmsedec += tmp___15;
#line 773
        __cil_tmp57 = abs((int )d___0);
        }
#line 773
        if (__cil_tmp57 & one) {
#line 773
          tmp___16 = 1;
        } else {
#line 773
          tmp___16 = 0;
        }
#line 773
        v___0 = (jpc_fix_t )tmp___16;
#line 773
        (out->cnt_) --;
#line 773
        if (out->cnt_ < 0) {
#line 773
          if (! ((out->stream_)->flags_ & 7)) {
#line 773
            if ((out->stream_)->rwlimit_ >= 0L) {
#line 773
              if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 773
                (out->stream_)->flags_ |= 4;
#line 773
                tmp___20 = -1;
              } else {
#line 773
                goto _L___11;
              }
            } else {
              _L___11: /* CIL Label */ 
#line 773
              ((out->stream_)->cnt_) --;
#line 773
              (out->stream_)->bufmode_ |= 32;
#line 773
              if ((out->stream_)->cnt_ < 0) {
                {
#line 773
                __cil_tmp61 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 773
                tmp___19 = __cil_tmp61;
                }
              } else {
#line 773
                __cil_tmp62 = (out->stream_)->ptr_;
#line 773
                ((out->stream_)->ptr_) ++;
#line 773
                *__cil_tmp62 = (unsigned char )(out->buf_ >> 8);
#line 773
                ((out->stream_)->rwcnt_) ++;
#line 773
                tmp___19 = (int )*__cil_tmp62;
              }
#line 773
              tmp___20 = tmp___19;
            }
#line 773
            tmp___21 = tmp___20;
          } else {
#line 773
            tmp___21 = -1;
          }
#line 773
          if (tmp___21 == -1) {
#line 773
            tmp___22 = -1L;
          } else {
#line 773
            tmp___22 = v___0 & 1L;
          }
#line 773
          out->buf_ |= (unsigned long )((v___0 & 1L) << out->cnt_);
#line 773
          if (out->buf_ == 65280UL) {
#line 773
            tmp___18 = 6;
          } else {
#line 773
            tmp___18 = 7;
          }
#line 773
          out->cnt_ = tmp___18;
#line 773
          out->buf_ = (out->buf_ << 8) & 65535UL;
#line 773
          tmp___23 = tmp___22;
        } else {
#line 773
          out->buf_ |= (unsigned long )((v___0 & 1L) << out->cnt_);
#line 773
          tmp___23 = v___0 & 1L;
        }
#line 773
        if (tmp___23 == -1L) {
#line 773
          return (-1);
        }
#line 773
        *fp |= 8192L;
      }
#line 775
      k --;
#line 775
      if (k <= 0) {
#line 776
        goto while_continue___0;
      }
#line 778
      fp += frowstep;
#line 779
      dp += drowstep;
#line 780
      if ((*fp & 20480L) == 4096L) {
#line 780
        d___1 = *dp;
#line 780
        if (bitpos + 6 > 6) {
#line 780
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 780
            __cil_tmp70 = abs((int )d___1);
#line 780
            tmp___24 = __cil_tmp70 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 780
            __cil_tmp71 = abs((int )d___1);
#line 780
            tmp___24 = __cil_tmp71 << - ((bitpos + 6) - 6);
            }
          }
#line 780
          tmp___26 = jpc_refnmsedec[tmp___24 & ((1 << 7) - 1)];
        } else {
#line 780
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 780
            __cil_tmp73 = abs((int )d___1);
#line 780
            tmp___25 = __cil_tmp73 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 780
            __cil_tmp74 = abs((int )d___1);
#line 780
            tmp___25 = __cil_tmp74 << - ((bitpos + 6) - 6);
            }
          }
#line 780
          tmp___26 = jpc_refnmsedec0[tmp___25 & ((1 << 7) - 1)];
        }
        {
#line 780
        *nmsedec += tmp___26;
#line 780
        __cil_tmp77 = abs((int )d___1);
        }
#line 780
        if (__cil_tmp77 & one) {
#line 780
          tmp___27 = 1;
        } else {
#line 780
          tmp___27 = 0;
        }
#line 780
        v___1 = (jpc_fix_t )tmp___27;
#line 780
        (out->cnt_) --;
#line 780
        if (out->cnt_ < 0) {
#line 780
          if (! ((out->stream_)->flags_ & 7)) {
#line 780
            if ((out->stream_)->rwlimit_ >= 0L) {
#line 780
              if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 780
                (out->stream_)->flags_ |= 4;
#line 780
                tmp___31 = -1;
              } else {
#line 780
                goto _L___12;
              }
            } else {
              _L___12: /* CIL Label */ 
#line 780
              ((out->stream_)->cnt_) --;
#line 780
              (out->stream_)->bufmode_ |= 32;
#line 780
              if ((out->stream_)->cnt_ < 0) {
                {
#line 780
                __cil_tmp81 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 780
                tmp___30 = __cil_tmp81;
                }
              } else {
#line 780
                __cil_tmp82 = (out->stream_)->ptr_;
#line 780
                ((out->stream_)->ptr_) ++;
#line 780
                *__cil_tmp82 = (unsigned char )(out->buf_ >> 8);
#line 780
                ((out->stream_)->rwcnt_) ++;
#line 780
                tmp___30 = (int )*__cil_tmp82;
              }
#line 780
              tmp___31 = tmp___30;
            }
#line 780
            tmp___32 = tmp___31;
          } else {
#line 780
            tmp___32 = -1;
          }
#line 780
          if (tmp___32 == -1) {
#line 780
            tmp___33 = -1L;
          } else {
#line 780
            tmp___33 = v___1 & 1L;
          }
#line 780
          out->buf_ |= (unsigned long )((v___1 & 1L) << out->cnt_);
#line 780
          if (out->buf_ == 65280UL) {
#line 780
            tmp___29 = 6;
          } else {
#line 780
            tmp___29 = 7;
          }
#line 780
          out->cnt_ = tmp___29;
#line 780
          out->buf_ = (out->buf_ << 8) & 65535UL;
#line 780
          tmp___34 = tmp___33;
        } else {
#line 780
          out->buf_ |= (unsigned long )((v___1 & 1L) << out->cnt_);
#line 780
          tmp___34 = v___1 & 1L;
        }
#line 780
        if (tmp___34 == -1L) {
#line 780
          return (-1);
        }
#line 780
        *fp |= 8192L;
      }
#line 782
      k --;
#line 782
      if (k <= 0) {
#line 783
        goto while_continue___0;
      }
#line 785
      fp += frowstep;
#line 786
      dp += drowstep;
#line 787
      if ((*fp & 20480L) == 4096L) {
#line 787
        d___2 = *dp;
#line 787
        if (bitpos + 6 > 6) {
#line 787
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 787
            __cil_tmp90 = abs((int )d___2);
#line 787
            tmp___35 = __cil_tmp90 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 787
            __cil_tmp91 = abs((int )d___2);
#line 787
            tmp___35 = __cil_tmp91 << - ((bitpos + 6) - 6);
            }
          }
#line 787
          tmp___37 = jpc_refnmsedec[tmp___35 & ((1 << 7) - 1)];
        } else {
#line 787
          if ((bitpos + 6) - 6 >= 0) {
            {
#line 787
            __cil_tmp93 = abs((int )d___2);
#line 787
            tmp___36 = __cil_tmp93 >> ((bitpos + 6) - 6);
            }
          } else {
            {
#line 787
            __cil_tmp94 = abs((int )d___2);
#line 787
            tmp___36 = __cil_tmp94 << - ((bitpos + 6) - 6);
            }
          }
#line 787
          tmp___37 = jpc_refnmsedec0[tmp___36 & ((1 << 7) - 1)];
        }
        {
#line 787
        *nmsedec += tmp___37;
#line 787
        __cil_tmp97 = abs((int )d___2);
        }
#line 787
        if (__cil_tmp97 & one) {
#line 787
          tmp___38 = 1;
        } else {
#line 787
          tmp___38 = 0;
        }
#line 787
        v___2 = (jpc_fix_t )tmp___38;
#line 787
        (out->cnt_) --;
#line 787
        if (out->cnt_ < 0) {
#line 787
          if (! ((out->stream_)->flags_ & 7)) {
#line 787
            if ((out->stream_)->rwlimit_ >= 0L) {
#line 787
              if ((out->stream_)->rwcnt_ >= (out->stream_)->rwlimit_) {
#line 787
                (out->stream_)->flags_ |= 4;
#line 787
                tmp___42 = -1;
              } else {
#line 787
                goto _L___13;
              }
            } else {
              _L___13: /* CIL Label */ 
#line 787
              ((out->stream_)->cnt_) --;
#line 787
              (out->stream_)->bufmode_ |= 32;
#line 787
              if ((out->stream_)->cnt_ < 0) {
                {
#line 787
                __cil_tmp101 = jas_stream_flushbuf(out->stream_, (int )((unsigned char )(out->buf_ >> 8)));
#line 787
                tmp___41 = __cil_tmp101;
                }
              } else {
#line 787
                __cil_tmp102 = (out->stream_)->ptr_;
#line 787
                ((out->stream_)->ptr_) ++;
#line 787
                *__cil_tmp102 = (unsigned char )(out->buf_ >> 8);
#line 787
                ((out->stream_)->rwcnt_) ++;
#line 787
                tmp___41 = (int )*__cil_tmp102;
              }
#line 787
              tmp___42 = tmp___41;
            }
#line 787
            tmp___43 = tmp___42;
          } else {
#line 787
            tmp___43 = -1;
          }
#line 787
          if (tmp___43 == -1) {
#line 787
            tmp___44 = -1L;
          } else {
#line 787
            tmp___44 = v___2 & 1L;
          }
#line 787
          out->buf_ |= (unsigned long )((v___2 & 1L) << out->cnt_);
#line 787
          if (out->buf_ == 65280UL) {
#line 787
            tmp___40 = 6;
          } else {
#line 787
            tmp___40 = 7;
          }
#line 787
          out->cnt_ = tmp___40;
#line 787
          out->buf_ = (out->buf_ << 8) & 65535UL;
#line 787
          tmp___45 = tmp___44;
        } else {
#line 787
          out->buf_ |= (unsigned long )((v___2 & 1L) << out->cnt_);
#line 787
          tmp___45 = v___2 & 1L;
        }
#line 787
        if (tmp___45 == -1L) {
#line 787
          return (-1);
        }
#line 787
        *fp |= 8192L;
      }
#line 761
      dvscanstart ++;
#line 761
      fvscanstart ++;
#line 761
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 756
    dstripestart += dstripestep;
#line 756
    fstripestart += fstripestep;
#line 756
    i -= 4;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 793
  if (term) {
    {
#line 794
    jpc_bitstream_outalign(out, 42);
    }
  }
#line 797
  return (0);
}
}
#line 829 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1enc.c"
static int jpc_encclnpass(jpc_mqenc_t *mqenc , int bitpos , int orient , int vcausalflag ,
                          int segsymflag , jas_matrix_t *flags , jas_matrix_t *data ,
                          int term , long *nmsedec ) 
{ 
  int i ;
  int j ;
  int k ;
  int vscanlen ;
  int v ;
  int runlen ;
  jpc_fix_t *fp ;
  int width ;
  int height ;
  jpc_fix_t *dp ;
  int one ;
  int frowstep ;
  int drowstep ;
  int fstripestep ;
  int dstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dvscanstart ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  int __cil_tmp32 ;
  int tmp___2 ;
  int __cil_tmp34 ;
  unsigned long tmp___3 ;
  int __cil_tmp36 ;
  unsigned long tmp___4 ;
  int __cil_tmp38 ;
  unsigned long tmp___5 ;
  int __cil_tmp40 ;
  unsigned long tmp___6 ;
  int __cil_tmp42 ;
  unsigned long tmp___7 ;
  int __cil_tmp44 ;
  unsigned long tmp___8 ;
  int __cil_tmp46 ;
  unsigned long tmp___9 ;
  int __cil_tmp48 ;
  unsigned long tmp___10 ;
  int f ;
  int v___10 ;
  int __cil_tmp52 ;
  int tmp___11 ;
  int __cil_tmp54 ;
  unsigned long tmp___12 ;
  int __cil_tmp56 ;
  unsigned long tmp___13 ;
  int __cil_tmp58 ;
  int __cil_tmp59 ;
  int tmp___14 ;
  int __cil_tmp61 ;
  int __cil_tmp62 ;
  int tmp___15 ;
  jpc_fix_t tmp___16 ;
  int tmp___17 ;
  int __cil_tmp66 ;
  unsigned long tmp___18 ;
  int __cil_tmp68 ;
  unsigned long tmp___19 ;
  register jpc_fix_t *np ;
  register jpc_fix_t *sp ;
  int f___0 ;
  int v___11 ;
  int __cil_tmp74 ;
  int tmp___20 ;
  int __cil_tmp76 ;
  unsigned long tmp___21 ;
  int __cil_tmp78 ;
  unsigned long tmp___22 ;
  int __cil_tmp80 ;
  int __cil_tmp81 ;
  int tmp___23 ;
  int __cil_tmp83 ;
  int __cil_tmp84 ;
  int tmp___24 ;
  jpc_fix_t tmp___25 ;
  int tmp___26 ;
  int __cil_tmp88 ;
  unsigned long tmp___27 ;
  int __cil_tmp90 ;
  unsigned long tmp___28 ;
  register jpc_fix_t *np___0 ;
  register jpc_fix_t *sp___0 ;
  int f___1 ;
  int v___12 ;
  int __cil_tmp96 ;
  int tmp___29 ;
  int __cil_tmp98 ;
  unsigned long tmp___30 ;
  int __cil_tmp100 ;
  unsigned long tmp___31 ;
  int __cil_tmp102 ;
  int __cil_tmp103 ;
  int tmp___32 ;
  int __cil_tmp105 ;
  int __cil_tmp106 ;
  int tmp___33 ;
  jpc_fix_t tmp___34 ;
  int tmp___35 ;
  int __cil_tmp110 ;
  unsigned long tmp___36 ;
  int __cil_tmp112 ;
  unsigned long tmp___37 ;
  register jpc_fix_t *np___1 ;
  register jpc_fix_t *sp___1 ;
  int f___2 ;
  int v___13 ;
  int __cil_tmp118 ;
  int tmp___38 ;
  int __cil_tmp120 ;
  unsigned long tmp___39 ;
  int __cil_tmp122 ;
  unsigned long tmp___40 ;
  int __cil_tmp124 ;
  int __cil_tmp125 ;
  int tmp___41 ;
  int __cil_tmp127 ;
  int __cil_tmp128 ;
  int tmp___42 ;
  jpc_fix_t tmp___43 ;
  int tmp___44 ;
  int __cil_tmp132 ;
  unsigned long tmp___45 ;
  int __cil_tmp134 ;
  unsigned long tmp___46 ;
  register jpc_fix_t *np___2 ;
  register jpc_fix_t *sp___2 ;
  int __cil_tmp138 ;
  unsigned long tmp___47 ;
  int __cil_tmp140 ;
  unsigned long tmp___48 ;
  int __cil_tmp142 ;
  unsigned long tmp___49 ;
  int __cil_tmp144 ;
  unsigned long tmp___50 ;
  int __cil_tmp146 ;
  unsigned long tmp___51 ;
  int __cil_tmp148 ;
  unsigned long tmp___52 ;
  int __cil_tmp150 ;
  unsigned long tmp___53 ;
  int __cil_tmp152 ;
  unsigned long tmp___54 ;
  int tmp___55 ;

  {
#line 852
  *nmsedec = 0L;
#line 853
  width = (int )data->numcols_;
#line 854
  height = (int )data->numrows_;
#line 855
  if (flags->numrows_ > 1L) {
#line 855
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 855
    tmp = (jas_seqent_t *)0L;
  }
#line 855
  frowstep = (int )tmp;
#line 856
  if (data->numrows_ > 1L) {
#line 856
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 856
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 856
  drowstep = (int )tmp___0;
#line 857
  fstripestep = frowstep << 2;
#line 858
  dstripestep = drowstep << 2;
#line 860
  one = 1 << (bitpos + 6);
#line 862
  fstripestart = *(flags->rows_ + 1) + 1;
#line 863
  dstripestart = *(data->rows_ + 0) + 0;
#line 864
  i = height;
  {
#line 864
  while (1) {
    while_continue: /* CIL Label */ ;

#line 864
    if (! (i > 0)) {
#line 864
      goto while_break;
    }
#line 866
    fvscanstart = fstripestart;
#line 867
    dvscanstart = dstripestart;
#line 868
    if (i < 4) {
#line 868
      tmp___1 = i;
    } else {
#line 868
      tmp___1 = 4;
    }
#line 868
    vscanlen = tmp___1;
#line 869
    j = width;
    {
#line 869
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 869
      if (! (j > 0)) {
#line 869
        goto while_break___0;
      }
#line 871
      fp = fvscanstart;
#line 872
      fp += frowstep;
#line 872
      fp += frowstep;
#line 872
      fp += frowstep;
#line 872
      if (vscanlen >= 4) {
#line 872
        if (! (*fp & 20735L)) {
#line 872
          if (! (*fp & 20735L)) {
#line 872
            if (! (*fp & 20735L)) {
#line 872
              if (! (*fp & 20735L)) {
#line 877
                dp = dvscanstart;
#line 878
                k = 0;
                {
#line 878
                while (1) {
                  while_continue___2: /* CIL Label */ ;

#line 878
                  if (! (k < vscanlen)) {
#line 878
                    goto while_break___1;
                  }
                  {
#line 879
                  __cil_tmp32 = abs((int )*dp);
                  }
#line 879
                  if (__cil_tmp32 & one) {
#line 879
                    tmp___2 = 1;
                  } else {
#line 879
                    tmp___2 = 0;
                  }
#line 879
                  v = tmp___2;
#line 880
                  if (v) {
#line 881
                    goto while_break___1;
                  }
#line 883
                  dp += drowstep;
#line 878
                  k ++;
                }
                while_break___4: /* CIL Label */ ;
                }
                while_break___1: 
#line 885
                runlen = k;
#line 886
                if (runlen >= 4) {
#line 887
                  mqenc->curctx = mqenc->ctxs + 0;
#line 888
                  if ((*(mqenc->curctx))->mps == 0) {
#line 888
                    if (! (mqenc->areg & 32768UL)) {
                      {
#line 888
                      __cil_tmp34 = jpc_mqenc_codemps2(mqenc);
#line 888
                      tmp___3 = (unsigned long )__cil_tmp34;
                      }
                    } else {
#line 888
                      mqenc->creg += (*(mqenc->curctx))->qeval;
#line 888
                      tmp___3 = mqenc->creg;
                    }
#line 888
                    mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 888
                    tmp___4 = tmp___3;
                  } else {
                    {
#line 888
                    __cil_tmp36 = jpc_mqenc_codelps(mqenc);
#line 888
                    tmp___4 = (unsigned long )__cil_tmp36;
                    }
                  }
#line 889
                  goto while_continue___0;
                }
#line 891
                mqenc->curctx = mqenc->ctxs + 0;
#line 892
                if ((*(mqenc->curctx))->mps == 1) {
#line 892
                  if (! (mqenc->areg & 32768UL)) {
                    {
#line 892
                    __cil_tmp38 = jpc_mqenc_codemps2(mqenc);
#line 892
                    tmp___5 = (unsigned long )__cil_tmp38;
                    }
                  } else {
#line 892
                    mqenc->creg += (*(mqenc->curctx))->qeval;
#line 892
                    tmp___5 = mqenc->creg;
                  }
#line 892
                  mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 892
                  tmp___6 = tmp___5;
                } else {
                  {
#line 892
                  __cil_tmp40 = jpc_mqenc_codelps(mqenc);
#line 892
                  tmp___6 = (unsigned long )__cil_tmp40;
                  }
                }
#line 893
                mqenc->curctx = mqenc->ctxs + 18;
#line 894
                if ((*(mqenc->curctx))->mps == runlen >> 1) {
#line 894
                  if (! (mqenc->areg & 32768UL)) {
                    {
#line 894
                    __cil_tmp42 = jpc_mqenc_codemps2(mqenc);
#line 894
                    tmp___7 = (unsigned long )__cil_tmp42;
                    }
                  } else {
#line 894
                    mqenc->creg += (*(mqenc->curctx))->qeval;
#line 894
                    tmp___7 = mqenc->creg;
                  }
#line 894
                  mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 894
                  tmp___8 = tmp___7;
                } else {
                  {
#line 894
                  __cil_tmp44 = jpc_mqenc_codelps(mqenc);
#line 894
                  tmp___8 = (unsigned long )__cil_tmp44;
                  }
                }
#line 895
                if ((*(mqenc->curctx))->mps == (runlen & 1)) {
#line 895
                  if (! (mqenc->areg & 32768UL)) {
                    {
#line 895
                    __cil_tmp46 = jpc_mqenc_codemps2(mqenc);
#line 895
                    tmp___9 = (unsigned long )__cil_tmp46;
                    }
                  } else {
#line 895
                    mqenc->creg += (*(mqenc->curctx))->qeval;
#line 895
                    tmp___9 = mqenc->creg;
                  }
#line 895
                  mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 895
                  tmp___10 = tmp___9;
                } else {
                  {
#line 895
                  __cil_tmp48 = jpc_mqenc_codelps(mqenc);
#line 895
                  tmp___10 = (unsigned long )__cil_tmp48;
                  }
                }
#line 896
                fp = fvscanstart + frowstep * runlen;
#line 897
                dp = dvscanstart + drowstep * runlen;
#line 898
                k = vscanlen - runlen;
#line 900
                if (runlen == 0) {
#line 900
                  goto case_0;
                }
#line 903
                if (runlen == 1) {
#line 903
                  goto case_1;
                }
#line 906
                if (runlen == 2) {
#line 906
                  goto case_2;
                }
#line 909
                if (runlen == 3) {
#line 909
                  goto case_3;
                }
#line 899
                goto switch_break;
                case_0: 
#line 901
                goto clnpass_partial0;
#line 902
                goto switch_break;
                case_1: 
#line 904
                goto clnpass_partial1;
#line 905
                goto switch_break;
                case_2: 
#line 907
                goto clnpass_partial2;
#line 908
                goto switch_break;
                case_3: 
#line 910
                goto clnpass_partial3;
#line 911
                goto switch_break;
                switch_break: ;
              } else {
#line 914
                runlen = 0;
#line 915
                fp = fvscanstart;
#line 916
                dp = dvscanstart;
#line 917
                k = vscanlen;
#line 918
                goto clnpass_full0;
              }
            } else {
#line 914
              runlen = 0;
#line 915
              fp = fvscanstart;
#line 916
              dp = dvscanstart;
#line 917
              k = vscanlen;
#line 918
              goto clnpass_full0;
            }
          } else {
#line 914
            runlen = 0;
#line 915
            fp = fvscanstart;
#line 916
            dp = dvscanstart;
#line 917
            k = vscanlen;
#line 918
            goto clnpass_full0;
          }
        } else {
#line 914
          runlen = 0;
#line 915
          fp = fvscanstart;
#line 916
          dp = dvscanstart;
#line 917
          k = vscanlen;
#line 918
          goto clnpass_full0;
        }
      } else {
#line 914
        runlen = 0;
#line 915
        fp = fvscanstart;
#line 916
        dp = dvscanstart;
#line 917
        k = vscanlen;
#line 918
        goto clnpass_full0;
      }
      clnpass_full0: 
#line 920
      f = (int )*fp;
#line 920
      if (! (f & 20480)) {
        {
#line 920
        mqenc->curctx = mqenc->ctxs + jpc_zcctxnolut[(orient << 8) | (f & 255)];
#line 920
        __cil_tmp52 = abs((int )*dp);
        }
#line 920
        if (__cil_tmp52 & one) {
#line 920
          tmp___11 = 1;
        } else {
#line 920
          tmp___11 = 0;
        }
#line 920
        v___10 = tmp___11;
#line 920
        if ((*(mqenc->curctx))->mps == v___10) {
#line 920
          if (! (mqenc->areg & 32768UL)) {
            {
#line 920
            __cil_tmp54 = jpc_mqenc_codemps2(mqenc);
#line 920
            tmp___12 = (unsigned long )__cil_tmp54;
            }
          } else {
#line 920
            mqenc->creg += (*(mqenc->curctx))->qeval;
#line 920
            tmp___12 = mqenc->creg;
          }
#line 920
          mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 920
          tmp___13 = tmp___12;
        } else {
          {
#line 920
          __cil_tmp56 = jpc_mqenc_codelps(mqenc);
#line 920
          tmp___13 = (unsigned long )__cil_tmp56;
          }
        }
#line 920
        if (v___10) {
          clnpass_partial0: 
#line 920
          f = (int )*fp;
#line 920
          if (bitpos + 6 > 6) {
#line 920
            if ((bitpos + 6) - 6 >= 0) {
              {
#line 920
              __cil_tmp58 = abs((int )*dp);
#line 920
              tmp___14 = __cil_tmp58 >> ((bitpos + 6) - 6);
              }
            } else {
              {
#line 920
              __cil_tmp59 = abs((int )*dp);
#line 920
              tmp___14 = __cil_tmp59 << - ((bitpos + 6) - 6);
              }
            }
#line 920
            tmp___16 = jpc_signmsedec[tmp___14 & ((1 << 7) - 1)];
          } else {
#line 920
            if ((bitpos + 6) - 6 >= 0) {
              {
#line 920
              __cil_tmp61 = abs((int )*dp);
#line 920
              tmp___15 = __cil_tmp61 >> ((bitpos + 6) - 6);
              }
            } else {
              {
#line 920
              __cil_tmp62 = abs((int )*dp);
#line 920
              tmp___15 = __cil_tmp62 << - ((bitpos + 6) - 6);
              }
            }
#line 920
            tmp___16 = jpc_signmsedec0[tmp___15 & ((1 << 7) - 1)];
          }
#line 920
          *nmsedec += tmp___16;
#line 920
          mqenc->curctx = mqenc->ctxs + jpc_scctxnolut[(f & 4080) >> 4];
#line 920
          if (*dp < 0L) {
#line 920
            tmp___17 = 1;
          } else {
#line 920
            tmp___17 = 0;
          }
#line 920
          v___10 = tmp___17;
#line 920
          if ((*(mqenc->curctx))->mps == (v___10 ^ jpc_spblut[(f & 4080) >> 4])) {
#line 920
            if (! (mqenc->areg & 32768UL)) {
              {
#line 920
              __cil_tmp66 = jpc_mqenc_codemps2(mqenc);
#line 920
              tmp___18 = (unsigned long )__cil_tmp66;
              }
            } else {
#line 920
              mqenc->creg += (*(mqenc->curctx))->qeval;
#line 920
              tmp___18 = mqenc->creg;
            }
#line 920
            mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 920
            tmp___19 = tmp___18;
          } else {
            {
#line 920
            __cil_tmp68 = jpc_mqenc_codelps(mqenc);
#line 920
            tmp___19 = (unsigned long )__cil_tmp68;
            }
          }
#line 920
          np = fp - frowstep;
#line 920
          sp = fp + frowstep;
#line 920
          if (vcausalflag) {
#line 920
            *(sp + -1) |= 1L;
#line 920
            *(sp + 1) |= 8L;
#line 920
            if (v___10) {
#line 920
              *sp |= 272L;
#line 920
              *(fp + -1) |= 544L;
#line 920
              *(fp + 1) |= 2176L;
            } else {
#line 920
              *sp |= 16L;
#line 920
              *(fp + -1) |= 32L;
#line 920
              *(fp + 1) |= 128L;
            }
          } else {
#line 920
            *(np + -1) |= 2L;
#line 920
            *(np + 1) |= 4L;
#line 920
            *(sp + -1) |= 1L;
#line 920
            *(sp + 1) |= 8L;
#line 920
            if (v___10) {
#line 920
              *np |= 1088L;
#line 920
              *sp |= 272L;
#line 920
              *(fp + -1) |= 544L;
#line 920
              *(fp + 1) |= 2176L;
            } else {
#line 920
              *np |= 64L;
#line 920
              *sp |= 16L;
#line 920
              *(fp + -1) |= 32L;
#line 920
              *(fp + 1) |= 128L;
            }
          }
#line 920
          *fp |= 4096L;
        }
      }
#line 920
      *fp &= -16385L;
#line 922
      k --;
#line 922
      if (k <= 0) {
#line 923
        goto while_continue___0;
      }
#line 925
      fp += frowstep;
#line 926
      dp += drowstep;
#line 927
      f___0 = (int )*fp;
#line 927
      if (! (f___0 & 20480)) {
        {
#line 927
        mqenc->curctx = mqenc->ctxs + jpc_zcctxnolut[(orient << 8) | (f___0 & 255)];
#line 927
        __cil_tmp74 = abs((int )*dp);
        }
#line 927
        if (__cil_tmp74 & one) {
#line 927
          tmp___20 = 1;
        } else {
#line 927
          tmp___20 = 0;
        }
#line 927
        v___11 = tmp___20;
#line 927
        if ((*(mqenc->curctx))->mps == v___11) {
#line 927
          if (! (mqenc->areg & 32768UL)) {
            {
#line 927
            __cil_tmp76 = jpc_mqenc_codemps2(mqenc);
#line 927
            tmp___21 = (unsigned long )__cil_tmp76;
            }
          } else {
#line 927
            mqenc->creg += (*(mqenc->curctx))->qeval;
#line 927
            tmp___21 = mqenc->creg;
          }
#line 927
          mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 927
          tmp___22 = tmp___21;
        } else {
          {
#line 927
          __cil_tmp78 = jpc_mqenc_codelps(mqenc);
#line 927
          tmp___22 = (unsigned long )__cil_tmp78;
          }
        }
#line 927
        if (v___11) {
          clnpass_partial1: 
#line 927
          f___0 = (int )*fp;
#line 927
          if (bitpos + 6 > 6) {
#line 927
            if ((bitpos + 6) - 6 >= 0) {
              {
#line 927
              __cil_tmp80 = abs((int )*dp);
#line 927
              tmp___23 = __cil_tmp80 >> ((bitpos + 6) - 6);
              }
            } else {
              {
#line 927
              __cil_tmp81 = abs((int )*dp);
#line 927
              tmp___23 = __cil_tmp81 << - ((bitpos + 6) - 6);
              }
            }
#line 927
            tmp___25 = jpc_signmsedec[tmp___23 & ((1 << 7) - 1)];
          } else {
#line 927
            if ((bitpos + 6) - 6 >= 0) {
              {
#line 927
              __cil_tmp83 = abs((int )*dp);
#line 927
              tmp___24 = __cil_tmp83 >> ((bitpos + 6) - 6);
              }
            } else {
              {
#line 927
              __cil_tmp84 = abs((int )*dp);
#line 927
              tmp___24 = __cil_tmp84 << - ((bitpos + 6) - 6);
              }
            }
#line 927
            tmp___25 = jpc_signmsedec0[tmp___24 & ((1 << 7) - 1)];
          }
#line 927
          *nmsedec += tmp___25;
#line 927
          mqenc->curctx = mqenc->ctxs + jpc_scctxnolut[(f___0 & 4080) >> 4];
#line 927
          if (*dp < 0L) {
#line 927
            tmp___26 = 1;
          } else {
#line 927
            tmp___26 = 0;
          }
#line 927
          v___11 = tmp___26;
#line 927
          if ((*(mqenc->curctx))->mps == (v___11 ^ jpc_spblut[(f___0 & 4080) >> 4])) {
#line 927
            if (! (mqenc->areg & 32768UL)) {
              {
#line 927
              __cil_tmp88 = jpc_mqenc_codemps2(mqenc);
#line 927
              tmp___27 = (unsigned long )__cil_tmp88;
              }
            } else {
#line 927
              mqenc->creg += (*(mqenc->curctx))->qeval;
#line 927
              tmp___27 = mqenc->creg;
            }
#line 927
            mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 927
            tmp___28 = tmp___27;
          } else {
            {
#line 927
            __cil_tmp90 = jpc_mqenc_codelps(mqenc);
#line 927
            tmp___28 = (unsigned long )__cil_tmp90;
            }
          }
#line 927
          np___0 = fp - frowstep;
#line 927
          sp___0 = fp + frowstep;
#line 927
          *(np___0 + -1) |= 2L;
#line 927
          *(np___0 + 1) |= 4L;
#line 927
          *(sp___0 + -1) |= 1L;
#line 927
          *(sp___0 + 1) |= 8L;
#line 927
          if (v___11) {
#line 927
            *np___0 |= 1088L;
#line 927
            *sp___0 |= 272L;
#line 927
            *(fp + -1) |= 544L;
#line 927
            *(fp + 1) |= 2176L;
          } else {
#line 927
            *np___0 |= 64L;
#line 927
            *sp___0 |= 16L;
#line 927
            *(fp + -1) |= 32L;
#line 927
            *(fp + 1) |= 128L;
          }
#line 927
          *fp |= 4096L;
        }
      }
#line 927
      *fp &= -16385L;
#line 929
      k --;
#line 929
      if (k <= 0) {
#line 930
        goto while_continue___0;
      }
#line 932
      fp += frowstep;
#line 933
      dp += drowstep;
#line 934
      f___1 = (int )*fp;
#line 934
      if (! (f___1 & 20480)) {
        {
#line 934
        mqenc->curctx = mqenc->ctxs + jpc_zcctxnolut[(orient << 8) | (f___1 & 255)];
#line 934
        __cil_tmp96 = abs((int )*dp);
        }
#line 934
        if (__cil_tmp96 & one) {
#line 934
          tmp___29 = 1;
        } else {
#line 934
          tmp___29 = 0;
        }
#line 934
        v___12 = tmp___29;
#line 934
        if ((*(mqenc->curctx))->mps == v___12) {
#line 934
          if (! (mqenc->areg & 32768UL)) {
            {
#line 934
            __cil_tmp98 = jpc_mqenc_codemps2(mqenc);
#line 934
            tmp___30 = (unsigned long )__cil_tmp98;
            }
          } else {
#line 934
            mqenc->creg += (*(mqenc->curctx))->qeval;
#line 934
            tmp___30 = mqenc->creg;
          }
#line 934
          mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 934
          tmp___31 = tmp___30;
        } else {
          {
#line 934
          __cil_tmp100 = jpc_mqenc_codelps(mqenc);
#line 934
          tmp___31 = (unsigned long )__cil_tmp100;
          }
        }
#line 934
        if (v___12) {
          clnpass_partial2: 
#line 934
          f___1 = (int )*fp;
#line 934
          if (bitpos + 6 > 6) {
#line 934
            if ((bitpos + 6) - 6 >= 0) {
              {
#line 934
              __cil_tmp102 = abs((int )*dp);
#line 934
              tmp___32 = __cil_tmp102 >> ((bitpos + 6) - 6);
              }
            } else {
              {
#line 934
              __cil_tmp103 = abs((int )*dp);
#line 934
              tmp___32 = __cil_tmp103 << - ((bitpos + 6) - 6);
              }
            }
#line 934
            tmp___34 = jpc_signmsedec[tmp___32 & ((1 << 7) - 1)];
          } else {
#line 934
            if ((bitpos + 6) - 6 >= 0) {
              {
#line 934
              __cil_tmp105 = abs((int )*dp);
#line 934
              tmp___33 = __cil_tmp105 >> ((bitpos + 6) - 6);
              }
            } else {
              {
#line 934
              __cil_tmp106 = abs((int )*dp);
#line 934
              tmp___33 = __cil_tmp106 << - ((bitpos + 6) - 6);
              }
            }
#line 934
            tmp___34 = jpc_signmsedec0[tmp___33 & ((1 << 7) - 1)];
          }
#line 934
          *nmsedec += tmp___34;
#line 934
          mqenc->curctx = mqenc->ctxs + jpc_scctxnolut[(f___1 & 4080) >> 4];
#line 934
          if (*dp < 0L) {
#line 934
            tmp___35 = 1;
          } else {
#line 934
            tmp___35 = 0;
          }
#line 934
          v___12 = tmp___35;
#line 934
          if ((*(mqenc->curctx))->mps == (v___12 ^ jpc_spblut[(f___1 & 4080) >> 4])) {
#line 934
            if (! (mqenc->areg & 32768UL)) {
              {
#line 934
              __cil_tmp110 = jpc_mqenc_codemps2(mqenc);
#line 934
              tmp___36 = (unsigned long )__cil_tmp110;
              }
            } else {
#line 934
              mqenc->creg += (*(mqenc->curctx))->qeval;
#line 934
              tmp___36 = mqenc->creg;
            }
#line 934
            mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 934
            tmp___37 = tmp___36;
          } else {
            {
#line 934
            __cil_tmp112 = jpc_mqenc_codelps(mqenc);
#line 934
            tmp___37 = (unsigned long )__cil_tmp112;
            }
          }
#line 934
          np___1 = fp - frowstep;
#line 934
          sp___1 = fp + frowstep;
#line 934
          *(np___1 + -1) |= 2L;
#line 934
          *(np___1 + 1) |= 4L;
#line 934
          *(sp___1 + -1) |= 1L;
#line 934
          *(sp___1 + 1) |= 8L;
#line 934
          if (v___12) {
#line 934
            *np___1 |= 1088L;
#line 934
            *sp___1 |= 272L;
#line 934
            *(fp + -1) |= 544L;
#line 934
            *(fp + 1) |= 2176L;
          } else {
#line 934
            *np___1 |= 64L;
#line 934
            *sp___1 |= 16L;
#line 934
            *(fp + -1) |= 32L;
#line 934
            *(fp + 1) |= 128L;
          }
#line 934
          *fp |= 4096L;
        }
      }
#line 934
      *fp &= -16385L;
#line 936
      k --;
#line 936
      if (k <= 0) {
#line 937
        goto while_continue___0;
      }
#line 939
      fp += frowstep;
#line 940
      dp += drowstep;
#line 941
      f___2 = (int )*fp;
#line 941
      if (! (f___2 & 20480)) {
        {
#line 941
        mqenc->curctx = mqenc->ctxs + jpc_zcctxnolut[(orient << 8) | (f___2 & 255)];
#line 941
        __cil_tmp118 = abs((int )*dp);
        }
#line 941
        if (__cil_tmp118 & one) {
#line 941
          tmp___38 = 1;
        } else {
#line 941
          tmp___38 = 0;
        }
#line 941
        v___13 = tmp___38;
#line 941
        if ((*(mqenc->curctx))->mps == v___13) {
#line 941
          if (! (mqenc->areg & 32768UL)) {
            {
#line 941
            __cil_tmp120 = jpc_mqenc_codemps2(mqenc);
#line 941
            tmp___39 = (unsigned long )__cil_tmp120;
            }
          } else {
#line 941
            mqenc->creg += (*(mqenc->curctx))->qeval;
#line 941
            tmp___39 = mqenc->creg;
          }
#line 941
          mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 941
          tmp___40 = tmp___39;
        } else {
          {
#line 941
          __cil_tmp122 = jpc_mqenc_codelps(mqenc);
#line 941
          tmp___40 = (unsigned long )__cil_tmp122;
          }
        }
#line 941
        if (v___13) {
          clnpass_partial3: 
#line 941
          f___2 = (int )*fp;
#line 941
          if (bitpos + 6 > 6) {
#line 941
            if ((bitpos + 6) - 6 >= 0) {
              {
#line 941
              __cil_tmp124 = abs((int )*dp);
#line 941
              tmp___41 = __cil_tmp124 >> ((bitpos + 6) - 6);
              }
            } else {
              {
#line 941
              __cil_tmp125 = abs((int )*dp);
#line 941
              tmp___41 = __cil_tmp125 << - ((bitpos + 6) - 6);
              }
            }
#line 941
            tmp___43 = jpc_signmsedec[tmp___41 & ((1 << 7) - 1)];
          } else {
#line 941
            if ((bitpos + 6) - 6 >= 0) {
              {
#line 941
              __cil_tmp127 = abs((int )*dp);
#line 941
              tmp___42 = __cil_tmp127 >> ((bitpos + 6) - 6);
              }
            } else {
              {
#line 941
              __cil_tmp128 = abs((int )*dp);
#line 941
              tmp___42 = __cil_tmp128 << - ((bitpos + 6) - 6);
              }
            }
#line 941
            tmp___43 = jpc_signmsedec0[tmp___42 & ((1 << 7) - 1)];
          }
#line 941
          *nmsedec += tmp___43;
#line 941
          mqenc->curctx = mqenc->ctxs + jpc_scctxnolut[(f___2 & 4080) >> 4];
#line 941
          if (*dp < 0L) {
#line 941
            tmp___44 = 1;
          } else {
#line 941
            tmp___44 = 0;
          }
#line 941
          v___13 = tmp___44;
#line 941
          if ((*(mqenc->curctx))->mps == (v___13 ^ jpc_spblut[(f___2 & 4080) >> 4])) {
#line 941
            if (! (mqenc->areg & 32768UL)) {
              {
#line 941
              __cil_tmp132 = jpc_mqenc_codemps2(mqenc);
#line 941
              tmp___45 = (unsigned long )__cil_tmp132;
              }
            } else {
#line 941
              mqenc->creg += (*(mqenc->curctx))->qeval;
#line 941
              tmp___45 = mqenc->creg;
            }
#line 941
            mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 941
            tmp___46 = tmp___45;
          } else {
            {
#line 941
            __cil_tmp134 = jpc_mqenc_codelps(mqenc);
#line 941
            tmp___46 = (unsigned long )__cil_tmp134;
            }
          }
#line 941
          np___2 = fp - frowstep;
#line 941
          sp___2 = fp + frowstep;
#line 941
          *(np___2 + -1) |= 2L;
#line 941
          *(np___2 + 1) |= 4L;
#line 941
          *(sp___2 + -1) |= 1L;
#line 941
          *(sp___2 + 1) |= 8L;
#line 941
          if (v___13) {
#line 941
            *np___2 |= 1088L;
#line 941
            *sp___2 |= 272L;
#line 941
            *(fp + -1) |= 544L;
#line 941
            *(fp + 1) |= 2176L;
          } else {
#line 941
            *np___2 |= 64L;
#line 941
            *sp___2 |= 16L;
#line 941
            *(fp + -1) |= 32L;
#line 941
            *(fp + 1) |= 128L;
          }
#line 941
          *fp |= 4096L;
        }
      }
#line 941
      *fp &= -16385L;
#line 869
      dvscanstart ++;
#line 869
      fvscanstart ++;
#line 869
      j --;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
#line 864
    dstripestart += dstripestep;
#line 864
    fstripestart += fstripestep;
#line 864
    i -= 4;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 946
  if (segsymflag) {
#line 947
    mqenc->curctx = mqenc->ctxs + 18;
#line 948
    if ((*(mqenc->curctx))->mps == 1) {
#line 948
      if (! (mqenc->areg & 32768UL)) {
        {
#line 948
        __cil_tmp138 = jpc_mqenc_codemps2(mqenc);
#line 948
        tmp___47 = (unsigned long )__cil_tmp138;
        }
      } else {
#line 948
        mqenc->creg += (*(mqenc->curctx))->qeval;
#line 948
        tmp___47 = mqenc->creg;
      }
#line 948
      mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 948
      tmp___48 = tmp___47;
    } else {
      {
#line 948
      __cil_tmp140 = jpc_mqenc_codelps(mqenc);
#line 948
      tmp___48 = (unsigned long )__cil_tmp140;
      }
    }
#line 949
    if ((*(mqenc->curctx))->mps == 0) {
#line 949
      if (! (mqenc->areg & 32768UL)) {
        {
#line 949
        __cil_tmp142 = jpc_mqenc_codemps2(mqenc);
#line 949
        tmp___49 = (unsigned long )__cil_tmp142;
        }
      } else {
#line 949
        mqenc->creg += (*(mqenc->curctx))->qeval;
#line 949
        tmp___49 = mqenc->creg;
      }
#line 949
      mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 949
      tmp___50 = tmp___49;
    } else {
      {
#line 949
      __cil_tmp144 = jpc_mqenc_codelps(mqenc);
#line 949
      tmp___50 = (unsigned long )__cil_tmp144;
      }
    }
#line 950
    if ((*(mqenc->curctx))->mps == 1) {
#line 950
      if (! (mqenc->areg & 32768UL)) {
        {
#line 950
        __cil_tmp146 = jpc_mqenc_codemps2(mqenc);
#line 950
        tmp___51 = (unsigned long )__cil_tmp146;
        }
      } else {
#line 950
        mqenc->creg += (*(mqenc->curctx))->qeval;
#line 950
        tmp___51 = mqenc->creg;
      }
#line 950
      mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 950
      tmp___52 = tmp___51;
    } else {
      {
#line 950
      __cil_tmp148 = jpc_mqenc_codelps(mqenc);
#line 950
      tmp___52 = (unsigned long )__cil_tmp148;
      }
    }
#line 951
    if ((*(mqenc->curctx))->mps == 0) {
#line 951
      if (! (mqenc->areg & 32768UL)) {
        {
#line 951
        __cil_tmp150 = jpc_mqenc_codemps2(mqenc);
#line 951
        tmp___53 = (unsigned long )__cil_tmp150;
        }
      } else {
#line 951
        mqenc->creg += (*(mqenc->curctx))->qeval;
#line 951
        tmp___53 = mqenc->creg;
      }
#line 951
      mqenc->areg -= (*(mqenc->curctx))->qeval;
#line 951
      tmp___54 = tmp___53;
    } else {
      {
#line 951
      __cil_tmp152 = jpc_mqenc_codelps(mqenc);
#line 951
      tmp___54 = (unsigned long )__cil_tmp152;
      }
    }
  }
#line 954
  if (term) {
    {
#line 955
    jpc_mqenc_flush(mqenc, term - 1);
    }
  }
#line 958
  if (mqenc->err) {
#line 958
    tmp___55 = -1;
  } else {
#line 958
    tmp___55 = 0;
  }
#line 958
  return (tmp___55);
}
}
#line 86 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1dec.h"
int jpc_dec_decodecblks(jpc_dec_t *dec , jpc_dec_tile_t *tile ) ;
#line 92 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1dec.c"
static int jpc_dec_decodecblk(jpc_dec_t *dec , jpc_dec_tile_t *tile , jpc_dec_tcomp_t *tcomp ,
                              jpc_dec_band_t *band , jpc_dec_cblk_t *cblk , int dopartial ,
                              int maxlyrs ) ;
#line 94
static int dec_sigpass(jpc_dec_t *dec , jpc_mqdec_t *mqdec , int bitpos , int orient ,
                       int vcausalflag , jas_matrix_t *flags , jas_matrix_t *data ) ;
#line 96
static int dec_rawsigpass(jpc_dec_t *dec , jpc_bitstream_t *in , int bitpos , int vcausalflag ,
                          jas_matrix_t *flags , jas_matrix_t *data ) ;
#line 98
static int dec_refpass(jpc_dec_t *dec , jpc_mqdec_t *mqdec , int bitpos , int vcausalflag ,
                       jas_matrix_t *flags , jas_matrix_t *data ) ;
#line 100
static int dec_rawrefpass(jpc_dec_t *dec , jpc_bitstream_t *in , int bitpos , int vcausalflag ,
                          jas_matrix_t *flags , jas_matrix_t *data ) ;
#line 102
static int dec_clnpass(jpc_dec_t *dec , jpc_mqdec_t *mqdec , int bitpos , int orient ,
                       int vcausalflag , int segsymflag , jas_matrix_t *flags , jas_matrix_t *data ) ;
#line 143 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1dec.c"
int jpc_dec_decodecblks(jpc_dec_t *dec , jpc_dec_tile_t *tile ) 
{ 
  jpc_dec_tcomp_t *tcomp ;
  int compcnt ;
  jpc_dec_rlvl_t *rlvl ;
  int rlvlcnt ;
  jpc_dec_band_t *band ;
  int bandcnt ;
  jpc_dec_prc_t *prc ;
  int prccnt ;
  jpc_dec_cblk_t *cblk ;
  int cblkcnt ;
  int __cil_tmp13 ;

  {
#line 156
  tcomp = tile->tcomps;
#line 156
  compcnt = dec->numcomps;
  {
#line 156
  while (1) {
    while_continue: /* CIL Label */ ;

#line 156
    if (! (compcnt > 0)) {
#line 156
      goto while_break;
    }
#line 158
    rlvl = tcomp->rlvls;
#line 158
    rlvlcnt = tcomp->numrlvls;
    {
#line 158
    while (1) {
      while_continue___3: /* CIL Label */ ;
      while_continue___0: ;
#line 158
      if (! (rlvlcnt > 0)) {
#line 158
        goto while_break___0;
      }
#line 160
      if (! rlvl->bands) {
#line 161
        goto while_continue___0;
      }
#line 163
      band = rlvl->bands;
#line 163
      bandcnt = rlvl->numbands;
      {
#line 163
      while (1) {
        while_continue___4: /* CIL Label */ ;
        while_continue___1: ;
#line 163
        if (! (bandcnt > 0)) {
#line 163
          goto while_break___1;
        }
#line 165
        if (! band->data) {
#line 166
          goto while_continue___1;
        }
#line 168
        prc = band->prcs;
#line 168
        prccnt = rlvl->numprcs;
        {
#line 168
        while (1) {
          while_continue___5: /* CIL Label */ ;
          while_continue___2: ;
#line 168
          if (! (prccnt > 0)) {
#line 168
            goto while_break___2;
          }
#line 170
          if (! prc->cblks) {
#line 171
            goto while_continue___2;
          }
#line 173
          cblk = prc->cblks;
#line 173
          cblkcnt = prc->numcblks;
          {
#line 173
          while (1) {
            while_continue___6: /* CIL Label */ ;

#line 173
            if (! (cblkcnt > 0)) {
#line 173
              goto while_break___3;
            }
            {
#line 176
            __cil_tmp13 = jpc_dec_decodecblk(dec, tile, tcomp, band, cblk, 1, 16384);
            }
#line 176
            if (__cil_tmp13) {
#line 178
              return (-1);
            }
#line 175
            cblk ++;
#line 175
            cblkcnt --;
          }
          while_break___8: /* CIL Label */ ;
          }
          while_break___3: 
#line 169
          prc ++;
#line 169
          prccnt --;
        }
        while_break___7: /* CIL Label */ ;
        }
        while_break___2: 
#line 164
        band ++;
#line 164
        bandcnt --;
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___1: 
#line 159
      rlvl ++;
#line 159
      rlvlcnt --;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: 
#line 157
    tcomp ++;
#line 157
    compcnt --;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: ;
#line 187
  return (0);
}
}
#line 190 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1dec.c"
static int jpc_dec_decodecblk(jpc_dec_t *dec , jpc_dec_tile_t *tile , jpc_dec_tcomp_t *tcomp ,
                              jpc_dec_band_t *band , jpc_dec_cblk_t *cblk , int dopartial ,
                              int maxlyrs ) 
{ 
  jpc_dec_seg_t *seg ;
  int i ;
  int bpno ;
  int passtype ;
  int ret ;
  int compno ;
  int filldata ;
  int fillmask ;
  jpc_dec_ccp_t *ccp ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  int tmp___4 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int tmp___5 ;

  {
#line 203
  compno = (int )(tcomp - tile->tcomps);
#line 205
  if (! cblk->flags) {
    {
#line 207
    cblk->flags = jas_matrix_create((int )((cblk->data)->numrows_ + 2L), (int )((cblk->data)->numcols_ + 2L));
    }
#line 207
    if (! cblk->flags) {
#line 209
      return (-1);
    }
  }
#line 213
  seg = cblk->segs.head;
  {
#line 214
  while (1) {
    while_continue: /* CIL Label */ ;

#line 214
    if (seg) {
#line 214
      if ((unsigned long )seg != (unsigned long )cblk->curseg) {
#line 214
        goto _L___10;
      } else
#line 214
      if (dopartial) {
        _L___10: /* CIL Label */ 
#line 214
        if (! (maxlyrs < 0)) {
#line 214
          if (! (seg->lyrno < maxlyrs)) {
#line 214
            goto while_break;
          }
        }
      } else {
#line 214
        goto while_break;
      }
    } else {
#line 214
      goto while_break;
    }
    {
#line 218
    jas_stream_rewind(seg->stream);
#line 219
    jas_stream_setrwcount(seg->stream, 0L);
    }
#line 220
    if (seg->type == 1) {
#line 221
      if (! cblk->mqdec) {
        {
#line 222
        cblk->mqdec = jpc_mqdec_create(19, (jas_stream_t *)0);
        }
#line 222
        if (! cblk->mqdec) {
#line 223
          return (-1);
        }
        {
#line 225
        jpc_mqdec_setctxs(cblk->mqdec, 19, jpc_mqctxs);
        }
      }
      {
#line 227
      jpc_mqdec_setinput(cblk->mqdec, seg->stream);
#line 228
      jpc_mqdec_init(cblk->mqdec);
      }
    } else
#line 231
    if (! cblk->nulldec) {
      {
#line 232
      cblk->nulldec = jpc_bitstream_sopen(seg->stream, (char *)"r");
      }
    }
#line 239
    i = 0;
    {
#line 239
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 239
      if (! (i < seg->numpasses)) {
#line 239
        goto while_break___0;
      }
#line 240
      if (cblk->numimsbs > band->numbps) {
#line 241
        ccp = (tile->cp)->ccps + compno;
#line 242
        if ((int )ccp->roishift <= 0) {
          {
#line 243
          jas_eprintf("warning: corrupt code stream\n");
          }
        } else
#line 245
        if (cblk->numimsbs < (int )ccp->roishift - band->numbps) {
          {
#line 246
          jas_eprintf("warning: corrupt code stream\n");
          }
        }
      }
#line 250
      bpno = ((band->roishift + band->numbps) - 1) - (cblk->numimsbs + (((seg->passno + i) - cblk->firstpassno) + 2) / 3);
#line 252
      if (bpno < 0) {
#line 253
        goto premature_exit;
      }
#line 256
      passtype = ((seg->passno + i) + 2) % 3;
#line 262
      if (passtype == 0) {
#line 262
        goto case_0;
      }
#line 271
      if (passtype == 1) {
#line 271
        goto case_1;
      }
#line 288
      goto switch_default;
      case_0: 
#line 263
      if (seg->type == 1) {
        {
#line 263
        __cil_tmp25 = dec_sigpass(dec, cblk->mqdec, bpno, band->orient, ((int )((tile->cp)->ccps + compno)->cblkctx & 8) != 0,
                                  cblk->flags, cblk->data);
#line 263
        tmp___4 = __cil_tmp25;
        }
      } else {
        {
#line 263
        __cil_tmp26 = dec_rawsigpass(dec, cblk->nulldec, bpno, ((int )((tile->cp)->ccps + compno)->cblkctx & 8) != 0,
                                     cblk->flags, cblk->data);
#line 263
        tmp___4 = __cil_tmp26;
        }
      }
#line 263
      ret = tmp___4;
#line 270
      goto switch_break;
      case_1: 
#line 272
      if (seg->type == 1) {
        {
#line 272
        __cil_tmp28 = dec_refpass(dec, cblk->mqdec, bpno, ((int )((tile->cp)->ccps + compno)->cblkctx & 8) != 0,
                                  cblk->flags, cblk->data);
#line 272
        tmp___5 = __cil_tmp28;
        }
      } else {
        {
#line 272
        __cil_tmp29 = dec_rawrefpass(dec, cblk->nulldec, bpno, ((int )((tile->cp)->ccps + compno)->cblkctx & 8) != 0,
                                     cblk->flags, cblk->data);
#line 272
        tmp___5 = __cil_tmp29;
        }
      }
#line 272
      ret = tmp___5;
#line 279
      goto switch_break;
      {
#line 282
      ret = dec_clnpass(dec, cblk->mqdec, bpno, band->orient, ((int )((tile->cp)->ccps + compno)->cblkctx & 8) != 0,
                        ((int )((tile->cp)->ccps + compno)->cblkctx & 32) != 0, cblk->flags,
                        cblk->data);
      }
#line 287
      goto switch_break;
      switch_default: 
#line 289
      ret = -1;
#line 290
      goto switch_break;
      switch_break: ;
#line 293
      if ((int )((tile->cp)->ccps + compno)->cblkctx & 2) {
        {
#line 294
        jpc_mqdec_setctxs(cblk->mqdec, 19, jpc_mqctxs);
        }
      }
#line 297
      if (ret) {
        {
#line 298
        jas_eprintf("coding pass failed passtype=%d segtype=%d\n", passtype, seg->type);
        }
#line 299
        return (-1);
      }
#line 239
      i ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
#line 304
    if (! (seg->type == 1)) {
#line 308
      if ((int )((tile->cp)->ccps + compno)->cblkctx & 16) {
#line 309
        fillmask = 127;
#line 310
        filldata = 42;
      } else {
#line 312
        fillmask = 0;
#line 313
        filldata = 0;
      }
      {
#line 315
      ret = jpc_bitstream_inalign(cblk->nulldec, fillmask, filldata);
      }
#line 315
      if (ret < 0) {
#line 317
        return (-1);
      } else
#line 318
      if (ret > 0) {
        {
#line 319
        jas_eprintf("warning: bad termination pattern detected\n");
        }
      }
      {
#line 321
      jpc_bitstream_close(cblk->nulldec);
#line 322
      cblk->nulldec = (jpc_bitstream_t *)0;
      }
    }
    {
#line 325
    cblk->curseg = seg->next;
#line 326
    jpc_seglist_remove(& cblk->segs, seg);
#line 327
    jpc_seg_destroy(seg);
#line 328
    seg = cblk->curseg;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
  premature_exit: 
#line 334
  return (0);
}
}
#line 361 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1dec.c"
static int dec_sigpass(jpc_dec_t *dec , jpc_mqdec_t *mqdec , int bitpos , int orient ,
                       int vcausalflag , jas_matrix_t *flags , jas_matrix_t *data ) 
{ 
  int i ;
  int j ;
  int one ;
  int half ;
  int oneplushalf ;
  int vscanlen ;
  int width ;
  int height ;
  jpc_fix_t *fp ;
  int frowstep ;
  int fstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dp ;
  int drowstep ;
  int dstripestep ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *dvscanstart ;
  int k ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  int f ;
  int v ;
  int __cil_tmp32 ;
  int tmp___2 ;
  int __cil_tmp34 ;
  int tmp___3 ;
  int __cil_tmp36 ;
  int tmp___4 ;
  int __cil_tmp38 ;
  int tmp___5 ;
  register jpc_fix_t *np ;
  register jpc_fix_t *sp ;
  int tmp___6 ;
  int f___0 ;
  int v___0 ;
  int __cil_tmp45 ;
  int tmp___7 ;
  int __cil_tmp47 ;
  int tmp___8 ;
  int __cil_tmp49 ;
  int tmp___9 ;
  int __cil_tmp51 ;
  int tmp___10 ;
  register jpc_fix_t *np___0 ;
  register jpc_fix_t *sp___0 ;
  int tmp___11 ;
  int f___1 ;
  int v___1 ;
  int __cil_tmp58 ;
  int tmp___12 ;
  int __cil_tmp60 ;
  int tmp___13 ;
  int __cil_tmp62 ;
  int tmp___14 ;
  int __cil_tmp64 ;
  int tmp___15 ;
  register jpc_fix_t *np___1 ;
  register jpc_fix_t *sp___1 ;
  int tmp___16 ;
  int f___2 ;
  int v___2 ;
  int __cil_tmp71 ;
  int tmp___17 ;
  int __cil_tmp73 ;
  int tmp___18 ;
  int __cil_tmp75 ;
  int tmp___19 ;
  int __cil_tmp77 ;
  int tmp___20 ;
  register jpc_fix_t *np___2 ;
  register jpc_fix_t *sp___2 ;
  int tmp___21 ;

  {
#line 385
  dec = (jpc_dec_t *)0;
#line 387
  width = (int )data->numcols_;
#line 388
  height = (int )data->numrows_;
#line 389
  if (flags->numrows_ > 1L) {
#line 389
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 389
    tmp = (jas_seqent_t *)0L;
  }
#line 389
  frowstep = (int )tmp;
#line 390
  if (data->numrows_ > 1L) {
#line 390
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 390
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 390
  drowstep = (int )tmp___0;
#line 391
  fstripestep = frowstep << 2;
#line 392
  dstripestep = drowstep << 2;
#line 394
  one = 1 << bitpos;
#line 395
  half = one >> 1;
#line 396
  oneplushalf = one | half;
#line 398
  fstripestart = *(flags->rows_ + 1) + 1;
#line 399
  dstripestart = *(data->rows_ + 0) + 0;
#line 400
  i = height;
  {
#line 400
  while (1) {
    while_continue: /* CIL Label */ ;

#line 400
    if (! (i > 0)) {
#line 400
      goto while_break;
    }
#line 402
    fvscanstart = fstripestart;
#line 403
    dvscanstart = dstripestart;
#line 404
    if (i < 4) {
#line 404
      tmp___1 = i;
    } else {
#line 404
      tmp___1 = 4;
    }
#line 404
    vscanlen = tmp___1;
#line 405
    j = width;
    {
#line 405
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 405
      if (! (j > 0)) {
#line 405
        goto while_break___0;
      }
#line 406
      fp = fvscanstart;
#line 407
      dp = dvscanstart;
#line 408
      k = vscanlen;
#line 411
      f = (int )*fp;
#line 411
      if (f & 255) {
#line 411
        if (! (f & 20480)) {
#line 411
          mqdec->curctx = mqdec->ctxs + jpc_zcctxnolut[(orient << 8) | (f & 255)];
#line 411
          mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 411
          if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 411
            mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 411
            if (mqdec->areg & 32768UL) {
#line 411
              tmp___2 = (*(mqdec->curctx))->mps;
            } else {
              {
#line 411
              __cil_tmp32 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 411
              tmp___2 = __cil_tmp32;
              }
            }
#line 411
            tmp___3 = tmp___2;
          } else {
            {
#line 411
            __cil_tmp34 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 411
            tmp___3 = __cil_tmp34;
            }
          }
#line 411
          v = tmp___3;
#line 411
          if (v) {
#line 411
            mqdec->curctx = mqdec->ctxs + jpc_scctxnolut[(f & 4080) >> 4];
#line 411
            mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 411
            if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 411
              mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 411
              if (mqdec->areg & 32768UL) {
#line 411
                tmp___4 = (*(mqdec->curctx))->mps;
              } else {
                {
#line 411
                __cil_tmp36 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 411
                tmp___4 = __cil_tmp36;
                }
              }
#line 411
              tmp___5 = tmp___4;
            } else {
              {
#line 411
              __cil_tmp38 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 411
              tmp___5 = __cil_tmp38;
              }
            }
#line 411
            v = tmp___5;
#line 411
            v ^= jpc_spblut[(f & 4080) >> 4];
#line 411
            np = fp - frowstep;
#line 411
            sp = fp + frowstep;
#line 411
            if (vcausalflag) {
#line 411
              *(sp + -1) |= 1L;
#line 411
              *(sp + 1) |= 8L;
#line 411
              if (v) {
#line 411
                *sp |= 272L;
#line 411
                *(fp + -1) |= 544L;
#line 411
                *(fp + 1) |= 2176L;
              } else {
#line 411
                *sp |= 16L;
#line 411
                *(fp + -1) |= 32L;
#line 411
                *(fp + 1) |= 128L;
              }
            } else {
#line 411
              *(np + -1) |= 2L;
#line 411
              *(np + 1) |= 4L;
#line 411
              *(sp + -1) |= 1L;
#line 411
              *(sp + 1) |= 8L;
#line 411
              if (v) {
#line 411
                *np |= 1088L;
#line 411
                *sp |= 272L;
#line 411
                *(fp + -1) |= 544L;
#line 411
                *(fp + 1) |= 2176L;
              } else {
#line 411
                *np |= 64L;
#line 411
                *sp |= 16L;
#line 411
                *(fp + -1) |= 32L;
#line 411
                *(fp + 1) |= 128L;
              }
            }
#line 411
            *fp |= 4096L;
#line 411
            if (v) {
#line 411
              tmp___6 = - oneplushalf;
            } else {
#line 411
              tmp___6 = oneplushalf;
            }
#line 411
            *dp = (jpc_fix_t )tmp___6;
          }
#line 411
          *fp |= 16384L;
        }
      }
#line 413
      k --;
#line 413
      if (k <= 0) {
#line 414
        goto while_continue___0;
      }
#line 416
      fp += frowstep;
#line 417
      dp += drowstep;
#line 420
      f___0 = (int )*fp;
#line 420
      if (f___0 & 255) {
#line 420
        if (! (f___0 & 20480)) {
#line 420
          mqdec->curctx = mqdec->ctxs + jpc_zcctxnolut[(orient << 8) | (f___0 & 255)];
#line 420
          mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 420
          if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 420
            mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 420
            if (mqdec->areg & 32768UL) {
#line 420
              tmp___7 = (*(mqdec->curctx))->mps;
            } else {
              {
#line 420
              __cil_tmp45 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 420
              tmp___7 = __cil_tmp45;
              }
            }
#line 420
            tmp___8 = tmp___7;
          } else {
            {
#line 420
            __cil_tmp47 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 420
            tmp___8 = __cil_tmp47;
            }
          }
#line 420
          v___0 = tmp___8;
#line 420
          if (v___0) {
#line 420
            mqdec->curctx = mqdec->ctxs + jpc_scctxnolut[(f___0 & 4080) >> 4];
#line 420
            mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 420
            if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 420
              mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 420
              if (mqdec->areg & 32768UL) {
#line 420
                tmp___9 = (*(mqdec->curctx))->mps;
              } else {
                {
#line 420
                __cil_tmp49 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 420
                tmp___9 = __cil_tmp49;
                }
              }
#line 420
              tmp___10 = tmp___9;
            } else {
              {
#line 420
              __cil_tmp51 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 420
              tmp___10 = __cil_tmp51;
              }
            }
#line 420
            v___0 = tmp___10;
#line 420
            v___0 ^= jpc_spblut[(f___0 & 4080) >> 4];
#line 420
            np___0 = fp - frowstep;
#line 420
            sp___0 = fp + frowstep;
#line 420
            *(np___0 + -1) |= 2L;
#line 420
            *(np___0 + 1) |= 4L;
#line 420
            *(sp___0 + -1) |= 1L;
#line 420
            *(sp___0 + 1) |= 8L;
#line 420
            if (v___0) {
#line 420
              *np___0 |= 1088L;
#line 420
              *sp___0 |= 272L;
#line 420
              *(fp + -1) |= 544L;
#line 420
              *(fp + 1) |= 2176L;
            } else {
#line 420
              *np___0 |= 64L;
#line 420
              *sp___0 |= 16L;
#line 420
              *(fp + -1) |= 32L;
#line 420
              *(fp + 1) |= 128L;
            }
#line 420
            *fp |= 4096L;
#line 420
            if (v___0) {
#line 420
              tmp___11 = - oneplushalf;
            } else {
#line 420
              tmp___11 = oneplushalf;
            }
#line 420
            *dp = (jpc_fix_t )tmp___11;
          }
#line 420
          *fp |= 16384L;
        }
      }
#line 422
      k --;
#line 422
      if (k <= 0) {
#line 423
        goto while_continue___0;
      }
#line 425
      fp += frowstep;
#line 426
      dp += drowstep;
#line 429
      f___1 = (int )*fp;
#line 429
      if (f___1 & 255) {
#line 429
        if (! (f___1 & 20480)) {
#line 429
          mqdec->curctx = mqdec->ctxs + jpc_zcctxnolut[(orient << 8) | (f___1 & 255)];
#line 429
          mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 429
          if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 429
            mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 429
            if (mqdec->areg & 32768UL) {
#line 429
              tmp___12 = (*(mqdec->curctx))->mps;
            } else {
              {
#line 429
              __cil_tmp58 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 429
              tmp___12 = __cil_tmp58;
              }
            }
#line 429
            tmp___13 = tmp___12;
          } else {
            {
#line 429
            __cil_tmp60 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 429
            tmp___13 = __cil_tmp60;
            }
          }
#line 429
          v___1 = tmp___13;
#line 429
          if (v___1) {
#line 429
            mqdec->curctx = mqdec->ctxs + jpc_scctxnolut[(f___1 & 4080) >> 4];
#line 429
            mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 429
            if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 429
              mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 429
              if (mqdec->areg & 32768UL) {
#line 429
                tmp___14 = (*(mqdec->curctx))->mps;
              } else {
                {
#line 429
                __cil_tmp62 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 429
                tmp___14 = __cil_tmp62;
                }
              }
#line 429
              tmp___15 = tmp___14;
            } else {
              {
#line 429
              __cil_tmp64 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 429
              tmp___15 = __cil_tmp64;
              }
            }
#line 429
            v___1 = tmp___15;
#line 429
            v___1 ^= jpc_spblut[(f___1 & 4080) >> 4];
#line 429
            np___1 = fp - frowstep;
#line 429
            sp___1 = fp + frowstep;
#line 429
            *(np___1 + -1) |= 2L;
#line 429
            *(np___1 + 1) |= 4L;
#line 429
            *(sp___1 + -1) |= 1L;
#line 429
            *(sp___1 + 1) |= 8L;
#line 429
            if (v___1) {
#line 429
              *np___1 |= 1088L;
#line 429
              *sp___1 |= 272L;
#line 429
              *(fp + -1) |= 544L;
#line 429
              *(fp + 1) |= 2176L;
            } else {
#line 429
              *np___1 |= 64L;
#line 429
              *sp___1 |= 16L;
#line 429
              *(fp + -1) |= 32L;
#line 429
              *(fp + 1) |= 128L;
            }
#line 429
            *fp |= 4096L;
#line 429
            if (v___1) {
#line 429
              tmp___16 = - oneplushalf;
            } else {
#line 429
              tmp___16 = oneplushalf;
            }
#line 429
            *dp = (jpc_fix_t )tmp___16;
          }
#line 429
          *fp |= 16384L;
        }
      }
#line 431
      k --;
#line 431
      if (k <= 0) {
#line 432
        goto while_continue___0;
      }
#line 434
      fp += frowstep;
#line 435
      dp += drowstep;
#line 438
      f___2 = (int )*fp;
#line 438
      if (f___2 & 255) {
#line 438
        if (! (f___2 & 20480)) {
#line 438
          mqdec->curctx = mqdec->ctxs + jpc_zcctxnolut[(orient << 8) | (f___2 & 255)];
#line 438
          mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 438
          if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 438
            mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 438
            if (mqdec->areg & 32768UL) {
#line 438
              tmp___17 = (*(mqdec->curctx))->mps;
            } else {
              {
#line 438
              __cil_tmp71 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 438
              tmp___17 = __cil_tmp71;
              }
            }
#line 438
            tmp___18 = tmp___17;
          } else {
            {
#line 438
            __cil_tmp73 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 438
            tmp___18 = __cil_tmp73;
            }
          }
#line 438
          v___2 = tmp___18;
#line 438
          if (v___2) {
#line 438
            mqdec->curctx = mqdec->ctxs + jpc_scctxnolut[(f___2 & 4080) >> 4];
#line 438
            mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 438
            if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 438
              mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 438
              if (mqdec->areg & 32768UL) {
#line 438
                tmp___19 = (*(mqdec->curctx))->mps;
              } else {
                {
#line 438
                __cil_tmp75 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 438
                tmp___19 = __cil_tmp75;
                }
              }
#line 438
              tmp___20 = tmp___19;
            } else {
              {
#line 438
              __cil_tmp77 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 438
              tmp___20 = __cil_tmp77;
              }
            }
#line 438
            v___2 = tmp___20;
#line 438
            v___2 ^= jpc_spblut[(f___2 & 4080) >> 4];
#line 438
            np___2 = fp - frowstep;
#line 438
            sp___2 = fp + frowstep;
#line 438
            *(np___2 + -1) |= 2L;
#line 438
            *(np___2 + 1) |= 4L;
#line 438
            *(sp___2 + -1) |= 1L;
#line 438
            *(sp___2 + 1) |= 8L;
#line 438
            if (v___2) {
#line 438
              *np___2 |= 1088L;
#line 438
              *sp___2 |= 272L;
#line 438
              *(fp + -1) |= 544L;
#line 438
              *(fp + 1) |= 2176L;
            } else {
#line 438
              *np___2 |= 64L;
#line 438
              *sp___2 |= 16L;
#line 438
              *(fp + -1) |= 32L;
#line 438
              *(fp + 1) |= 128L;
            }
#line 438
            *fp |= 4096L;
#line 438
            if (v___2) {
#line 438
              tmp___21 = - oneplushalf;
            } else {
#line 438
              tmp___21 = oneplushalf;
            }
#line 438
            *dp = (jpc_fix_t )tmp___21;
          }
#line 438
          *fp |= 16384L;
        }
      }
#line 405
      dvscanstart ++;
#line 405
      fvscanstart ++;
#line 405
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 400
    dstripestart += dstripestep;
#line 400
    fstripestart += fstripestep;
#line 400
    i -= 4;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 442
  return (0);
}
}
#line 467 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1dec.c"
static int dec_rawsigpass(jpc_dec_t *dec , jpc_bitstream_t *in , int bitpos , int vcausalflag ,
                          jas_matrix_t *flags , jas_matrix_t *data ) 
{ 
  int i ;
  int j ;
  int k ;
  int one ;
  int half ;
  int oneplushalf ;
  int vscanlen ;
  int width ;
  int height ;
  jpc_fix_t *fp ;
  int frowstep ;
  int fstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dp ;
  int drowstep ;
  int dstripestep ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *dvscanstart ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  jpc_fix_t f ;
  jpc_fix_t v ;
  int __cil_tmp32 ;
  int tmp___3 ;
  int __cil_tmp35 ;
  int tmp___5 ;
  register jpc_fix_t *np ;
  register jpc_fix_t *sp ;
  int tmp___6 ;
  jpc_fix_t f___0 ;
  jpc_fix_t v___0 ;
  int __cil_tmp43 ;
  int tmp___8 ;
  int __cil_tmp46 ;
  int tmp___10 ;
  register jpc_fix_t *np___0 ;
  register jpc_fix_t *sp___0 ;
  int tmp___11 ;
  jpc_fix_t f___1 ;
  jpc_fix_t v___1 ;
  int __cil_tmp54 ;
  int tmp___13 ;
  int __cil_tmp57 ;
  int tmp___15 ;
  register jpc_fix_t *np___1 ;
  register jpc_fix_t *sp___1 ;
  int tmp___16 ;
  jpc_fix_t f___2 ;
  jpc_fix_t v___2 ;
  int __cil_tmp65 ;
  int tmp___18 ;
  int __cil_tmp68 ;
  int tmp___20 ;
  register jpc_fix_t *np___2 ;
  register jpc_fix_t *sp___2 ;
  int tmp___21 ;

  {
#line 491
  dec = (jpc_dec_t *)0;
#line 493
  width = (int )data->numcols_;
#line 494
  height = (int )data->numrows_;
#line 495
  if (flags->numrows_ > 1L) {
#line 495
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 495
    tmp = (jas_seqent_t *)0L;
  }
#line 495
  frowstep = (int )tmp;
#line 496
  if (data->numrows_ > 1L) {
#line 496
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 496
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 496
  drowstep = (int )tmp___0;
#line 497
  fstripestep = frowstep << 2;
#line 498
  dstripestep = drowstep << 2;
#line 500
  one = 1 << bitpos;
#line 501
  half = one >> 1;
#line 502
  oneplushalf = one | half;
#line 504
  fstripestart = *(flags->rows_ + 1) + 1;
#line 505
  dstripestart = *(data->rows_ + 0) + 0;
#line 506
  i = height;
  {
#line 506
  while (1) {
    while_continue: /* CIL Label */ ;

#line 506
    if (! (i > 0)) {
#line 506
      goto while_break;
    }
#line 508
    fvscanstart = fstripestart;
#line 509
    dvscanstart = dstripestart;
#line 510
    if (i < 4) {
#line 510
      tmp___1 = i;
    } else {
#line 510
      tmp___1 = 4;
    }
#line 510
    vscanlen = tmp___1;
#line 511
    j = width;
    {
#line 511
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 511
      if (! (j > 0)) {
#line 511
        goto while_break___0;
      }
#line 512
      fp = fvscanstart;
#line 513
      dp = dvscanstart;
#line 514
      k = vscanlen;
#line 517
      f = *fp;
#line 517
      if (f & 255L) {
#line 517
        if (! (f & 20480L)) {
#line 517
          (in->cnt_) --;
#line 517
          if (in->cnt_ >= 0) {
#line 517
            tmp___3 = (int )((in->buf_ >> in->cnt_) & 1UL);
          } else {
            {
#line 517
            __cil_tmp32 = jpc_bitstream_fillbuf(in);
#line 517
            tmp___3 = __cil_tmp32;
            }
          }
#line 517
          v = (jpc_fix_t )tmp___3;
#line 517
          if (v < 0L) {
#line 517
            return (-1);
          }
#line 517
          if (v) {
#line 517
            (in->cnt_) --;
#line 517
            if (in->cnt_ >= 0) {
#line 517
              tmp___5 = (int )((in->buf_ >> in->cnt_) & 1UL);
            } else {
              {
#line 517
              __cil_tmp35 = jpc_bitstream_fillbuf(in);
#line 517
              tmp___5 = __cil_tmp35;
              }
            }
#line 517
            v = (jpc_fix_t )tmp___5;
#line 517
            if (v < 0L) {
#line 517
              return (-1);
            }
#line 517
            np = fp - frowstep;
#line 517
            sp = fp + frowstep;
#line 517
            if (vcausalflag) {
#line 517
              *(sp + -1) |= 1L;
#line 517
              *(sp + 1) |= 8L;
#line 517
              if (v) {
#line 517
                *sp |= 272L;
#line 517
                *(fp + -1) |= 544L;
#line 517
                *(fp + 1) |= 2176L;
              } else {
#line 517
                *sp |= 16L;
#line 517
                *(fp + -1) |= 32L;
#line 517
                *(fp + 1) |= 128L;
              }
            } else {
#line 517
              *(np + -1) |= 2L;
#line 517
              *(np + 1) |= 4L;
#line 517
              *(sp + -1) |= 1L;
#line 517
              *(sp + 1) |= 8L;
#line 517
              if (v) {
#line 517
                *np |= 1088L;
#line 517
                *sp |= 272L;
#line 517
                *(fp + -1) |= 544L;
#line 517
                *(fp + 1) |= 2176L;
              } else {
#line 517
                *np |= 64L;
#line 517
                *sp |= 16L;
#line 517
                *(fp + -1) |= 32L;
#line 517
                *(fp + 1) |= 128L;
              }
            }
#line 517
            *fp |= 4096L;
#line 517
            if (v) {
#line 517
              tmp___6 = - oneplushalf;
            } else {
#line 517
              tmp___6 = oneplushalf;
            }
#line 517
            *dp = (jpc_fix_t )tmp___6;
          }
#line 517
          *fp |= 16384L;
        }
      }
#line 519
      k --;
#line 519
      if (k <= 0) {
#line 520
        goto while_continue___0;
      }
#line 522
      fp += frowstep;
#line 523
      dp += drowstep;
#line 526
      f___0 = *fp;
#line 526
      if (f___0 & 255L) {
#line 526
        if (! (f___0 & 20480L)) {
#line 526
          (in->cnt_) --;
#line 526
          if (in->cnt_ >= 0) {
#line 526
            tmp___8 = (int )((in->buf_ >> in->cnt_) & 1UL);
          } else {
            {
#line 526
            __cil_tmp43 = jpc_bitstream_fillbuf(in);
#line 526
            tmp___8 = __cil_tmp43;
            }
          }
#line 526
          v___0 = (jpc_fix_t )tmp___8;
#line 526
          if (v___0 < 0L) {
#line 526
            return (-1);
          }
#line 526
          if (v___0) {
#line 526
            (in->cnt_) --;
#line 526
            if (in->cnt_ >= 0) {
#line 526
              tmp___10 = (int )((in->buf_ >> in->cnt_) & 1UL);
            } else {
              {
#line 526
              __cil_tmp46 = jpc_bitstream_fillbuf(in);
#line 526
              tmp___10 = __cil_tmp46;
              }
            }
#line 526
            v___0 = (jpc_fix_t )tmp___10;
#line 526
            if (v___0 < 0L) {
#line 526
              return (-1);
            }
#line 526
            np___0 = fp - frowstep;
#line 526
            sp___0 = fp + frowstep;
#line 526
            *(np___0 + -1) |= 2L;
#line 526
            *(np___0 + 1) |= 4L;
#line 526
            *(sp___0 + -1) |= 1L;
#line 526
            *(sp___0 + 1) |= 8L;
#line 526
            if (v___0) {
#line 526
              *np___0 |= 1088L;
#line 526
              *sp___0 |= 272L;
#line 526
              *(fp + -1) |= 544L;
#line 526
              *(fp + 1) |= 2176L;
            } else {
#line 526
              *np___0 |= 64L;
#line 526
              *sp___0 |= 16L;
#line 526
              *(fp + -1) |= 32L;
#line 526
              *(fp + 1) |= 128L;
            }
#line 526
            *fp |= 4096L;
#line 526
            if (v___0) {
#line 526
              tmp___11 = - oneplushalf;
            } else {
#line 526
              tmp___11 = oneplushalf;
            }
#line 526
            *dp = (jpc_fix_t )tmp___11;
          }
#line 526
          *fp |= 16384L;
        }
      }
#line 528
      k --;
#line 528
      if (k <= 0) {
#line 529
        goto while_continue___0;
      }
#line 531
      fp += frowstep;
#line 532
      dp += drowstep;
#line 535
      f___1 = *fp;
#line 535
      if (f___1 & 255L) {
#line 535
        if (! (f___1 & 20480L)) {
#line 535
          (in->cnt_) --;
#line 535
          if (in->cnt_ >= 0) {
#line 535
            tmp___13 = (int )((in->buf_ >> in->cnt_) & 1UL);
          } else {
            {
#line 535
            __cil_tmp54 = jpc_bitstream_fillbuf(in);
#line 535
            tmp___13 = __cil_tmp54;
            }
          }
#line 535
          v___1 = (jpc_fix_t )tmp___13;
#line 535
          if (v___1 < 0L) {
#line 535
            return (-1);
          }
#line 535
          if (v___1) {
#line 535
            (in->cnt_) --;
#line 535
            if (in->cnt_ >= 0) {
#line 535
              tmp___15 = (int )((in->buf_ >> in->cnt_) & 1UL);
            } else {
              {
#line 535
              __cil_tmp57 = jpc_bitstream_fillbuf(in);
#line 535
              tmp___15 = __cil_tmp57;
              }
            }
#line 535
            v___1 = (jpc_fix_t )tmp___15;
#line 535
            if (v___1 < 0L) {
#line 535
              return (-1);
            }
#line 535
            np___1 = fp - frowstep;
#line 535
            sp___1 = fp + frowstep;
#line 535
            *(np___1 + -1) |= 2L;
#line 535
            *(np___1 + 1) |= 4L;
#line 535
            *(sp___1 + -1) |= 1L;
#line 535
            *(sp___1 + 1) |= 8L;
#line 535
            if (v___1) {
#line 535
              *np___1 |= 1088L;
#line 535
              *sp___1 |= 272L;
#line 535
              *(fp + -1) |= 544L;
#line 535
              *(fp + 1) |= 2176L;
            } else {
#line 535
              *np___1 |= 64L;
#line 535
              *sp___1 |= 16L;
#line 535
              *(fp + -1) |= 32L;
#line 535
              *(fp + 1) |= 128L;
            }
#line 535
            *fp |= 4096L;
#line 535
            if (v___1) {
#line 535
              tmp___16 = - oneplushalf;
            } else {
#line 535
              tmp___16 = oneplushalf;
            }
#line 535
            *dp = (jpc_fix_t )tmp___16;
          }
#line 535
          *fp |= 16384L;
        }
      }
#line 537
      k --;
#line 537
      if (k <= 0) {
#line 538
        goto while_continue___0;
      }
#line 540
      fp += frowstep;
#line 541
      dp += drowstep;
#line 544
      f___2 = *fp;
#line 544
      if (f___2 & 255L) {
#line 544
        if (! (f___2 & 20480L)) {
#line 544
          (in->cnt_) --;
#line 544
          if (in->cnt_ >= 0) {
#line 544
            tmp___18 = (int )((in->buf_ >> in->cnt_) & 1UL);
          } else {
            {
#line 544
            __cil_tmp65 = jpc_bitstream_fillbuf(in);
#line 544
            tmp___18 = __cil_tmp65;
            }
          }
#line 544
          v___2 = (jpc_fix_t )tmp___18;
#line 544
          if (v___2 < 0L) {
#line 544
            return (-1);
          }
#line 544
          if (v___2) {
#line 544
            (in->cnt_) --;
#line 544
            if (in->cnt_ >= 0) {
#line 544
              tmp___20 = (int )((in->buf_ >> in->cnt_) & 1UL);
            } else {
              {
#line 544
              __cil_tmp68 = jpc_bitstream_fillbuf(in);
#line 544
              tmp___20 = __cil_tmp68;
              }
            }
#line 544
            v___2 = (jpc_fix_t )tmp___20;
#line 544
            if (v___2 < 0L) {
#line 544
              return (-1);
            }
#line 544
            np___2 = fp - frowstep;
#line 544
            sp___2 = fp + frowstep;
#line 544
            *(np___2 + -1) |= 2L;
#line 544
            *(np___2 + 1) |= 4L;
#line 544
            *(sp___2 + -1) |= 1L;
#line 544
            *(sp___2 + 1) |= 8L;
#line 544
            if (v___2) {
#line 544
              *np___2 |= 1088L;
#line 544
              *sp___2 |= 272L;
#line 544
              *(fp + -1) |= 544L;
#line 544
              *(fp + 1) |= 2176L;
            } else {
#line 544
              *np___2 |= 64L;
#line 544
              *sp___2 |= 16L;
#line 544
              *(fp + -1) |= 32L;
#line 544
              *(fp + 1) |= 128L;
            }
#line 544
            *fp |= 4096L;
#line 544
            if (v___2) {
#line 544
              tmp___21 = - oneplushalf;
            } else {
#line 544
              tmp___21 = oneplushalf;
            }
#line 544
            *dp = (jpc_fix_t )tmp___21;
          }
#line 544
          *fp |= 16384L;
        }
      }
#line 511
      dvscanstart ++;
#line 511
      fvscanstart ++;
#line 511
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 506
    dstripestart += dstripestep;
#line 506
    fstripestart += fstripestep;
#line 506
    i -= 4;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 549
  return (0);
}
}
#line 569 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1dec.c"
static int dec_refpass(jpc_dec_t *dec , jpc_mqdec_t *mqdec , int bitpos , int vcausalflag ,
                       jas_matrix_t *flags , jas_matrix_t *data ) 
{ 
  int i ;
  int j ;
  int vscanlen ;
  int width ;
  int height ;
  int one ;
  int poshalf ;
  int neghalf ;
  jpc_fix_t *fp ;
  int frowstep ;
  int fstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dp ;
  int drowstep ;
  int dstripestep ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *dvscanstart ;
  int k ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int v ;
  int t ;
  int __cil_tmp32 ;
  int tmp___3 ;
  int __cil_tmp34 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int v___0 ;
  int t___0 ;
  int __cil_tmp40 ;
  int tmp___7 ;
  int __cil_tmp42 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int v___1 ;
  int t___1 ;
  int __cil_tmp48 ;
  int tmp___11 ;
  int __cil_tmp50 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int v___2 ;
  int t___2 ;
  int __cil_tmp56 ;
  int tmp___15 ;
  int __cil_tmp58 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;

  {
#line 593
  dec = (jpc_dec_t *)0;
#line 594
  vcausalflag = 0;
#line 596
  width = (int )data->numcols_;
#line 597
  height = (int )data->numrows_;
#line 598
  if (flags->numrows_ > 1L) {
#line 598
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 598
    tmp = (jas_seqent_t *)0L;
  }
#line 598
  frowstep = (int )tmp;
#line 599
  if (data->numrows_ > 1L) {
#line 599
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 599
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 599
  drowstep = (int )tmp___0;
#line 600
  fstripestep = frowstep << 2;
#line 601
  dstripestep = drowstep << 2;
#line 603
  one = 1 << bitpos;
#line 604
  poshalf = one >> 1;
#line 605
  if (bitpos > 0) {
#line 605
    tmp___1 = - poshalf;
  } else {
#line 605
    tmp___1 = -1;
  }
#line 605
  neghalf = tmp___1;
#line 607
  fstripestart = *(flags->rows_ + 1) + 1;
#line 608
  dstripestart = *(data->rows_ + 0) + 0;
#line 609
  i = height;
  {
#line 609
  while (1) {
    while_continue: /* CIL Label */ ;

#line 609
    if (! (i > 0)) {
#line 609
      goto while_break;
    }
#line 611
    fvscanstart = fstripestart;
#line 612
    dvscanstart = dstripestart;
#line 613
    if (i < 4) {
#line 613
      tmp___2 = i;
    } else {
#line 613
      tmp___2 = 4;
    }
#line 613
    vscanlen = tmp___2;
#line 614
    j = width;
    {
#line 614
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 614
      if (! (j > 0)) {
#line 614
        goto while_break___0;
      }
#line 615
      fp = fvscanstart;
#line 616
      dp = dvscanstart;
#line 617
      k = vscanlen;
#line 620
      if ((*fp & 20480L) == 4096L) {
#line 620
        mqdec->curctx = mqdec->ctxs + jpc_magctxnolut[(*fp & 255L) | (long )(((*fp & 8192L) != 0L) << 11)];
#line 620
        mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 620
        if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 620
          mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 620
          if (mqdec->areg & 32768UL) {
#line 620
            tmp___3 = (*(mqdec->curctx))->mps;
          } else {
            {
#line 620
            __cil_tmp32 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 620
            tmp___3 = __cil_tmp32;
            }
          }
#line 620
          tmp___4 = tmp___3;
        } else {
          {
#line 620
          __cil_tmp34 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 620
          tmp___4 = __cil_tmp34;
          }
        }
#line 620
        v = tmp___4;
#line 620
        if (v) {
#line 620
          tmp___5 = poshalf;
        } else {
#line 620
          tmp___5 = neghalf;
        }
#line 620
        t = tmp___5;
#line 620
        if (*dp < 0L) {
#line 620
          tmp___6 = - t;
        } else {
#line 620
          tmp___6 = t;
        }
#line 620
        *dp += (long )tmp___6;
#line 620
        *fp |= 8192L;
      }
#line 622
      k --;
#line 622
      if (k <= 0) {
#line 623
        goto while_continue___0;
      }
#line 625
      fp += frowstep;
#line 626
      dp += drowstep;
#line 629
      if ((*fp & 20480L) == 4096L) {
#line 629
        mqdec->curctx = mqdec->ctxs + jpc_magctxnolut[(*fp & 255L) | (long )(((*fp & 8192L) != 0L) << 11)];
#line 629
        mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 629
        if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 629
          mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 629
          if (mqdec->areg & 32768UL) {
#line 629
            tmp___7 = (*(mqdec->curctx))->mps;
          } else {
            {
#line 629
            __cil_tmp40 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 629
            tmp___7 = __cil_tmp40;
            }
          }
#line 629
          tmp___8 = tmp___7;
        } else {
          {
#line 629
          __cil_tmp42 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 629
          tmp___8 = __cil_tmp42;
          }
        }
#line 629
        v___0 = tmp___8;
#line 629
        if (v___0) {
#line 629
          tmp___9 = poshalf;
        } else {
#line 629
          tmp___9 = neghalf;
        }
#line 629
        t___0 = tmp___9;
#line 629
        if (*dp < 0L) {
#line 629
          tmp___10 = - t___0;
        } else {
#line 629
          tmp___10 = t___0;
        }
#line 629
        *dp += (long )tmp___10;
#line 629
        *fp |= 8192L;
      }
#line 630
      k --;
#line 630
      if (k <= 0) {
#line 631
        goto while_continue___0;
      }
#line 633
      fp += frowstep;
#line 634
      dp += drowstep;
#line 637
      if ((*fp & 20480L) == 4096L) {
#line 637
        mqdec->curctx = mqdec->ctxs + jpc_magctxnolut[(*fp & 255L) | (long )(((*fp & 8192L) != 0L) << 11)];
#line 637
        mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 637
        if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 637
          mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 637
          if (mqdec->areg & 32768UL) {
#line 637
            tmp___11 = (*(mqdec->curctx))->mps;
          } else {
            {
#line 637
            __cil_tmp48 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 637
            tmp___11 = __cil_tmp48;
            }
          }
#line 637
          tmp___12 = tmp___11;
        } else {
          {
#line 637
          __cil_tmp50 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 637
          tmp___12 = __cil_tmp50;
          }
        }
#line 637
        v___1 = tmp___12;
#line 637
        if (v___1) {
#line 637
          tmp___13 = poshalf;
        } else {
#line 637
          tmp___13 = neghalf;
        }
#line 637
        t___1 = tmp___13;
#line 637
        if (*dp < 0L) {
#line 637
          tmp___14 = - t___1;
        } else {
#line 637
          tmp___14 = t___1;
        }
#line 637
        *dp += (long )tmp___14;
#line 637
        *fp |= 8192L;
      }
#line 638
      k --;
#line 638
      if (k <= 0) {
#line 639
        goto while_continue___0;
      }
#line 641
      fp += frowstep;
#line 642
      dp += drowstep;
#line 645
      if ((*fp & 20480L) == 4096L) {
#line 645
        mqdec->curctx = mqdec->ctxs + jpc_magctxnolut[(*fp & 255L) | (long )(((*fp & 8192L) != 0L) << 11)];
#line 645
        mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 645
        if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 645
          mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 645
          if (mqdec->areg & 32768UL) {
#line 645
            tmp___15 = (*(mqdec->curctx))->mps;
          } else {
            {
#line 645
            __cil_tmp56 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 645
            tmp___15 = __cil_tmp56;
            }
          }
#line 645
          tmp___16 = tmp___15;
        } else {
          {
#line 645
          __cil_tmp58 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 645
          tmp___16 = __cil_tmp58;
          }
        }
#line 645
        v___2 = tmp___16;
#line 645
        if (v___2) {
#line 645
          tmp___17 = poshalf;
        } else {
#line 645
          tmp___17 = neghalf;
        }
#line 645
        t___2 = tmp___17;
#line 645
        if (*dp < 0L) {
#line 645
          tmp___18 = - t___2;
        } else {
#line 645
          tmp___18 = t___2;
        }
#line 645
        *dp += (long )tmp___18;
#line 645
        *fp |= 8192L;
      }
#line 614
      dvscanstart ++;
#line 614
      fvscanstart ++;
#line 614
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 609
    dstripestart += dstripestep;
#line 609
    fstripestart += fstripestep;
#line 609
    i -= 4;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 649
  return (0);
}
}
#line 667 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1dec.c"
static int dec_rawrefpass(jpc_dec_t *dec , jpc_bitstream_t *in , int bitpos , int vcausalflag ,
                          jas_matrix_t *flags , jas_matrix_t *data ) 
{ 
  int i ;
  int j ;
  int k ;
  int vscanlen ;
  int width ;
  int height ;
  int one ;
  int poshalf ;
  int neghalf ;
  jpc_fix_t *fp ;
  int frowstep ;
  int fstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dp ;
  int drowstep ;
  int dstripestep ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *dvscanstart ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  jpc_fix_t v ;
  jpc_fix_t t ;
  int __cil_tmp33 ;
  int tmp___4 ;
  int tmp___5 ;
  jpc_fix_t tmp___6 ;
  jpc_fix_t v___0 ;
  jpc_fix_t t___0 ;
  int __cil_tmp40 ;
  int tmp___8 ;
  int tmp___9 ;
  jpc_fix_t tmp___10 ;
  jpc_fix_t v___1 ;
  jpc_fix_t t___1 ;
  int __cil_tmp47 ;
  int tmp___12 ;
  int tmp___13 ;
  jpc_fix_t tmp___14 ;
  jpc_fix_t v___2 ;
  jpc_fix_t t___2 ;
  int __cil_tmp54 ;
  int tmp___16 ;
  int tmp___17 ;
  jpc_fix_t tmp___18 ;

  {
#line 691
  dec = (jpc_dec_t *)0;
#line 692
  vcausalflag = 0;
#line 694
  width = (int )data->numcols_;
#line 695
  height = (int )data->numrows_;
#line 696
  if (flags->numrows_ > 1L) {
#line 696
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 696
    tmp = (jas_seqent_t *)0L;
  }
#line 696
  frowstep = (int )tmp;
#line 697
  if (data->numrows_ > 1L) {
#line 697
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 697
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 697
  drowstep = (int )tmp___0;
#line 698
  fstripestep = frowstep << 2;
#line 699
  dstripestep = drowstep << 2;
#line 701
  one = 1 << bitpos;
#line 702
  poshalf = one >> 1;
#line 703
  if (bitpos > 0) {
#line 703
    tmp___1 = - poshalf;
  } else {
#line 703
    tmp___1 = -1;
  }
#line 703
  neghalf = tmp___1;
#line 705
  fstripestart = *(flags->rows_ + 1) + 1;
#line 706
  dstripestart = *(data->rows_ + 0) + 0;
#line 707
  i = height;
  {
#line 707
  while (1) {
    while_continue: /* CIL Label */ ;

#line 707
    if (! (i > 0)) {
#line 707
      goto while_break;
    }
#line 709
    fvscanstart = fstripestart;
#line 710
    dvscanstart = dstripestart;
#line 711
    if (i < 4) {
#line 711
      tmp___2 = i;
    } else {
#line 711
      tmp___2 = 4;
    }
#line 711
    vscanlen = tmp___2;
#line 712
    j = width;
    {
#line 712
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 712
      if (! (j > 0)) {
#line 712
        goto while_break___0;
      }
#line 713
      fp = fvscanstart;
#line 714
      dp = dvscanstart;
#line 715
      k = vscanlen;
#line 718
      if ((*fp & 20480L) == 4096L) {
#line 718
        (in->cnt_) --;
#line 718
        if (in->cnt_ >= 0) {
#line 718
          tmp___4 = (int )((in->buf_ >> in->cnt_) & 1UL);
        } else {
          {
#line 718
          __cil_tmp33 = jpc_bitstream_fillbuf(in);
#line 718
          tmp___4 = __cil_tmp33;
          }
        }
#line 718
        v = (jpc_fix_t )tmp___4;
#line 718
        if (v < 0L) {
#line 718
          return (-1);
        }
#line 718
        if (v) {
#line 718
          tmp___5 = poshalf;
        } else {
#line 718
          tmp___5 = neghalf;
        }
#line 718
        t = (jpc_fix_t )tmp___5;
#line 718
        if (*dp < 0L) {
#line 718
          tmp___6 = - t;
        } else {
#line 718
          tmp___6 = t;
        }
#line 718
        *dp += tmp___6;
#line 718
        *fp |= 8192L;
      }
#line 720
      k --;
#line 720
      if (k <= 0) {
#line 721
        goto while_continue___0;
      }
#line 723
      fp += frowstep;
#line 724
      dp += drowstep;
#line 727
      if ((*fp & 20480L) == 4096L) {
#line 727
        (in->cnt_) --;
#line 727
        if (in->cnt_ >= 0) {
#line 727
          tmp___8 = (int )((in->buf_ >> in->cnt_) & 1UL);
        } else {
          {
#line 727
          __cil_tmp40 = jpc_bitstream_fillbuf(in);
#line 727
          tmp___8 = __cil_tmp40;
          }
        }
#line 727
        v___0 = (jpc_fix_t )tmp___8;
#line 727
        if (v___0 < 0L) {
#line 727
          return (-1);
        }
#line 727
        if (v___0) {
#line 727
          tmp___9 = poshalf;
        } else {
#line 727
          tmp___9 = neghalf;
        }
#line 727
        t___0 = (jpc_fix_t )tmp___9;
#line 727
        if (*dp < 0L) {
#line 727
          tmp___10 = - t___0;
        } else {
#line 727
          tmp___10 = t___0;
        }
#line 727
        *dp += tmp___10;
#line 727
        *fp |= 8192L;
      }
#line 728
      k --;
#line 728
      if (k <= 0) {
#line 729
        goto while_continue___0;
      }
#line 731
      fp += frowstep;
#line 732
      dp += drowstep;
#line 735
      if ((*fp & 20480L) == 4096L) {
#line 735
        (in->cnt_) --;
#line 735
        if (in->cnt_ >= 0) {
#line 735
          tmp___12 = (int )((in->buf_ >> in->cnt_) & 1UL);
        } else {
          {
#line 735
          __cil_tmp47 = jpc_bitstream_fillbuf(in);
#line 735
          tmp___12 = __cil_tmp47;
          }
        }
#line 735
        v___1 = (jpc_fix_t )tmp___12;
#line 735
        if (v___1 < 0L) {
#line 735
          return (-1);
        }
#line 735
        if (v___1) {
#line 735
          tmp___13 = poshalf;
        } else {
#line 735
          tmp___13 = neghalf;
        }
#line 735
        t___1 = (jpc_fix_t )tmp___13;
#line 735
        if (*dp < 0L) {
#line 735
          tmp___14 = - t___1;
        } else {
#line 735
          tmp___14 = t___1;
        }
#line 735
        *dp += tmp___14;
#line 735
        *fp |= 8192L;
      }
#line 736
      k --;
#line 736
      if (k <= 0) {
#line 737
        goto while_continue___0;
      }
#line 739
      fp += frowstep;
#line 740
      dp += drowstep;
#line 743
      if ((*fp & 20480L) == 4096L) {
#line 743
        (in->cnt_) --;
#line 743
        if (in->cnt_ >= 0) {
#line 743
          tmp___16 = (int )((in->buf_ >> in->cnt_) & 1UL);
        } else {
          {
#line 743
          __cil_tmp54 = jpc_bitstream_fillbuf(in);
#line 743
          tmp___16 = __cil_tmp54;
          }
        }
#line 743
        v___2 = (jpc_fix_t )tmp___16;
#line 743
        if (v___2 < 0L) {
#line 743
          return (-1);
        }
#line 743
        if (v___2) {
#line 743
          tmp___17 = poshalf;
        } else {
#line 743
          tmp___17 = neghalf;
        }
#line 743
        t___2 = (jpc_fix_t )tmp___17;
#line 743
        if (*dp < 0L) {
#line 743
          tmp___18 = - t___2;
        } else {
#line 743
          tmp___18 = t___2;
        }
#line 743
        *dp += tmp___18;
#line 743
        *fp |= 8192L;
      }
#line 712
      dvscanstart ++;
#line 712
      fvscanstart ++;
#line 712
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 707
    dstripestart += dstripestep;
#line 707
    fstripestart += fstripestep;
#line 707
    i -= 4;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 746
  return (0);
}
}
#line 775 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1dec.c"
static int dec_clnpass(jpc_dec_t *dec , jpc_mqdec_t *mqdec , int bitpos , int orient ,
                       int vcausalflag , int segsymflag , jas_matrix_t *flags , jas_matrix_t *data ) 
{ 
  int i ;
  int j ;
  int k ;
  int vscanlen ;
  int v ;
  int half ;
  int runlen ;
  int f ;
  int width ;
  int height ;
  int one ;
  int oneplushalf ;
  jpc_fix_t *fp ;
  int frowstep ;
  int fstripestep ;
  jpc_fix_t *fstripestart ;
  jpc_fix_t *fvscanstart ;
  jpc_fix_t *dp ;
  int drowstep ;
  int dstripestep ;
  jpc_fix_t *dstripestart ;
  jpc_fix_t *dvscanstart ;
  jas_seqent_t *tmp ;
  jas_seqent_t *tmp___0 ;
  int tmp___1 ;
  int __cil_tmp34 ;
  int tmp___2 ;
  int __cil_tmp36 ;
  int tmp___3 ;
  int __cil_tmp38 ;
  int tmp___4 ;
  int __cil_tmp40 ;
  int tmp___5 ;
  int __cil_tmp42 ;
  int tmp___6 ;
  int __cil_tmp44 ;
  int tmp___7 ;
  int v___14 ;
  int __cil_tmp47 ;
  int tmp___8 ;
  int __cil_tmp49 ;
  int tmp___9 ;
  int __cil_tmp51 ;
  int tmp___10 ;
  int __cil_tmp53 ;
  int tmp___11 ;
  int tmp___12 ;
  register jpc_fix_t *np ;
  register jpc_fix_t *sp ;
  int v___15 ;
  int __cil_tmp59 ;
  int tmp___13 ;
  int __cil_tmp61 ;
  int tmp___14 ;
  int __cil_tmp63 ;
  int tmp___15 ;
  int __cil_tmp65 ;
  int tmp___16 ;
  int tmp___17 ;
  register jpc_fix_t *np___0 ;
  register jpc_fix_t *sp___0 ;
  int v___16 ;
  int __cil_tmp71 ;
  int tmp___18 ;
  int __cil_tmp73 ;
  int tmp___19 ;
  int __cil_tmp75 ;
  int tmp___20 ;
  int __cil_tmp77 ;
  int tmp___21 ;
  int tmp___22 ;
  register jpc_fix_t *np___1 ;
  register jpc_fix_t *sp___1 ;
  int v___17 ;
  int __cil_tmp83 ;
  int tmp___23 ;
  int __cil_tmp85 ;
  int tmp___24 ;
  int __cil_tmp87 ;
  int tmp___25 ;
  int __cil_tmp89 ;
  int tmp___26 ;
  int tmp___27 ;
  register jpc_fix_t *np___2 ;
  register jpc_fix_t *sp___2 ;
  int segsymval ;
  int __cil_tmp95 ;
  int tmp___28 ;
  int __cil_tmp97 ;
  int tmp___29 ;
  int __cil_tmp99 ;
  int tmp___30 ;
  int __cil_tmp101 ;
  int tmp___31 ;
  int __cil_tmp103 ;
  int tmp___32 ;
  int __cil_tmp105 ;
  int tmp___33 ;
  int __cil_tmp107 ;
  int tmp___34 ;
  int __cil_tmp109 ;
  int tmp___35 ;

  {
#line 804
  dec = (jpc_dec_t *)0;
#line 806
  one = 1 << bitpos;
#line 807
  half = one >> 1;
#line 808
  oneplushalf = one | half;
#line 810
  width = (int )data->numcols_;
#line 811
  height = (int )data->numrows_;
#line 813
  if (flags->numrows_ > 1L) {
#line 813
    tmp = (jas_seqent_t *)(*(flags->rows_ + 1) - *(flags->rows_ + 0));
  } else {
#line 813
    tmp = (jas_seqent_t *)0L;
  }
#line 813
  frowstep = (int )tmp;
#line 814
  if (data->numrows_ > 1L) {
#line 814
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 814
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 814
  drowstep = (int )tmp___0;
#line 815
  fstripestep = frowstep << 2;
#line 816
  dstripestep = drowstep << 2;
#line 818
  fstripestart = *(flags->rows_ + 1) + 1;
#line 819
  dstripestart = *(data->rows_ + 0) + 0;
#line 820
  i = 0;
  {
#line 820
  while (1) {
    while_continue: /* CIL Label */ ;

#line 820
    if (! (i < height)) {
#line 820
      goto while_break;
    }
#line 822
    fvscanstart = fstripestart;
#line 823
    dvscanstart = dstripestart;
#line 824
    if (4 < height - i) {
#line 824
      tmp___1 = 4;
    } else {
#line 824
      tmp___1 = height - i;
    }
#line 824
    vscanlen = tmp___1;
#line 825
    j = width;
    {
#line 825
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 825
      if (! (j > 0)) {
#line 825
        goto while_break___0;
      }
#line 826
      fp = fvscanstart;
#line 827
      fp += frowstep;
#line 827
      fp += frowstep;
#line 827
      fp += frowstep;
#line 827
      if (vscanlen >= 4) {
#line 827
        if (! (*fp & 20735L)) {
#line 827
          if (! (*fp & 20735L)) {
#line 827
            if (! (*fp & 20735L)) {
#line 827
              if (! (*fp & 20735L)) {
#line 833
                mqdec->curctx = mqdec->ctxs + 0;
#line 834
                mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 834
                if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 834
                  mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 834
                  if (mqdec->areg & 32768UL) {
#line 834
                    tmp___2 = (*(mqdec->curctx))->mps;
                  } else {
                    {
#line 834
                    __cil_tmp34 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 834
                    tmp___2 = __cil_tmp34;
                    }
                  }
#line 834
                  tmp___3 = tmp___2;
                } else {
                  {
#line 834
                  __cil_tmp36 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 834
                  tmp___3 = __cil_tmp36;
                  }
                }
#line 834
                v = tmp___3;
#line 835
                if (! v) {
#line 836
                  goto while_continue___0;
                }
#line 838
                mqdec->curctx = mqdec->ctxs + 18;
#line 839
                mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 839
                if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 839
                  mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 839
                  if (mqdec->areg & 32768UL) {
#line 839
                    tmp___4 = (*(mqdec->curctx))->mps;
                  } else {
                    {
#line 839
                    __cil_tmp38 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 839
                    tmp___4 = __cil_tmp38;
                    }
                  }
#line 839
                  tmp___5 = tmp___4;
                } else {
                  {
#line 839
                  __cil_tmp40 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 839
                  tmp___5 = __cil_tmp40;
                  }
                }
#line 839
                v = tmp___5;
#line 840
                runlen = v;
#line 841
                mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 841
                if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 841
                  mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 841
                  if (mqdec->areg & 32768UL) {
#line 841
                    tmp___6 = (*(mqdec->curctx))->mps;
                  } else {
                    {
#line 841
                    __cil_tmp42 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 841
                    tmp___6 = __cil_tmp42;
                    }
                  }
#line 841
                  tmp___7 = tmp___6;
                } else {
                  {
#line 841
                  __cil_tmp44 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 841
                  tmp___7 = __cil_tmp44;
                  }
                }
#line 841
                v = tmp___7;
#line 842
                runlen = (runlen << 1) | v;
#line 843
                fp = fvscanstart + frowstep * runlen;
#line 843
                f = (int )*fp;
#line 844
                dp = dvscanstart + drowstep * runlen;
#line 845
                k = vscanlen - runlen;
#line 847
                if (runlen == 0) {
#line 847
                  goto case_0;
                }
#line 850
                if (runlen == 1) {
#line 850
                  goto case_1;
                }
#line 853
                if (runlen == 2) {
#line 853
                  goto case_2;
                }
#line 856
                if (runlen == 3) {
#line 856
                  goto case_3;
                }
#line 846
                goto switch_break;
                case_0: 
#line 848
                goto clnpass_partial0;
#line 849
                goto switch_break;
                case_1: 
#line 851
                goto clnpass_partial1;
#line 852
                goto switch_break;
                case_2: 
#line 854
                goto clnpass_partial2;
#line 855
                goto switch_break;
                case_3: 
#line 857
                goto clnpass_partial3;
#line 858
                goto switch_break;
                switch_break: ;
              } else {
#line 861
                fp = fvscanstart;
#line 861
                f = (int )*fp;
#line 862
                dp = dvscanstart;
#line 863
                k = vscanlen;
#line 864
                goto clnpass_full0;
              }
            } else {
#line 861
              fp = fvscanstart;
#line 861
              f = (int )*fp;
#line 862
              dp = dvscanstart;
#line 863
              k = vscanlen;
#line 864
              goto clnpass_full0;
            }
          } else {
#line 861
            fp = fvscanstart;
#line 861
            f = (int )*fp;
#line 862
            dp = dvscanstart;
#line 863
            k = vscanlen;
#line 864
            goto clnpass_full0;
          }
        } else {
#line 861
          fp = fvscanstart;
#line 861
          f = (int )*fp;
#line 862
          dp = dvscanstart;
#line 863
          k = vscanlen;
#line 864
          goto clnpass_full0;
        }
      } else {
#line 861
        fp = fvscanstart;
#line 861
        f = (int )*fp;
#line 862
        dp = dvscanstart;
#line 863
        k = vscanlen;
#line 864
        goto clnpass_full0;
      }
      clnpass_full0: 
#line 868
      if (! (f & 20480)) {
#line 868
        mqdec->curctx = mqdec->ctxs + jpc_zcctxnolut[(orient << 8) | (f & 255)];
#line 868
        mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 868
        if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 868
          mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 868
          if (mqdec->areg & 32768UL) {
#line 868
            tmp___8 = (*(mqdec->curctx))->mps;
          } else {
            {
#line 868
            __cil_tmp47 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 868
            tmp___8 = __cil_tmp47;
            }
          }
#line 868
          tmp___9 = tmp___8;
        } else {
          {
#line 868
          __cil_tmp49 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 868
          tmp___9 = __cil_tmp49;
          }
        }
#line 868
        v___14 = tmp___9;
#line 868
        if (v___14) {
          clnpass_partial0: 
#line 868
          mqdec->curctx = mqdec->ctxs + jpc_scctxnolut[(f & 4080) >> 4];
#line 868
          mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 868
          if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 868
            mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 868
            if (mqdec->areg & 32768UL) {
#line 868
              tmp___10 = (*(mqdec->curctx))->mps;
            } else {
              {
#line 868
              __cil_tmp51 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 868
              tmp___10 = __cil_tmp51;
              }
            }
#line 868
            tmp___11 = tmp___10;
          } else {
            {
#line 868
            __cil_tmp53 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 868
            tmp___11 = __cil_tmp53;
            }
          }
#line 868
          v___14 = tmp___11;
#line 868
          v___14 ^= jpc_spblut[(f & 4080) >> 4];
#line 868
          if (v___14) {
#line 868
            tmp___12 = - oneplushalf;
          } else {
#line 868
            tmp___12 = oneplushalf;
          }
#line 868
          *dp = (jpc_fix_t )tmp___12;
#line 868
          np = fp - frowstep;
#line 868
          sp = fp + frowstep;
#line 868
          if (vcausalflag) {
#line 868
            *(sp + -1) |= 1L;
#line 868
            *(sp + 1) |= 8L;
#line 868
            if (v___14) {
#line 868
              *sp |= 272L;
#line 868
              *(fp + -1) |= 544L;
#line 868
              *(fp + 1) |= 2176L;
            } else {
#line 868
              *sp |= 16L;
#line 868
              *(fp + -1) |= 32L;
#line 868
              *(fp + 1) |= 128L;
            }
          } else {
#line 868
            *(np + -1) |= 2L;
#line 868
            *(np + 1) |= 4L;
#line 868
            *(sp + -1) |= 1L;
#line 868
            *(sp + 1) |= 8L;
#line 868
            if (v___14) {
#line 868
              *np |= 1088L;
#line 868
              *sp |= 272L;
#line 868
              *(fp + -1) |= 544L;
#line 868
              *(fp + 1) |= 2176L;
            } else {
#line 868
              *np |= 64L;
#line 868
              *sp |= 16L;
#line 868
              *(fp + -1) |= 32L;
#line 868
              *(fp + 1) |= 128L;
            }
          }
#line 868
          *fp |= 4096L;
        }
      }
#line 868
      *fp &= -16385L;
#line 871
      k --;
#line 871
      if (k <= 0) {
#line 872
        goto while_continue___0;
      }
#line 874
      fp += frowstep;
#line 875
      dp += drowstep;
#line 878
      f = (int )*fp;
#line 879
      if (! (f & 20480)) {
#line 879
        mqdec->curctx = mqdec->ctxs + jpc_zcctxnolut[(orient << 8) | (f & 255)];
#line 879
        mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 879
        if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 879
          mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 879
          if (mqdec->areg & 32768UL) {
#line 879
            tmp___13 = (*(mqdec->curctx))->mps;
          } else {
            {
#line 879
            __cil_tmp59 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 879
            tmp___13 = __cil_tmp59;
            }
          }
#line 879
          tmp___14 = tmp___13;
        } else {
          {
#line 879
          __cil_tmp61 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 879
          tmp___14 = __cil_tmp61;
          }
        }
#line 879
        v___15 = tmp___14;
#line 879
        if (v___15) {
          clnpass_partial1: 
#line 879
          mqdec->curctx = mqdec->ctxs + jpc_scctxnolut[(f & 4080) >> 4];
#line 879
          mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 879
          if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 879
            mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 879
            if (mqdec->areg & 32768UL) {
#line 879
              tmp___15 = (*(mqdec->curctx))->mps;
            } else {
              {
#line 879
              __cil_tmp63 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 879
              tmp___15 = __cil_tmp63;
              }
            }
#line 879
            tmp___16 = tmp___15;
          } else {
            {
#line 879
            __cil_tmp65 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 879
            tmp___16 = __cil_tmp65;
            }
          }
#line 879
          v___15 = tmp___16;
#line 879
          v___15 ^= jpc_spblut[(f & 4080) >> 4];
#line 879
          if (v___15) {
#line 879
            tmp___17 = - oneplushalf;
          } else {
#line 879
            tmp___17 = oneplushalf;
          }
#line 879
          *dp = (jpc_fix_t )tmp___17;
#line 879
          np___0 = fp - frowstep;
#line 879
          sp___0 = fp + frowstep;
#line 879
          *(np___0 + -1) |= 2L;
#line 879
          *(np___0 + 1) |= 4L;
#line 879
          *(sp___0 + -1) |= 1L;
#line 879
          *(sp___0 + 1) |= 8L;
#line 879
          if (v___15) {
#line 879
            *np___0 |= 1088L;
#line 879
            *sp___0 |= 272L;
#line 879
            *(fp + -1) |= 544L;
#line 879
            *(fp + 1) |= 2176L;
          } else {
#line 879
            *np___0 |= 64L;
#line 879
            *sp___0 |= 16L;
#line 879
            *(fp + -1) |= 32L;
#line 879
            *(fp + 1) |= 128L;
          }
#line 879
          *fp |= 4096L;
        }
      }
#line 879
      *fp &= -16385L;
#line 881
      k --;
#line 881
      if (k <= 0) {
#line 882
        goto while_continue___0;
      }
#line 884
      fp += frowstep;
#line 885
      dp += drowstep;
#line 888
      f = (int )*fp;
#line 889
      if (! (f & 20480)) {
#line 889
        mqdec->curctx = mqdec->ctxs + jpc_zcctxnolut[(orient << 8) | (f & 255)];
#line 889
        mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 889
        if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 889
          mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 889
          if (mqdec->areg & 32768UL) {
#line 889
            tmp___18 = (*(mqdec->curctx))->mps;
          } else {
            {
#line 889
            __cil_tmp71 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 889
            tmp___18 = __cil_tmp71;
            }
          }
#line 889
          tmp___19 = tmp___18;
        } else {
          {
#line 889
          __cil_tmp73 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 889
          tmp___19 = __cil_tmp73;
          }
        }
#line 889
        v___16 = tmp___19;
#line 889
        if (v___16) {
          clnpass_partial2: 
#line 889
          mqdec->curctx = mqdec->ctxs + jpc_scctxnolut[(f & 4080) >> 4];
#line 889
          mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 889
          if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 889
            mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 889
            if (mqdec->areg & 32768UL) {
#line 889
              tmp___20 = (*(mqdec->curctx))->mps;
            } else {
              {
#line 889
              __cil_tmp75 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 889
              tmp___20 = __cil_tmp75;
              }
            }
#line 889
            tmp___21 = tmp___20;
          } else {
            {
#line 889
            __cil_tmp77 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 889
            tmp___21 = __cil_tmp77;
            }
          }
#line 889
          v___16 = tmp___21;
#line 889
          v___16 ^= jpc_spblut[(f & 4080) >> 4];
#line 889
          if (v___16) {
#line 889
            tmp___22 = - oneplushalf;
          } else {
#line 889
            tmp___22 = oneplushalf;
          }
#line 889
          *dp = (jpc_fix_t )tmp___22;
#line 889
          np___1 = fp - frowstep;
#line 889
          sp___1 = fp + frowstep;
#line 889
          *(np___1 + -1) |= 2L;
#line 889
          *(np___1 + 1) |= 4L;
#line 889
          *(sp___1 + -1) |= 1L;
#line 889
          *(sp___1 + 1) |= 8L;
#line 889
          if (v___16) {
#line 889
            *np___1 |= 1088L;
#line 889
            *sp___1 |= 272L;
#line 889
            *(fp + -1) |= 544L;
#line 889
            *(fp + 1) |= 2176L;
          } else {
#line 889
            *np___1 |= 64L;
#line 889
            *sp___1 |= 16L;
#line 889
            *(fp + -1) |= 32L;
#line 889
            *(fp + 1) |= 128L;
          }
#line 889
          *fp |= 4096L;
        }
      }
#line 889
      *fp &= -16385L;
#line 891
      k --;
#line 891
      if (k <= 0) {
#line 892
        goto while_continue___0;
      }
#line 894
      fp += frowstep;
#line 895
      dp += drowstep;
#line 898
      f = (int )*fp;
#line 899
      if (! (f & 20480)) {
#line 899
        mqdec->curctx = mqdec->ctxs + jpc_zcctxnolut[(orient << 8) | (f & 255)];
#line 899
        mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 899
        if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 899
          mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 899
          if (mqdec->areg & 32768UL) {
#line 899
            tmp___23 = (*(mqdec->curctx))->mps;
          } else {
            {
#line 899
            __cil_tmp83 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 899
            tmp___23 = __cil_tmp83;
            }
          }
#line 899
          tmp___24 = tmp___23;
        } else {
          {
#line 899
          __cil_tmp85 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 899
          tmp___24 = __cil_tmp85;
          }
        }
#line 899
        v___17 = tmp___24;
#line 899
        if (v___17) {
          clnpass_partial3: 
#line 899
          mqdec->curctx = mqdec->ctxs + jpc_scctxnolut[(f & 4080) >> 4];
#line 899
          mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 899
          if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 899
            mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 899
            if (mqdec->areg & 32768UL) {
#line 899
              tmp___25 = (*(mqdec->curctx))->mps;
            } else {
              {
#line 899
              __cil_tmp87 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 899
              tmp___25 = __cil_tmp87;
              }
            }
#line 899
            tmp___26 = tmp___25;
          } else {
            {
#line 899
            __cil_tmp89 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 899
            tmp___26 = __cil_tmp89;
            }
          }
#line 899
          v___17 = tmp___26;
#line 899
          v___17 ^= jpc_spblut[(f & 4080) >> 4];
#line 899
          if (v___17) {
#line 899
            tmp___27 = - oneplushalf;
          } else {
#line 899
            tmp___27 = oneplushalf;
          }
#line 899
          *dp = (jpc_fix_t )tmp___27;
#line 899
          np___2 = fp - frowstep;
#line 899
          sp___2 = fp + frowstep;
#line 899
          *(np___2 + -1) |= 2L;
#line 899
          *(np___2 + 1) |= 4L;
#line 899
          *(sp___2 + -1) |= 1L;
#line 899
          *(sp___2 + 1) |= 8L;
#line 899
          if (v___17) {
#line 899
            *np___2 |= 1088L;
#line 899
            *sp___2 |= 272L;
#line 899
            *(fp + -1) |= 544L;
#line 899
            *(fp + 1) |= 2176L;
          } else {
#line 899
            *np___2 |= 64L;
#line 899
            *sp___2 |= 16L;
#line 899
            *(fp + -1) |= 32L;
#line 899
            *(fp + 1) |= 128L;
          }
#line 899
          *fp |= 4096L;
        }
      }
#line 899
      *fp &= -16385L;
#line 825
      dvscanstart ++;
#line 825
      fvscanstart ++;
#line 825
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 820
    dstripestart += dstripestep;
#line 820
    fstripestart += fstripestep;
#line 820
    i += 4;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 904
  if (segsymflag) {
#line 906
    segsymval = 0;
#line 907
    mqdec->curctx = mqdec->ctxs + 18;
#line 908
    mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 908
    if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 908
      mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 908
      if (mqdec->areg & 32768UL) {
#line 908
        tmp___28 = (*(mqdec->curctx))->mps;
      } else {
        {
#line 908
        __cil_tmp95 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 908
        tmp___28 = __cil_tmp95;
        }
      }
#line 908
      tmp___29 = tmp___28;
    } else {
      {
#line 908
      __cil_tmp97 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 908
      tmp___29 = __cil_tmp97;
      }
    }
#line 908
    v = tmp___29;
#line 909
    segsymval = (segsymval << 1) | (v & 1);
#line 910
    mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 910
    if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 910
      mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 910
      if (mqdec->areg & 32768UL) {
#line 910
        tmp___30 = (*(mqdec->curctx))->mps;
      } else {
        {
#line 910
        __cil_tmp99 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 910
        tmp___30 = __cil_tmp99;
        }
      }
#line 910
      tmp___31 = tmp___30;
    } else {
      {
#line 910
      __cil_tmp101 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 910
      tmp___31 = __cil_tmp101;
      }
    }
#line 910
    v = tmp___31;
#line 911
    segsymval = (segsymval << 1) | (v & 1);
#line 912
    mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 912
    if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 912
      mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 912
      if (mqdec->areg & 32768UL) {
#line 912
        tmp___32 = (*(mqdec->curctx))->mps;
      } else {
        {
#line 912
        __cil_tmp103 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 912
        tmp___32 = __cil_tmp103;
        }
      }
#line 912
      tmp___33 = tmp___32;
    } else {
      {
#line 912
      __cil_tmp105 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 912
      tmp___33 = __cil_tmp105;
      }
    }
#line 912
    v = tmp___33;
#line 913
    segsymval = (segsymval << 1) | (v & 1);
#line 914
    mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 914
    if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 914
      mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 914
      if (mqdec->areg & 32768UL) {
#line 914
        tmp___34 = (*(mqdec->curctx))->mps;
      } else {
        {
#line 914
        __cil_tmp107 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 914
        tmp___34 = __cil_tmp107;
        }
      }
#line 914
      tmp___35 = tmp___34;
    } else {
      {
#line 914
      __cil_tmp109 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 914
      tmp___35 = __cil_tmp109;
      }
    }
#line 914
    v = tmp___35;
#line 915
    segsymval = (segsymval << 1) | (v & 1);
#line 916
    if (segsymval != 10) {
      {
#line 917
      jas_eprintf("warning: bad segmentation symbol\n");
      }
    }
  }
#line 921
  return (0);
}
}
#line 87 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
double jpc_pow2i(int n ) ;
#line 109
void jpc_initmqctxs(void) ;
#line 115 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
int JPC_PASSTYPE(int passno ) 
{ 
  int passtype ;

  {
#line 119
  if (passno % 3 == 0) {
#line 119
    goto case_0;
  }
#line 122
  if (passno % 3 == 1) {
#line 122
    goto case_1;
  }
#line 125
  if (passno % 3 == 2) {
#line 125
    goto case_2;
  }
#line 128
  goto switch_default;
  case_0: 
#line 120
  passtype = 2;
#line 121
  goto switch_break;
  case_1: 
#line 123
  passtype = 0;
#line 124
  goto switch_break;
  case_2: 
#line 126
  passtype = 1;
#line 127
  goto switch_break;
  switch_default: 
#line 129
  passtype = -1;
#line 131
  goto switch_break;
  switch_break: ;
#line 133
  return (passtype);
}
}
#line 136 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
int JPC_NOMINALGAIN(int qmfbid , int numlvls , int lvlno , int orient ) 
{ 


  {
#line 139
  numlvls = 0;
#line 141
  if (qmfbid == 0) {
#line 142
    return (0);
  }
#line 145
  if (lvlno == 0) {
#line 147
    return (0);
  } else {
#line 151
    if (orient == 2) {
#line 151
      goto case_2;
    }
#line 151
    if (orient == 1) {
#line 151
      goto case_2;
    }
#line 154
    if (orient == 3) {
#line 154
      goto case_3;
    }
#line 157
    goto switch_default;
    case_2: 
#line 152
    return (1);
#line 153
    goto switch_break;
    case_3: 
#line 155
    return (2);
#line 156
    goto switch_break;
    switch_default: 
    {
#line 158
    abort();
    }
#line 159
    goto switch_break;
    switch_break: ;
  }
#line 163
  return (0);
}
}
#line 168 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
int JPC_SEGTYPE(int passno , int firstpassno , int bypass ) 
{ 
  int passtype ;
  int tmp ;

  {
#line 171
  if (bypass) {
    {
#line 172
    passtype = JPC_PASSTYPE(passno);
    }
#line 173
    if (passtype == 2) {
#line 174
      return (1);
    }
#line 176
    if (passno < firstpassno + 10) {
#line 176
      tmp = 1;
    } else {
#line 176
      tmp = 2;
    }
#line 176
    return (tmp);
  } else {
#line 178
    return (1);
  }
}
}
#line 182 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
int JPC_SEGPASSCNT(int passno , int firstpassno , int numpasses , int bypass , int termall ) 
{ 
  int ret ;
  int passtype ;
  int tmp___0 ;

  {
#line 187
  if (termall) {
#line 188
    ret = 1;
  } else
#line 189
  if (bypass) {
#line 190
    if (passno < firstpassno + 10) {
#line 191
      ret = 10 - (passno - firstpassno);
    } else {
      {
#line 193
      passtype = JPC_PASSTYPE(passno);
      }
#line 195
      if (passtype == 0) {
#line 195
        goto case_0;
      }
#line 198
      if (passtype == 1) {
#line 198
        goto case_1;
      }
#line 201
      if (passtype == 2) {
#line 201
        goto case_2;
      }
#line 204
      goto switch_default;
      case_0: 
#line 196
      ret = 2;
#line 197
      goto switch_break;
      case_1: 
#line 199
      ret = 1;
#line 200
      goto switch_break;
      case_2: 
#line 202
      ret = 1;
#line 203
      goto switch_break;
      switch_default: 
#line 205
      ret = -1;
#line 207
      goto switch_break;
      switch_break: ;
    }
  } else {
#line 211
    ret = 94;
  }
#line 213
  if (ret < numpasses - passno) {
#line 213
    tmp___0 = ret;
  } else {
#line 213
    tmp___0 = numpasses - passno;
  }
#line 213
  ret = tmp___0;
#line 214
  return (ret);
}
}
#line 217 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
int JPC_ISTERMINATED(int passno , int firstpassno , int numpasses , int termall ,
                     int lazy ) 
{ 
  int ret ;
  int n ;
  int tmp ;

  {
#line 222
  if (passno - firstpassno == numpasses - 1) {
#line 223
    ret = 1;
  } else {
    {
#line 225
    n = JPC_SEGPASSCNT(passno, firstpassno, numpasses, lazy, termall);
    }
#line 226
    if (n <= 1) {
#line 226
      tmp = 1;
    } else {
#line 226
      tmp = 0;
    }
#line 226
    ret = tmp;
  }
#line 229
  return (ret);
}
}
#line 236 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
void jpc_initluts(void) 
{ 
  int i ;
  int orient ;
  int refine ;
  float u ;
  float v ;
  float t ;
  int tmp ;
  int __cil_tmp11 ;
  double __cil_tmp12 ;
  double __cil_tmp13 ;
  double __cil_tmp14 ;
  double __cil_tmp15 ;
  double __cil_tmp16 ;
  double __cil_tmp17 ;
  double __cil_tmp18 ;
  double __cil_tmp19 ;
  double __cil_tmp20 ;
  double __cil_tmp21 ;
  double __cil_tmp22 ;
  double __cil_tmp23 ;
  double __cil_tmp24 ;

  {
  {
#line 246
  jpc_initmqctxs();
#line 248
  orient = 0;
  }
  {
#line 248
  while (1) {
    while_continue: /* CIL Label */ ;

#line 248
    if (! (orient < 4)) {
#line 248
      goto while_break;
    }
#line 249
    i = 0;
    {
#line 249
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 249
      if (! (i < 256)) {
#line 249
        goto while_break___0;
      }
      {
#line 250
      jpc_zcctxnolut[(orient << 8) | i] = jpc_getzcctxno(i, orient);
#line 249
      i ++;
      }
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___0: 
#line 248
    orient ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break: 
#line 254
  i = 0;
  {
#line 254
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 254
    if (! (i < 256)) {
#line 254
      goto while_break___1;
    }
    {
#line 255
    jpc_spblut[i] = jpc_getspb(i << 4);
#line 254
    i ++;
    }
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___1: 
#line 258
  i = 0;
  {
#line 258
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 258
    if (! (i < 256)) {
#line 258
      goto while_break___2;
    }
    {
#line 259
    jpc_scctxnolut[i] = jpc_getscctxno(i << 4);
#line 258
    i ++;
    }
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break___2: 
#line 262
  refine = 0;
  {
#line 262
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 262
    if (! (refine < 2)) {
#line 262
      goto while_break___3;
    }
#line 263
    i = 0;
    {
#line 263
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 263
      if (! (i < 2048)) {
#line 263
        goto while_break___4;
      }
#line 264
      if (refine) {
#line 264
        tmp = 8192;
      } else {
#line 264
        tmp = 0;
      }
      {
#line 264
      __cil_tmp11 = jpc_getmagctxno(tmp | i);
#line 264
      jpc_magctxnolut[(refine << 11) + i] = __cil_tmp11;
#line 263
      i ++;
      }
    }
    while_break___11: /* CIL Label */ ;
    }
    while_break___4: 
#line 262
    refine ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___3: 
#line 268
  i = 0;
  {
#line 268
  while (1) {
    while_continue___5: /* CIL Label */ ;

#line 268
    if (! (i < 1 << 7)) {
#line 268
      goto while_break___5;
    }
    {
#line 269
    __cil_tmp12 = jpc_pow2i(-6);
#line 269
    t = (float )((double )i * __cil_tmp12);
#line 270
    u = t;
#line 271
    v = (float )((double )t - 1.5);
#line 272
    __cil_tmp15 = jpc_pow2i(6);
#line 272
    __cil_tmp13 = jpc_pow2i(6);
#line 272
    __cil_tmp14 = floor((double )(u * u - v * v) * __cil_tmp13 + 0.5);
#line 272
    jpc_signmsedec[i] = (jpc_fix_t )((__cil_tmp14 / __cil_tmp15) * (double )(1L << 13));
#line 274
    __cil_tmp18 = jpc_pow2i(6);
#line 274
    __cil_tmp16 = jpc_pow2i(6);
#line 274
    __cil_tmp17 = floor((double )(u * u) * __cil_tmp16 + 0.5);
#line 274
    jpc_signmsedec0[i] = (jpc_fix_t )((__cil_tmp17 / __cil_tmp18) * (double )(1L << 13));
#line 275
    u = (float )((double )t - 1.);
    }
#line 276
    if (i & (1 << 6)) {
#line 277
      v = (float )((double )t - 1.5);
    } else {
#line 279
      v = (float )((double )t - 0.5);
    }
    {
#line 281
    __cil_tmp21 = jpc_pow2i(6);
#line 281
    __cil_tmp19 = jpc_pow2i(6);
#line 281
    __cil_tmp20 = floor((double )(u * u - v * v) * __cil_tmp19 + 0.5);
#line 281
    jpc_refnmsedec[i] = (jpc_fix_t )((__cil_tmp20 / __cil_tmp21) * (double )(1L << 13));
#line 283
    __cil_tmp24 = jpc_pow2i(6);
#line 283
    __cil_tmp22 = jpc_pow2i(6);
#line 283
    __cil_tmp23 = floor((double )(u * u) * __cil_tmp22 + 0.5);
#line 283
    jpc_refnmsedec0[i] = (jpc_fix_t )((__cil_tmp23 / __cil_tmp24) * (double )(1L << 13));
#line 268
    i ++;
    }
  }
  while_break___12: /* CIL Label */ ;
  }
  while_break___5: ;
#line 272
  return;
}
}
#line 287 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
jpc_fix_t jpc_getsignmsedec_func(jpc_fix_t x , int bitpos ) 
{ 
  jpc_fix_t y ;
  jpc_fix_t tmp___0 ;
  jpc_fix_t tmp___1 ;
  jpc_fix_t tmp___2 ;

  {
#line 291
  if (bitpos > 6) {
#line 291
    if (bitpos - 6 >= 0) {
#line 291
      tmp___0 = x >> (bitpos - 6);
    } else {
#line 291
      tmp___0 = x << - (bitpos - 6);
    }
#line 291
    tmp___2 = jpc_signmsedec[tmp___0 & (long )((1 << 7) - 1)];
  } else {
#line 291
    if (bitpos - 6 >= 0) {
#line 291
      tmp___1 = x >> (bitpos - 6);
    } else {
#line 291
      tmp___1 = x << - (bitpos - 6);
    }
#line 291
    tmp___2 = jpc_signmsedec0[tmp___1 & (long )((1 << 7) - 1)];
  }
#line 291
  y = tmp___2;
#line 292
  return (y);
}
}
#line 295 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
int jpc_getzcctxno(int f , int orient ) 
{ 
  int h ;
  int v ;
  int d ;
  int n ;
  int t ;
  int hv ;

  {
#line 305
  n = 0;
#line 307
  h = ((f & 128) != 0) + ((f & 32) != 0);
#line 308
  v = ((f & 16) != 0) + ((f & 64) != 0);
#line 309
  d = ((((f & 8) != 0) + ((f & 1) != 0)) + ((f & 2) != 0)) + ((f & 4) != 0);
#line 311
  if (orient == 2) {
#line 311
    goto case_2;
  }
#line 316
  if (orient == 1) {
#line 316
    goto case_1;
  }
#line 316
  if (orient == 0) {
#line 316
    goto case_1;
  }
#line 345
  if (orient == 3) {
#line 345
    goto case_3;
  }
#line 310
  goto switch_break;
  case_2: 
#line 312
  t = h;
#line 313
  h = v;
#line 314
  v = t;
  case_1: 
#line 317
  if (! h) {
#line 318
    if (! v) {
#line 319
      if (! d) {
#line 320
        n = 0;
      } else
#line 321
      if (d == 1) {
#line 322
        n = 1;
      } else {
#line 324
        n = 2;
      }
    } else
#line 326
    if (v == 1) {
#line 327
      n = 3;
    } else {
#line 329
      n = 4;
    }
  } else
#line 331
  if (h == 1) {
#line 332
    if (! v) {
#line 333
      if (! d) {
#line 334
        n = 5;
      } else {
#line 336
        n = 6;
      }
    } else {
#line 339
      n = 7;
    }
  } else {
#line 342
    n = 8;
  }
#line 344
  goto switch_break;
  case_3: 
#line 346
  hv = h + v;
#line 347
  if (! d) {
#line 348
    if (! hv) {
#line 349
      n = 0;
    } else
#line 350
    if (hv == 1) {
#line 351
      n = 1;
    } else {
#line 353
      n = 2;
    }
  } else
#line 355
  if (d == 1) {
#line 356
    if (! hv) {
#line 357
      n = 3;
    } else
#line 358
    if (hv == 1) {
#line 359
      n = 4;
    } else {
#line 361
      n = 5;
    }
  } else
#line 363
  if (d == 2) {
#line 364
    if (! hv) {
#line 365
      n = 6;
    } else {
#line 367
      n = 7;
    }
  } else {
#line 370
    n = 8;
  }
#line 372
  goto switch_break;
  switch_break: ;
#line 375
  return (1 + n);
}
}
#line 378 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
int jpc_getspb(int f ) 
{ 
  int hc ;
  int vc ;
  int n ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 384
  if (((f & 544) == 544) + ((f & 2176) == 2176) < 1) {
#line 384
    tmp___0 = ((f & 544) == 544) + ((f & 2176) == 2176);
  } else {
#line 384
    tmp___0 = 1;
  }
#line 384
  if (((f & 544) == 32) + ((f & 2176) == 128) < 1) {
#line 384
    tmp = ((f & 544) == 32) + ((f & 2176) == 128);
  } else {
#line 384
    tmp = 1;
  }
#line 384
  hc = tmp - tmp___0;
#line 386
  if (((f & 272) == 272) + ((f & 1088) == 1088) < 1) {
#line 386
    tmp___2 = ((f & 272) == 272) + ((f & 1088) == 1088);
  } else {
#line 386
    tmp___2 = 1;
  }
#line 386
  if (((f & 272) == 16) + ((f & 1088) == 64) < 1) {
#line 386
    tmp___1 = ((f & 272) == 16) + ((f & 1088) == 64);
  } else {
#line 386
    tmp___1 = 1;
  }
#line 386
  vc = tmp___1 - tmp___2;
#line 388
  if (! hc) {
#line 388
    if (! vc) {
#line 389
      n = 0;
    } else {
#line 391
      if (hc > 0) {
#line 391
        tmp___3 = 0;
      } else
#line 391
      if (! hc) {
#line 391
        if (vc > 0) {
#line 391
          tmp___3 = 0;
        } else {
#line 391
          tmp___3 = 1;
        }
      } else {
#line 391
        tmp___3 = 1;
      }
#line 391
      n = tmp___3;
    }
  } else {
#line 391
    if (hc > 0) {
#line 391
      tmp___4 = 0;
    } else
#line 391
    if (! hc) {
#line 391
      if (vc > 0) {
#line 391
        tmp___4 = 0;
      } else {
#line 391
        tmp___4 = 1;
      }
    } else {
#line 391
      tmp___4 = 1;
    }
#line 391
    n = tmp___4;
  }
#line 393
  return (n);
}
}
#line 396 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
int jpc_getscctxno(int f ) 
{ 
  int hc ;
  int vc ;
  int n ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 403
  n = 0;
#line 405
  if (((f & 544) == 544) + ((f & 2176) == 2176) < 1) {
#line 405
    tmp___0 = ((f & 544) == 544) + ((f & 2176) == 2176);
  } else {
#line 405
    tmp___0 = 1;
  }
#line 405
  if (((f & 544) == 32) + ((f & 2176) == 128) < 1) {
#line 405
    tmp = ((f & 544) == 32) + ((f & 2176) == 128);
  } else {
#line 405
    tmp = 1;
  }
#line 405
  hc = tmp - tmp___0;
#line 408
  if (((f & 272) == 272) + ((f & 1088) == 1088) < 1) {
#line 408
    tmp___2 = ((f & 272) == 272) + ((f & 1088) == 1088);
  } else {
#line 408
    tmp___2 = 1;
  }
#line 408
  if (((f & 272) == 16) + ((f & 1088) == 64) < 1) {
#line 408
    tmp___1 = ((f & 272) == 16) + ((f & 1088) == 64);
  } else {
#line 408
    tmp___1 = 1;
  }
#line 408
  vc = tmp___1 - tmp___2;
#line 412
  if (hc < 0) {
#line 413
    hc = - hc;
#line 414
    vc = - vc;
  }
#line 416
  if (! hc) {
#line 417
    if (vc == -1) {
#line 418
      n = 1;
    } else
#line 419
    if (! vc) {
#line 420
      n = 0;
    } else {
#line 422
      n = 1;
    }
  } else
#line 424
  if (hc == 1) {
#line 425
    if (vc == -1) {
#line 426
      n = 2;
    } else
#line 427
    if (! vc) {
#line 428
      n = 3;
    } else {
#line 430
      n = 4;
    }
  }
#line 434
  return (13 + n);
}
}
#line 437 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
int jpc_getmagctxno(int f ) 
{ 
  int n ;
  int tmp ;

  {
#line 441
  if (! (f & 8192)) {
#line 442
    if (f & 255) {
#line 442
      tmp = 1;
    } else {
#line 442
      tmp = 0;
    }
#line 442
    n = tmp;
  } else {
#line 444
    n = 2;
  }
#line 448
  return (10 + n);
}
}
#line 451 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
void jpc_initctxs(jpc_mqctx_t *ctxs ) 
{ 
  jpc_mqctx_t *ctx ;
  int i ;

  {
#line 456
  ctx = ctxs;
#line 457
  i = 0;
  {
#line 457
  while (1) {
    while_continue: /* CIL Label */ ;

#line 457
    if (! (i < 19)) {
#line 457
      goto while_break;
    }
#line 458
    ctx->mps = 0;
#line 460
    if (i == 18) {
#line 460
      goto case_18;
    }
#line 463
    if (i == 1) {
#line 463
      goto case_1;
    }
#line 466
    if (i == 0) {
#line 466
      goto case_0;
    }
#line 469
    goto switch_default;
    case_18: 
#line 461
    ctx->ind = (int_fast16_t )46;
#line 462
    goto switch_break;
    case_1: 
#line 464
    ctx->ind = (int_fast16_t )4;
#line 465
    goto switch_break;
    case_0: 
#line 467
    ctx->ind = (int_fast16_t )3;
#line 468
    goto switch_break;
    switch_default: 
#line 470
    ctx->ind = (int_fast16_t )0;
#line 471
    goto switch_break;
    switch_break: 
#line 473
    ctx ++;
#line 457
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 461
  return;
}
}
#line 477 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
void jpc_initmqctxs(void) 
{ 


  {
  {
#line 479
  jpc_initctxs(jpc_mqctxs);
  }
#line 481
  return;
}
}
#line 483 "/root/patron-new/new_2/src/libjasper/jpc/jpc_t1cod.c"
double jpc_pow2i(int n ) 
{ 
  double x ;
  double a ;

  {
#line 488
  x = 1.;
#line 489
  if (n < 0) {
#line 490
    a = 0.5;
#line 491
    n = - n;
  } else {
#line 493
    a = 2.;
  }
  {
#line 495
  while (1) {
    while_continue: /* CIL Label */ ;
#line 495
    n --;
#line 495
    if (! (n >= 0)) {
#line 495
      goto while_break;
    }
#line 496
    x *= a;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 498
  return (x);
}
}
#line 97 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
int jpc_ft_analyze(jpc_fix_t *a , int xstart , int ystart , int width , int height ,
                   int stride ) ;
#line 99
int jpc_ft_synthesize(int *a , int xstart , int ystart , int width , int height ,
                      int stride ) ;
#line 102
int jpc_ns_analyze(jpc_fix_t *a , int xstart , int ystart , int width , int height ,
                   int stride ) ;
#line 104
int jpc_ns_synthesize(jpc_fix_t *a , int xstart , int ystart , int width , int height ,
                      int stride ) ;
#line 107
void jpc_ft_fwdlift_row(jpc_fix_t *a , int numcols , int parity ) ;
#line 108
void jpc_ft_fwdlift_col(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 110
void jpc_ft_fwdlift_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 112
void jpc_ft_fwdlift_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) ;
#line 115
void jpc_ft_invlift_row(jpc_fix_t *a , int numcols , int parity ) ;
#line 116
void jpc_ft_invlift_col(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 118
void jpc_ft_invlift_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 120
void jpc_ft_invlift_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) ;
#line 123
void jpc_ns_fwdlift_row(jpc_fix_t *a , int numcols , int parity ) ;
#line 124
void jpc_ns_fwdlift_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 125
void jpc_ns_fwdlift_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) ;
#line 127
void jpc_ns_invlift_row(jpc_fix_t *a , int numcols , int parity ) ;
#line 128
void jpc_ns_invlift_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 129
void jpc_ns_invlift_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) ;
#line 132
void jpc_qmfb_split_row(jpc_fix_t *a , int numcols , int parity ) ;
#line 133
void jpc_qmfb_split_col(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 134
void jpc_qmfb_split_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 135
void jpc_qmfb_split_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) ;
#line 138
void jpc_qmfb_join_row(jpc_fix_t *a , int numcols , int parity ) ;
#line 139
void jpc_qmfb_join_col(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 140
void jpc_qmfb_join_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) ;
#line 141
void jpc_qmfb_join_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                          int parity ) ;
#line 144 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
double jpc_ft_lpenergywts[32]  = 
#line 144
  {      1.2247448714,      1.65831239518,      2.31840462388,      3.26917420766, 
        4.61992965315,      6.53237131523,      9.23774526062,      13.0639951298, 
        18.4752262334,      26.1278968191,      36.9504194306,      52.2557819581, 
        73.9008347316,      104.511562457,      147.801668947,      209.02312473, 
        295.60333783,      418.046249435,      591.206675651,      836.092498872, 
        836.092498872,      836.092498872,      836.092498872,      836.092498872, 
        836.092498872,      836.092498872,      836.092498872,      836.092498872, 
        836.092498872,      836.092498872,      836.092498872,      836.092498872};
#line 180 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
double jpc_ft_hpenergywts[32]  = 
#line 180
  {      0.847791247891,      0.960143218484,      1.25934010498,      1.74441071712, 
        2.45387130368,      3.46565176951,      4.89952763986,      6.92839704022, 
        9.79802749402,      13.8564306872,      19.5959265077,      27.7128159495, 
        39.1918369553,      55.4256262208,      78.3836719029,      110.851251732, 
        156.767343555,      221.702503374,      313.534687079,      443.405006736, 
        443.405006736,      443.405006736,      443.405006736,      443.405006736, 
        443.405006736,      443.405006736,      443.405006736,      443.405006736, 
        443.405006736,      443.405006736,      443.405006736,      443.405006736};
#line 216 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
double jpc_ns_lpenergywts[32]  = 
#line 216
  {      1.40210816793,      2.03037185609,      2.90116255628,      4.11528517518, 
        5.82451086378,      8.23875993458,      11.651954648,      16.4785606471, 
        23.3042776445,      32.9572515614,      46.6086013488,      65.9145194077, 
        93.2172084552,      131.829040852,      186.434417631,      263.658081957, 
        372.868835351,      527.316163945,      745.737670712,      1054.6323279, 
        1054.6323279,      1054.6323279,      1054.6323279,      1054.6323279, 
        1054.6323279,      1054.6323279,      1054.6323279,      1054.6323279, 
        1054.6323279,      1054.6323279,      1054.6323279,      1054.6323279};
#line 252 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
double jpc_ns_hpenergywts[32]  = 
#line 252
  {      1.44252276502,      1.96694260825,      2.88392480828,      4.14752083935, 
        5.89464975307,      8.34717891786,      11.8086046552,      16.7012780416, 
        23.6196657033,      33.4034255109,      47.2396388882,      66.8069597417, 
        94.4793162155,      133.613933074,      188.958637236,      267.227867847, 
        377.917275073,      534.455735905,      755.83455022,      1068.91147184, 
        1068.91147184,      1068.91147184,      1068.91147184,      1068.91147184, 
        1068.91147184,      1068.91147184,      1068.91147184,      1068.91147184, 
        1068.91147184,      1068.91147184,      1068.91147184};
#line 287 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
jpc_qmfb2d_t jpc_ft_qmfb2d  =    {(int (*)(int * , int  , int  , int  , int  , int  ))(& jpc_ft_analyze), & jpc_ft_synthesize,
    jpc_ft_lpenergywts, jpc_ft_hpenergywts};
#line 294 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
jpc_qmfb2d_t jpc_ns_qmfb2d  =    {(int (*)(int * , int  , int  , int  , int  , int  ))(& jpc_ns_analyze), (int (*)(int * ,
                                                                                     int  ,
                                                                                     int  ,
                                                                                     int  ,
                                                                                     int  ,
                                                                                     int  ))(& jpc_ns_synthesize),
    jpc_ns_lpenergywts, jpc_ns_hpenergywts};
#line 305 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_qmfb_split_row(jpc_fix_t *a , int numcols , int parity ) 
{ 
  int bufsize ;
  jpc_fix_t splitbuf[4096] ;
  jpc_fix_t *buf ;
  register jpc_fix_t *srcptr ;
  register jpc_fix_t *dstptr ;
  register int n ;
  register int m ;
  int hstartcol ;
  int tmp ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  void *tmp___0 ;

  {
#line 308
  bufsize = ((numcols + (1 << 1)) - 1) >> 1;
#line 310
  buf = splitbuf;
#line 318
  if (bufsize > 4096) {
    {
#line 319
    tmp___0 = jas_alloc2((size_t )bufsize, sizeof(jpc_fix_t ));
#line 319
    buf = (jpc_fix_t *)tmp___0;
    }
#line 319
    if (! buf) {
      {
#line 321
      abort();
      }
    }
  }
#line 325
  if (numcols >= 2) {
#line 326
    hstartcol = ((numcols + 1) - parity) >> 1;
#line 327
    if (parity) {
#line 327
      tmp = hstartcol;
    } else {
#line 327
      tmp = numcols - hstartcol;
    }
#line 327
    m = tmp;
#line 329
    n = m;
#line 330
    dstptr = buf;
#line 331
    srcptr = a + (1 - parity);
    {
#line 332
    while (1) {
      while_continue: /* CIL Label */ ;
#line 332
      __cil_tmp14 = n;
#line 332
      n --;
#line 332
      if (! (__cil_tmp14 > 0)) {
#line 332
        goto while_break;
      }
#line 333
      *dstptr = *srcptr;
#line 334
      dstptr ++;
#line 335
      srcptr += 2;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break: 
#line 338
    dstptr = a + (1 - parity);
#line 339
    srcptr = a + (2 - parity);
#line 340
    n = (numcols - m) - ! parity;
    {
#line 341
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 341
      __cil_tmp15 = n;
#line 341
      n --;
#line 341
      if (! (__cil_tmp15 > 0)) {
#line 341
        goto while_break___0;
      }
#line 342
      *dstptr = *srcptr;
#line 343
      dstptr ++;
#line 344
      srcptr += 2;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
#line 347
    dstptr = a + hstartcol;
#line 348
    srcptr = buf;
#line 349
    n = m;
    {
#line 350
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 350
      __cil_tmp16 = n;
#line 350
      n --;
#line 350
      if (! (__cil_tmp16 > 0)) {
#line 350
        goto while_break___1;
      }
#line 351
      *dstptr = *srcptr;
#line 352
      dstptr ++;
#line 353
      srcptr ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: ;
  }
#line 358
  if ((unsigned long )buf != (unsigned long )(splitbuf)) {
    {
#line 359
    jas_free((void *)buf);
    }
  }
#line 362
  return;
}
}
#line 364 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_qmfb_split_col(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  int bufsize ;
  jpc_fix_t splitbuf[4096] ;
  jpc_fix_t *buf ;
  register jpc_fix_t *srcptr ;
  register jpc_fix_t *dstptr ;
  register int n ;
  register int m ;
  int hstartcol ;
  int tmp ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  void *tmp___0 ;

  {
#line 368
  bufsize = ((numrows + (1 << 1)) - 1) >> 1;
#line 370
  buf = splitbuf;
#line 378
  if (bufsize > 4096) {
    {
#line 379
    tmp___0 = jas_alloc2((size_t )bufsize, sizeof(jpc_fix_t ));
#line 379
    buf = (jpc_fix_t *)tmp___0;
    }
#line 379
    if (! buf) {
      {
#line 381
      abort();
      }
    }
  }
#line 385
  if (numrows >= 2) {
#line 386
    hstartcol = ((numrows + 1) - parity) >> 1;
#line 387
    if (parity) {
#line 387
      tmp = hstartcol;
    } else {
#line 387
      tmp = numrows - hstartcol;
    }
#line 387
    m = tmp;
#line 389
    n = m;
#line 390
    dstptr = buf;
#line 391
    srcptr = a + (1 - parity) * stride;
    {
#line 392
    while (1) {
      while_continue: /* CIL Label */ ;
#line 392
      __cil_tmp15 = n;
#line 392
      n --;
#line 392
      if (! (__cil_tmp15 > 0)) {
#line 392
        goto while_break;
      }
#line 393
      *dstptr = *srcptr;
#line 394
      dstptr ++;
#line 395
      srcptr += stride << 1;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break: 
#line 398
    dstptr = a + (1 - parity) * stride;
#line 399
    srcptr = a + (2 - parity) * stride;
#line 400
    n = (numrows - m) - ! parity;
    {
#line 401
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 401
      __cil_tmp16 = n;
#line 401
      n --;
#line 401
      if (! (__cil_tmp16 > 0)) {
#line 401
        goto while_break___0;
      }
#line 402
      *dstptr = *srcptr;
#line 403
      dstptr += stride;
#line 404
      srcptr += stride << 1;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
#line 407
    dstptr = a + hstartcol * stride;
#line 408
    srcptr = buf;
#line 409
    n = m;
    {
#line 410
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 410
      __cil_tmp17 = n;
#line 410
      n --;
#line 410
      if (! (__cil_tmp17 > 0)) {
#line 410
        goto while_break___1;
      }
#line 411
      *dstptr = *srcptr;
#line 412
      dstptr += stride;
#line 413
      srcptr ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: ;
  }
#line 418
  if ((unsigned long )buf != (unsigned long )(splitbuf)) {
    {
#line 419
    jas_free((void *)buf);
    }
  }
#line 422
  return;
}
}
#line 424 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_qmfb_split_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  int bufsize ;
  jpc_fix_t splitbuf[65536] ;
  jpc_fix_t *buf ;
  jpc_fix_t *srcptr ;
  jpc_fix_t *dstptr ;
  register jpc_fix_t *srcptr2 ;
  register jpc_fix_t *dstptr2 ;
  register int n ;
  register int i ;
  int m ;
  int hstartcol ;
  int tmp ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  void *tmp___0 ;

  {
#line 428
  bufsize = ((numrows + (1 << 1)) - 1) >> 1;
#line 430
  buf = splitbuf;
#line 441
  if (bufsize > 4096) {
    {
#line 442
    tmp___0 = jas_alloc2((size_t )bufsize, sizeof(jpc_fix_t ));
#line 442
    buf = (jpc_fix_t *)tmp___0;
    }
#line 442
    if (! buf) {
      {
#line 444
      abort();
      }
    }
  }
#line 448
  if (numrows >= 2) {
#line 449
    hstartcol = ((numrows + 1) - parity) >> 1;
#line 450
    if (parity) {
#line 450
      tmp = hstartcol;
    } else {
#line 450
      tmp = numrows - hstartcol;
    }
#line 450
    m = tmp;
#line 452
    n = m;
#line 453
    dstptr = buf;
#line 454
    srcptr = a + (1 - parity) * stride;
    {
#line 455
    while (1) {
      while_continue: /* CIL Label */ ;
#line 455
      __cil_tmp18 = n;
#line 455
      n --;
#line 455
      if (! (__cil_tmp18 > 0)) {
#line 455
        goto while_break;
      }
#line 456
      dstptr2 = dstptr;
#line 457
      srcptr2 = srcptr;
#line 458
      i = 0;
      {
#line 458
      while (1) {
        while_continue___0: /* CIL Label */ ;

#line 458
        if (! (i < 16)) {
#line 458
          goto while_break___0;
        }
#line 459
        *dstptr2 = *srcptr2;
#line 460
        dstptr2 ++;
#line 461
        srcptr2 ++;
#line 458
        i ++;
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___0: 
#line 463
      dstptr += 16;
#line 464
      srcptr += stride << 1;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break: 
#line 467
    dstptr = a + (1 - parity) * stride;
#line 468
    srcptr = a + (2 - parity) * stride;
#line 469
    n = (numrows - m) - ! parity;
    {
#line 470
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 470
      __cil_tmp19 = n;
#line 470
      n --;
#line 470
      if (! (__cil_tmp19 > 0)) {
#line 470
        goto while_break___1;
      }
#line 471
      dstptr2 = dstptr;
#line 472
      srcptr2 = srcptr;
#line 473
      i = 0;
      {
#line 473
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 473
        if (! (i < 16)) {
#line 473
          goto while_break___2;
        }
#line 474
        *dstptr2 = *srcptr2;
#line 475
        dstptr2 ++;
#line 476
        srcptr2 ++;
#line 473
        i ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___2: 
#line 478
      dstptr += stride;
#line 479
      srcptr += stride << 1;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: 
#line 482
    dstptr = a + hstartcol * stride;
#line 483
    srcptr = buf;
#line 484
    n = m;
    {
#line 485
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 485
      __cil_tmp20 = n;
#line 485
      n --;
#line 485
      if (! (__cil_tmp20 > 0)) {
#line 485
        goto while_break___3;
      }
#line 486
      dstptr2 = dstptr;
#line 487
      srcptr2 = srcptr;
#line 488
      i = 0;
      {
#line 488
      while (1) {
        while_continue___4: /* CIL Label */ ;

#line 488
        if (! (i < 16)) {
#line 488
          goto while_break___4;
        }
#line 489
        *dstptr2 = *srcptr2;
#line 490
        dstptr2 ++;
#line 491
        srcptr2 ++;
#line 488
        i ++;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___4: 
#line 493
      dstptr += stride;
#line 494
      srcptr += 16;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___3: ;
  }
#line 499
  if ((unsigned long )buf != (unsigned long )(splitbuf)) {
    {
#line 500
    jas_free((void *)buf);
    }
  }
#line 503
  return;
}
}
#line 505 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_qmfb_split_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) 
{ 
  int bufsize ;
  jpc_fix_t splitbuf[65536] ;
  jpc_fix_t *buf ;
  jpc_fix_t *srcptr ;
  jpc_fix_t *dstptr ;
  register jpc_fix_t *srcptr2 ;
  register jpc_fix_t *dstptr2 ;
  register int n ;
  register int i ;
  int m ;
  int hstartcol ;
  int tmp ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  void *tmp___0 ;

  {
#line 509
  bufsize = ((numrows + (1 << 1)) - 1) >> 1;
#line 511
  buf = splitbuf;
#line 522
  if (bufsize > 4096) {
    {
#line 523
    tmp___0 = jas_alloc2((size_t )bufsize, sizeof(jpc_fix_t ));
#line 523
    buf = (jpc_fix_t *)tmp___0;
    }
#line 523
    if (! buf) {
      {
#line 525
      abort();
      }
    }
  }
#line 529
  if (numrows >= 2) {
#line 530
    hstartcol = ((numrows + 1) - parity) >> 1;
#line 531
    if (parity) {
#line 531
      tmp = hstartcol;
    } else {
#line 531
      tmp = numrows - hstartcol;
    }
#line 531
    m = tmp;
#line 533
    n = m;
#line 534
    dstptr = buf;
#line 535
    srcptr = a + (1 - parity) * stride;
    {
#line 536
    while (1) {
      while_continue: /* CIL Label */ ;
#line 536
      __cil_tmp19 = n;
#line 536
      n --;
#line 536
      if (! (__cil_tmp19 > 0)) {
#line 536
        goto while_break;
      }
#line 537
      dstptr2 = dstptr;
#line 538
      srcptr2 = srcptr;
#line 539
      i = 0;
      {
#line 539
      while (1) {
        while_continue___0: /* CIL Label */ ;

#line 539
        if (! (i < numcols)) {
#line 539
          goto while_break___0;
        }
#line 540
        *dstptr2 = *srcptr2;
#line 541
        dstptr2 ++;
#line 542
        srcptr2 ++;
#line 539
        i ++;
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___0: 
#line 544
      dstptr += numcols;
#line 545
      srcptr += stride << 1;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break: 
#line 548
    dstptr = a + (1 - parity) * stride;
#line 549
    srcptr = a + (2 - parity) * stride;
#line 550
    n = (numrows - m) - ! parity;
    {
#line 551
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 551
      __cil_tmp20 = n;
#line 551
      n --;
#line 551
      if (! (__cil_tmp20 > 0)) {
#line 551
        goto while_break___1;
      }
#line 552
      dstptr2 = dstptr;
#line 553
      srcptr2 = srcptr;
#line 554
      i = 0;
      {
#line 554
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 554
        if (! (i < numcols)) {
#line 554
          goto while_break___2;
        }
#line 555
        *dstptr2 = *srcptr2;
#line 556
        dstptr2 ++;
#line 557
        srcptr2 ++;
#line 554
        i ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___2: 
#line 559
      dstptr += stride;
#line 560
      srcptr += stride << 1;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: 
#line 563
    dstptr = a + hstartcol * stride;
#line 564
    srcptr = buf;
#line 565
    n = m;
    {
#line 566
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 566
      __cil_tmp21 = n;
#line 566
      n --;
#line 566
      if (! (__cil_tmp21 > 0)) {
#line 566
        goto while_break___3;
      }
#line 567
      dstptr2 = dstptr;
#line 568
      srcptr2 = srcptr;
#line 569
      i = 0;
      {
#line 569
      while (1) {
        while_continue___4: /* CIL Label */ ;

#line 569
        if (! (i < numcols)) {
#line 569
          goto while_break___4;
        }
#line 570
        *dstptr2 = *srcptr2;
#line 571
        dstptr2 ++;
#line 572
        srcptr2 ++;
#line 569
        i ++;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___4: 
#line 574
      dstptr += stride;
#line 575
      srcptr += numcols;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___3: ;
  }
#line 580
  if ((unsigned long )buf != (unsigned long )(splitbuf)) {
    {
#line 581
    jas_free((void *)buf);
    }
  }
#line 584
  return;
}
}
#line 586 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_qmfb_join_row(jpc_fix_t *a , int numcols , int parity ) 
{ 
  int bufsize ;
  jpc_fix_t joinbuf[4096] ;
  jpc_fix_t *buf ;
  register jpc_fix_t *srcptr ;
  register jpc_fix_t *dstptr ;
  register int n ;
  int hstartcol ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  void *tmp ;

  {
#line 589
  bufsize = ((numcols + (1 << 1)) - 1) >> 1;
#line 591
  buf = joinbuf;
#line 598
  if (bufsize > 4096) {
    {
#line 599
    tmp = jas_alloc2((size_t )bufsize, sizeof(jpc_fix_t ));
#line 599
    buf = (jpc_fix_t *)tmp;
    }
#line 599
    if (! buf) {
      {
#line 601
      abort();
      }
    }
  }
#line 605
  hstartcol = ((numcols + 1) - parity) >> 1;
#line 608
  n = hstartcol;
#line 609
  srcptr = a + 0;
#line 610
  dstptr = buf;
  {
#line 611
  while (1) {
    while_continue: /* CIL Label */ ;
#line 611
    __cil_tmp12 = n;
#line 611
    n --;
#line 611
    if (! (__cil_tmp12 > 0)) {
#line 611
      goto while_break;
    }
#line 612
    *dstptr = *srcptr;
#line 613
    srcptr ++;
#line 614
    dstptr ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
#line 617
  srcptr = a + hstartcol;
#line 618
  dstptr = a + (1 - parity);
#line 619
  n = numcols - hstartcol;
  {
#line 620
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 620
    __cil_tmp13 = n;
#line 620
    n --;
#line 620
    if (! (__cil_tmp13 > 0)) {
#line 620
      goto while_break___0;
    }
#line 621
    *dstptr = *srcptr;
#line 622
    dstptr += 2;
#line 623
    srcptr ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: 
#line 626
  srcptr = buf;
#line 627
  dstptr = a + parity;
#line 628
  n = hstartcol;
  {
#line 629
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 629
    __cil_tmp14 = n;
#line 629
    n --;
#line 629
    if (! (__cil_tmp14 > 0)) {
#line 629
      goto while_break___1;
    }
#line 630
    *dstptr = *srcptr;
#line 631
    dstptr += 2;
#line 632
    srcptr ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___1: ;
#line 636
  if ((unsigned long )buf != (unsigned long )(joinbuf)) {
    {
#line 637
    jas_free((void *)buf);
    }
  }
#line 640
  return;
}
}
#line 642 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_qmfb_join_col(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  int bufsize ;
  jpc_fix_t joinbuf[4096] ;
  jpc_fix_t *buf ;
  register jpc_fix_t *srcptr ;
  register jpc_fix_t *dstptr ;
  register int n ;
  int hstartcol ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  void *tmp ;

  {
#line 646
  bufsize = ((numrows + (1 << 1)) - 1) >> 1;
#line 648
  buf = joinbuf;
#line 655
  if (bufsize > 4096) {
    {
#line 656
    tmp = jas_alloc2((size_t )bufsize, sizeof(jpc_fix_t ));
#line 656
    buf = (jpc_fix_t *)tmp;
    }
#line 656
    if (! buf) {
      {
#line 658
      abort();
      }
    }
  }
#line 662
  hstartcol = ((numrows + 1) - parity) >> 1;
#line 665
  n = hstartcol;
#line 666
  srcptr = a + 0;
#line 667
  dstptr = buf;
  {
#line 668
  while (1) {
    while_continue: /* CIL Label */ ;
#line 668
    __cil_tmp13 = n;
#line 668
    n --;
#line 668
    if (! (__cil_tmp13 > 0)) {
#line 668
      goto while_break;
    }
#line 669
    *dstptr = *srcptr;
#line 670
    srcptr += stride;
#line 671
    dstptr ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
#line 674
  srcptr = a + hstartcol * stride;
#line 675
  dstptr = a + (1 - parity) * stride;
#line 676
  n = numrows - hstartcol;
  {
#line 677
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 677
    __cil_tmp14 = n;
#line 677
    n --;
#line 677
    if (! (__cil_tmp14 > 0)) {
#line 677
      goto while_break___0;
    }
#line 678
    *dstptr = *srcptr;
#line 679
    dstptr += 2 * stride;
#line 680
    srcptr += stride;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: 
#line 683
  srcptr = buf;
#line 684
  dstptr = a + parity * stride;
#line 685
  n = hstartcol;
  {
#line 686
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 686
    __cil_tmp15 = n;
#line 686
    n --;
#line 686
    if (! (__cil_tmp15 > 0)) {
#line 686
      goto while_break___1;
    }
#line 687
    *dstptr = *srcptr;
#line 688
    dstptr += 2 * stride;
#line 689
    srcptr ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___1: ;
#line 693
  if ((unsigned long )buf != (unsigned long )(joinbuf)) {
    {
#line 694
    jas_free((void *)buf);
    }
  }
#line 697
  return;
}
}
#line 699 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_qmfb_join_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  int bufsize ;
  jpc_fix_t joinbuf[65536] ;
  jpc_fix_t *buf ;
  jpc_fix_t *srcptr ;
  jpc_fix_t *dstptr ;
  register jpc_fix_t *srcptr2 ;
  register jpc_fix_t *dstptr2 ;
  register int n ;
  register int i ;
  int hstartcol ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  void *tmp ;

  {
#line 703
  bufsize = ((numrows + (1 << 1)) - 1) >> 1;
#line 705
  buf = joinbuf;
#line 715
  if (bufsize > 4096) {
    {
#line 716
    tmp = jas_alloc3((size_t )bufsize, (size_t )16, sizeof(jpc_fix_t ));
#line 716
    buf = (jpc_fix_t *)tmp;
    }
#line 716
    if (! buf) {
      {
#line 718
      abort();
      }
    }
  }
#line 722
  hstartcol = ((numrows + 1) - parity) >> 1;
#line 725
  n = hstartcol;
#line 726
  srcptr = a + 0;
#line 727
  dstptr = buf;
  {
#line 728
  while (1) {
    while_continue: /* CIL Label */ ;
#line 728
    __cil_tmp16 = n;
#line 728
    n --;
#line 728
    if (! (__cil_tmp16 > 0)) {
#line 728
      goto while_break;
    }
#line 729
    dstptr2 = dstptr;
#line 730
    srcptr2 = srcptr;
#line 731
    i = 0;
    {
#line 731
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 731
      if (! (i < 16)) {
#line 731
        goto while_break___0;
      }
#line 732
      *dstptr2 = *srcptr2;
#line 733
      dstptr2 ++;
#line 734
      srcptr2 ++;
#line 731
      i ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: 
#line 736
    srcptr += stride;
#line 737
    dstptr += 16;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: 
#line 740
  srcptr = a + hstartcol * stride;
#line 741
  dstptr = a + (1 - parity) * stride;
#line 742
  n = numrows - hstartcol;
  {
#line 743
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 743
    __cil_tmp17 = n;
#line 743
    n --;
#line 743
    if (! (__cil_tmp17 > 0)) {
#line 743
      goto while_break___1;
    }
#line 744
    dstptr2 = dstptr;
#line 745
    srcptr2 = srcptr;
#line 746
    i = 0;
    {
#line 746
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 746
      if (! (i < 16)) {
#line 746
        goto while_break___2;
      }
#line 747
      *dstptr2 = *srcptr2;
#line 748
      dstptr2 ++;
#line 749
      srcptr2 ++;
#line 746
      i ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: 
#line 751
    dstptr += 2 * stride;
#line 752
    srcptr += stride;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___1: 
#line 755
  srcptr = buf;
#line 756
  dstptr = a + parity * stride;
#line 757
  n = hstartcol;
  {
#line 758
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 758
    __cil_tmp18 = n;
#line 758
    n --;
#line 758
    if (! (__cil_tmp18 > 0)) {
#line 758
      goto while_break___3;
    }
#line 759
    dstptr2 = dstptr;
#line 760
    srcptr2 = srcptr;
#line 761
    i = 0;
    {
#line 761
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 761
      if (! (i < 16)) {
#line 761
        goto while_break___4;
      }
#line 762
      *dstptr2 = *srcptr2;
#line 763
      dstptr2 ++;
#line 764
      srcptr2 ++;
#line 761
      i ++;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___4: 
#line 766
    dstptr += 2 * stride;
#line 767
    srcptr += 16;
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break___3: ;
#line 771
  if ((unsigned long )buf != (unsigned long )(joinbuf)) {
    {
#line 772
    jas_free((void *)buf);
    }
  }
#line 775
  return;
}
}
#line 777 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_qmfb_join_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                          int parity ) 
{ 
  int bufsize ;
  jpc_fix_t joinbuf[65536] ;
  jpc_fix_t *buf ;
  jpc_fix_t *srcptr ;
  jpc_fix_t *dstptr ;
  register jpc_fix_t *srcptr2 ;
  register jpc_fix_t *dstptr2 ;
  register int n ;
  register int i ;
  int hstartcol ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  void *tmp ;

  {
#line 781
  bufsize = ((numrows + (1 << 1)) - 1) >> 1;
#line 783
  buf = joinbuf;
#line 793
  if (bufsize > 4096) {
    {
#line 794
    tmp = jas_alloc3((size_t )bufsize, (size_t )numcols, sizeof(jpc_fix_t ));
#line 794
    buf = (jpc_fix_t *)tmp;
    }
#line 794
    if (! buf) {
      {
#line 796
      abort();
      }
    }
  }
#line 800
  hstartcol = ((numrows + 1) - parity) >> 1;
#line 803
  n = hstartcol;
#line 804
  srcptr = a + 0;
#line 805
  dstptr = buf;
  {
#line 806
  while (1) {
    while_continue: /* CIL Label */ ;
#line 806
    __cil_tmp17 = n;
#line 806
    n --;
#line 806
    if (! (__cil_tmp17 > 0)) {
#line 806
      goto while_break;
    }
#line 807
    dstptr2 = dstptr;
#line 808
    srcptr2 = srcptr;
#line 809
    i = 0;
    {
#line 809
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 809
      if (! (i < numcols)) {
#line 809
        goto while_break___0;
      }
#line 810
      *dstptr2 = *srcptr2;
#line 811
      dstptr2 ++;
#line 812
      srcptr2 ++;
#line 809
      i ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: 
#line 814
    srcptr += stride;
#line 815
    dstptr += numcols;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: 
#line 818
  srcptr = a + hstartcol * stride;
#line 819
  dstptr = a + (1 - parity) * stride;
#line 820
  n = numrows - hstartcol;
  {
#line 821
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 821
    __cil_tmp18 = n;
#line 821
    n --;
#line 821
    if (! (__cil_tmp18 > 0)) {
#line 821
      goto while_break___1;
    }
#line 822
    dstptr2 = dstptr;
#line 823
    srcptr2 = srcptr;
#line 824
    i = 0;
    {
#line 824
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 824
      if (! (i < numcols)) {
#line 824
        goto while_break___2;
      }
#line 825
      *dstptr2 = *srcptr2;
#line 826
      dstptr2 ++;
#line 827
      srcptr2 ++;
#line 824
      i ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: 
#line 829
    dstptr += 2 * stride;
#line 830
    srcptr += stride;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___1: 
#line 833
  srcptr = buf;
#line 834
  dstptr = a + parity * stride;
#line 835
  n = hstartcol;
  {
#line 836
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 836
    __cil_tmp19 = n;
#line 836
    n --;
#line 836
    if (! (__cil_tmp19 > 0)) {
#line 836
      goto while_break___3;
    }
#line 837
    dstptr2 = dstptr;
#line 838
    srcptr2 = srcptr;
#line 839
    i = 0;
    {
#line 839
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 839
      if (! (i < numcols)) {
#line 839
        goto while_break___4;
      }
#line 840
      *dstptr2 = *srcptr2;
#line 841
      dstptr2 ++;
#line 842
      srcptr2 ++;
#line 839
      i ++;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___4: 
#line 844
    dstptr += 2 * stride;
#line 845
    srcptr += numcols;
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break___3: ;
#line 849
  if ((unsigned long )buf != (unsigned long )(joinbuf)) {
    {
#line 850
    jas_free((void *)buf);
    }
  }
#line 853
  return;
}
}
#line 859 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ft_fwdlift_row(jpc_fix_t *a , int numcols , int parity ) 
{ 
  register jpc_fix_t *lptr ;
  register jpc_fix_t *hptr ;
  register int n ;
  int llen ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
#line 867
  llen = ((numcols + 1) - parity) >> 1;
#line 869
  if (numcols > 1) {
#line 872
    lptr = a + 0;
#line 873
    hptr = a + llen;
#line 874
    if (parity) {
#line 875
      *(hptr + 0) -= *(lptr + 0);
#line 876
      hptr ++;
    }
#line 878
    n = ((numcols - llen) - parity) - (parity == (numcols & 1));
    {
#line 879
    while (1) {
      while_continue: /* CIL Label */ ;
#line 879
      __cil_tmp8 = n;
#line 879
      n --;
#line 879
      if (! (__cil_tmp8 > 0)) {
#line 879
        goto while_break;
      }
#line 880
      *(hptr + 0) -= (*(lptr + 0) + *(lptr + 1)) >> 1;
#line 881
      hptr ++;
#line 882
      lptr ++;
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break: ;
#line 884
    if (parity == (numcols & 1)) {
#line 885
      *(hptr + 0) -= *(lptr + 0);
    }
#line 889
    lptr = a + 0;
#line 890
    hptr = a + llen;
#line 891
    if (! parity) {
#line 892
      *(lptr + 0) += (*(hptr + 0) + 1L) >> 1;
#line 893
      lptr ++;
    }
#line 895
    n = (llen - ! parity) - (parity != (numcols & 1));
    {
#line 896
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 896
      __cil_tmp9 = n;
#line 896
      n --;
#line 896
      if (! (__cil_tmp9 > 0)) {
#line 896
        goto while_break___0;
      }
#line 897
      *(lptr + 0) += ((*(hptr + 0) + *(hptr + 1)) + 2L) >> 2;
#line 898
      lptr ++;
#line 899
      hptr ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
#line 901
    if (parity != (numcols & 1)) {
#line 902
      *(lptr + 0) += (*(hptr + 0) + 1L) >> 1;
    }
  } else
#line 907
  if (parity) {
#line 908
    lptr = a + 0;
#line 909
    *(lptr + 0) <<= 1;
  }
#line 911
  return;
}
}
#line 916 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ft_fwdlift_col(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register int n ;
  int llen ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
#line 929
  llen = ((numrows + 1) - parity) >> 1;
#line 931
  if (numrows > 1) {
#line 934
    lptr = a + 0;
#line 935
    hptr = a + llen * stride;
#line 936
    if (parity) {
#line 937
      *(hptr + 0) -= *(lptr + 0);
#line 938
      hptr += stride;
    }
#line 940
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 941
    while (1) {
      while_continue: /* CIL Label */ ;
#line 941
      __cil_tmp9 = n;
#line 941
      n --;
#line 941
      if (! (__cil_tmp9 > 0)) {
#line 941
        goto while_break;
      }
#line 942
      *(hptr + 0) -= (*(lptr + 0) + *(lptr + stride)) >> 1;
#line 943
      hptr += stride;
#line 944
      lptr += stride;
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break: ;
#line 946
    if (parity == (numrows & 1)) {
#line 947
      *(hptr + 0) -= *(lptr + 0);
    }
#line 951
    lptr = a + 0;
#line 952
    hptr = a + llen * stride;
#line 953
    if (! parity) {
#line 954
      *(lptr + 0) += (*(hptr + 0) + 1L) >> 1;
#line 955
      lptr += stride;
    }
#line 957
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 958
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 958
      __cil_tmp10 = n;
#line 958
      n --;
#line 958
      if (! (__cil_tmp10 > 0)) {
#line 958
        goto while_break___0;
      }
#line 959
      *(lptr + 0) += ((*(hptr + 0) + *(hptr + stride)) + 2L) >> 2;
#line 960
      lptr += stride;
#line 961
      hptr += stride;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
#line 963
    if (parity != (numrows & 1)) {
#line 964
      *(lptr + 0) += (*(hptr + 0) + 1L) >> 1;
    }
  } else
#line 969
  if (parity) {
#line 970
    lptr = a + 0;
#line 971
    *(lptr + 0) <<= 1;
  }
#line 973
  return;
}
}
#line 978 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ft_fwdlift_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  register int i ;
  int llen ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
#line 989
  llen = ((numrows + 1) - parity) >> 1;
#line 991
  if (numrows > 1) {
#line 994
    lptr = a + 0;
#line 995
    hptr = a + llen * stride;
#line 996
    if (parity) {
#line 997
      lptr2 = lptr;
#line 998
      hptr2 = hptr;
#line 999
      i = 0;
      {
#line 999
      while (1) {
        while_continue: /* CIL Label */ ;

#line 999
        if (! (i < 16)) {
#line 999
          goto while_break;
        }
#line 1000
        *(hptr2 + 0) -= *(lptr2 + 0);
#line 1001
        hptr2 ++;
#line 1002
        lptr2 ++;
#line 999
        i ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break: 
#line 1004
      hptr += stride;
    }
#line 1006
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 1007
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1007
      __cil_tmp12 = n;
#line 1007
      n --;
#line 1007
      if (! (__cil_tmp12 > 0)) {
#line 1007
        goto while_break___0;
      }
#line 1008
      lptr2 = lptr;
#line 1009
      hptr2 = hptr;
#line 1010
      i = 0;
      {
#line 1010
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 1010
        if (! (i < 16)) {
#line 1010
          goto while_break___1;
        }
#line 1011
        *(hptr2 + 0) -= (*(lptr2 + 0) + *(lptr2 + stride)) >> 1;
#line 1012
        lptr2 ++;
#line 1013
        hptr2 ++;
#line 1010
        i ++;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___1: 
#line 1015
      hptr += stride;
#line 1016
      lptr += stride;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1018
    if (parity == (numrows & 1)) {
#line 1019
      lptr2 = lptr;
#line 1020
      hptr2 = hptr;
#line 1021
      i = 0;
      {
#line 1021
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 1021
        if (! (i < 16)) {
#line 1021
          goto while_break___2;
        }
#line 1022
        *(hptr2 + 0) -= *(lptr2 + 0);
#line 1023
        lptr2 ++;
#line 1024
        hptr2 ++;
#line 1021
        i ++;
      }
      while_break___11: /* CIL Label */ ;
      }
      while_break___2: ;
    }
#line 1029
    lptr = a + 0;
#line 1030
    hptr = a + llen * stride;
#line 1031
    if (! parity) {
#line 1032
      lptr2 = lptr;
#line 1033
      hptr2 = hptr;
#line 1034
      i = 0;
      {
#line 1034
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 1034
        if (! (i < 16)) {
#line 1034
          goto while_break___3;
        }
#line 1035
        *(lptr2 + 0) += (*(hptr2 + 0) + 1L) >> 1;
#line 1036
        lptr2 ++;
#line 1037
        hptr2 ++;
#line 1034
        i ++;
      }
      while_break___12: /* CIL Label */ ;
      }
      while_break___3: 
#line 1039
      lptr += stride;
    }
#line 1041
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 1042
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 1042
      __cil_tmp13 = n;
#line 1042
      n --;
#line 1042
      if (! (__cil_tmp13 > 0)) {
#line 1042
        goto while_break___4;
      }
#line 1043
      lptr2 = lptr;
#line 1044
      hptr2 = hptr;
#line 1045
      i = 0;
      {
#line 1045
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 1045
        if (! (i < 16)) {
#line 1045
          goto while_break___5;
        }
#line 1046
        *(lptr2 + 0) += ((*(hptr2 + 0) + *(hptr2 + stride)) + 2L) >> 2;
#line 1047
        lptr2 ++;
#line 1048
        hptr2 ++;
#line 1045
        i ++;
      }
      while_break___14: /* CIL Label */ ;
      }
      while_break___5: 
#line 1050
      lptr += stride;
#line 1051
      hptr += stride;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___4: ;
#line 1053
    if (parity != (numrows & 1)) {
#line 1054
      lptr2 = lptr;
#line 1055
      hptr2 = hptr;
#line 1056
      i = 0;
      {
#line 1056
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 1056
        if (! (i < 16)) {
#line 1056
          goto while_break___6;
        }
#line 1057
        *(lptr2 + 0) += (*(hptr2 + 0) + 1L) >> 1;
#line 1058
        lptr2 ++;
#line 1059
        hptr2 ++;
#line 1056
        i ++;
      }
      while_break___15: /* CIL Label */ ;
      }
      while_break___6: ;
    }
  } else
#line 1065
  if (parity) {
#line 1066
    lptr2 = a + 0;
#line 1067
    i = 0;
    {
#line 1067
    while (1) {
      while_continue___7: /* CIL Label */ ;

#line 1067
      if (! (i < 16)) {
#line 1067
        goto while_break___7;
      }
#line 1068
      *(lptr2 + 0) <<= 1;
#line 1069
      lptr2 ++;
#line 1067
      i ++;
    }
    while_break___16: /* CIL Label */ ;
    }
    while_break___7: ;
  }
#line 1072
  return;
}
}
#line 1077 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ft_fwdlift_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  register int i ;
  int llen ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;

  {
#line 1089
  llen = ((numrows + 1) - parity) >> 1;
#line 1091
  if (numrows > 1) {
#line 1094
    lptr = a + 0;
#line 1095
    hptr = a + llen * stride;
#line 1096
    if (parity) {
#line 1097
      lptr2 = lptr;
#line 1098
      hptr2 = hptr;
#line 1099
      i = 0;
      {
#line 1099
      while (1) {
        while_continue: /* CIL Label */ ;

#line 1099
        if (! (i < numcols)) {
#line 1099
          goto while_break;
        }
#line 1100
        *(hptr2 + 0) -= *(lptr2 + 0);
#line 1101
        hptr2 ++;
#line 1102
        lptr2 ++;
#line 1099
        i ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break: 
#line 1104
      hptr += stride;
    }
#line 1106
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 1107
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1107
      __cil_tmp13 = n;
#line 1107
      n --;
#line 1107
      if (! (__cil_tmp13 > 0)) {
#line 1107
        goto while_break___0;
      }
#line 1108
      lptr2 = lptr;
#line 1109
      hptr2 = hptr;
#line 1110
      i = 0;
      {
#line 1110
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 1110
        if (! (i < numcols)) {
#line 1110
          goto while_break___1;
        }
#line 1111
        *(hptr2 + 0) -= (*(lptr2 + 0) + *(lptr2 + stride)) >> 1;
#line 1112
        lptr2 ++;
#line 1113
        hptr2 ++;
#line 1110
        i ++;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___1: 
#line 1115
      hptr += stride;
#line 1116
      lptr += stride;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1118
    if (parity == (numrows & 1)) {
#line 1119
      lptr2 = lptr;
#line 1120
      hptr2 = hptr;
#line 1121
      i = 0;
      {
#line 1121
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 1121
        if (! (i < numcols)) {
#line 1121
          goto while_break___2;
        }
#line 1122
        *(hptr2 + 0) -= *(lptr2 + 0);
#line 1123
        lptr2 ++;
#line 1124
        hptr2 ++;
#line 1121
        i ++;
      }
      while_break___11: /* CIL Label */ ;
      }
      while_break___2: ;
    }
#line 1129
    lptr = a + 0;
#line 1130
    hptr = a + llen * stride;
#line 1131
    if (! parity) {
#line 1132
      lptr2 = lptr;
#line 1133
      hptr2 = hptr;
#line 1134
      i = 0;
      {
#line 1134
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 1134
        if (! (i < numcols)) {
#line 1134
          goto while_break___3;
        }
#line 1135
        *(lptr2 + 0) += (*(hptr2 + 0) + 1L) >> 1;
#line 1136
        lptr2 ++;
#line 1137
        hptr2 ++;
#line 1134
        i ++;
      }
      while_break___12: /* CIL Label */ ;
      }
      while_break___3: 
#line 1139
      lptr += stride;
    }
#line 1141
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 1142
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 1142
      __cil_tmp14 = n;
#line 1142
      n --;
#line 1142
      if (! (__cil_tmp14 > 0)) {
#line 1142
        goto while_break___4;
      }
#line 1143
      lptr2 = lptr;
#line 1144
      hptr2 = hptr;
#line 1145
      i = 0;
      {
#line 1145
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 1145
        if (! (i < numcols)) {
#line 1145
          goto while_break___5;
        }
#line 1146
        *(lptr2 + 0) += ((*(hptr2 + 0) + *(hptr2 + stride)) + 2L) >> 2;
#line 1147
        lptr2 ++;
#line 1148
        hptr2 ++;
#line 1145
        i ++;
      }
      while_break___14: /* CIL Label */ ;
      }
      while_break___5: 
#line 1150
      lptr += stride;
#line 1151
      hptr += stride;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___4: ;
#line 1153
    if (parity != (numrows & 1)) {
#line 1154
      lptr2 = lptr;
#line 1155
      hptr2 = hptr;
#line 1156
      i = 0;
      {
#line 1156
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 1156
        if (! (i < numcols)) {
#line 1156
          goto while_break___6;
        }
#line 1157
        *(lptr2 + 0) += (*(hptr2 + 0) + 1L) >> 1;
#line 1158
        lptr2 ++;
#line 1159
        hptr2 ++;
#line 1156
        i ++;
      }
      while_break___15: /* CIL Label */ ;
      }
      while_break___6: ;
    }
  } else
#line 1165
  if (parity) {
#line 1166
    lptr2 = a + 0;
#line 1167
    i = 0;
    {
#line 1167
    while (1) {
      while_continue___7: /* CIL Label */ ;

#line 1167
      if (! (i < numcols)) {
#line 1167
        goto while_break___7;
      }
#line 1168
      *(lptr2 + 0) <<= 1;
#line 1169
      lptr2 ++;
#line 1167
      i ++;
    }
    while_break___16: /* CIL Label */ ;
    }
    while_break___7: ;
  }
#line 1172
  return;
}
}
#line 1177 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ft_invlift_row(jpc_fix_t *a , int numcols , int parity ) 
{ 
  register jpc_fix_t *lptr ;
  register jpc_fix_t *hptr ;
  register int n ;
  int llen ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
#line 1185
  llen = ((numcols + 1) - parity) >> 1;
#line 1187
  if (numcols > 1) {
#line 1190
    lptr = a + 0;
#line 1191
    hptr = a + llen;
#line 1192
    if (! parity) {
#line 1193
      *(lptr + 0) -= (*(hptr + 0) + 1L) >> 1;
#line 1194
      lptr ++;
    }
#line 1196
    n = (llen - ! parity) - (parity != (numcols & 1));
    {
#line 1197
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1197
      __cil_tmp8 = n;
#line 1197
      n --;
#line 1197
      if (! (__cil_tmp8 > 0)) {
#line 1197
        goto while_break;
      }
#line 1198
      *(lptr + 0) -= ((*(hptr + 0) + *(hptr + 1)) + 2L) >> 2;
#line 1199
      lptr ++;
#line 1200
      hptr ++;
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break: ;
#line 1202
    if (parity != (numcols & 1)) {
#line 1203
      *(lptr + 0) -= (*(hptr + 0) + 1L) >> 1;
    }
#line 1207
    lptr = a + 0;
#line 1208
    hptr = a + llen;
#line 1209
    if (parity) {
#line 1210
      *(hptr + 0) += *(lptr + 0);
#line 1211
      hptr ++;
    }
#line 1213
    n = ((numcols - llen) - parity) - (parity == (numcols & 1));
    {
#line 1214
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1214
      __cil_tmp9 = n;
#line 1214
      n --;
#line 1214
      if (! (__cil_tmp9 > 0)) {
#line 1214
        goto while_break___0;
      }
#line 1215
      *(hptr + 0) += (*(lptr + 0) + *(lptr + 1)) >> 1;
#line 1216
      hptr ++;
#line 1217
      lptr ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1219
    if (parity == (numcols & 1)) {
#line 1220
      *(hptr + 0) += *(lptr + 0);
    }
  } else
#line 1225
  if (parity) {
#line 1226
    lptr = a + 0;
#line 1227
    *(lptr + 0) >>= 1;
  }
#line 1229
  return;
}
}
#line 1234 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ft_invlift_col(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register int n ;
  int llen ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
#line 1247
  llen = ((numrows + 1) - parity) >> 1;
#line 1249
  if (numrows > 1) {
#line 1252
    lptr = a + 0;
#line 1253
    hptr = a + llen * stride;
#line 1254
    if (! parity) {
#line 1255
      *(lptr + 0) -= (*(hptr + 0) + 1L) >> 1;
#line 1256
      lptr += stride;
    }
#line 1258
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 1259
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1259
      __cil_tmp9 = n;
#line 1259
      n --;
#line 1259
      if (! (__cil_tmp9 > 0)) {
#line 1259
        goto while_break;
      }
#line 1260
      *(lptr + 0) -= ((*(hptr + 0) + *(hptr + stride)) + 2L) >> 2;
#line 1261
      lptr += stride;
#line 1262
      hptr += stride;
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break: ;
#line 1264
    if (parity != (numrows & 1)) {
#line 1265
      *(lptr + 0) -= (*(hptr + 0) + 1L) >> 1;
    }
#line 1269
    lptr = a + 0;
#line 1270
    hptr = a + llen * stride;
#line 1271
    if (parity) {
#line 1272
      *(hptr + 0) += *(lptr + 0);
#line 1273
      hptr += stride;
    }
#line 1275
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 1276
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1276
      __cil_tmp10 = n;
#line 1276
      n --;
#line 1276
      if (! (__cil_tmp10 > 0)) {
#line 1276
        goto while_break___0;
      }
#line 1277
      *(hptr + 0) += (*(lptr + 0) + *(lptr + stride)) >> 1;
#line 1278
      hptr += stride;
#line 1279
      lptr += stride;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1281
    if (parity == (numrows & 1)) {
#line 1282
      *(hptr + 0) += *(lptr + 0);
    }
  } else
#line 1287
  if (parity) {
#line 1288
    lptr = a + 0;
#line 1289
    *(lptr + 0) >>= 1;
  }
#line 1291
  return;
}
}
#line 1296 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ft_invlift_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  register int i ;
  int llen ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
#line 1307
  llen = ((numrows + 1) - parity) >> 1;
#line 1309
  if (numrows > 1) {
#line 1312
    lptr = a + 0;
#line 1313
    hptr = a + llen * stride;
#line 1314
    if (! parity) {
#line 1315
      lptr2 = lptr;
#line 1316
      hptr2 = hptr;
#line 1317
      i = 0;
      {
#line 1317
      while (1) {
        while_continue: /* CIL Label */ ;

#line 1317
        if (! (i < 16)) {
#line 1317
          goto while_break;
        }
#line 1318
        *(lptr2 + 0) -= (*(hptr2 + 0) + 1L) >> 1;
#line 1319
        lptr2 ++;
#line 1320
        hptr2 ++;
#line 1317
        i ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break: 
#line 1322
      lptr += stride;
    }
#line 1324
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 1325
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1325
      __cil_tmp12 = n;
#line 1325
      n --;
#line 1325
      if (! (__cil_tmp12 > 0)) {
#line 1325
        goto while_break___0;
      }
#line 1326
      lptr2 = lptr;
#line 1327
      hptr2 = hptr;
#line 1328
      i = 0;
      {
#line 1328
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 1328
        if (! (i < 16)) {
#line 1328
          goto while_break___1;
        }
#line 1329
        *(lptr2 + 0) -= ((*(hptr2 + 0) + *(hptr2 + stride)) + 2L) >> 2;
#line 1330
        lptr2 ++;
#line 1331
        hptr2 ++;
#line 1328
        i ++;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___1: 
#line 1333
      lptr += stride;
#line 1334
      hptr += stride;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1336
    if (parity != (numrows & 1)) {
#line 1337
      lptr2 = lptr;
#line 1338
      hptr2 = hptr;
#line 1339
      i = 0;
      {
#line 1339
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 1339
        if (! (i < 16)) {
#line 1339
          goto while_break___2;
        }
#line 1340
        *(lptr2 + 0) -= (*(hptr2 + 0) + 1L) >> 1;
#line 1341
        lptr2 ++;
#line 1342
        hptr2 ++;
#line 1339
        i ++;
      }
      while_break___11: /* CIL Label */ ;
      }
      while_break___2: ;
    }
#line 1347
    lptr = a + 0;
#line 1348
    hptr = a + llen * stride;
#line 1349
    if (parity) {
#line 1350
      lptr2 = lptr;
#line 1351
      hptr2 = hptr;
#line 1352
      i = 0;
      {
#line 1352
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 1352
        if (! (i < 16)) {
#line 1352
          goto while_break___3;
        }
#line 1353
        *(hptr2 + 0) += *(lptr2 + 0);
#line 1354
        hptr2 ++;
#line 1355
        lptr2 ++;
#line 1352
        i ++;
      }
      while_break___12: /* CIL Label */ ;
      }
      while_break___3: 
#line 1357
      hptr += stride;
    }
#line 1359
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 1360
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 1360
      __cil_tmp13 = n;
#line 1360
      n --;
#line 1360
      if (! (__cil_tmp13 > 0)) {
#line 1360
        goto while_break___4;
      }
#line 1361
      lptr2 = lptr;
#line 1362
      hptr2 = hptr;
#line 1363
      i = 0;
      {
#line 1363
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 1363
        if (! (i < 16)) {
#line 1363
          goto while_break___5;
        }
#line 1364
        *(hptr2 + 0) += (*(lptr2 + 0) + *(lptr2 + stride)) >> 1;
#line 1365
        lptr2 ++;
#line 1366
        hptr2 ++;
#line 1363
        i ++;
      }
      while_break___14: /* CIL Label */ ;
      }
      while_break___5: 
#line 1368
      hptr += stride;
#line 1369
      lptr += stride;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___4: ;
#line 1371
    if (parity == (numrows & 1)) {
#line 1372
      lptr2 = lptr;
#line 1373
      hptr2 = hptr;
#line 1374
      i = 0;
      {
#line 1374
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 1374
        if (! (i < 16)) {
#line 1374
          goto while_break___6;
        }
#line 1375
        *(hptr2 + 0) += *(lptr2 + 0);
#line 1376
        lptr2 ++;
#line 1377
        hptr2 ++;
#line 1374
        i ++;
      }
      while_break___15: /* CIL Label */ ;
      }
      while_break___6: ;
    }
  } else
#line 1383
  if (parity) {
#line 1384
    lptr2 = a + 0;
#line 1385
    i = 0;
    {
#line 1385
    while (1) {
      while_continue___7: /* CIL Label */ ;

#line 1385
      if (! (i < 16)) {
#line 1385
        goto while_break___7;
      }
#line 1386
      *(lptr2 + 0) >>= 1;
#line 1387
      lptr2 ++;
#line 1385
      i ++;
    }
    while_break___16: /* CIL Label */ ;
    }
    while_break___7: ;
  }
#line 1390
  return;
}
}
#line 1395 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ft_invlift_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  register int i ;
  int llen ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;

  {
#line 1407
  llen = ((numrows + 1) - parity) >> 1;
#line 1409
  if (numrows > 1) {
#line 1412
    lptr = a + 0;
#line 1413
    hptr = a + llen * stride;
#line 1414
    if (! parity) {
#line 1415
      lptr2 = lptr;
#line 1416
      hptr2 = hptr;
#line 1417
      i = 0;
      {
#line 1417
      while (1) {
        while_continue: /* CIL Label */ ;

#line 1417
        if (! (i < numcols)) {
#line 1417
          goto while_break;
        }
#line 1418
        *(lptr2 + 0) -= (*(hptr2 + 0) + 1L) >> 1;
#line 1419
        lptr2 ++;
#line 1420
        hptr2 ++;
#line 1417
        i ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break: 
#line 1422
      lptr += stride;
    }
#line 1424
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 1425
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1425
      __cil_tmp13 = n;
#line 1425
      n --;
#line 1425
      if (! (__cil_tmp13 > 0)) {
#line 1425
        goto while_break___0;
      }
#line 1426
      lptr2 = lptr;
#line 1427
      hptr2 = hptr;
#line 1428
      i = 0;
      {
#line 1428
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 1428
        if (! (i < numcols)) {
#line 1428
          goto while_break___1;
        }
#line 1429
        *(lptr2 + 0) -= ((*(hptr2 + 0) + *(hptr2 + stride)) + 2L) >> 2;
#line 1430
        lptr2 ++;
#line 1431
        hptr2 ++;
#line 1428
        i ++;
      }
      while_break___10: /* CIL Label */ ;
      }
      while_break___1: 
#line 1433
      lptr += stride;
#line 1434
      hptr += stride;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1436
    if (parity != (numrows & 1)) {
#line 1437
      lptr2 = lptr;
#line 1438
      hptr2 = hptr;
#line 1439
      i = 0;
      {
#line 1439
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 1439
        if (! (i < numcols)) {
#line 1439
          goto while_break___2;
        }
#line 1440
        *(lptr2 + 0) -= (*(hptr2 + 0) + 1L) >> 1;
#line 1441
        lptr2 ++;
#line 1442
        hptr2 ++;
#line 1439
        i ++;
      }
      while_break___11: /* CIL Label */ ;
      }
      while_break___2: ;
    }
#line 1447
    lptr = a + 0;
#line 1448
    hptr = a + llen * stride;
#line 1449
    if (parity) {
#line 1450
      lptr2 = lptr;
#line 1451
      hptr2 = hptr;
#line 1452
      i = 0;
      {
#line 1452
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 1452
        if (! (i < numcols)) {
#line 1452
          goto while_break___3;
        }
#line 1453
        *(hptr2 + 0) += *(lptr2 + 0);
#line 1454
        hptr2 ++;
#line 1455
        lptr2 ++;
#line 1452
        i ++;
      }
      while_break___12: /* CIL Label */ ;
      }
      while_break___3: 
#line 1457
      hptr += stride;
    }
#line 1459
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 1460
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 1460
      __cil_tmp14 = n;
#line 1460
      n --;
#line 1460
      if (! (__cil_tmp14 > 0)) {
#line 1460
        goto while_break___4;
      }
#line 1461
      lptr2 = lptr;
#line 1462
      hptr2 = hptr;
#line 1463
      i = 0;
      {
#line 1463
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 1463
        if (! (i < numcols)) {
#line 1463
          goto while_break___5;
        }
#line 1464
        *(hptr2 + 0) += (*(lptr2 + 0) + *(lptr2 + stride)) >> 1;
#line 1465
        lptr2 ++;
#line 1466
        hptr2 ++;
#line 1463
        i ++;
      }
      while_break___14: /* CIL Label */ ;
      }
      while_break___5: 
#line 1468
      hptr += stride;
#line 1469
      lptr += stride;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___4: ;
#line 1471
    if (parity == (numrows & 1)) {
#line 1472
      lptr2 = lptr;
#line 1473
      hptr2 = hptr;
#line 1474
      i = 0;
      {
#line 1474
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 1474
        if (! (i < numcols)) {
#line 1474
          goto while_break___6;
        }
#line 1475
        *(hptr2 + 0) += *(lptr2 + 0);
#line 1476
        lptr2 ++;
#line 1477
        hptr2 ++;
#line 1474
        i ++;
      }
      while_break___15: /* CIL Label */ ;
      }
      while_break___6: ;
    }
  } else
#line 1483
  if (parity) {
#line 1484
    lptr2 = a + 0;
#line 1485
    i = 0;
    {
#line 1485
    while (1) {
      while_continue___7: /* CIL Label */ ;

#line 1485
      if (! (i < numcols)) {
#line 1485
        goto while_break___7;
      }
#line 1486
      *(lptr2 + 0) >>= 1;
#line 1487
      lptr2 ++;
#line 1485
      i ++;
    }
    while_break___16: /* CIL Label */ ;
    }
    while_break___7: ;
  }
#line 1490
  return;
}
}
#line 1495 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
int jpc_ft_analyze(jpc_fix_t *a , int xstart , int ystart , int width , int height ,
                   int stride ) 
{ 
  int numrows ;
  int numcols ;
  int rowparity ;
  int colparity ;
  int i ;
  jpc_fix_t *startptr ;
  int maxcols ;

  {
#line 1498
  numrows = height;
#line 1499
  numcols = width;
#line 1500
  rowparity = ystart & 1;
#line 1501
  colparity = xstart & 1;
#line 1506
  maxcols = (numcols / 16) * 16;
#line 1507
  startptr = a + 0;
#line 1508
  i = 0;
  {
#line 1508
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1508
    if (! (i < maxcols)) {
#line 1508
      goto while_break;
    }
    {
#line 1509
    jpc_qmfb_split_colgrp(startptr, numrows, stride, rowparity);
#line 1510
    jpc_ft_fwdlift_colgrp(startptr, numrows, stride, rowparity);
#line 1511
    startptr += 16;
#line 1508
    i += 16;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1513
  if (maxcols < numcols) {
    {
#line 1514
    jpc_qmfb_split_colres(startptr, numrows, numcols - maxcols, stride, rowparity);
#line 1516
    jpc_ft_fwdlift_colres(startptr, numrows, numcols - maxcols, stride, rowparity);
    }
  }
#line 1520
  startptr = a + 0;
#line 1521
  i = 0;
  {
#line 1521
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 1521
    if (! (i < numrows)) {
#line 1521
      goto while_break___0;
    }
    {
#line 1522
    jpc_qmfb_split_row(startptr, numcols, colparity);
#line 1523
    jpc_ft_fwdlift_row(startptr, numcols, colparity);
#line 1524
    startptr += stride;
#line 1521
    i ++;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 1527
  return (0);
}
}
#line 1531 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
int jpc_ft_synthesize(int *a , int xstart , int ystart , int width , int height ,
                      int stride ) 
{ 
  int numrows ;
  int numcols ;
  int rowparity ;
  int colparity ;
  int maxcols ;
  jpc_fix_t *startptr ;
  int i ;

  {
#line 1534
  numrows = height;
#line 1535
  numcols = width;
#line 1536
  rowparity = ystart & 1;
#line 1537
  colparity = xstart & 1;
#line 1543
  startptr = (jpc_fix_t *)(a + 0);
#line 1544
  i = 0;
  {
#line 1544
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1544
    if (! (i < numrows)) {
#line 1544
      goto while_break;
    }
    {
#line 1545
    jpc_ft_invlift_row(startptr, numcols, colparity);
#line 1546
    jpc_qmfb_join_row(startptr, numcols, colparity);
#line 1547
    startptr += stride;
#line 1544
    i ++;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 1550
  maxcols = (numcols / 16) * 16;
#line 1551
  startptr = (jpc_fix_t *)(a + 0);
#line 1552
  i = 0;
  {
#line 1552
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 1552
    if (! (i < maxcols)) {
#line 1552
      goto while_break___0;
    }
    {
#line 1553
    jpc_ft_invlift_colgrp(startptr, numrows, stride, rowparity);
#line 1554
    jpc_qmfb_join_colgrp(startptr, numrows, stride, rowparity);
#line 1555
    startptr += 16;
#line 1552
    i += 16;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 1557
  if (maxcols < numcols) {
    {
#line 1558
    jpc_ft_invlift_colres(startptr, numrows, numcols - maxcols, stride, rowparity);
#line 1560
    jpc_qmfb_join_colres(startptr, numrows, numcols - maxcols, stride, rowparity);
    }
  }
#line 1564
  return (0);
}
}
#line 1579 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ns_fwdlift_row(jpc_fix_t *a , int numcols , int parity ) 
{ 
  register jpc_fix_t *lptr ;
  register jpc_fix_t *hptr ;
  register int n ;
  int llen ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
#line 1587
  llen = ((numcols + 1) - parity) >> 1;
#line 1589
  if (numcols > 1) {
#line 1592
    lptr = a + 0;
#line 1593
    hptr = a + llen;
#line 1594
    if (parity) {
#line 1595
      *(hptr + 0) += (jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr + 0) >> 13;
#line 1597
      hptr ++;
    }
#line 1599
    n = ((numcols - llen) - parity) - (parity == (numcols & 1));
    {
#line 1600
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1600
      __cil_tmp8 = n;
#line 1600
      n --;
#line 1600
      if (! (__cil_tmp8 > 0)) {
#line 1600
        goto while_break;
      }
#line 1601
      *(hptr + 0) += (jpc_fix_t )(- 1.58613434206 * (double )(1L << 13)) * (*(lptr + 0) + *(lptr + 1)) >> 13;
#line 1603
      hptr ++;
#line 1604
      lptr ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break: ;
#line 1606
    if (parity == (numcols & 1)) {
#line 1607
      *(hptr + 0) += (jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr + 0) >> 13;
    }
#line 1612
    lptr = a + 0;
#line 1613
    hptr = a + llen;
#line 1614
    if (! parity) {
#line 1615
      *(lptr + 0) += (jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr + 0) >> 13;
#line 1617
      lptr ++;
    }
#line 1619
    n = (llen - ! parity) - (parity != (numcols & 1));
    {
#line 1620
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1620
      __cil_tmp9 = n;
#line 1620
      n --;
#line 1620
      if (! (__cil_tmp9 > 0)) {
#line 1620
        goto while_break___0;
      }
#line 1621
      *(lptr + 0) += (jpc_fix_t )(- 0.052980118573 * (double )(1L << 13)) * (*(hptr + 0) + *(hptr + 1)) >> 13;
#line 1623
      lptr ++;
#line 1624
      hptr ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1626
    if (parity != (numcols & 1)) {
#line 1627
      *(lptr + 0) += (jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr + 0) >> 13;
    }
#line 1632
    lptr = a + 0;
#line 1633
    hptr = a + llen;
#line 1634
    if (parity) {
#line 1635
      *(hptr + 0) += (jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr + 0) >> 13;
#line 1637
      hptr ++;
    }
#line 1639
    n = ((numcols - llen) - parity) - (parity == (numcols & 1));
    {
#line 1640
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 1640
      __cil_tmp10 = n;
#line 1640
      n --;
#line 1640
      if (! (__cil_tmp10 > 0)) {
#line 1640
        goto while_break___1;
      }
#line 1641
      *(hptr + 0) += (jpc_fix_t )(0.882911075531 * (double )(1L << 13)) * (*(lptr + 0) + *(lptr + 1)) >> 13;
#line 1643
      hptr ++;
#line 1644
      lptr ++;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: ;
#line 1646
    if (parity == (numcols & 1)) {
#line 1647
      *(hptr + 0) += (jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr + 0) >> 13;
    }
#line 1652
    lptr = a + 0;
#line 1653
    hptr = a + llen;
#line 1654
    if (! parity) {
#line 1655
      *(lptr + 0) += (jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr + 0) >> 13;
#line 1657
      lptr ++;
    }
#line 1659
    n = (llen - ! parity) - (parity != (numcols & 1));
    {
#line 1660
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 1660
      __cil_tmp11 = n;
#line 1660
      n --;
#line 1660
      if (! (__cil_tmp11 > 0)) {
#line 1660
        goto while_break___2;
      }
#line 1661
      *(lptr + 0) += (jpc_fix_t )(0.443506852044 * (double )(1L << 13)) * (*(hptr + 0) + *(hptr + 1)) >> 13;
#line 1663
      lptr ++;
#line 1664
      hptr ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: ;
#line 1666
    if (parity != (numcols & 1)) {
#line 1667
      *(lptr + 0) += (jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr + 0) >> 13;
    }
#line 1673
    lptr = a + 0;
#line 1674
    n = llen;
    {
#line 1675
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 1675
      __cil_tmp12 = n;
#line 1675
      n --;
#line 1675
      if (! (__cil_tmp12 > 0)) {
#line 1675
        goto while_break___3;
      }
#line 1676
      *(lptr + 0) = *(lptr + 0) * (jpc_fix_t )((1. / 1.23017410559) * (double )(1L << 13)) >> 13;
#line 1677
      lptr ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___3: 
#line 1679
    hptr = a + llen;
#line 1680
    n = numcols - llen;
    {
#line 1681
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 1681
      __cil_tmp13 = n;
#line 1681
      n --;
#line 1681
      if (! (__cil_tmp13 > 0)) {
#line 1681
        goto while_break___4;
      }
#line 1682
      *(hptr + 0) = *(hptr + 0) * (jpc_fix_t )((1. / 1.62578613135) * (double )(1L << 13)) >> 13;
#line 1683
      hptr ++;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___4: ;
  }
#line 1688
  return;
}
}
#line 1700 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ns_fwdlift_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  register int i ;
  int llen ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;

  {
#line 1712
  llen = ((numrows + 1) - parity) >> 1;
#line 1714
  if (numrows > 1) {
#line 1717
    lptr = a + 0;
#line 1718
    hptr = a + llen * stride;
#line 1719
    if (parity) {
#line 1720
      lptr2 = lptr;
#line 1721
      hptr2 = hptr;
#line 1722
      i = 0;
      {
#line 1722
      while (1) {
        while_continue: /* CIL Label */ ;

#line 1722
        if (! (i < 16)) {
#line 1722
          goto while_break;
        }
#line 1723
        *(hptr2 + 0) += (jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 1725
        hptr2 ++;
#line 1726
        lptr2 ++;
#line 1722
        i ++;
      }
      while_break___19: /* CIL Label */ ;
      }
      while_break: 
#line 1728
      hptr += stride;
    }
#line 1730
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 1731
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1731
      __cil_tmp12 = n;
#line 1731
      n --;
#line 1731
      if (! (__cil_tmp12 > 0)) {
#line 1731
        goto while_break___0;
      }
#line 1732
      lptr2 = lptr;
#line 1733
      hptr2 = hptr;
#line 1734
      i = 0;
      {
#line 1734
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 1734
        if (! (i < 16)) {
#line 1734
          goto while_break___1;
        }
#line 1735
        *(hptr2 + 0) += (jpc_fix_t )(- 1.58613434206 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13;
#line 1737
        lptr2 ++;
#line 1738
        hptr2 ++;
#line 1734
        i ++;
      }
      while_break___21: /* CIL Label */ ;
      }
      while_break___1: 
#line 1740
      hptr += stride;
#line 1741
      lptr += stride;
    }
    while_break___20: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1743
    if (parity == (numrows & 1)) {
#line 1744
      lptr2 = lptr;
#line 1745
      hptr2 = hptr;
#line 1746
      i = 0;
      {
#line 1746
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 1746
        if (! (i < 16)) {
#line 1746
          goto while_break___2;
        }
#line 1747
        *(hptr2 + 0) += (jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 1749
        lptr2 ++;
#line 1750
        hptr2 ++;
#line 1746
        i ++;
      }
      while_break___22: /* CIL Label */ ;
      }
      while_break___2: ;
    }
#line 1755
    lptr = a + 0;
#line 1756
    hptr = a + llen * stride;
#line 1757
    if (! parity) {
#line 1758
      lptr2 = lptr;
#line 1759
      hptr2 = hptr;
#line 1760
      i = 0;
      {
#line 1760
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 1760
        if (! (i < 16)) {
#line 1760
          goto while_break___3;
        }
#line 1761
        *(lptr2 + 0) += (jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 1763
        lptr2 ++;
#line 1764
        hptr2 ++;
#line 1760
        i ++;
      }
      while_break___23: /* CIL Label */ ;
      }
      while_break___3: 
#line 1766
      lptr += stride;
    }
#line 1768
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 1769
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 1769
      __cil_tmp13 = n;
#line 1769
      n --;
#line 1769
      if (! (__cil_tmp13 > 0)) {
#line 1769
        goto while_break___4;
      }
#line 1770
      lptr2 = lptr;
#line 1771
      hptr2 = hptr;
#line 1772
      i = 0;
      {
#line 1772
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 1772
        if (! (i < 16)) {
#line 1772
          goto while_break___5;
        }
#line 1773
        *(lptr2 + 0) += (jpc_fix_t )(- 0.052980118573 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13;
#line 1775
        lptr2 ++;
#line 1776
        hptr2 ++;
#line 1772
        i ++;
      }
      while_break___25: /* CIL Label */ ;
      }
      while_break___5: 
#line 1778
      lptr += stride;
#line 1779
      hptr += stride;
    }
    while_break___24: /* CIL Label */ ;
    }
    while_break___4: ;
#line 1781
    if (parity != (numrows & 1)) {
#line 1782
      lptr2 = lptr;
#line 1783
      hptr2 = hptr;
#line 1784
      i = 0;
      {
#line 1784
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 1784
        if (! (i < 16)) {
#line 1784
          goto while_break___6;
        }
#line 1785
        *(lptr2 + 0) += (jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 1787
        lptr2 ++;
#line 1788
        hptr2 ++;
#line 1784
        i ++;
      }
      while_break___26: /* CIL Label */ ;
      }
      while_break___6: ;
    }
#line 1793
    lptr = a + 0;
#line 1794
    hptr = a + llen * stride;
#line 1795
    if (parity) {
#line 1796
      lptr2 = lptr;
#line 1797
      hptr2 = hptr;
#line 1798
      i = 0;
      {
#line 1798
      while (1) {
        while_continue___7: /* CIL Label */ ;

#line 1798
        if (! (i < 16)) {
#line 1798
          goto while_break___7;
        }
#line 1799
        *(hptr2 + 0) += (jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 1801
        hptr2 ++;
#line 1802
        lptr2 ++;
#line 1798
        i ++;
      }
      while_break___27: /* CIL Label */ ;
      }
      while_break___7: 
#line 1804
      hptr += stride;
    }
#line 1806
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 1807
    while (1) {
      while_continue___8: /* CIL Label */ ;
#line 1807
      __cil_tmp14 = n;
#line 1807
      n --;
#line 1807
      if (! (__cil_tmp14 > 0)) {
#line 1807
        goto while_break___8;
      }
#line 1808
      lptr2 = lptr;
#line 1809
      hptr2 = hptr;
#line 1810
      i = 0;
      {
#line 1810
      while (1) {
        while_continue___9: /* CIL Label */ ;

#line 1810
        if (! (i < 16)) {
#line 1810
          goto while_break___9;
        }
#line 1811
        *(hptr2 + 0) += (jpc_fix_t )(0.882911075531 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13;
#line 1813
        lptr2 ++;
#line 1814
        hptr2 ++;
#line 1810
        i ++;
      }
      while_break___29: /* CIL Label */ ;
      }
      while_break___9: 
#line 1816
      hptr += stride;
#line 1817
      lptr += stride;
    }
    while_break___28: /* CIL Label */ ;
    }
    while_break___8: ;
#line 1819
    if (parity == (numrows & 1)) {
#line 1820
      lptr2 = lptr;
#line 1821
      hptr2 = hptr;
#line 1822
      i = 0;
      {
#line 1822
      while (1) {
        while_continue___10: /* CIL Label */ ;

#line 1822
        if (! (i < 16)) {
#line 1822
          goto while_break___10;
        }
#line 1823
        *(hptr2 + 0) += (jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 1825
        lptr2 ++;
#line 1826
        hptr2 ++;
#line 1822
        i ++;
      }
      while_break___30: /* CIL Label */ ;
      }
      while_break___10: ;
    }
#line 1831
    lptr = a + 0;
#line 1832
    hptr = a + llen * stride;
#line 1833
    if (! parity) {
#line 1834
      lptr2 = lptr;
#line 1835
      hptr2 = hptr;
#line 1836
      i = 0;
      {
#line 1836
      while (1) {
        while_continue___11: /* CIL Label */ ;

#line 1836
        if (! (i < 16)) {
#line 1836
          goto while_break___11;
        }
#line 1837
        *(lptr2 + 0) += (jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 1839
        lptr2 ++;
#line 1840
        hptr2 ++;
#line 1836
        i ++;
      }
      while_break___31: /* CIL Label */ ;
      }
      while_break___11: 
#line 1842
      lptr += stride;
    }
#line 1844
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 1845
    while (1) {
      while_continue___12: /* CIL Label */ ;
#line 1845
      __cil_tmp15 = n;
#line 1845
      n --;
#line 1845
      if (! (__cil_tmp15 > 0)) {
#line 1845
        goto while_break___12;
      }
#line 1846
      lptr2 = lptr;
#line 1847
      hptr2 = hptr;
#line 1848
      i = 0;
      {
#line 1848
      while (1) {
        while_continue___13: /* CIL Label */ ;

#line 1848
        if (! (i < 16)) {
#line 1848
          goto while_break___13;
        }
#line 1849
        *(lptr2 + 0) += (jpc_fix_t )(0.443506852044 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13;
#line 1851
        lptr2 ++;
#line 1852
        hptr2 ++;
#line 1848
        i ++;
      }
      while_break___33: /* CIL Label */ ;
      }
      while_break___13: 
#line 1854
      lptr += stride;
#line 1855
      hptr += stride;
    }
    while_break___32: /* CIL Label */ ;
    }
    while_break___12: ;
#line 1857
    if (parity != (numrows & 1)) {
#line 1858
      lptr2 = lptr;
#line 1859
      hptr2 = hptr;
#line 1860
      i = 0;
      {
#line 1860
      while (1) {
        while_continue___14: /* CIL Label */ ;

#line 1860
        if (! (i < 16)) {
#line 1860
          goto while_break___14;
        }
#line 1861
        *(lptr2 + 0) += (jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 1863
        lptr2 ++;
#line 1864
        hptr2 ++;
#line 1860
        i ++;
      }
      while_break___34: /* CIL Label */ ;
      }
      while_break___14: ;
    }
#line 1870
    lptr = a + 0;
#line 1871
    n = llen;
    {
#line 1872
    while (1) {
      while_continue___15: /* CIL Label */ ;
#line 1872
      __cil_tmp16 = n;
#line 1872
      n --;
#line 1872
      if (! (__cil_tmp16 > 0)) {
#line 1872
        goto while_break___15;
      }
#line 1873
      lptr2 = lptr;
#line 1874
      i = 0;
      {
#line 1874
      while (1) {
        while_continue___16: /* CIL Label */ ;

#line 1874
        if (! (i < 16)) {
#line 1874
          goto while_break___16;
        }
#line 1875
        *(lptr2 + 0) = *(lptr2 + 0) * (jpc_fix_t )((1. / 1.23017410559) * (double )(1L << 13)) >> 13;
#line 1876
        lptr2 ++;
#line 1874
        i ++;
      }
      while_break___36: /* CIL Label */ ;
      }
      while_break___16: 
#line 1878
      lptr += stride;
    }
    while_break___35: /* CIL Label */ ;
    }
    while_break___15: 
#line 1880
    hptr = a + llen * stride;
#line 1881
    n = numrows - llen;
    {
#line 1882
    while (1) {
      while_continue___17: /* CIL Label */ ;
#line 1882
      __cil_tmp17 = n;
#line 1882
      n --;
#line 1882
      if (! (__cil_tmp17 > 0)) {
#line 1882
        goto while_break___17;
      }
#line 1883
      hptr2 = hptr;
#line 1884
      i = 0;
      {
#line 1884
      while (1) {
        while_continue___18: /* CIL Label */ ;

#line 1884
        if (! (i < 16)) {
#line 1884
          goto while_break___18;
        }
#line 1885
        *(hptr2 + 0) = *(hptr2 + 0) * (jpc_fix_t )((1. / 1.62578613135) * (double )(1L << 13)) >> 13;
#line 1886
        hptr2 ++;
#line 1884
        i ++;
      }
      while_break___38: /* CIL Label */ ;
      }
      while_break___18: 
#line 1888
      hptr += stride;
    }
    while_break___37: /* CIL Label */ ;
    }
    while_break___17: ;
  }
#line 1893
  return;
}
}
#line 1908 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ns_fwdlift_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  register int i ;
  int llen ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;

  {
#line 1920
  llen = ((numrows + 1) - parity) >> 1;
#line 1922
  if (numrows > 1) {
#line 1925
    lptr = a + 0;
#line 1926
    hptr = a + llen * stride;
#line 1927
    if (parity) {
#line 1928
      lptr2 = lptr;
#line 1929
      hptr2 = hptr;
#line 1930
      i = 0;
      {
#line 1930
      while (1) {
        while_continue: /* CIL Label */ ;

#line 1930
        if (! (i < numcols)) {
#line 1930
          goto while_break;
        }
#line 1931
        *(hptr2 + 0) += (jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 1933
        hptr2 ++;
#line 1934
        lptr2 ++;
#line 1930
        i ++;
      }
      while_break___19: /* CIL Label */ ;
      }
      while_break: 
#line 1936
      hptr += stride;
    }
#line 1938
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 1939
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1939
      __cil_tmp13 = n;
#line 1939
      n --;
#line 1939
      if (! (__cil_tmp13 > 0)) {
#line 1939
        goto while_break___0;
      }
#line 1940
      lptr2 = lptr;
#line 1941
      hptr2 = hptr;
#line 1942
      i = 0;
      {
#line 1942
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 1942
        if (! (i < numcols)) {
#line 1942
          goto while_break___1;
        }
#line 1943
        *(hptr2 + 0) += (jpc_fix_t )(- 1.58613434206 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13;
#line 1945
        lptr2 ++;
#line 1946
        hptr2 ++;
#line 1942
        i ++;
      }
      while_break___21: /* CIL Label */ ;
      }
      while_break___1: 
#line 1948
      hptr += stride;
#line 1949
      lptr += stride;
    }
    while_break___20: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1951
    if (parity == (numrows & 1)) {
#line 1952
      lptr2 = lptr;
#line 1953
      hptr2 = hptr;
#line 1954
      i = 0;
      {
#line 1954
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 1954
        if (! (i < numcols)) {
#line 1954
          goto while_break___2;
        }
#line 1955
        *(hptr2 + 0) += (jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 1957
        lptr2 ++;
#line 1958
        hptr2 ++;
#line 1954
        i ++;
      }
      while_break___22: /* CIL Label */ ;
      }
      while_break___2: ;
    }
#line 1963
    lptr = a + 0;
#line 1964
    hptr = a + llen * stride;
#line 1965
    if (! parity) {
#line 1966
      lptr2 = lptr;
#line 1967
      hptr2 = hptr;
#line 1968
      i = 0;
      {
#line 1968
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 1968
        if (! (i < numcols)) {
#line 1968
          goto while_break___3;
        }
#line 1969
        *(lptr2 + 0) += (jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 1971
        lptr2 ++;
#line 1972
        hptr2 ++;
#line 1968
        i ++;
      }
      while_break___23: /* CIL Label */ ;
      }
      while_break___3: 
#line 1974
      lptr += stride;
    }
#line 1976
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 1977
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 1977
      __cil_tmp14 = n;
#line 1977
      n --;
#line 1977
      if (! (__cil_tmp14 > 0)) {
#line 1977
        goto while_break___4;
      }
#line 1978
      lptr2 = lptr;
#line 1979
      hptr2 = hptr;
#line 1980
      i = 0;
      {
#line 1980
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 1980
        if (! (i < numcols)) {
#line 1980
          goto while_break___5;
        }
#line 1981
        *(lptr2 + 0) += (jpc_fix_t )(- 0.052980118573 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13;
#line 1983
        lptr2 ++;
#line 1984
        hptr2 ++;
#line 1980
        i ++;
      }
      while_break___25: /* CIL Label */ ;
      }
      while_break___5: 
#line 1986
      lptr += stride;
#line 1987
      hptr += stride;
    }
    while_break___24: /* CIL Label */ ;
    }
    while_break___4: ;
#line 1989
    if (parity != (numrows & 1)) {
#line 1990
      lptr2 = lptr;
#line 1991
      hptr2 = hptr;
#line 1992
      i = 0;
      {
#line 1992
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 1992
        if (! (i < numcols)) {
#line 1992
          goto while_break___6;
        }
#line 1993
        *(lptr2 + 0) += (jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 1995
        lptr2 ++;
#line 1996
        hptr2 ++;
#line 1992
        i ++;
      }
      while_break___26: /* CIL Label */ ;
      }
      while_break___6: ;
    }
#line 2001
    lptr = a + 0;
#line 2002
    hptr = a + llen * stride;
#line 2003
    if (parity) {
#line 2004
      lptr2 = lptr;
#line 2005
      hptr2 = hptr;
#line 2006
      i = 0;
      {
#line 2006
      while (1) {
        while_continue___7: /* CIL Label */ ;

#line 2006
        if (! (i < numcols)) {
#line 2006
          goto while_break___7;
        }
#line 2007
        *(hptr2 + 0) += (jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 2009
        hptr2 ++;
#line 2010
        lptr2 ++;
#line 2006
        i ++;
      }
      while_break___27: /* CIL Label */ ;
      }
      while_break___7: 
#line 2012
      hptr += stride;
    }
#line 2014
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 2015
    while (1) {
      while_continue___8: /* CIL Label */ ;
#line 2015
      __cil_tmp15 = n;
#line 2015
      n --;
#line 2015
      if (! (__cil_tmp15 > 0)) {
#line 2015
        goto while_break___8;
      }
#line 2016
      lptr2 = lptr;
#line 2017
      hptr2 = hptr;
#line 2018
      i = 0;
      {
#line 2018
      while (1) {
        while_continue___9: /* CIL Label */ ;

#line 2018
        if (! (i < numcols)) {
#line 2018
          goto while_break___9;
        }
#line 2019
        *(hptr2 + 0) += (jpc_fix_t )(0.882911075531 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13;
#line 2021
        lptr2 ++;
#line 2022
        hptr2 ++;
#line 2018
        i ++;
      }
      while_break___29: /* CIL Label */ ;
      }
      while_break___9: 
#line 2024
      hptr += stride;
#line 2025
      lptr += stride;
    }
    while_break___28: /* CIL Label */ ;
    }
    while_break___8: ;
#line 2027
    if (parity == (numrows & 1)) {
#line 2028
      lptr2 = lptr;
#line 2029
      hptr2 = hptr;
#line 2030
      i = 0;
      {
#line 2030
      while (1) {
        while_continue___10: /* CIL Label */ ;

#line 2030
        if (! (i < numcols)) {
#line 2030
          goto while_break___10;
        }
#line 2031
        *(hptr2 + 0) += (jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 2033
        lptr2 ++;
#line 2034
        hptr2 ++;
#line 2030
        i ++;
      }
      while_break___30: /* CIL Label */ ;
      }
      while_break___10: ;
    }
#line 2039
    lptr = a + 0;
#line 2040
    hptr = a + llen * stride;
#line 2041
    if (! parity) {
#line 2042
      lptr2 = lptr;
#line 2043
      hptr2 = hptr;
#line 2044
      i = 0;
      {
#line 2044
      while (1) {
        while_continue___11: /* CIL Label */ ;

#line 2044
        if (! (i < numcols)) {
#line 2044
          goto while_break___11;
        }
#line 2045
        *(lptr2 + 0) += (jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 2047
        lptr2 ++;
#line 2048
        hptr2 ++;
#line 2044
        i ++;
      }
      while_break___31: /* CIL Label */ ;
      }
      while_break___11: 
#line 2050
      lptr += stride;
    }
#line 2052
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 2053
    while (1) {
      while_continue___12: /* CIL Label */ ;
#line 2053
      __cil_tmp16 = n;
#line 2053
      n --;
#line 2053
      if (! (__cil_tmp16 > 0)) {
#line 2053
        goto while_break___12;
      }
#line 2054
      lptr2 = lptr;
#line 2055
      hptr2 = hptr;
#line 2056
      i = 0;
      {
#line 2056
      while (1) {
        while_continue___13: /* CIL Label */ ;

#line 2056
        if (! (i < numcols)) {
#line 2056
          goto while_break___13;
        }
#line 2057
        *(lptr2 + 0) += (jpc_fix_t )(0.443506852044 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13;
#line 2059
        lptr2 ++;
#line 2060
        hptr2 ++;
#line 2056
        i ++;
      }
      while_break___33: /* CIL Label */ ;
      }
      while_break___13: 
#line 2062
      lptr += stride;
#line 2063
      hptr += stride;
    }
    while_break___32: /* CIL Label */ ;
    }
    while_break___12: ;
#line 2065
    if (parity != (numrows & 1)) {
#line 2066
      lptr2 = lptr;
#line 2067
      hptr2 = hptr;
#line 2068
      i = 0;
      {
#line 2068
      while (1) {
        while_continue___14: /* CIL Label */ ;

#line 2068
        if (! (i < numcols)) {
#line 2068
          goto while_break___14;
        }
#line 2069
        *(lptr2 + 0) += (jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 2071
        lptr2 ++;
#line 2072
        hptr2 ++;
#line 2068
        i ++;
      }
      while_break___34: /* CIL Label */ ;
      }
      while_break___14: ;
    }
#line 2078
    lptr = a + 0;
#line 2079
    n = llen;
    {
#line 2080
    while (1) {
      while_continue___15: /* CIL Label */ ;
#line 2080
      __cil_tmp17 = n;
#line 2080
      n --;
#line 2080
      if (! (__cil_tmp17 > 0)) {
#line 2080
        goto while_break___15;
      }
#line 2081
      lptr2 = lptr;
#line 2082
      i = 0;
      {
#line 2082
      while (1) {
        while_continue___16: /* CIL Label */ ;

#line 2082
        if (! (i < numcols)) {
#line 2082
          goto while_break___16;
        }
#line 2083
        *(lptr2 + 0) = *(lptr2 + 0) * (jpc_fix_t )((1. / 1.23017410559) * (double )(1L << 13)) >> 13;
#line 2084
        lptr2 ++;
#line 2082
        i ++;
      }
      while_break___36: /* CIL Label */ ;
      }
      while_break___16: 
#line 2086
      lptr += stride;
    }
    while_break___35: /* CIL Label */ ;
    }
    while_break___15: 
#line 2088
    hptr = a + llen * stride;
#line 2089
    n = numrows - llen;
    {
#line 2090
    while (1) {
      while_continue___17: /* CIL Label */ ;
#line 2090
      __cil_tmp18 = n;
#line 2090
      n --;
#line 2090
      if (! (__cil_tmp18 > 0)) {
#line 2090
        goto while_break___17;
      }
#line 2091
      hptr2 = hptr;
#line 2092
      i = 0;
      {
#line 2092
      while (1) {
        while_continue___18: /* CIL Label */ ;

#line 2092
        if (! (i < numcols)) {
#line 2092
          goto while_break___18;
        }
#line 2093
        *(hptr2 + 0) = *(hptr2 + 0) * (jpc_fix_t )((1. / 1.62578613135) * (double )(1L << 13)) >> 13;
#line 2094
        hptr2 ++;
#line 2092
        i ++;
      }
      while_break___38: /* CIL Label */ ;
      }
      while_break___18: 
#line 2096
      hptr += stride;
    }
    while_break___37: /* CIL Label */ ;
    }
    while_break___17: ;
  }
#line 2101
  return;
}
}
#line 2116 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ns_fwdlift_col(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  int llen ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;

  {
#line 2127
  llen = ((numrows + 1) - parity) >> 1;
#line 2129
  if (numrows > 1) {
#line 2132
    lptr = a + 0;
#line 2133
    hptr = a + llen * stride;
#line 2134
    if (parity) {
#line 2135
      lptr2 = lptr;
#line 2136
      hptr2 = hptr;
#line 2137
      *(hptr2 + 0) += (jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 2139
      hptr2 ++;
#line 2140
      lptr2 ++;
#line 2141
      hptr += stride;
    }
#line 2143
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 2144
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2144
      __cil_tmp11 = n;
#line 2144
      n --;
#line 2144
      if (! (__cil_tmp11 > 0)) {
#line 2144
        goto while_break;
      }
#line 2145
      lptr2 = lptr;
#line 2146
      hptr2 = hptr;
#line 2147
      *(hptr2 + 0) += (jpc_fix_t )(- 1.58613434206 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13;
#line 2149
      lptr2 ++;
#line 2150
      hptr2 ++;
#line 2151
      hptr += stride;
#line 2152
      lptr += stride;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break: ;
#line 2154
    if (parity == (numrows & 1)) {
#line 2155
      lptr2 = lptr;
#line 2156
      hptr2 = hptr;
#line 2157
      *(hptr2 + 0) += (jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 2159
      lptr2 ++;
#line 2160
      hptr2 ++;
    }
#line 2164
    lptr = a + 0;
#line 2165
    hptr = a + llen * stride;
#line 2166
    if (! parity) {
#line 2167
      lptr2 = lptr;
#line 2168
      hptr2 = hptr;
#line 2169
      *(lptr2 + 0) += (jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 2171
      lptr2 ++;
#line 2172
      hptr2 ++;
#line 2173
      lptr += stride;
    }
#line 2175
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 2176
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2176
      __cil_tmp12 = n;
#line 2176
      n --;
#line 2176
      if (! (__cil_tmp12 > 0)) {
#line 2176
        goto while_break___0;
      }
#line 2177
      lptr2 = lptr;
#line 2178
      hptr2 = hptr;
#line 2179
      *(lptr2 + 0) += (jpc_fix_t )(- 0.052980118573 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13;
#line 2181
      lptr2 ++;
#line 2182
      hptr2 ++;
#line 2183
      lptr += stride;
#line 2184
      hptr += stride;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: ;
#line 2186
    if (parity != (numrows & 1)) {
#line 2187
      lptr2 = lptr;
#line 2188
      hptr2 = hptr;
#line 2189
      *(lptr2 + 0) += (jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 2191
      lptr2 ++;
#line 2192
      hptr2 ++;
    }
#line 2196
    lptr = a + 0;
#line 2197
    hptr = a + llen * stride;
#line 2198
    if (parity) {
#line 2199
      lptr2 = lptr;
#line 2200
      hptr2 = hptr;
#line 2201
      *(hptr2 + 0) += (jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 2203
      hptr2 ++;
#line 2204
      lptr2 ++;
#line 2205
      hptr += stride;
    }
#line 2207
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 2208
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2208
      __cil_tmp13 = n;
#line 2208
      n --;
#line 2208
      if (! (__cil_tmp13 > 0)) {
#line 2208
        goto while_break___1;
      }
#line 2209
      lptr2 = lptr;
#line 2210
      hptr2 = hptr;
#line 2211
      *(hptr2 + 0) += (jpc_fix_t )(0.882911075531 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13;
#line 2213
      lptr2 ++;
#line 2214
      hptr2 ++;
#line 2215
      hptr += stride;
#line 2216
      lptr += stride;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: ;
#line 2218
    if (parity == (numrows & 1)) {
#line 2219
      lptr2 = lptr;
#line 2220
      hptr2 = hptr;
#line 2221
      *(hptr2 + 0) += (jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13;
#line 2223
      lptr2 ++;
#line 2224
      hptr2 ++;
    }
#line 2228
    lptr = a + 0;
#line 2229
    hptr = a + llen * stride;
#line 2230
    if (! parity) {
#line 2231
      lptr2 = lptr;
#line 2232
      hptr2 = hptr;
#line 2233
      *(lptr2 + 0) += (jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 2235
      lptr2 ++;
#line 2236
      hptr2 ++;
#line 2237
      lptr += stride;
    }
#line 2239
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 2240
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 2240
      __cil_tmp14 = n;
#line 2240
      n --;
#line 2240
      if (! (__cil_tmp14 > 0)) {
#line 2240
        goto while_break___2;
      }
#line 2241
      lptr2 = lptr;
#line 2242
      hptr2 = hptr;
#line 2243
      *(lptr2 + 0) += (jpc_fix_t )(0.443506852044 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13;
#line 2245
      lptr2 ++;
#line 2246
      hptr2 ++;
#line 2247
      lptr += stride;
#line 2248
      hptr += stride;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: ;
#line 2250
    if (parity != (numrows & 1)) {
#line 2251
      lptr2 = lptr;
#line 2252
      hptr2 = hptr;
#line 2253
      *(lptr2 + 0) += (jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13;
#line 2255
      lptr2 ++;
#line 2256
      hptr2 ++;
    }
#line 2261
    lptr = a + 0;
#line 2262
    n = llen;
    {
#line 2263
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 2263
      __cil_tmp15 = n;
#line 2263
      n --;
#line 2263
      if (! (__cil_tmp15 > 0)) {
#line 2263
        goto while_break___3;
      }
#line 2264
      lptr2 = lptr;
#line 2265
      *(lptr2 + 0) = *(lptr2 + 0) * (jpc_fix_t )((1. / 1.23017410559) * (double )(1L << 13)) >> 13;
#line 2266
      lptr2 ++;
#line 2267
      lptr += stride;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___3: 
#line 2269
    hptr = a + llen * stride;
#line 2270
    n = numrows - llen;
    {
#line 2271
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 2271
      __cil_tmp16 = n;
#line 2271
      n --;
#line 2271
      if (! (__cil_tmp16 > 0)) {
#line 2271
        goto while_break___4;
      }
#line 2272
      hptr2 = hptr;
#line 2273
      *(hptr2 + 0) = *(hptr2 + 0) * (jpc_fix_t )((1. / 1.62578613135) * (double )(1L << 13)) >> 13;
#line 2274
      hptr2 ++;
#line 2275
      hptr += stride;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___4: ;
  }
#line 2280
  return;
}
}
#line 2293 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ns_invlift_row(jpc_fix_t *a , int numcols , int parity ) 
{ 
  register jpc_fix_t *lptr ;
  register jpc_fix_t *hptr ;
  register int n ;
  int llen ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
#line 2301
  llen = ((numcols + 1) - parity) >> 1;
#line 2303
  if (numcols > 1) {
#line 2307
    lptr = a + 0;
#line 2308
    n = llen;
    {
#line 2309
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2309
      __cil_tmp8 = n;
#line 2309
      n --;
#line 2309
      if (! (__cil_tmp8 > 0)) {
#line 2309
        goto while_break;
      }
#line 2310
      *(lptr + 0) = *(lptr + 0) * (jpc_fix_t )((1. / (1. / 1.23017410559)) * (double )(1L << 13)) >> 13;
#line 2311
      lptr ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break: 
#line 2313
    hptr = a + llen;
#line 2314
    n = numcols - llen;
    {
#line 2315
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2315
      __cil_tmp9 = n;
#line 2315
      n --;
#line 2315
      if (! (__cil_tmp9 > 0)) {
#line 2315
        goto while_break___0;
      }
#line 2316
      *(hptr + 0) = *(hptr + 0) * (jpc_fix_t )((1. / (1. / 1.62578613135)) * (double )(1L << 13)) >> 13;
#line 2317
      hptr ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: 
#line 2322
    lptr = a + 0;
#line 2323
    hptr = a + llen;
#line 2324
    if (! parity) {
#line 2325
      *(lptr + 0) += - ((jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr + 0) >> 13);
#line 2327
      lptr ++;
    }
#line 2329
    n = (llen - ! parity) - (parity != (numcols & 1));
    {
#line 2330
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2330
      __cil_tmp10 = n;
#line 2330
      n --;
#line 2330
      if (! (__cil_tmp10 > 0)) {
#line 2330
        goto while_break___1;
      }
#line 2331
      *(lptr + 0) += - ((jpc_fix_t )(0.443506852044 * (double )(1L << 13)) * (*(hptr + 0) + *(hptr + 1)) >> 13);
#line 2333
      lptr ++;
#line 2334
      hptr ++;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: ;
#line 2336
    if (parity != (numcols & 1)) {
#line 2337
      *(lptr + 0) += - ((jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr + 0) >> 13);
    }
#line 2342
    lptr = a + 0;
#line 2343
    hptr = a + llen;
#line 2344
    if (parity) {
#line 2345
      *(hptr + 0) += - ((jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr + 0) >> 13);
#line 2347
      hptr ++;
    }
#line 2349
    n = ((numcols - llen) - parity) - (parity == (numcols & 1));
    {
#line 2350
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 2350
      __cil_tmp11 = n;
#line 2350
      n --;
#line 2350
      if (! (__cil_tmp11 > 0)) {
#line 2350
        goto while_break___2;
      }
#line 2351
      *(hptr + 0) += - ((jpc_fix_t )(0.882911075531 * (double )(1L << 13)) * (*(lptr + 0) + *(lptr + 1)) >> 13);
#line 2353
      hptr ++;
#line 2354
      lptr ++;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: ;
#line 2356
    if (parity == (numcols & 1)) {
#line 2357
      *(hptr + 0) += - ((jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr + 0) >> 13);
    }
#line 2362
    lptr = a + 0;
#line 2363
    hptr = a + llen;
#line 2364
    if (! parity) {
#line 2365
      *(lptr + 0) += - ((jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr + 0) >> 13);
#line 2367
      lptr ++;
    }
#line 2369
    n = (llen - ! parity) - (parity != (numcols & 1));
    {
#line 2370
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 2370
      __cil_tmp12 = n;
#line 2370
      n --;
#line 2370
      if (! (__cil_tmp12 > 0)) {
#line 2370
        goto while_break___3;
      }
#line 2371
      *(lptr + 0) += - ((jpc_fix_t )(- 0.052980118573 * (double )(1L << 13)) * (*(hptr + 0) + *(hptr + 1)) >> 13);
#line 2373
      lptr ++;
#line 2374
      hptr ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___3: ;
#line 2376
    if (parity != (numcols & 1)) {
#line 2377
      *(lptr + 0) += - ((jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr + 0) >> 13);
    }
#line 2382
    lptr = a + 0;
#line 2383
    hptr = a + llen;
#line 2384
    if (parity) {
#line 2385
      *(hptr + 0) += - ((jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr + 0) >> 13);
#line 2387
      hptr ++;
    }
#line 2389
    n = ((numcols - llen) - parity) - (parity == (numcols & 1));
    {
#line 2390
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 2390
      __cil_tmp13 = n;
#line 2390
      n --;
#line 2390
      if (! (__cil_tmp13 > 0)) {
#line 2390
        goto while_break___4;
      }
#line 2391
      *(hptr + 0) += - ((jpc_fix_t )(- 1.58613434206 * (double )(1L << 13)) * (*(lptr + 0) + *(lptr + 1)) >> 13);
#line 2393
      hptr ++;
#line 2394
      lptr ++;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___4: ;
#line 2396
    if (parity == (numcols & 1)) {
#line 2397
      *(hptr + 0) += - ((jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr + 0) >> 13);
    }
  }
#line 2400
  return;
}
}
#line 2414 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ns_invlift_colgrp(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  register int i ;
  int llen ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;

  {
#line 2426
  llen = ((numrows + 1) - parity) >> 1;
#line 2428
  if (numrows > 1) {
#line 2432
    lptr = a + 0;
#line 2433
    n = llen;
    {
#line 2434
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2434
      __cil_tmp12 = n;
#line 2434
      n --;
#line 2434
      if (! (__cil_tmp12 > 0)) {
#line 2434
        goto while_break;
      }
#line 2435
      lptr2 = lptr;
#line 2436
      i = 0;
      {
#line 2436
      while (1) {
        while_continue___0: /* CIL Label */ ;

#line 2436
        if (! (i < 16)) {
#line 2436
          goto while_break___0;
        }
#line 2437
        *(lptr2 + 0) = *(lptr2 + 0) * (jpc_fix_t )((1. / (1. / 1.23017410559)) * (double )(1L << 13)) >> 13;
#line 2438
        lptr2 ++;
#line 2436
        i ++;
      }
      while_break___20: /* CIL Label */ ;
      }
      while_break___0: 
#line 2440
      lptr += stride;
    }
    while_break___19: /* CIL Label */ ;
    }
    while_break: 
#line 2442
    hptr = a + llen * stride;
#line 2443
    n = numrows - llen;
    {
#line 2444
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2444
      __cil_tmp13 = n;
#line 2444
      n --;
#line 2444
      if (! (__cil_tmp13 > 0)) {
#line 2444
        goto while_break___1;
      }
#line 2445
      hptr2 = hptr;
#line 2446
      i = 0;
      {
#line 2446
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 2446
        if (! (i < 16)) {
#line 2446
          goto while_break___2;
        }
#line 2447
        *(hptr2 + 0) = *(hptr2 + 0) * (jpc_fix_t )((1. / (1. / 1.62578613135)) * (double )(1L << 13)) >> 13;
#line 2448
        hptr2 ++;
#line 2446
        i ++;
      }
      while_break___22: /* CIL Label */ ;
      }
      while_break___2: 
#line 2450
      hptr += stride;
    }
    while_break___21: /* CIL Label */ ;
    }
    while_break___1: 
#line 2455
    lptr = a + 0;
#line 2456
    hptr = a + llen * stride;
#line 2457
    if (! parity) {
#line 2458
      lptr2 = lptr;
#line 2459
      hptr2 = hptr;
#line 2460
      i = 0;
      {
#line 2460
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 2460
        if (! (i < 16)) {
#line 2460
          goto while_break___3;
        }
#line 2461
        *(lptr2 + 0) += - ((jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2463
        lptr2 ++;
#line 2464
        hptr2 ++;
#line 2460
        i ++;
      }
      while_break___23: /* CIL Label */ ;
      }
      while_break___3: 
#line 2466
      lptr += stride;
    }
#line 2468
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 2469
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 2469
      __cil_tmp14 = n;
#line 2469
      n --;
#line 2469
      if (! (__cil_tmp14 > 0)) {
#line 2469
        goto while_break___4;
      }
#line 2470
      lptr2 = lptr;
#line 2471
      hptr2 = hptr;
#line 2472
      i = 0;
      {
#line 2472
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 2472
        if (! (i < 16)) {
#line 2472
          goto while_break___5;
        }
#line 2473
        *(lptr2 + 0) += - ((jpc_fix_t )(0.443506852044 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13);
#line 2475
        lptr2 ++;
#line 2476
        hptr2 ++;
#line 2472
        i ++;
      }
      while_break___25: /* CIL Label */ ;
      }
      while_break___5: 
#line 2478
      lptr += stride;
#line 2479
      hptr += stride;
    }
    while_break___24: /* CIL Label */ ;
    }
    while_break___4: ;
#line 2481
    if (parity != (numrows & 1)) {
#line 2482
      lptr2 = lptr;
#line 2483
      hptr2 = hptr;
#line 2484
      i = 0;
      {
#line 2484
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 2484
        if (! (i < 16)) {
#line 2484
          goto while_break___6;
        }
#line 2485
        *(lptr2 + 0) += - ((jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2487
        lptr2 ++;
#line 2488
        hptr2 ++;
#line 2484
        i ++;
      }
      while_break___26: /* CIL Label */ ;
      }
      while_break___6: ;
    }
#line 2493
    lptr = a + 0;
#line 2494
    hptr = a + llen * stride;
#line 2495
    if (parity) {
#line 2496
      lptr2 = lptr;
#line 2497
      hptr2 = hptr;
#line 2498
      i = 0;
      {
#line 2498
      while (1) {
        while_continue___7: /* CIL Label */ ;

#line 2498
        if (! (i < 16)) {
#line 2498
          goto while_break___7;
        }
#line 2499
        *(hptr2 + 0) += - ((jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2501
        hptr2 ++;
#line 2502
        lptr2 ++;
#line 2498
        i ++;
      }
      while_break___27: /* CIL Label */ ;
      }
      while_break___7: 
#line 2504
      hptr += stride;
    }
#line 2506
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 2507
    while (1) {
      while_continue___8: /* CIL Label */ ;
#line 2507
      __cil_tmp15 = n;
#line 2507
      n --;
#line 2507
      if (! (__cil_tmp15 > 0)) {
#line 2507
        goto while_break___8;
      }
#line 2508
      lptr2 = lptr;
#line 2509
      hptr2 = hptr;
#line 2510
      i = 0;
      {
#line 2510
      while (1) {
        while_continue___9: /* CIL Label */ ;

#line 2510
        if (! (i < 16)) {
#line 2510
          goto while_break___9;
        }
#line 2511
        *(hptr2 + 0) += - ((jpc_fix_t )(0.882911075531 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13);
#line 2513
        lptr2 ++;
#line 2514
        hptr2 ++;
#line 2510
        i ++;
      }
      while_break___29: /* CIL Label */ ;
      }
      while_break___9: 
#line 2516
      hptr += stride;
#line 2517
      lptr += stride;
    }
    while_break___28: /* CIL Label */ ;
    }
    while_break___8: ;
#line 2519
    if (parity == (numrows & 1)) {
#line 2520
      lptr2 = lptr;
#line 2521
      hptr2 = hptr;
#line 2522
      i = 0;
      {
#line 2522
      while (1) {
        while_continue___10: /* CIL Label */ ;

#line 2522
        if (! (i < 16)) {
#line 2522
          goto while_break___10;
        }
#line 2523
        *(hptr2 + 0) += - ((jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2525
        lptr2 ++;
#line 2526
        hptr2 ++;
#line 2522
        i ++;
      }
      while_break___30: /* CIL Label */ ;
      }
      while_break___10: ;
    }
#line 2531
    lptr = a + 0;
#line 2532
    hptr = a + llen * stride;
#line 2533
    if (! parity) {
#line 2534
      lptr2 = lptr;
#line 2535
      hptr2 = hptr;
#line 2536
      i = 0;
      {
#line 2536
      while (1) {
        while_continue___11: /* CIL Label */ ;

#line 2536
        if (! (i < 16)) {
#line 2536
          goto while_break___11;
        }
#line 2537
        *(lptr2 + 0) += - ((jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2539
        lptr2 ++;
#line 2540
        hptr2 ++;
#line 2536
        i ++;
      }
      while_break___31: /* CIL Label */ ;
      }
      while_break___11: 
#line 2542
      lptr += stride;
    }
#line 2544
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 2545
    while (1) {
      while_continue___12: /* CIL Label */ ;
#line 2545
      __cil_tmp16 = n;
#line 2545
      n --;
#line 2545
      if (! (__cil_tmp16 > 0)) {
#line 2545
        goto while_break___12;
      }
#line 2546
      lptr2 = lptr;
#line 2547
      hptr2 = hptr;
#line 2548
      i = 0;
      {
#line 2548
      while (1) {
        while_continue___13: /* CIL Label */ ;

#line 2548
        if (! (i < 16)) {
#line 2548
          goto while_break___13;
        }
#line 2549
        *(lptr2 + 0) += - ((jpc_fix_t )(- 0.052980118573 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13);
#line 2551
        lptr2 ++;
#line 2552
        hptr2 ++;
#line 2548
        i ++;
      }
      while_break___33: /* CIL Label */ ;
      }
      while_break___13: 
#line 2554
      lptr += stride;
#line 2555
      hptr += stride;
    }
    while_break___32: /* CIL Label */ ;
    }
    while_break___12: ;
#line 2557
    if (parity != (numrows & 1)) {
#line 2558
      lptr2 = lptr;
#line 2559
      hptr2 = hptr;
#line 2560
      i = 0;
      {
#line 2560
      while (1) {
        while_continue___14: /* CIL Label */ ;

#line 2560
        if (! (i < 16)) {
#line 2560
          goto while_break___14;
        }
#line 2561
        *(lptr2 + 0) += - ((jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2563
        lptr2 ++;
#line 2564
        hptr2 ++;
#line 2560
        i ++;
      }
      while_break___34: /* CIL Label */ ;
      }
      while_break___14: ;
    }
#line 2569
    lptr = a + 0;
#line 2570
    hptr = a + llen * stride;
#line 2571
    if (parity) {
#line 2572
      lptr2 = lptr;
#line 2573
      hptr2 = hptr;
#line 2574
      i = 0;
      {
#line 2574
      while (1) {
        while_continue___15: /* CIL Label */ ;

#line 2574
        if (! (i < 16)) {
#line 2574
          goto while_break___15;
        }
#line 2575
        *(hptr2 + 0) += - ((jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2577
        hptr2 ++;
#line 2578
        lptr2 ++;
#line 2574
        i ++;
      }
      while_break___35: /* CIL Label */ ;
      }
      while_break___15: 
#line 2580
      hptr += stride;
    }
#line 2582
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 2583
    while (1) {
      while_continue___16: /* CIL Label */ ;
#line 2583
      __cil_tmp17 = n;
#line 2583
      n --;
#line 2583
      if (! (__cil_tmp17 > 0)) {
#line 2583
        goto while_break___16;
      }
#line 2584
      lptr2 = lptr;
#line 2585
      hptr2 = hptr;
#line 2586
      i = 0;
      {
#line 2586
      while (1) {
        while_continue___17: /* CIL Label */ ;

#line 2586
        if (! (i < 16)) {
#line 2586
          goto while_break___17;
        }
#line 2587
        *(hptr2 + 0) += - ((jpc_fix_t )(- 1.58613434206 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13);
#line 2589
        lptr2 ++;
#line 2590
        hptr2 ++;
#line 2586
        i ++;
      }
      while_break___37: /* CIL Label */ ;
      }
      while_break___17: 
#line 2592
      hptr += stride;
#line 2593
      lptr += stride;
    }
    while_break___36: /* CIL Label */ ;
    }
    while_break___16: ;
#line 2595
    if (parity == (numrows & 1)) {
#line 2596
      lptr2 = lptr;
#line 2597
      hptr2 = hptr;
#line 2598
      i = 0;
      {
#line 2598
      while (1) {
        while_continue___18: /* CIL Label */ ;

#line 2598
        if (! (i < 16)) {
#line 2598
          goto while_break___18;
        }
#line 2599
        *(hptr2 + 0) += - ((jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2601
        lptr2 ++;
#line 2602
        hptr2 ++;
#line 2598
        i ++;
      }
      while_break___38: /* CIL Label */ ;
      }
      while_break___18: ;
    }
  }
#line 2604
  return;
}
}
#line 2622 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ns_invlift_colres(jpc_fix_t *a , int numrows , int numcols , int stride ,
                           int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  register int i ;
  int llen ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;

  {
#line 2634
  llen = ((numrows + 1) - parity) >> 1;
#line 2636
  if (numrows > 1) {
#line 2640
    lptr = a + 0;
#line 2641
    n = llen;
    {
#line 2642
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2642
      __cil_tmp13 = n;
#line 2642
      n --;
#line 2642
      if (! (__cil_tmp13 > 0)) {
#line 2642
        goto while_break;
      }
#line 2643
      lptr2 = lptr;
#line 2644
      i = 0;
      {
#line 2644
      while (1) {
        while_continue___0: /* CIL Label */ ;

#line 2644
        if (! (i < numcols)) {
#line 2644
          goto while_break___0;
        }
#line 2645
        *(lptr2 + 0) = *(lptr2 + 0) * (jpc_fix_t )((1. / (1. / 1.23017410559)) * (double )(1L << 13)) >> 13;
#line 2646
        lptr2 ++;
#line 2644
        i ++;
      }
      while_break___20: /* CIL Label */ ;
      }
      while_break___0: 
#line 2648
      lptr += stride;
    }
    while_break___19: /* CIL Label */ ;
    }
    while_break: 
#line 2650
    hptr = a + llen * stride;
#line 2651
    n = numrows - llen;
    {
#line 2652
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2652
      __cil_tmp14 = n;
#line 2652
      n --;
#line 2652
      if (! (__cil_tmp14 > 0)) {
#line 2652
        goto while_break___1;
      }
#line 2653
      hptr2 = hptr;
#line 2654
      i = 0;
      {
#line 2654
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 2654
        if (! (i < numcols)) {
#line 2654
          goto while_break___2;
        }
#line 2655
        *(hptr2 + 0) = *(hptr2 + 0) * (jpc_fix_t )((1. / (1. / 1.62578613135)) * (double )(1L << 13)) >> 13;
#line 2656
        hptr2 ++;
#line 2654
        i ++;
      }
      while_break___22: /* CIL Label */ ;
      }
      while_break___2: 
#line 2658
      hptr += stride;
    }
    while_break___21: /* CIL Label */ ;
    }
    while_break___1: 
#line 2663
    lptr = a + 0;
#line 2664
    hptr = a + llen * stride;
#line 2665
    if (! parity) {
#line 2666
      lptr2 = lptr;
#line 2667
      hptr2 = hptr;
#line 2668
      i = 0;
      {
#line 2668
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 2668
        if (! (i < numcols)) {
#line 2668
          goto while_break___3;
        }
#line 2669
        *(lptr2 + 0) += - ((jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2671
        lptr2 ++;
#line 2672
        hptr2 ++;
#line 2668
        i ++;
      }
      while_break___23: /* CIL Label */ ;
      }
      while_break___3: 
#line 2674
      lptr += stride;
    }
#line 2676
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 2677
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 2677
      __cil_tmp15 = n;
#line 2677
      n --;
#line 2677
      if (! (__cil_tmp15 > 0)) {
#line 2677
        goto while_break___4;
      }
#line 2678
      lptr2 = lptr;
#line 2679
      hptr2 = hptr;
#line 2680
      i = 0;
      {
#line 2680
      while (1) {
        while_continue___5: /* CIL Label */ ;

#line 2680
        if (! (i < numcols)) {
#line 2680
          goto while_break___5;
        }
#line 2681
        *(lptr2 + 0) += - ((jpc_fix_t )(0.443506852044 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13);
#line 2683
        lptr2 ++;
#line 2684
        hptr2 ++;
#line 2680
        i ++;
      }
      while_break___25: /* CIL Label */ ;
      }
      while_break___5: 
#line 2686
      lptr += stride;
#line 2687
      hptr += stride;
    }
    while_break___24: /* CIL Label */ ;
    }
    while_break___4: ;
#line 2689
    if (parity != (numrows & 1)) {
#line 2690
      lptr2 = lptr;
#line 2691
      hptr2 = hptr;
#line 2692
      i = 0;
      {
#line 2692
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 2692
        if (! (i < numcols)) {
#line 2692
          goto while_break___6;
        }
#line 2693
        *(lptr2 + 0) += - ((jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2695
        lptr2 ++;
#line 2696
        hptr2 ++;
#line 2692
        i ++;
      }
      while_break___26: /* CIL Label */ ;
      }
      while_break___6: ;
    }
#line 2701
    lptr = a + 0;
#line 2702
    hptr = a + llen * stride;
#line 2703
    if (parity) {
#line 2704
      lptr2 = lptr;
#line 2705
      hptr2 = hptr;
#line 2706
      i = 0;
      {
#line 2706
      while (1) {
        while_continue___7: /* CIL Label */ ;

#line 2706
        if (! (i < numcols)) {
#line 2706
          goto while_break___7;
        }
#line 2707
        *(hptr2 + 0) += - ((jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2709
        hptr2 ++;
#line 2710
        lptr2 ++;
#line 2706
        i ++;
      }
      while_break___27: /* CIL Label */ ;
      }
      while_break___7: 
#line 2712
      hptr += stride;
    }
#line 2714
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 2715
    while (1) {
      while_continue___8: /* CIL Label */ ;
#line 2715
      __cil_tmp16 = n;
#line 2715
      n --;
#line 2715
      if (! (__cil_tmp16 > 0)) {
#line 2715
        goto while_break___8;
      }
#line 2716
      lptr2 = lptr;
#line 2717
      hptr2 = hptr;
#line 2718
      i = 0;
      {
#line 2718
      while (1) {
        while_continue___9: /* CIL Label */ ;

#line 2718
        if (! (i < numcols)) {
#line 2718
          goto while_break___9;
        }
#line 2719
        *(hptr2 + 0) += - ((jpc_fix_t )(0.882911075531 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13);
#line 2721
        lptr2 ++;
#line 2722
        hptr2 ++;
#line 2718
        i ++;
      }
      while_break___29: /* CIL Label */ ;
      }
      while_break___9: 
#line 2724
      hptr += stride;
#line 2725
      lptr += stride;
    }
    while_break___28: /* CIL Label */ ;
    }
    while_break___8: ;
#line 2727
    if (parity == (numrows & 1)) {
#line 2728
      lptr2 = lptr;
#line 2729
      hptr2 = hptr;
#line 2730
      i = 0;
      {
#line 2730
      while (1) {
        while_continue___10: /* CIL Label */ ;

#line 2730
        if (! (i < numcols)) {
#line 2730
          goto while_break___10;
        }
#line 2731
        *(hptr2 + 0) += - ((jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2733
        lptr2 ++;
#line 2734
        hptr2 ++;
#line 2730
        i ++;
      }
      while_break___30: /* CIL Label */ ;
      }
      while_break___10: ;
    }
#line 2739
    lptr = a + 0;
#line 2740
    hptr = a + llen * stride;
#line 2741
    if (! parity) {
#line 2742
      lptr2 = lptr;
#line 2743
      hptr2 = hptr;
#line 2744
      i = 0;
      {
#line 2744
      while (1) {
        while_continue___11: /* CIL Label */ ;

#line 2744
        if (! (i < numcols)) {
#line 2744
          goto while_break___11;
        }
#line 2745
        *(lptr2 + 0) += - ((jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2747
        lptr2 ++;
#line 2748
        hptr2 ++;
#line 2744
        i ++;
      }
      while_break___31: /* CIL Label */ ;
      }
      while_break___11: 
#line 2750
      lptr += stride;
    }
#line 2752
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 2753
    while (1) {
      while_continue___12: /* CIL Label */ ;
#line 2753
      __cil_tmp17 = n;
#line 2753
      n --;
#line 2753
      if (! (__cil_tmp17 > 0)) {
#line 2753
        goto while_break___12;
      }
#line 2754
      lptr2 = lptr;
#line 2755
      hptr2 = hptr;
#line 2756
      i = 0;
      {
#line 2756
      while (1) {
        while_continue___13: /* CIL Label */ ;

#line 2756
        if (! (i < numcols)) {
#line 2756
          goto while_break___13;
        }
#line 2757
        *(lptr2 + 0) += - ((jpc_fix_t )(- 0.052980118573 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13);
#line 2759
        lptr2 ++;
#line 2760
        hptr2 ++;
#line 2756
        i ++;
      }
      while_break___33: /* CIL Label */ ;
      }
      while_break___13: 
#line 2762
      lptr += stride;
#line 2763
      hptr += stride;
    }
    while_break___32: /* CIL Label */ ;
    }
    while_break___12: ;
#line 2765
    if (parity != (numrows & 1)) {
#line 2766
      lptr2 = lptr;
#line 2767
      hptr2 = hptr;
#line 2768
      i = 0;
      {
#line 2768
      while (1) {
        while_continue___14: /* CIL Label */ ;

#line 2768
        if (! (i < numcols)) {
#line 2768
          goto while_break___14;
        }
#line 2769
        *(lptr2 + 0) += - ((jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2771
        lptr2 ++;
#line 2772
        hptr2 ++;
#line 2768
        i ++;
      }
      while_break___34: /* CIL Label */ ;
      }
      while_break___14: ;
    }
#line 2777
    lptr = a + 0;
#line 2778
    hptr = a + llen * stride;
#line 2779
    if (parity) {
#line 2780
      lptr2 = lptr;
#line 2781
      hptr2 = hptr;
#line 2782
      i = 0;
      {
#line 2782
      while (1) {
        while_continue___15: /* CIL Label */ ;

#line 2782
        if (! (i < numcols)) {
#line 2782
          goto while_break___15;
        }
#line 2783
        *(hptr2 + 0) += - ((jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2785
        hptr2 ++;
#line 2786
        lptr2 ++;
#line 2782
        i ++;
      }
      while_break___35: /* CIL Label */ ;
      }
      while_break___15: 
#line 2788
      hptr += stride;
    }
#line 2790
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 2791
    while (1) {
      while_continue___16: /* CIL Label */ ;
#line 2791
      __cil_tmp18 = n;
#line 2791
      n --;
#line 2791
      if (! (__cil_tmp18 > 0)) {
#line 2791
        goto while_break___16;
      }
#line 2792
      lptr2 = lptr;
#line 2793
      hptr2 = hptr;
#line 2794
      i = 0;
      {
#line 2794
      while (1) {
        while_continue___17: /* CIL Label */ ;

#line 2794
        if (! (i < numcols)) {
#line 2794
          goto while_break___17;
        }
#line 2795
        *(hptr2 + 0) += - ((jpc_fix_t )(- 1.58613434206 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13);
#line 2797
        lptr2 ++;
#line 2798
        hptr2 ++;
#line 2794
        i ++;
      }
      while_break___37: /* CIL Label */ ;
      }
      while_break___17: 
#line 2800
      hptr += stride;
#line 2801
      lptr += stride;
    }
    while_break___36: /* CIL Label */ ;
    }
    while_break___16: ;
#line 2803
    if (parity == (numrows & 1)) {
#line 2804
      lptr2 = lptr;
#line 2805
      hptr2 = hptr;
#line 2806
      i = 0;
      {
#line 2806
      while (1) {
        while_continue___18: /* CIL Label */ ;

#line 2806
        if (! (i < numcols)) {
#line 2806
          goto while_break___18;
        }
#line 2807
        *(hptr2 + 0) += - ((jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2809
        lptr2 ++;
#line 2810
        hptr2 ++;
#line 2806
        i ++;
      }
      while_break___38: /* CIL Label */ ;
      }
      while_break___18: ;
    }
  }
#line 2812
  return;
}
}
#line 2830 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
void jpc_ns_invlift_col(jpc_fix_t *a , int numrows , int stride , int parity ) 
{ 
  jpc_fix_t *lptr ;
  jpc_fix_t *hptr ;
  register jpc_fix_t *lptr2 ;
  register jpc_fix_t *hptr2 ;
  register int n ;
  int llen ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;

  {
#line 2841
  llen = ((numrows + 1) - parity) >> 1;
#line 2843
  if (numrows > 1) {
#line 2847
    lptr = a + 0;
#line 2848
    n = llen;
    {
#line 2849
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2849
      __cil_tmp11 = n;
#line 2849
      n --;
#line 2849
      if (! (__cil_tmp11 > 0)) {
#line 2849
        goto while_break;
      }
#line 2850
      lptr2 = lptr;
#line 2851
      *(lptr2 + 0) = *(lptr2 + 0) * (jpc_fix_t )((1. / (1. / 1.23017410559)) * (double )(1L << 13)) >> 13;
#line 2852
      lptr2 ++;
#line 2853
      lptr += stride;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break: 
#line 2855
    hptr = a + llen * stride;
#line 2856
    n = numrows - llen;
    {
#line 2857
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2857
      __cil_tmp12 = n;
#line 2857
      n --;
#line 2857
      if (! (__cil_tmp12 > 0)) {
#line 2857
        goto while_break___0;
      }
#line 2858
      hptr2 = hptr;
#line 2859
      *(hptr2 + 0) = *(hptr2 + 0) * (jpc_fix_t )((1. / (1. / 1.62578613135)) * (double )(1L << 13)) >> 13;
#line 2860
      hptr2 ++;
#line 2861
      hptr += stride;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: 
#line 2866
    lptr = a + 0;
#line 2867
    hptr = a + llen * stride;
#line 2868
    if (! parity) {
#line 2869
      lptr2 = lptr;
#line 2870
      hptr2 = hptr;
#line 2871
      *(lptr2 + 0) += - ((jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2873
      lptr2 ++;
#line 2874
      hptr2 ++;
#line 2875
      lptr += stride;
    }
#line 2877
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 2878
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2878
      __cil_tmp13 = n;
#line 2878
      n --;
#line 2878
      if (! (__cil_tmp13 > 0)) {
#line 2878
        goto while_break___1;
      }
#line 2879
      lptr2 = lptr;
#line 2880
      hptr2 = hptr;
#line 2881
      *(lptr2 + 0) += - ((jpc_fix_t )(0.443506852044 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13);
#line 2883
      lptr2 ++;
#line 2884
      hptr2 ++;
#line 2885
      lptr += stride;
#line 2886
      hptr += stride;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___1: ;
#line 2888
    if (parity != (numrows & 1)) {
#line 2889
      lptr2 = lptr;
#line 2890
      hptr2 = hptr;
#line 2891
      *(lptr2 + 0) += - ((jpc_fix_t )((2. * 0.443506852044) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2893
      lptr2 ++;
#line 2894
      hptr2 ++;
    }
#line 2898
    lptr = a + 0;
#line 2899
    hptr = a + llen * stride;
#line 2900
    if (parity) {
#line 2901
      lptr2 = lptr;
#line 2902
      hptr2 = hptr;
#line 2903
      *(hptr2 + 0) += - ((jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2905
      hptr2 ++;
#line 2906
      lptr2 ++;
#line 2907
      hptr += stride;
    }
#line 2909
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 2910
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 2910
      __cil_tmp14 = n;
#line 2910
      n --;
#line 2910
      if (! (__cil_tmp14 > 0)) {
#line 2910
        goto while_break___2;
      }
#line 2911
      lptr2 = lptr;
#line 2912
      hptr2 = hptr;
#line 2913
      *(hptr2 + 0) += - ((jpc_fix_t )(0.882911075531 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13);
#line 2915
      lptr2 ++;
#line 2916
      hptr2 ++;
#line 2917
      hptr += stride;
#line 2918
      lptr += stride;
    }
    while_break___8: /* CIL Label */ ;
    }
    while_break___2: ;
#line 2920
    if (parity == (numrows & 1)) {
#line 2921
      lptr2 = lptr;
#line 2922
      hptr2 = hptr;
#line 2923
      *(hptr2 + 0) += - ((jpc_fix_t )((2. * 0.882911075531) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2925
      lptr2 ++;
#line 2926
      hptr2 ++;
    }
#line 2930
    lptr = a + 0;
#line 2931
    hptr = a + llen * stride;
#line 2932
    if (! parity) {
#line 2933
      lptr2 = lptr;
#line 2934
      hptr2 = hptr;
#line 2935
      *(lptr2 + 0) += - ((jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2937
      lptr2 ++;
#line 2938
      hptr2 ++;
#line 2939
      lptr += stride;
    }
#line 2941
    n = (llen - ! parity) - (parity != (numrows & 1));
    {
#line 2942
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 2942
      __cil_tmp15 = n;
#line 2942
      n --;
#line 2942
      if (! (__cil_tmp15 > 0)) {
#line 2942
        goto while_break___3;
      }
#line 2943
      lptr2 = lptr;
#line 2944
      hptr2 = hptr;
#line 2945
      *(lptr2 + 0) += - ((jpc_fix_t )(- 0.052980118573 * (double )(1L << 13)) * (*(hptr2 + 0) + *(hptr2 + stride)) >> 13);
#line 2947
      lptr2 ++;
#line 2948
      hptr2 ++;
#line 2949
      lptr += stride;
#line 2950
      hptr += stride;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___3: ;
#line 2952
    if (parity != (numrows & 1)) {
#line 2953
      lptr2 = lptr;
#line 2954
      hptr2 = hptr;
#line 2955
      *(lptr2 + 0) += - ((jpc_fix_t )((2. * - 0.052980118573) * (double )(1L << 13)) * *(hptr2 + 0) >> 13);
#line 2957
      lptr2 ++;
#line 2958
      hptr2 ++;
    }
#line 2962
    lptr = a + 0;
#line 2963
    hptr = a + llen * stride;
#line 2964
    if (parity) {
#line 2965
      lptr2 = lptr;
#line 2966
      hptr2 = hptr;
#line 2967
      *(hptr2 + 0) += - ((jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2969
      hptr2 ++;
#line 2970
      lptr2 ++;
#line 2971
      hptr += stride;
    }
#line 2973
    n = ((numrows - llen) - parity) - (parity == (numrows & 1));
    {
#line 2974
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 2974
      __cil_tmp16 = n;
#line 2974
      n --;
#line 2974
      if (! (__cil_tmp16 > 0)) {
#line 2974
        goto while_break___4;
      }
#line 2975
      lptr2 = lptr;
#line 2976
      hptr2 = hptr;
#line 2977
      *(hptr2 + 0) += - ((jpc_fix_t )(- 1.58613434206 * (double )(1L << 13)) * (*(lptr2 + 0) + *(lptr2 + stride)) >> 13);
#line 2979
      lptr2 ++;
#line 2980
      hptr2 ++;
#line 2981
      hptr += stride;
#line 2982
      lptr += stride;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___4: ;
#line 2984
    if (parity == (numrows & 1)) {
#line 2985
      lptr2 = lptr;
#line 2986
      hptr2 = hptr;
#line 2987
      *(hptr2 + 0) += - ((jpc_fix_t )((2. * - 1.58613434206) * (double )(1L << 13)) * *(lptr2 + 0) >> 13);
#line 2989
      lptr2 ++;
#line 2990
      hptr2 ++;
    }
  }
#line 2993
  return;
}
}
#line 3007 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
int jpc_ns_analyze(jpc_fix_t *a , int xstart , int ystart , int width , int height ,
                   int stride ) 
{ 
  int numrows ;
  int numcols ;
  int rowparity ;
  int colparity ;
  int i ;
  jpc_fix_t *startptr ;
  int maxcols ;

  {
#line 3011
  numrows = height;
#line 3012
  numcols = width;
#line 3013
  rowparity = ystart & 1;
#line 3014
  colparity = xstart & 1;
#line 3019
  maxcols = (numcols / 16) * 16;
#line 3020
  startptr = a + 0;
#line 3021
  i = 0;
  {
#line 3021
  while (1) {
    while_continue: /* CIL Label */ ;

#line 3021
    if (! (i < maxcols)) {
#line 3021
      goto while_break;
    }
    {
#line 3022
    jpc_qmfb_split_colgrp(startptr, numrows, stride, rowparity);
#line 3023
    jpc_ns_fwdlift_colgrp(startptr, numrows, stride, rowparity);
#line 3024
    startptr += 16;
#line 3021
    i += 16;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 3026
  if (maxcols < numcols) {
    {
#line 3027
    jpc_qmfb_split_colres(startptr, numrows, numcols - maxcols, stride, rowparity);
#line 3029
    jpc_ns_fwdlift_colres(startptr, numrows, numcols - maxcols, stride, rowparity);
    }
  }
#line 3033
  startptr = a + 0;
#line 3034
  i = 0;
  {
#line 3034
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 3034
    if (! (i < numrows)) {
#line 3034
      goto while_break___0;
    }
    {
#line 3035
    jpc_qmfb_split_row(startptr, numcols, colparity);
#line 3036
    jpc_ns_fwdlift_row(startptr, numcols, colparity);
#line 3037
    startptr += stride;
#line 3034
    i ++;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 3040
  return (0);
}
}
#line 3044 "/root/patron-new/new_2/src/libjasper/jpc/jpc_qmfb.c"
int jpc_ns_synthesize(jpc_fix_t *a , int xstart , int ystart , int width , int height ,
                      int stride ) 
{ 
  int numrows ;
  int numcols ;
  int rowparity ;
  int colparity ;
  int maxcols ;
  jpc_fix_t *startptr ;
  int i ;

  {
#line 3048
  numrows = height;
#line 3049
  numcols = width;
#line 3050
  rowparity = ystart & 1;
#line 3051
  colparity = xstart & 1;
#line 3056
  startptr = a + 0;
#line 3057
  i = 0;
  {
#line 3057
  while (1) {
    while_continue: /* CIL Label */ ;

#line 3057
    if (! (i < numrows)) {
#line 3057
      goto while_break;
    }
    {
#line 3058
    jpc_ns_invlift_row(startptr, numcols, colparity);
#line 3059
    jpc_qmfb_join_row(startptr, numcols, colparity);
#line 3060
    startptr += stride;
#line 3057
    i ++;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 3063
  maxcols = (numcols / 16) * 16;
#line 3064
  startptr = a + 0;
#line 3065
  i = 0;
  {
#line 3065
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 3065
    if (! (i < maxcols)) {
#line 3065
      goto while_break___0;
    }
    {
#line 3066
    jpc_ns_invlift_colgrp(startptr, numrows, stride, rowparity);
#line 3067
    jpc_qmfb_join_colgrp(startptr, numrows, stride, rowparity);
#line 3068
    startptr += 16;
#line 3065
    i += 16;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 3070
  if (maxcols < numcols) {
    {
#line 3071
    jpc_ns_invlift_colres(startptr, numrows, numcols - maxcols, stride, rowparity);
#line 3073
    jpc_qmfb_join_colres(startptr, numrows, numcols - maxcols, stride, rowparity);
    }
  }
#line 3077
  return (0);
}
}
#line 180 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
static void jpc_mqenc_setbits(jpc_mqenc_t *mqenc ) ;
#line 188 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
jpc_mqenc_t *jpc_mqenc_create(int maxctxs , jas_stream_t *out ) 
{ 
  jpc_mqenc_t *mqenc ;
  void *tmp ;
  void *tmp___0 ;

  {
  {
#line 193
  tmp = jas_malloc(sizeof(jpc_mqenc_t ));
#line 193
  mqenc = (jpc_mqenc_t *)tmp;
  }
#line 193
  if (! mqenc) {
#line 194
    goto error;
  }
  {
#line 196
  mqenc->out = out;
#line 197
  mqenc->maxctxs = maxctxs;
#line 200
  tmp___0 = jas_alloc2((size_t )mqenc->maxctxs, sizeof(jpc_mqstate_t *));
#line 200
  mqenc->ctxs = (jpc_mqstate_t **)tmp___0;
  }
#line 200
  if (! mqenc->ctxs) {
#line 201
    goto error;
  }
  {
#line 205
  mqenc->curctx = mqenc->ctxs;
#line 207
  jpc_mqenc_init(mqenc);
#line 210
  jpc_mqenc_setctxs(mqenc, 0, (jpc_mqctx_t *)0);
  }
#line 212
  return (mqenc);
  error: 
#line 215
  if (mqenc) {
    {
#line 216
    jpc_mqenc_destroy(mqenc);
    }
  }
#line 218
  return ((jpc_mqenc_t *)0);
}
}
#line 223 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
void jpc_mqenc_destroy(jpc_mqenc_t *mqenc ) 
{ 


  {
#line 225
  if (mqenc->ctxs) {
    {
#line 226
    jas_free((void *)mqenc->ctxs);
    }
  }
  {
#line 228
  jas_free((void *)mqenc);
  }
#line 230
  return;
}
}
#line 237 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
void jpc_mqenc_init(jpc_mqenc_t *mqenc ) 
{ 


  {
#line 239
  mqenc->areg = (uint_fast32_t )32768;
#line 240
  mqenc->outbuf = (int_fast16_t )-1;
#line 241
  mqenc->creg = (uint_fast32_t )0;
#line 242
  mqenc->ctreg = (uint_fast32_t )12;
#line 243
  mqenc->lastbyte = (int_fast16_t )-1;
#line 244
  mqenc->err = 0;
#line 245
  return;
}
}
#line 249 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
void jpc_mqenc_setctxs(jpc_mqenc_t *mqenc , int numctxs , jpc_mqctx_t *ctxs ) 
{ 
  jpc_mqstate_t **ctx ;
  int n ;
  int tmp ;

  {
#line 254
  ctx = mqenc->ctxs;
#line 255
  if (mqenc->maxctxs < numctxs) {
#line 255
    tmp = mqenc->maxctxs;
  } else {
#line 255
    tmp = numctxs;
  }
#line 255
  n = tmp;
  {
#line 256
  while (1) {
    while_continue: /* CIL Label */ ;
#line 256
    n --;
#line 256
    if (! (n >= 0)) {
#line 256
      goto while_break;
    }
#line 257
    *ctx = & jpc_mqstates[2L * ctxs->ind + (long )ctxs->mps];
#line 258
    ctx ++;
#line 259
    ctxs ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 261
  n = mqenc->maxctxs - numctxs;
  {
#line 262
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 262
    n --;
#line 262
    if (! (n >= 0)) {
#line 262
      goto while_break___0;
    }
#line 263
    *ctx = & jpc_mqstates[0];
#line 264
    ctx ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 268
  return;
}
}
#line 271 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
void jpc_mqenc_getstate(jpc_mqenc_t *mqenc , jpc_mqencstate_t *state ) 
{ 


  {
#line 273
  state->areg = (unsigned int )mqenc->areg;
#line 274
  state->creg = (unsigned int )mqenc->creg;
#line 275
  state->ctreg = (unsigned int )mqenc->ctreg;
#line 276
  state->lastbyte = (int )mqenc->lastbyte;
#line 277
  return;
}
}
#line 285 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
int jpc_mqenc_putbit_func(jpc_mqenc_t *mqenc , int bit ) 
{ 
  jpc_mqstate_t *state ;
  jpc_mqstate_t *state___18 ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp20 ;
  unsigned char *__cil_tmp21 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;

  {
#line 291
  state = *(mqenc->curctx);
#line 293
  if (state->mps == bit) {
#line 295
    mqenc->areg -= state->qeval;
#line 296
    if (! (mqenc->areg & 32768UL)) {
      {
#line 297
      jpc_mqenc_codemps2(mqenc);
      }
    } else {
#line 299
      mqenc->creg += state->qeval;
    }
  } else {
#line 303
    state___18 = *(mqenc->curctx);
#line 303
    mqenc->areg -= state___18->qeval;
#line 303
    if (mqenc->areg < state___18->qeval) {
#line 303
      mqenc->creg += state___18->qeval;
    } else {
#line 303
      mqenc->areg = state___18->qeval;
    }
#line 303
    *(mqenc->curctx) = state___18->nlps;
    {
#line 303
    while (1) {
      while_continue: /* CIL Label */ ;
#line 303
      mqenc->areg <<= 1;
#line 303
      mqenc->creg <<= 1;
#line 303
      (mqenc->ctreg) --;
#line 303
      if (! mqenc->ctreg) {
#line 303
        if (mqenc->outbuf != 255L) {
#line 303
          if (mqenc->creg & 134217728UL) {
#line 303
            (mqenc->outbuf) ++;
#line 303
            if (mqenc->outbuf == 255L) {
#line 303
              mqenc->creg &= 134217727UL;
#line 303
              if (mqenc->outbuf >= 0L) {
#line 303
                if (! ((mqenc->out)->flags_ & 7)) {
#line 303
                  if ((mqenc->out)->rwlimit_ >= 0L) {
#line 303
                    if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 303
                      (mqenc->out)->flags_ |= 4;
#line 303
                      tmp___0 = -1;
                    } else {
#line 303
                      goto _L___10;
                    }
                  } else {
                    _L___10: /* CIL Label */ 
#line 303
                    ((mqenc->out)->cnt_) --;
#line 303
                    (mqenc->out)->bufmode_ |= 32;
#line 303
                    if ((mqenc->out)->cnt_ < 0) {
                      {
#line 303
                      __cil_tmp5 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 303
                      tmp = __cil_tmp5;
                      }
                    } else {
#line 303
                      __cil_tmp6 = (mqenc->out)->ptr_;
#line 303
                      ((mqenc->out)->ptr_) ++;
#line 303
                      *__cil_tmp6 = (unsigned char )mqenc->outbuf;
#line 303
                      ((mqenc->out)->rwcnt_) ++;
#line 303
                      tmp = (int )*__cil_tmp6;
                    }
#line 303
                    tmp___0 = tmp;
                  }
#line 303
                  tmp___1 = tmp___0;
                } else {
#line 303
                  tmp___1 = -1;
                }
#line 303
                if (tmp___1 == -1) {
#line 303
                  mqenc->err |= 1;
                }
              }
#line 303
              mqenc->lastbyte = mqenc->outbuf;
#line 303
              mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 303
              mqenc->creg &= 1048575UL;
#line 303
              mqenc->ctreg = (uint_fast32_t )7;
            } else {
#line 303
              if (mqenc->outbuf >= 0L) {
#line 303
                if (! ((mqenc->out)->flags_ & 7)) {
#line 303
                  if ((mqenc->out)->rwlimit_ >= 0L) {
#line 303
                    if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 303
                      (mqenc->out)->flags_ |= 4;
#line 303
                      tmp___3 = -1;
                    } else {
#line 303
                      goto _L___11;
                    }
                  } else {
                    _L___11: /* CIL Label */ 
#line 303
                    ((mqenc->out)->cnt_) --;
#line 303
                    (mqenc->out)->bufmode_ |= 32;
#line 303
                    if ((mqenc->out)->cnt_ < 0) {
                      {
#line 303
                      __cil_tmp10 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 303
                      tmp___2 = __cil_tmp10;
                      }
                    } else {
#line 303
                      __cil_tmp11 = (mqenc->out)->ptr_;
#line 303
                      ((mqenc->out)->ptr_) ++;
#line 303
                      *__cil_tmp11 = (unsigned char )mqenc->outbuf;
#line 303
                      ((mqenc->out)->rwcnt_) ++;
#line 303
                      tmp___2 = (int )*__cil_tmp11;
                    }
#line 303
                    tmp___3 = tmp___2;
                  }
#line 303
                  tmp___4 = tmp___3;
                } else {
#line 303
                  tmp___4 = -1;
                }
#line 303
                if (tmp___4 == -1) {
#line 303
                  mqenc->err |= 1;
                }
              }
#line 303
              mqenc->lastbyte = mqenc->outbuf;
#line 303
              mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 303
              mqenc->creg &= 524287UL;
#line 303
              mqenc->ctreg = (uint_fast32_t )8;
            }
          } else {
#line 303
            if (mqenc->outbuf >= 0L) {
#line 303
              if (! ((mqenc->out)->flags_ & 7)) {
#line 303
                if ((mqenc->out)->rwlimit_ >= 0L) {
#line 303
                  if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 303
                    (mqenc->out)->flags_ |= 4;
#line 303
                    tmp___6 = -1;
                  } else {
#line 303
                    goto _L___12;
                  }
                } else {
                  _L___12: /* CIL Label */ 
#line 303
                  ((mqenc->out)->cnt_) --;
#line 303
                  (mqenc->out)->bufmode_ |= 32;
#line 303
                  if ((mqenc->out)->cnt_ < 0) {
                    {
#line 303
                    __cil_tmp15 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 303
                    tmp___5 = __cil_tmp15;
                    }
                  } else {
#line 303
                    __cil_tmp16 = (mqenc->out)->ptr_;
#line 303
                    ((mqenc->out)->ptr_) ++;
#line 303
                    *__cil_tmp16 = (unsigned char )mqenc->outbuf;
#line 303
                    ((mqenc->out)->rwcnt_) ++;
#line 303
                    tmp___5 = (int )*__cil_tmp16;
                  }
#line 303
                  tmp___6 = tmp___5;
                }
#line 303
                tmp___7 = tmp___6;
              } else {
#line 303
                tmp___7 = -1;
              }
#line 303
              if (tmp___7 == -1) {
#line 303
                mqenc->err |= 1;
              }
            }
#line 303
            mqenc->lastbyte = mqenc->outbuf;
#line 303
            mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 303
            mqenc->creg &= 524287UL;
#line 303
            mqenc->ctreg = (uint_fast32_t )8;
          }
        } else {
#line 303
          if (mqenc->outbuf >= 0L) {
#line 303
            if (! ((mqenc->out)->flags_ & 7)) {
#line 303
              if ((mqenc->out)->rwlimit_ >= 0L) {
#line 303
                if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 303
                  (mqenc->out)->flags_ |= 4;
#line 303
                  tmp___9 = -1;
                } else {
#line 303
                  goto _L___13;
                }
              } else {
                _L___13: /* CIL Label */ 
#line 303
                ((mqenc->out)->cnt_) --;
#line 303
                (mqenc->out)->bufmode_ |= 32;
#line 303
                if ((mqenc->out)->cnt_ < 0) {
                  {
#line 303
                  __cil_tmp20 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 303
                  tmp___8 = __cil_tmp20;
                  }
                } else {
#line 303
                  __cil_tmp21 = (mqenc->out)->ptr_;
#line 303
                  ((mqenc->out)->ptr_) ++;
#line 303
                  *__cil_tmp21 = (unsigned char )mqenc->outbuf;
#line 303
                  ((mqenc->out)->rwcnt_) ++;
#line 303
                  tmp___8 = (int )*__cil_tmp21;
                }
#line 303
                tmp___9 = tmp___8;
              }
#line 303
              tmp___10 = tmp___9;
            } else {
#line 303
              tmp___10 = -1;
            }
#line 303
            if (tmp___10 == -1) {
#line 303
              mqenc->err |= 1;
            }
          }
#line 303
          mqenc->lastbyte = mqenc->outbuf;
#line 303
          mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 303
          mqenc->creg &= 1048575UL;
#line 303
          mqenc->ctreg = (uint_fast32_t )7;
        }
      }
#line 303
      if (! (! (mqenc->areg & 32768UL))) {
#line 303
        goto while_break;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  }
#line 306
  if (mqenc->err) {
#line 306
    tmp___11 = -1;
  } else {
#line 306
    tmp___11 = 0;
  }
#line 306
  return (tmp___11);
}
}
#line 309 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
int jpc_mqenc_codemps2(jpc_mqenc_t *mqenc ) 
{ 
  jpc_mqstate_t *state ;
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp13 ;
  unsigned char *__cil_tmp14 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp18 ;
  unsigned char *__cil_tmp19 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;

  {
#line 315
  state = *(mqenc->curctx);
#line 316
  if (mqenc->areg < state->qeval) {
#line 317
    mqenc->areg = state->qeval;
  } else {
#line 319
    mqenc->creg += state->qeval;
  }
#line 321
  *(mqenc->curctx) = state->nmps;
  {
#line 322
  while (1) {
    while_continue: /* CIL Label */ ;
#line 322
    mqenc->areg <<= 1;
#line 322
    mqenc->creg <<= 1;
#line 322
    (mqenc->ctreg) --;
#line 322
    if (! mqenc->ctreg) {
#line 322
      if (mqenc->outbuf != 255L) {
#line 322
        if (mqenc->creg & 134217728UL) {
#line 322
          (mqenc->outbuf) ++;
#line 322
          if (mqenc->outbuf == 255L) {
#line 322
            mqenc->creg &= 134217727UL;
#line 322
            if (mqenc->outbuf >= 0L) {
#line 322
              if (! ((mqenc->out)->flags_ & 7)) {
#line 322
                if ((mqenc->out)->rwlimit_ >= 0L) {
#line 322
                  if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 322
                    (mqenc->out)->flags_ |= 4;
#line 322
                    tmp___0 = -1;
                  } else {
#line 322
                    goto _L___10;
                  }
                } else {
                  _L___10: /* CIL Label */ 
#line 322
                  ((mqenc->out)->cnt_) --;
#line 322
                  (mqenc->out)->bufmode_ |= 32;
#line 322
                  if ((mqenc->out)->cnt_ < 0) {
                    {
#line 322
                    __cil_tmp3 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 322
                    tmp = __cil_tmp3;
                    }
                  } else {
#line 322
                    __cil_tmp4 = (mqenc->out)->ptr_;
#line 322
                    ((mqenc->out)->ptr_) ++;
#line 322
                    *__cil_tmp4 = (unsigned char )mqenc->outbuf;
#line 322
                    ((mqenc->out)->rwcnt_) ++;
#line 322
                    tmp = (int )*__cil_tmp4;
                  }
#line 322
                  tmp___0 = tmp;
                }
#line 322
                tmp___1 = tmp___0;
              } else {
#line 322
                tmp___1 = -1;
              }
#line 322
              if (tmp___1 == -1) {
#line 322
                mqenc->err |= 1;
              }
            }
#line 322
            mqenc->lastbyte = mqenc->outbuf;
#line 322
            mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 322
            mqenc->creg &= 1048575UL;
#line 322
            mqenc->ctreg = (uint_fast32_t )7;
          } else {
#line 322
            if (mqenc->outbuf >= 0L) {
#line 322
              if (! ((mqenc->out)->flags_ & 7)) {
#line 322
                if ((mqenc->out)->rwlimit_ >= 0L) {
#line 322
                  if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 322
                    (mqenc->out)->flags_ |= 4;
#line 322
                    tmp___3 = -1;
                  } else {
#line 322
                    goto _L___11;
                  }
                } else {
                  _L___11: /* CIL Label */ 
#line 322
                  ((mqenc->out)->cnt_) --;
#line 322
                  (mqenc->out)->bufmode_ |= 32;
#line 322
                  if ((mqenc->out)->cnt_ < 0) {
                    {
#line 322
                    __cil_tmp8 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 322
                    tmp___2 = __cil_tmp8;
                    }
                  } else {
#line 322
                    __cil_tmp9 = (mqenc->out)->ptr_;
#line 322
                    ((mqenc->out)->ptr_) ++;
#line 322
                    *__cil_tmp9 = (unsigned char )mqenc->outbuf;
#line 322
                    ((mqenc->out)->rwcnt_) ++;
#line 322
                    tmp___2 = (int )*__cil_tmp9;
                  }
#line 322
                  tmp___3 = tmp___2;
                }
#line 322
                tmp___4 = tmp___3;
              } else {
#line 322
                tmp___4 = -1;
              }
#line 322
              if (tmp___4 == -1) {
#line 322
                mqenc->err |= 1;
              }
            }
#line 322
            mqenc->lastbyte = mqenc->outbuf;
#line 322
            mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 322
            mqenc->creg &= 524287UL;
#line 322
            mqenc->ctreg = (uint_fast32_t )8;
          }
        } else {
#line 322
          if (mqenc->outbuf >= 0L) {
#line 322
            if (! ((mqenc->out)->flags_ & 7)) {
#line 322
              if ((mqenc->out)->rwlimit_ >= 0L) {
#line 322
                if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 322
                  (mqenc->out)->flags_ |= 4;
#line 322
                  tmp___6 = -1;
                } else {
#line 322
                  goto _L___12;
                }
              } else {
                _L___12: /* CIL Label */ 
#line 322
                ((mqenc->out)->cnt_) --;
#line 322
                (mqenc->out)->bufmode_ |= 32;
#line 322
                if ((mqenc->out)->cnt_ < 0) {
                  {
#line 322
                  __cil_tmp13 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 322
                  tmp___5 = __cil_tmp13;
                  }
                } else {
#line 322
                  __cil_tmp14 = (mqenc->out)->ptr_;
#line 322
                  ((mqenc->out)->ptr_) ++;
#line 322
                  *__cil_tmp14 = (unsigned char )mqenc->outbuf;
#line 322
                  ((mqenc->out)->rwcnt_) ++;
#line 322
                  tmp___5 = (int )*__cil_tmp14;
                }
#line 322
                tmp___6 = tmp___5;
              }
#line 322
              tmp___7 = tmp___6;
            } else {
#line 322
              tmp___7 = -1;
            }
#line 322
            if (tmp___7 == -1) {
#line 322
              mqenc->err |= 1;
            }
          }
#line 322
          mqenc->lastbyte = mqenc->outbuf;
#line 322
          mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 322
          mqenc->creg &= 524287UL;
#line 322
          mqenc->ctreg = (uint_fast32_t )8;
        }
      } else {
#line 322
        if (mqenc->outbuf >= 0L) {
#line 322
          if (! ((mqenc->out)->flags_ & 7)) {
#line 322
            if ((mqenc->out)->rwlimit_ >= 0L) {
#line 322
              if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 322
                (mqenc->out)->flags_ |= 4;
#line 322
                tmp___9 = -1;
              } else {
#line 322
                goto _L___13;
              }
            } else {
              _L___13: /* CIL Label */ 
#line 322
              ((mqenc->out)->cnt_) --;
#line 322
              (mqenc->out)->bufmode_ |= 32;
#line 322
              if ((mqenc->out)->cnt_ < 0) {
                {
#line 322
                __cil_tmp18 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 322
                tmp___8 = __cil_tmp18;
                }
              } else {
#line 322
                __cil_tmp19 = (mqenc->out)->ptr_;
#line 322
                ((mqenc->out)->ptr_) ++;
#line 322
                *__cil_tmp19 = (unsigned char )mqenc->outbuf;
#line 322
                ((mqenc->out)->rwcnt_) ++;
#line 322
                tmp___8 = (int )*__cil_tmp19;
              }
#line 322
              tmp___9 = tmp___8;
            }
#line 322
            tmp___10 = tmp___9;
          } else {
#line 322
            tmp___10 = -1;
          }
#line 322
          if (tmp___10 == -1) {
#line 322
            mqenc->err |= 1;
          }
        }
#line 322
        mqenc->lastbyte = mqenc->outbuf;
#line 322
        mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 322
        mqenc->creg &= 1048575UL;
#line 322
        mqenc->ctreg = (uint_fast32_t )7;
      }
    }
#line 322
    if (! (! (mqenc->areg & 32768UL))) {
#line 322
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 323
  if (mqenc->err) {
#line 323
    tmp___11 = -1;
  } else {
#line 323
    tmp___11 = 0;
  }
#line 323
  return (tmp___11);
}
}
#line 326 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
int jpc_mqenc_codelps(jpc_mqenc_t *mqenc ) 
{ 
  jpc_mqstate_t *state ;
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp13 ;
  unsigned char *__cil_tmp14 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp18 ;
  unsigned char *__cil_tmp19 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;

  {
#line 328
  state = *(mqenc->curctx);
#line 328
  mqenc->areg -= state->qeval;
#line 328
  if (mqenc->areg < state->qeval) {
#line 328
    mqenc->creg += state->qeval;
  } else {
#line 328
    mqenc->areg = state->qeval;
  }
#line 328
  *(mqenc->curctx) = state->nlps;
  {
#line 328
  while (1) {
    while_continue: /* CIL Label */ ;
#line 328
    mqenc->areg <<= 1;
#line 328
    mqenc->creg <<= 1;
#line 328
    (mqenc->ctreg) --;
#line 328
    if (! mqenc->ctreg) {
#line 328
      if (mqenc->outbuf != 255L) {
#line 328
        if (mqenc->creg & 134217728UL) {
#line 328
          (mqenc->outbuf) ++;
#line 328
          if (mqenc->outbuf == 255L) {
#line 328
            mqenc->creg &= 134217727UL;
#line 328
            if (mqenc->outbuf >= 0L) {
#line 328
              if (! ((mqenc->out)->flags_ & 7)) {
#line 328
                if ((mqenc->out)->rwlimit_ >= 0L) {
#line 328
                  if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 328
                    (mqenc->out)->flags_ |= 4;
#line 328
                    tmp___0 = -1;
                  } else {
#line 328
                    goto _L___10;
                  }
                } else {
                  _L___10: /* CIL Label */ 
#line 328
                  ((mqenc->out)->cnt_) --;
#line 328
                  (mqenc->out)->bufmode_ |= 32;
#line 328
                  if ((mqenc->out)->cnt_ < 0) {
                    {
#line 328
                    __cil_tmp3 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 328
                    tmp = __cil_tmp3;
                    }
                  } else {
#line 328
                    __cil_tmp4 = (mqenc->out)->ptr_;
#line 328
                    ((mqenc->out)->ptr_) ++;
#line 328
                    *__cil_tmp4 = (unsigned char )mqenc->outbuf;
#line 328
                    ((mqenc->out)->rwcnt_) ++;
#line 328
                    tmp = (int )*__cil_tmp4;
                  }
#line 328
                  tmp___0 = tmp;
                }
#line 328
                tmp___1 = tmp___0;
              } else {
#line 328
                tmp___1 = -1;
              }
#line 328
              if (tmp___1 == -1) {
#line 328
                mqenc->err |= 1;
              }
            }
#line 328
            mqenc->lastbyte = mqenc->outbuf;
#line 328
            mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 328
            mqenc->creg &= 1048575UL;
#line 328
            mqenc->ctreg = (uint_fast32_t )7;
          } else {
#line 328
            if (mqenc->outbuf >= 0L) {
#line 328
              if (! ((mqenc->out)->flags_ & 7)) {
#line 328
                if ((mqenc->out)->rwlimit_ >= 0L) {
#line 328
                  if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 328
                    (mqenc->out)->flags_ |= 4;
#line 328
                    tmp___3 = -1;
                  } else {
#line 328
                    goto _L___11;
                  }
                } else {
                  _L___11: /* CIL Label */ 
#line 328
                  ((mqenc->out)->cnt_) --;
#line 328
                  (mqenc->out)->bufmode_ |= 32;
#line 328
                  if ((mqenc->out)->cnt_ < 0) {
                    {
#line 328
                    __cil_tmp8 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 328
                    tmp___2 = __cil_tmp8;
                    }
                  } else {
#line 328
                    __cil_tmp9 = (mqenc->out)->ptr_;
#line 328
                    ((mqenc->out)->ptr_) ++;
#line 328
                    *__cil_tmp9 = (unsigned char )mqenc->outbuf;
#line 328
                    ((mqenc->out)->rwcnt_) ++;
#line 328
                    tmp___2 = (int )*__cil_tmp9;
                  }
#line 328
                  tmp___3 = tmp___2;
                }
#line 328
                tmp___4 = tmp___3;
              } else {
#line 328
                tmp___4 = -1;
              }
#line 328
              if (tmp___4 == -1) {
#line 328
                mqenc->err |= 1;
              }
            }
#line 328
            mqenc->lastbyte = mqenc->outbuf;
#line 328
            mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 328
            mqenc->creg &= 524287UL;
#line 328
            mqenc->ctreg = (uint_fast32_t )8;
          }
        } else {
#line 328
          if (mqenc->outbuf >= 0L) {
#line 328
            if (! ((mqenc->out)->flags_ & 7)) {
#line 328
              if ((mqenc->out)->rwlimit_ >= 0L) {
#line 328
                if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 328
                  (mqenc->out)->flags_ |= 4;
#line 328
                  tmp___6 = -1;
                } else {
#line 328
                  goto _L___12;
                }
              } else {
                _L___12: /* CIL Label */ 
#line 328
                ((mqenc->out)->cnt_) --;
#line 328
                (mqenc->out)->bufmode_ |= 32;
#line 328
                if ((mqenc->out)->cnt_ < 0) {
                  {
#line 328
                  __cil_tmp13 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 328
                  tmp___5 = __cil_tmp13;
                  }
                } else {
#line 328
                  __cil_tmp14 = (mqenc->out)->ptr_;
#line 328
                  ((mqenc->out)->ptr_) ++;
#line 328
                  *__cil_tmp14 = (unsigned char )mqenc->outbuf;
#line 328
                  ((mqenc->out)->rwcnt_) ++;
#line 328
                  tmp___5 = (int )*__cil_tmp14;
                }
#line 328
                tmp___6 = tmp___5;
              }
#line 328
              tmp___7 = tmp___6;
            } else {
#line 328
              tmp___7 = -1;
            }
#line 328
            if (tmp___7 == -1) {
#line 328
              mqenc->err |= 1;
            }
          }
#line 328
          mqenc->lastbyte = mqenc->outbuf;
#line 328
          mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 328
          mqenc->creg &= 524287UL;
#line 328
          mqenc->ctreg = (uint_fast32_t )8;
        }
      } else {
#line 328
        if (mqenc->outbuf >= 0L) {
#line 328
          if (! ((mqenc->out)->flags_ & 7)) {
#line 328
            if ((mqenc->out)->rwlimit_ >= 0L) {
#line 328
              if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 328
                (mqenc->out)->flags_ |= 4;
#line 328
                tmp___9 = -1;
              } else {
#line 328
                goto _L___13;
              }
            } else {
              _L___13: /* CIL Label */ 
#line 328
              ((mqenc->out)->cnt_) --;
#line 328
              (mqenc->out)->bufmode_ |= 32;
#line 328
              if ((mqenc->out)->cnt_ < 0) {
                {
#line 328
                __cil_tmp18 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 328
                tmp___8 = __cil_tmp18;
                }
              } else {
#line 328
                __cil_tmp19 = (mqenc->out)->ptr_;
#line 328
                ((mqenc->out)->ptr_) ++;
#line 328
                *__cil_tmp19 = (unsigned char )mqenc->outbuf;
#line 328
                ((mqenc->out)->rwcnt_) ++;
#line 328
                tmp___8 = (int )*__cil_tmp19;
              }
#line 328
              tmp___9 = tmp___8;
            }
#line 328
            tmp___10 = tmp___9;
          } else {
#line 328
            tmp___10 = -1;
          }
#line 328
          if (tmp___10 == -1) {
#line 328
            mqenc->err |= 1;
          }
        }
#line 328
        mqenc->lastbyte = mqenc->outbuf;
#line 328
        mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 328
        mqenc->creg &= 1048575UL;
#line 328
        mqenc->ctreg = (uint_fast32_t )7;
      }
    }
#line 328
    if (! (! (mqenc->areg & 32768UL))) {
#line 328
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 329
  if (mqenc->err) {
#line 329
    tmp___11 = -1;
  } else {
#line 329
    tmp___11 = 0;
  }
#line 329
  return (tmp___11);
}
}
#line 338 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
int jpc_mqenc_flush(jpc_mqenc_t *mqenc , int termmode ) 
{ 
  int_fast16_t k ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp14 ;
  unsigned char *__cil_tmp15 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp19 ;
  unsigned char *__cil_tmp20 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int __cil_tmp24 ;
  unsigned char *__cil_tmp25 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int __cil_tmp29 ;
  unsigned char *__cil_tmp30 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int __cil_tmp34 ;
  unsigned char *__cil_tmp35 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  int __cil_tmp39 ;
  unsigned char *__cil_tmp40 ;
  int tmp___20 ;
  int tmp___21 ;
  int tmp___22 ;
  int __cil_tmp44 ;
  unsigned char *__cil_tmp45 ;
  int tmp___23 ;
  int tmp___24 ;
  int tmp___25 ;
  int __cil_tmp49 ;
  unsigned char *__cil_tmp50 ;
  int tmp___26 ;
  int tmp___27 ;
  int tmp___28 ;
  int __cil_tmp54 ;
  unsigned char *__cil_tmp55 ;
  int tmp___29 ;
  int tmp___30 ;
  int tmp___31 ;
  int __cil_tmp59 ;
  unsigned char *__cil_tmp60 ;
  int tmp___32 ;
  int tmp___33 ;
  int tmp___34 ;
  int __cil_tmp64 ;
  unsigned char *__cil_tmp65 ;
  int tmp___35 ;
  int tmp___36 ;
  int tmp___37 ;
  int __cil_tmp69 ;
  unsigned char *__cil_tmp70 ;
  int tmp___38 ;
  int tmp___39 ;
  int tmp___40 ;
  int __cil_tmp74 ;
  unsigned char *__cil_tmp75 ;
  int tmp___41 ;
  int tmp___42 ;
  int tmp___43 ;
  int __cil_tmp79 ;
  unsigned char *__cil_tmp80 ;
  int tmp___44 ;
  int tmp___45 ;
  int tmp___46 ;
  int __cil_tmp84 ;
  unsigned char *__cil_tmp85 ;
  int tmp___47 ;
  int tmp___48 ;
  int tmp___49 ;
  int __cil_tmp89 ;
  unsigned char *__cil_tmp90 ;
  int tmp___50 ;
  int tmp___51 ;
  int tmp___52 ;
  int __cil_tmp94 ;
  unsigned char *__cil_tmp95 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int __cil_tmp99 ;
  unsigned char *__cil_tmp100 ;
  int tmp___56 ;
  int tmp___57 ;
  int tmp___58 ;

  {
#line 343
  if (termmode == 1) {
#line 343
    goto case_1;
  }
#line 356
  if (termmode == 0) {
#line 356
    goto case_0;
  }
#line 366
  goto switch_default;
  case_1: 
#line 344
  k = (int_fast16_t )((11UL - mqenc->ctreg) + 1UL);
  {
#line 345
  while (1) {
    while_continue: /* CIL Label */ ;

#line 345
    if (! (k > 0L)) {
#line 345
      goto while_break;
    }
#line 346
    mqenc->creg <<= mqenc->ctreg;
#line 347
    mqenc->ctreg = (uint_fast32_t )0;
#line 348
    if (mqenc->outbuf != 255L) {
#line 348
      if (mqenc->creg & 134217728UL) {
#line 348
        (mqenc->outbuf) ++;
#line 348
        if (mqenc->outbuf == 255L) {
#line 348
          mqenc->creg &= 134217727UL;
#line 348
          if (mqenc->outbuf >= 0L) {
#line 348
            if (! ((mqenc->out)->flags_ & 7)) {
#line 348
              if ((mqenc->out)->rwlimit_ >= 0L) {
#line 348
                if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 348
                  (mqenc->out)->flags_ |= 4;
#line 348
                  tmp___0 = -1;
                } else {
#line 348
                  goto _L___10;
                }
              } else {
                _L___10: /* CIL Label */ 
#line 348
                ((mqenc->out)->cnt_) --;
#line 348
                (mqenc->out)->bufmode_ |= 32;
#line 348
                if ((mqenc->out)->cnt_ < 0) {
                  {
#line 348
                  __cil_tmp4 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 348
                  tmp = __cil_tmp4;
                  }
                } else {
#line 348
                  __cil_tmp5 = (mqenc->out)->ptr_;
#line 348
                  ((mqenc->out)->ptr_) ++;
#line 348
                  *__cil_tmp5 = (unsigned char )mqenc->outbuf;
#line 348
                  ((mqenc->out)->rwcnt_) ++;
#line 348
                  tmp = (int )*__cil_tmp5;
                }
#line 348
                tmp___0 = tmp;
              }
#line 348
              tmp___1 = tmp___0;
            } else {
#line 348
              tmp___1 = -1;
            }
#line 348
            if (tmp___1 == -1) {
#line 348
              mqenc->err |= 1;
            }
          }
#line 348
          mqenc->lastbyte = mqenc->outbuf;
#line 348
          mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 348
          mqenc->creg &= 1048575UL;
#line 348
          mqenc->ctreg = (uint_fast32_t )7;
        } else {
#line 348
          if (mqenc->outbuf >= 0L) {
#line 348
            if (! ((mqenc->out)->flags_ & 7)) {
#line 348
              if ((mqenc->out)->rwlimit_ >= 0L) {
#line 348
                if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 348
                  (mqenc->out)->flags_ |= 4;
#line 348
                  tmp___3 = -1;
                } else {
#line 348
                  goto _L___11;
                }
              } else {
                _L___11: /* CIL Label */ 
#line 348
                ((mqenc->out)->cnt_) --;
#line 348
                (mqenc->out)->bufmode_ |= 32;
#line 348
                if ((mqenc->out)->cnt_ < 0) {
                  {
#line 348
                  __cil_tmp9 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 348
                  tmp___2 = __cil_tmp9;
                  }
                } else {
#line 348
                  __cil_tmp10 = (mqenc->out)->ptr_;
#line 348
                  ((mqenc->out)->ptr_) ++;
#line 348
                  *__cil_tmp10 = (unsigned char )mqenc->outbuf;
#line 348
                  ((mqenc->out)->rwcnt_) ++;
#line 348
                  tmp___2 = (int )*__cil_tmp10;
                }
#line 348
                tmp___3 = tmp___2;
              }
#line 348
              tmp___4 = tmp___3;
            } else {
#line 348
              tmp___4 = -1;
            }
#line 348
            if (tmp___4 == -1) {
#line 348
              mqenc->err |= 1;
            }
          }
#line 348
          mqenc->lastbyte = mqenc->outbuf;
#line 348
          mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 348
          mqenc->creg &= 524287UL;
#line 348
          mqenc->ctreg = (uint_fast32_t )8;
        }
      } else {
#line 348
        if (mqenc->outbuf >= 0L) {
#line 348
          if (! ((mqenc->out)->flags_ & 7)) {
#line 348
            if ((mqenc->out)->rwlimit_ >= 0L) {
#line 348
              if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 348
                (mqenc->out)->flags_ |= 4;
#line 348
                tmp___6 = -1;
              } else {
#line 348
                goto _L___12;
              }
            } else {
              _L___12: /* CIL Label */ 
#line 348
              ((mqenc->out)->cnt_) --;
#line 348
              (mqenc->out)->bufmode_ |= 32;
#line 348
              if ((mqenc->out)->cnt_ < 0) {
                {
#line 348
                __cil_tmp14 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 348
                tmp___5 = __cil_tmp14;
                }
              } else {
#line 348
                __cil_tmp15 = (mqenc->out)->ptr_;
#line 348
                ((mqenc->out)->ptr_) ++;
#line 348
                *__cil_tmp15 = (unsigned char )mqenc->outbuf;
#line 348
                ((mqenc->out)->rwcnt_) ++;
#line 348
                tmp___5 = (int )*__cil_tmp15;
              }
#line 348
              tmp___6 = tmp___5;
            }
#line 348
            tmp___7 = tmp___6;
          } else {
#line 348
            tmp___7 = -1;
          }
#line 348
          if (tmp___7 == -1) {
#line 348
            mqenc->err |= 1;
          }
        }
#line 348
        mqenc->lastbyte = mqenc->outbuf;
#line 348
        mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 348
        mqenc->creg &= 524287UL;
#line 348
        mqenc->ctreg = (uint_fast32_t )8;
      }
    } else {
#line 348
      if (mqenc->outbuf >= 0L) {
#line 348
        if (! ((mqenc->out)->flags_ & 7)) {
#line 348
          if ((mqenc->out)->rwlimit_ >= 0L) {
#line 348
            if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 348
              (mqenc->out)->flags_ |= 4;
#line 348
              tmp___9 = -1;
            } else {
#line 348
              goto _L___13;
            }
          } else {
            _L___13: /* CIL Label */ 
#line 348
            ((mqenc->out)->cnt_) --;
#line 348
            (mqenc->out)->bufmode_ |= 32;
#line 348
            if ((mqenc->out)->cnt_ < 0) {
              {
#line 348
              __cil_tmp19 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 348
              tmp___8 = __cil_tmp19;
              }
            } else {
#line 348
              __cil_tmp20 = (mqenc->out)->ptr_;
#line 348
              ((mqenc->out)->ptr_) ++;
#line 348
              *__cil_tmp20 = (unsigned char )mqenc->outbuf;
#line 348
              ((mqenc->out)->rwcnt_) ++;
#line 348
              tmp___8 = (int )*__cil_tmp20;
            }
#line 348
            tmp___9 = tmp___8;
          }
#line 348
          tmp___10 = tmp___9;
        } else {
#line 348
          tmp___10 = -1;
        }
#line 348
        if (tmp___10 == -1) {
#line 348
          mqenc->err |= 1;
        }
      }
#line 348
      mqenc->lastbyte = mqenc->outbuf;
#line 348
      mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 348
      mqenc->creg &= 1048575UL;
#line 348
      mqenc->ctreg = (uint_fast32_t )7;
    }
#line 350
    k = (int_fast16_t )((uint_fast32_t )k - mqenc->ctreg);
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 352
  if (mqenc->outbuf != 255L) {
#line 353
    if (mqenc->outbuf != 255L) {
#line 353
      if (mqenc->creg & 134217728UL) {
#line 353
        (mqenc->outbuf) ++;
#line 353
        if (mqenc->outbuf == 255L) {
#line 353
          mqenc->creg &= 134217727UL;
#line 353
          if (mqenc->outbuf >= 0L) {
#line 353
            if (! ((mqenc->out)->flags_ & 7)) {
#line 353
              if ((mqenc->out)->rwlimit_ >= 0L) {
#line 353
                if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 353
                  (mqenc->out)->flags_ |= 4;
#line 353
                  tmp___12 = -1;
                } else {
#line 353
                  goto _L___14;
                }
              } else {
                _L___14: /* CIL Label */ 
#line 353
                ((mqenc->out)->cnt_) --;
#line 353
                (mqenc->out)->bufmode_ |= 32;
#line 353
                if ((mqenc->out)->cnt_ < 0) {
                  {
#line 353
                  __cil_tmp24 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 353
                  tmp___11 = __cil_tmp24;
                  }
                } else {
#line 353
                  __cil_tmp25 = (mqenc->out)->ptr_;
#line 353
                  ((mqenc->out)->ptr_) ++;
#line 353
                  *__cil_tmp25 = (unsigned char )mqenc->outbuf;
#line 353
                  ((mqenc->out)->rwcnt_) ++;
#line 353
                  tmp___11 = (int )*__cil_tmp25;
                }
#line 353
                tmp___12 = tmp___11;
              }
#line 353
              tmp___13 = tmp___12;
            } else {
#line 353
              tmp___13 = -1;
            }
#line 353
            if (tmp___13 == -1) {
#line 353
              mqenc->err |= 1;
            }
          }
#line 353
          mqenc->lastbyte = mqenc->outbuf;
#line 353
          mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 353
          mqenc->creg &= 1048575UL;
#line 353
          mqenc->ctreg = (uint_fast32_t )7;
        } else {
#line 353
          if (mqenc->outbuf >= 0L) {
#line 353
            if (! ((mqenc->out)->flags_ & 7)) {
#line 353
              if ((mqenc->out)->rwlimit_ >= 0L) {
#line 353
                if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 353
                  (mqenc->out)->flags_ |= 4;
#line 353
                  tmp___15 = -1;
                } else {
#line 353
                  goto _L___15;
                }
              } else {
                _L___15: /* CIL Label */ 
#line 353
                ((mqenc->out)->cnt_) --;
#line 353
                (mqenc->out)->bufmode_ |= 32;
#line 353
                if ((mqenc->out)->cnt_ < 0) {
                  {
#line 353
                  __cil_tmp29 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 353
                  tmp___14 = __cil_tmp29;
                  }
                } else {
#line 353
                  __cil_tmp30 = (mqenc->out)->ptr_;
#line 353
                  ((mqenc->out)->ptr_) ++;
#line 353
                  *__cil_tmp30 = (unsigned char )mqenc->outbuf;
#line 353
                  ((mqenc->out)->rwcnt_) ++;
#line 353
                  tmp___14 = (int )*__cil_tmp30;
                }
#line 353
                tmp___15 = tmp___14;
              }
#line 353
              tmp___16 = tmp___15;
            } else {
#line 353
              tmp___16 = -1;
            }
#line 353
            if (tmp___16 == -1) {
#line 353
              mqenc->err |= 1;
            }
          }
#line 353
          mqenc->lastbyte = mqenc->outbuf;
#line 353
          mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 353
          mqenc->creg &= 524287UL;
#line 353
          mqenc->ctreg = (uint_fast32_t )8;
        }
      } else {
#line 353
        if (mqenc->outbuf >= 0L) {
#line 353
          if (! ((mqenc->out)->flags_ & 7)) {
#line 353
            if ((mqenc->out)->rwlimit_ >= 0L) {
#line 353
              if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 353
                (mqenc->out)->flags_ |= 4;
#line 353
                tmp___18 = -1;
              } else {
#line 353
                goto _L___16;
              }
            } else {
              _L___16: /* CIL Label */ 
#line 353
              ((mqenc->out)->cnt_) --;
#line 353
              (mqenc->out)->bufmode_ |= 32;
#line 353
              if ((mqenc->out)->cnt_ < 0) {
                {
#line 353
                __cil_tmp34 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 353
                tmp___17 = __cil_tmp34;
                }
              } else {
#line 353
                __cil_tmp35 = (mqenc->out)->ptr_;
#line 353
                ((mqenc->out)->ptr_) ++;
#line 353
                *__cil_tmp35 = (unsigned char )mqenc->outbuf;
#line 353
                ((mqenc->out)->rwcnt_) ++;
#line 353
                tmp___17 = (int )*__cil_tmp35;
              }
#line 353
              tmp___18 = tmp___17;
            }
#line 353
            tmp___19 = tmp___18;
          } else {
#line 353
            tmp___19 = -1;
          }
#line 353
          if (tmp___19 == -1) {
#line 353
            mqenc->err |= 1;
          }
        }
#line 353
        mqenc->lastbyte = mqenc->outbuf;
#line 353
        mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 353
        mqenc->creg &= 524287UL;
#line 353
        mqenc->ctreg = (uint_fast32_t )8;
      }
    } else {
#line 353
      if (mqenc->outbuf >= 0L) {
#line 353
        if (! ((mqenc->out)->flags_ & 7)) {
#line 353
          if ((mqenc->out)->rwlimit_ >= 0L) {
#line 353
            if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 353
              (mqenc->out)->flags_ |= 4;
#line 353
              tmp___21 = -1;
            } else {
#line 353
              goto _L___17;
            }
          } else {
            _L___17: /* CIL Label */ 
#line 353
            ((mqenc->out)->cnt_) --;
#line 353
            (mqenc->out)->bufmode_ |= 32;
#line 353
            if ((mqenc->out)->cnt_ < 0) {
              {
#line 353
              __cil_tmp39 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 353
              tmp___20 = __cil_tmp39;
              }
            } else {
#line 353
              __cil_tmp40 = (mqenc->out)->ptr_;
#line 353
              ((mqenc->out)->ptr_) ++;
#line 353
              *__cil_tmp40 = (unsigned char )mqenc->outbuf;
#line 353
              ((mqenc->out)->rwcnt_) ++;
#line 353
              tmp___20 = (int )*__cil_tmp40;
            }
#line 353
            tmp___21 = tmp___20;
          }
#line 353
          tmp___22 = tmp___21;
        } else {
#line 353
          tmp___22 = -1;
        }
#line 353
        if (tmp___22 == -1) {
#line 353
          mqenc->err |= 1;
        }
      }
#line 353
      mqenc->lastbyte = mqenc->outbuf;
#line 353
      mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 353
      mqenc->creg &= 1048575UL;
#line 353
      mqenc->ctreg = (uint_fast32_t )7;
    }
  }
#line 355
  goto switch_break;
  case_0: 
  {
#line 357
  jpc_mqenc_setbits(mqenc);
#line 358
  mqenc->creg <<= mqenc->ctreg;
  }
#line 359
  if (mqenc->outbuf != 255L) {
#line 359
    if (mqenc->creg & 134217728UL) {
#line 359
      (mqenc->outbuf) ++;
#line 359
      if (mqenc->outbuf == 255L) {
#line 359
        mqenc->creg &= 134217727UL;
#line 359
        if (mqenc->outbuf >= 0L) {
#line 359
          if (! ((mqenc->out)->flags_ & 7)) {
#line 359
            if ((mqenc->out)->rwlimit_ >= 0L) {
#line 359
              if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 359
                (mqenc->out)->flags_ |= 4;
#line 359
                tmp___24 = -1;
              } else {
#line 359
                goto _L___18;
              }
            } else {
              _L___18: /* CIL Label */ 
#line 359
              ((mqenc->out)->cnt_) --;
#line 359
              (mqenc->out)->bufmode_ |= 32;
#line 359
              if ((mqenc->out)->cnt_ < 0) {
                {
#line 359
                __cil_tmp44 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 359
                tmp___23 = __cil_tmp44;
                }
              } else {
#line 359
                __cil_tmp45 = (mqenc->out)->ptr_;
#line 359
                ((mqenc->out)->ptr_) ++;
#line 359
                *__cil_tmp45 = (unsigned char )mqenc->outbuf;
#line 359
                ((mqenc->out)->rwcnt_) ++;
#line 359
                tmp___23 = (int )*__cil_tmp45;
              }
#line 359
              tmp___24 = tmp___23;
            }
#line 359
            tmp___25 = tmp___24;
          } else {
#line 359
            tmp___25 = -1;
          }
#line 359
          if (tmp___25 == -1) {
#line 359
            mqenc->err |= 1;
          }
        }
#line 359
        mqenc->lastbyte = mqenc->outbuf;
#line 359
        mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 359
        mqenc->creg &= 1048575UL;
#line 359
        mqenc->ctreg = (uint_fast32_t )7;
      } else {
#line 359
        if (mqenc->outbuf >= 0L) {
#line 359
          if (! ((mqenc->out)->flags_ & 7)) {
#line 359
            if ((mqenc->out)->rwlimit_ >= 0L) {
#line 359
              if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 359
                (mqenc->out)->flags_ |= 4;
#line 359
                tmp___27 = -1;
              } else {
#line 359
                goto _L___19;
              }
            } else {
              _L___19: /* CIL Label */ 
#line 359
              ((mqenc->out)->cnt_) --;
#line 359
              (mqenc->out)->bufmode_ |= 32;
#line 359
              if ((mqenc->out)->cnt_ < 0) {
                {
#line 359
                __cil_tmp49 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 359
                tmp___26 = __cil_tmp49;
                }
              } else {
#line 359
                __cil_tmp50 = (mqenc->out)->ptr_;
#line 359
                ((mqenc->out)->ptr_) ++;
#line 359
                *__cil_tmp50 = (unsigned char )mqenc->outbuf;
#line 359
                ((mqenc->out)->rwcnt_) ++;
#line 359
                tmp___26 = (int )*__cil_tmp50;
              }
#line 359
              tmp___27 = tmp___26;
            }
#line 359
            tmp___28 = tmp___27;
          } else {
#line 359
            tmp___28 = -1;
          }
#line 359
          if (tmp___28 == -1) {
#line 359
            mqenc->err |= 1;
          }
        }
#line 359
        mqenc->lastbyte = mqenc->outbuf;
#line 359
        mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 359
        mqenc->creg &= 524287UL;
#line 359
        mqenc->ctreg = (uint_fast32_t )8;
      }
    } else {
#line 359
      if (mqenc->outbuf >= 0L) {
#line 359
        if (! ((mqenc->out)->flags_ & 7)) {
#line 359
          if ((mqenc->out)->rwlimit_ >= 0L) {
#line 359
            if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 359
              (mqenc->out)->flags_ |= 4;
#line 359
              tmp___30 = -1;
            } else {
#line 359
              goto _L___20;
            }
          } else {
            _L___20: /* CIL Label */ 
#line 359
            ((mqenc->out)->cnt_) --;
#line 359
            (mqenc->out)->bufmode_ |= 32;
#line 359
            if ((mqenc->out)->cnt_ < 0) {
              {
#line 359
              __cil_tmp54 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 359
              tmp___29 = __cil_tmp54;
              }
            } else {
#line 359
              __cil_tmp55 = (mqenc->out)->ptr_;
#line 359
              ((mqenc->out)->ptr_) ++;
#line 359
              *__cil_tmp55 = (unsigned char )mqenc->outbuf;
#line 359
              ((mqenc->out)->rwcnt_) ++;
#line 359
              tmp___29 = (int )*__cil_tmp55;
            }
#line 359
            tmp___30 = tmp___29;
          }
#line 359
          tmp___31 = tmp___30;
        } else {
#line 359
          tmp___31 = -1;
        }
#line 359
        if (tmp___31 == -1) {
#line 359
          mqenc->err |= 1;
        }
      }
#line 359
      mqenc->lastbyte = mqenc->outbuf;
#line 359
      mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 359
      mqenc->creg &= 524287UL;
#line 359
      mqenc->ctreg = (uint_fast32_t )8;
    }
  } else {
#line 359
    if (mqenc->outbuf >= 0L) {
#line 359
      if (! ((mqenc->out)->flags_ & 7)) {
#line 359
        if ((mqenc->out)->rwlimit_ >= 0L) {
#line 359
          if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 359
            (mqenc->out)->flags_ |= 4;
#line 359
            tmp___33 = -1;
          } else {
#line 359
            goto _L___21;
          }
        } else {
          _L___21: /* CIL Label */ 
#line 359
          ((mqenc->out)->cnt_) --;
#line 359
          (mqenc->out)->bufmode_ |= 32;
#line 359
          if ((mqenc->out)->cnt_ < 0) {
            {
#line 359
            __cil_tmp59 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 359
            tmp___32 = __cil_tmp59;
            }
          } else {
#line 359
            __cil_tmp60 = (mqenc->out)->ptr_;
#line 359
            ((mqenc->out)->ptr_) ++;
#line 359
            *__cil_tmp60 = (unsigned char )mqenc->outbuf;
#line 359
            ((mqenc->out)->rwcnt_) ++;
#line 359
            tmp___32 = (int )*__cil_tmp60;
          }
#line 359
          tmp___33 = tmp___32;
        }
#line 359
        tmp___34 = tmp___33;
      } else {
#line 359
        tmp___34 = -1;
      }
#line 359
      if (tmp___34 == -1) {
#line 359
        mqenc->err |= 1;
      }
    }
#line 359
    mqenc->lastbyte = mqenc->outbuf;
#line 359
    mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 359
    mqenc->creg &= 1048575UL;
#line 359
    mqenc->ctreg = (uint_fast32_t )7;
  }
#line 360
  mqenc->creg <<= mqenc->ctreg;
#line 361
  if (mqenc->outbuf != 255L) {
#line 361
    if (mqenc->creg & 134217728UL) {
#line 361
      (mqenc->outbuf) ++;
#line 361
      if (mqenc->outbuf == 255L) {
#line 361
        mqenc->creg &= 134217727UL;
#line 361
        if (mqenc->outbuf >= 0L) {
#line 361
          if (! ((mqenc->out)->flags_ & 7)) {
#line 361
            if ((mqenc->out)->rwlimit_ >= 0L) {
#line 361
              if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 361
                (mqenc->out)->flags_ |= 4;
#line 361
                tmp___36 = -1;
              } else {
#line 361
                goto _L___22;
              }
            } else {
              _L___22: /* CIL Label */ 
#line 361
              ((mqenc->out)->cnt_) --;
#line 361
              (mqenc->out)->bufmode_ |= 32;
#line 361
              if ((mqenc->out)->cnt_ < 0) {
                {
#line 361
                __cil_tmp64 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 361
                tmp___35 = __cil_tmp64;
                }
              } else {
#line 361
                __cil_tmp65 = (mqenc->out)->ptr_;
#line 361
                ((mqenc->out)->ptr_) ++;
#line 361
                *__cil_tmp65 = (unsigned char )mqenc->outbuf;
#line 361
                ((mqenc->out)->rwcnt_) ++;
#line 361
                tmp___35 = (int )*__cil_tmp65;
              }
#line 361
              tmp___36 = tmp___35;
            }
#line 361
            tmp___37 = tmp___36;
          } else {
#line 361
            tmp___37 = -1;
          }
#line 361
          if (tmp___37 == -1) {
#line 361
            mqenc->err |= 1;
          }
        }
#line 361
        mqenc->lastbyte = mqenc->outbuf;
#line 361
        mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 361
        mqenc->creg &= 1048575UL;
#line 361
        mqenc->ctreg = (uint_fast32_t )7;
      } else {
#line 361
        if (mqenc->outbuf >= 0L) {
#line 361
          if (! ((mqenc->out)->flags_ & 7)) {
#line 361
            if ((mqenc->out)->rwlimit_ >= 0L) {
#line 361
              if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 361
                (mqenc->out)->flags_ |= 4;
#line 361
                tmp___39 = -1;
              } else {
#line 361
                goto _L___23;
              }
            } else {
              _L___23: /* CIL Label */ 
#line 361
              ((mqenc->out)->cnt_) --;
#line 361
              (mqenc->out)->bufmode_ |= 32;
#line 361
              if ((mqenc->out)->cnt_ < 0) {
                {
#line 361
                __cil_tmp69 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 361
                tmp___38 = __cil_tmp69;
                }
              } else {
#line 361
                __cil_tmp70 = (mqenc->out)->ptr_;
#line 361
                ((mqenc->out)->ptr_) ++;
#line 361
                *__cil_tmp70 = (unsigned char )mqenc->outbuf;
#line 361
                ((mqenc->out)->rwcnt_) ++;
#line 361
                tmp___38 = (int )*__cil_tmp70;
              }
#line 361
              tmp___39 = tmp___38;
            }
#line 361
            tmp___40 = tmp___39;
          } else {
#line 361
            tmp___40 = -1;
          }
#line 361
          if (tmp___40 == -1) {
#line 361
            mqenc->err |= 1;
          }
        }
#line 361
        mqenc->lastbyte = mqenc->outbuf;
#line 361
        mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 361
        mqenc->creg &= 524287UL;
#line 361
        mqenc->ctreg = (uint_fast32_t )8;
      }
    } else {
#line 361
      if (mqenc->outbuf >= 0L) {
#line 361
        if (! ((mqenc->out)->flags_ & 7)) {
#line 361
          if ((mqenc->out)->rwlimit_ >= 0L) {
#line 361
            if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 361
              (mqenc->out)->flags_ |= 4;
#line 361
              tmp___42 = -1;
            } else {
#line 361
              goto _L___24;
            }
          } else {
            _L___24: /* CIL Label */ 
#line 361
            ((mqenc->out)->cnt_) --;
#line 361
            (mqenc->out)->bufmode_ |= 32;
#line 361
            if ((mqenc->out)->cnt_ < 0) {
              {
#line 361
              __cil_tmp74 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 361
              tmp___41 = __cil_tmp74;
              }
            } else {
#line 361
              __cil_tmp75 = (mqenc->out)->ptr_;
#line 361
              ((mqenc->out)->ptr_) ++;
#line 361
              *__cil_tmp75 = (unsigned char )mqenc->outbuf;
#line 361
              ((mqenc->out)->rwcnt_) ++;
#line 361
              tmp___41 = (int )*__cil_tmp75;
            }
#line 361
            tmp___42 = tmp___41;
          }
#line 361
          tmp___43 = tmp___42;
        } else {
#line 361
          tmp___43 = -1;
        }
#line 361
        if (tmp___43 == -1) {
#line 361
          mqenc->err |= 1;
        }
      }
#line 361
      mqenc->lastbyte = mqenc->outbuf;
#line 361
      mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 361
      mqenc->creg &= 524287UL;
#line 361
      mqenc->ctreg = (uint_fast32_t )8;
    }
  } else {
#line 361
    if (mqenc->outbuf >= 0L) {
#line 361
      if (! ((mqenc->out)->flags_ & 7)) {
#line 361
        if ((mqenc->out)->rwlimit_ >= 0L) {
#line 361
          if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 361
            (mqenc->out)->flags_ |= 4;
#line 361
            tmp___45 = -1;
          } else {
#line 361
            goto _L___25;
          }
        } else {
          _L___25: /* CIL Label */ 
#line 361
          ((mqenc->out)->cnt_) --;
#line 361
          (mqenc->out)->bufmode_ |= 32;
#line 361
          if ((mqenc->out)->cnt_ < 0) {
            {
#line 361
            __cil_tmp79 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 361
            tmp___44 = __cil_tmp79;
            }
          } else {
#line 361
            __cil_tmp80 = (mqenc->out)->ptr_;
#line 361
            ((mqenc->out)->ptr_) ++;
#line 361
            *__cil_tmp80 = (unsigned char )mqenc->outbuf;
#line 361
            ((mqenc->out)->rwcnt_) ++;
#line 361
            tmp___44 = (int )*__cil_tmp80;
          }
#line 361
          tmp___45 = tmp___44;
        }
#line 361
        tmp___46 = tmp___45;
      } else {
#line 361
        tmp___46 = -1;
      }
#line 361
      if (tmp___46 == -1) {
#line 361
        mqenc->err |= 1;
      }
    }
#line 361
    mqenc->lastbyte = mqenc->outbuf;
#line 361
    mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 361
    mqenc->creg &= 1048575UL;
#line 361
    mqenc->ctreg = (uint_fast32_t )7;
  }
#line 362
  if (mqenc->outbuf != 255L) {
#line 363
    if (mqenc->outbuf != 255L) {
#line 363
      if (mqenc->creg & 134217728UL) {
#line 363
        (mqenc->outbuf) ++;
#line 363
        if (mqenc->outbuf == 255L) {
#line 363
          mqenc->creg &= 134217727UL;
#line 363
          if (mqenc->outbuf >= 0L) {
#line 363
            if (! ((mqenc->out)->flags_ & 7)) {
#line 363
              if ((mqenc->out)->rwlimit_ >= 0L) {
#line 363
                if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 363
                  (mqenc->out)->flags_ |= 4;
#line 363
                  tmp___48 = -1;
                } else {
#line 363
                  goto _L___26;
                }
              } else {
                _L___26: /* CIL Label */ 
#line 363
                ((mqenc->out)->cnt_) --;
#line 363
                (mqenc->out)->bufmode_ |= 32;
#line 363
                if ((mqenc->out)->cnt_ < 0) {
                  {
#line 363
                  __cil_tmp84 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 363
                  tmp___47 = __cil_tmp84;
                  }
                } else {
#line 363
                  __cil_tmp85 = (mqenc->out)->ptr_;
#line 363
                  ((mqenc->out)->ptr_) ++;
#line 363
                  *__cil_tmp85 = (unsigned char )mqenc->outbuf;
#line 363
                  ((mqenc->out)->rwcnt_) ++;
#line 363
                  tmp___47 = (int )*__cil_tmp85;
                }
#line 363
                tmp___48 = tmp___47;
              }
#line 363
              tmp___49 = tmp___48;
            } else {
#line 363
              tmp___49 = -1;
            }
#line 363
            if (tmp___49 == -1) {
#line 363
              mqenc->err |= 1;
            }
          }
#line 363
          mqenc->lastbyte = mqenc->outbuf;
#line 363
          mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 363
          mqenc->creg &= 1048575UL;
#line 363
          mqenc->ctreg = (uint_fast32_t )7;
        } else {
#line 363
          if (mqenc->outbuf >= 0L) {
#line 363
            if (! ((mqenc->out)->flags_ & 7)) {
#line 363
              if ((mqenc->out)->rwlimit_ >= 0L) {
#line 363
                if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 363
                  (mqenc->out)->flags_ |= 4;
#line 363
                  tmp___51 = -1;
                } else {
#line 363
                  goto _L___27;
                }
              } else {
                _L___27: /* CIL Label */ 
#line 363
                ((mqenc->out)->cnt_) --;
#line 363
                (mqenc->out)->bufmode_ |= 32;
#line 363
                if ((mqenc->out)->cnt_ < 0) {
                  {
#line 363
                  __cil_tmp89 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 363
                  tmp___50 = __cil_tmp89;
                  }
                } else {
#line 363
                  __cil_tmp90 = (mqenc->out)->ptr_;
#line 363
                  ((mqenc->out)->ptr_) ++;
#line 363
                  *__cil_tmp90 = (unsigned char )mqenc->outbuf;
#line 363
                  ((mqenc->out)->rwcnt_) ++;
#line 363
                  tmp___50 = (int )*__cil_tmp90;
                }
#line 363
                tmp___51 = tmp___50;
              }
#line 363
              tmp___52 = tmp___51;
            } else {
#line 363
              tmp___52 = -1;
            }
#line 363
            if (tmp___52 == -1) {
#line 363
              mqenc->err |= 1;
            }
          }
#line 363
          mqenc->lastbyte = mqenc->outbuf;
#line 363
          mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 363
          mqenc->creg &= 524287UL;
#line 363
          mqenc->ctreg = (uint_fast32_t )8;
        }
      } else {
#line 363
        if (mqenc->outbuf >= 0L) {
#line 363
          if (! ((mqenc->out)->flags_ & 7)) {
#line 363
            if ((mqenc->out)->rwlimit_ >= 0L) {
#line 363
              if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 363
                (mqenc->out)->flags_ |= 4;
#line 363
                tmp___54 = -1;
              } else {
#line 363
                goto _L___28;
              }
            } else {
              _L___28: /* CIL Label */ 
#line 363
              ((mqenc->out)->cnt_) --;
#line 363
              (mqenc->out)->bufmode_ |= 32;
#line 363
              if ((mqenc->out)->cnt_ < 0) {
                {
#line 363
                __cil_tmp94 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 363
                tmp___53 = __cil_tmp94;
                }
              } else {
#line 363
                __cil_tmp95 = (mqenc->out)->ptr_;
#line 363
                ((mqenc->out)->ptr_) ++;
#line 363
                *__cil_tmp95 = (unsigned char )mqenc->outbuf;
#line 363
                ((mqenc->out)->rwcnt_) ++;
#line 363
                tmp___53 = (int )*__cil_tmp95;
              }
#line 363
              tmp___54 = tmp___53;
            }
#line 363
            tmp___55 = tmp___54;
          } else {
#line 363
            tmp___55 = -1;
          }
#line 363
          if (tmp___55 == -1) {
#line 363
            mqenc->err |= 1;
          }
        }
#line 363
        mqenc->lastbyte = mqenc->outbuf;
#line 363
        mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 19) & 255UL);
#line 363
        mqenc->creg &= 524287UL;
#line 363
        mqenc->ctreg = (uint_fast32_t )8;
      }
    } else {
#line 363
      if (mqenc->outbuf >= 0L) {
#line 363
        if (! ((mqenc->out)->flags_ & 7)) {
#line 363
          if ((mqenc->out)->rwlimit_ >= 0L) {
#line 363
            if ((mqenc->out)->rwcnt_ >= (mqenc->out)->rwlimit_) {
#line 363
              (mqenc->out)->flags_ |= 4;
#line 363
              tmp___57 = -1;
            } else {
#line 363
              goto _L___29;
            }
          } else {
            _L___29: /* CIL Label */ 
#line 363
            ((mqenc->out)->cnt_) --;
#line 363
            (mqenc->out)->bufmode_ |= 32;
#line 363
            if ((mqenc->out)->cnt_ < 0) {
              {
#line 363
              __cil_tmp99 = jas_stream_flushbuf(mqenc->out, (int )((unsigned char )mqenc->outbuf));
#line 363
              tmp___56 = __cil_tmp99;
              }
            } else {
#line 363
              __cil_tmp100 = (mqenc->out)->ptr_;
#line 363
              ((mqenc->out)->ptr_) ++;
#line 363
              *__cil_tmp100 = (unsigned char )mqenc->outbuf;
#line 363
              ((mqenc->out)->rwcnt_) ++;
#line 363
              tmp___56 = (int )*__cil_tmp100;
            }
#line 363
            tmp___57 = tmp___56;
          }
#line 363
          tmp___58 = tmp___57;
        } else {
#line 363
          tmp___58 = -1;
        }
#line 363
        if (tmp___58 == -1) {
#line 363
          mqenc->err |= 1;
        }
      }
#line 363
      mqenc->lastbyte = mqenc->outbuf;
#line 363
      mqenc->outbuf = (int_fast16_t )((mqenc->creg >> 20) & 255UL);
#line 363
      mqenc->creg &= 1048575UL;
#line 363
      mqenc->ctreg = (uint_fast32_t )7;
    }
  }
#line 365
  goto switch_break;
  switch_default: 
  {
#line 367
  abort();
  }
#line 368
  goto switch_break;
  switch_break: ;
#line 370
  return (0);
}
}
#line 373 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
static void jpc_mqenc_setbits(jpc_mqenc_t *mqenc ) 
{ 
  uint_fast32_t tmp ;

  {
#line 375
  tmp = mqenc->creg + mqenc->areg;
#line 376
  mqenc->creg |= 65535UL;
#line 377
  if (mqenc->creg >= tmp) {
#line 378
    mqenc->creg -= 32768UL;
  }
#line 380
  return;
}
}
#line 384 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqenc.c"
int jpc_mqenc_dump(jpc_mqenc_t *mqenc , FILE *out ) 
{ 


  {
  {
#line 386
  fprintf(out, "AREG = %08x, CREG = %08x, CTREG = %d\n", mqenc->areg, mqenc->creg,
          mqenc->ctreg);
#line 388
  fprintf(out, "IND = %02d, MPS = %d, QEVAL = %04x\n", *(mqenc->curctx) - jpc_mqstates,
          (*(mqenc->curctx))->mps, (*(mqenc->curctx))->qeval);
  }
#line 391
  return (0);
}
}
#line 100 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
static void jpc_mqdec_bytein(jpc_mqdec_t *mqdec ) ;
#line 107 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
jpc_mqdec_t *jpc_mqdec_create(int maxctxs , jas_stream_t *in ) 
{ 
  jpc_mqdec_t *mqdec ;
  void *tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 115
  tmp___0 = jas_malloc(sizeof(jpc_mqdec_t ));
#line 115
  mqdec = (jpc_mqdec_t *)tmp___0;
  }
#line 115
  if (! mqdec) {
#line 116
    goto error;
  }
  {
#line 118
  mqdec->in = in;
#line 119
  mqdec->maxctxs = maxctxs;
#line 121
  tmp___1 = jas_alloc2((size_t )mqdec->maxctxs, sizeof(jpc_mqstate_t *));
#line 121
  mqdec->ctxs = (jpc_mqstate_t **)tmp___1;
  }
#line 121
  if (! mqdec->ctxs) {
#line 122
    goto error;
  }
#line 125
  mqdec->curctx = mqdec->ctxs;
#line 129
  if (mqdec->in) {
    {
#line 130
    jpc_mqdec_init(mqdec);
    }
  }
  {
#line 133
  jpc_mqdec_setctxs(mqdec, 0, (jpc_mqctx_t *)0);
  }
#line 135
  return (mqdec);
  error: 
#line 139
  if (mqdec) {
    {
#line 140
    jpc_mqdec_destroy(mqdec);
    }
  }
#line 142
  return ((jpc_mqdec_t *)0);
}
}
#line 146 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
void jpc_mqdec_destroy(jpc_mqdec_t *mqdec ) 
{ 


  {
#line 148
  if (mqdec->ctxs) {
    {
#line 149
    jas_free((void *)mqdec->ctxs);
    }
  }
  {
#line 151
  jas_free((void *)mqdec);
  }
#line 153
  return;
}
}
#line 160 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
void jpc_mqdec_init(jpc_mqdec_t *mqdec ) 
{ 
  int c ;
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 164
  mqdec->eof = 0;
#line 165
  mqdec->creg = (uint_fast32_t )0;
#line 167
  if (! ((mqdec->in)->flags_ & 7)) {
#line 167
    if ((mqdec->in)->rwlimit_ >= 0L) {
#line 167
      if ((mqdec->in)->rwcnt_ >= (mqdec->in)->rwlimit_) {
#line 167
        (mqdec->in)->flags_ |= 4;
#line 167
        tmp___0 = -1;
      } else {
#line 167
        goto _L___10;
      }
    } else {
      _L___10: /* CIL Label */ 
#line 167
      ((mqdec->in)->cnt_) --;
#line 167
      if ((mqdec->in)->cnt_ < 0) {
        {
#line 167
        __cil_tmp3 = jas_stream_fillbuf(mqdec->in, 1);
#line 167
        tmp = __cil_tmp3;
        }
      } else {
#line 167
        __cil_tmp4 = (mqdec->in)->ptr_;
#line 167
        ((mqdec->in)->ptr_) ++;
#line 167
        ((mqdec->in)->rwcnt_) ++;
#line 167
        tmp = (int )*__cil_tmp4;
      }
#line 167
      tmp___0 = tmp;
    }
#line 167
    tmp___1 = tmp___0;
  } else {
#line 167
    tmp___1 = -1;
  }
#line 167
  c = tmp___1;
#line 167
  if (c == -1) {
#line 169
    c = 255;
#line 170
    mqdec->eof = 1;
  }
  {
#line 172
  mqdec->inbuffer = (unsigned char )c;
#line 173
  mqdec->creg += (unsigned long )((int )mqdec->inbuffer << 16);
#line 174
  jpc_mqdec_bytein(mqdec);
#line 175
  mqdec->creg <<= 7;
#line 176
  mqdec->ctreg -= 7UL;
#line 177
  mqdec->areg = (uint_fast32_t )32768;
  }
#line 179
  return;
}
}
#line 182 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
void jpc_mqdec_setinput(jpc_mqdec_t *mqdec , jas_stream_t *in ) 
{ 


  {
#line 184
  mqdec->in = in;
#line 185
  return;
}
}
#line 189 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
void jpc_mqdec_setctxs(jpc_mqdec_t *mqdec , int numctxs , jpc_mqctx_t *ctxs ) 
{ 
  jpc_mqstate_t **ctx ;
  int n ;
  int tmp ;

  {
#line 194
  ctx = mqdec->ctxs;
#line 195
  if (mqdec->maxctxs < numctxs) {
#line 195
    tmp = mqdec->maxctxs;
  } else {
#line 195
    tmp = numctxs;
  }
#line 195
  n = tmp;
  {
#line 196
  while (1) {
    while_continue: /* CIL Label */ ;
#line 196
    n --;
#line 196
    if (! (n >= 0)) {
#line 196
      goto while_break;
    }
#line 197
    *ctx = & jpc_mqstates[2L * ctxs->ind + (long )ctxs->mps];
#line 198
    ctx ++;
#line 199
    ctxs ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 201
  n = mqdec->maxctxs - numctxs;
  {
#line 202
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 202
    n --;
#line 202
    if (! (n >= 0)) {
#line 202
      goto while_break___0;
    }
#line 203
    *ctx = & jpc_mqstates[0];
#line 204
    ctx ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 208
  return;
}
}
#line 210 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
void jpc_mqdec_setctx(jpc_mqdec_t *mqdec , int ctxno , jpc_mqctx_t *ctx ) 
{ 
  jpc_mqstate_t **ctxi ;

  {
#line 213
  ctxi = mqdec->ctxs + ctxno;
#line 214
  *ctxi = & jpc_mqstates[2L * ctx->ind + (long )ctx->mps];
#line 215
  return;
}
}
#line 223 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
int jpc_mqdec_getbit_func(jpc_mqdec_t *mqdec ) 
{ 
  int bit ;
  int __cil_tmp3 ;
  int tmp ;
  int __cil_tmp5 ;
  int tmp___0 ;

  {
#line 228
  mqdec->areg -= (*(mqdec->curctx))->qeval;
#line 228
  if (mqdec->creg >> 16 >= (*(mqdec->curctx))->qeval) {
#line 228
    mqdec->creg -= (*(mqdec->curctx))->qeval << 16;
#line 228
    if (mqdec->areg & 32768UL) {
#line 228
      tmp = (*(mqdec->curctx))->mps;
    } else {
      {
#line 228
      __cil_tmp3 = jpc_mqdec_mpsexchrenormd(mqdec);
#line 228
      tmp = __cil_tmp3;
      }
    }
#line 228
    tmp___0 = tmp;
  } else {
    {
#line 228
    __cil_tmp5 = jpc_mqdec_lpsexchrenormd(mqdec);
#line 228
    tmp___0 = __cil_tmp5;
    }
  }
#line 228
  bit = tmp___0;
#line 232
  return (bit);
}
}
#line 236 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
int jpc_mqdec_mpsexchrenormd(jpc_mqdec_t *mqdec ) 
{ 
  int ret ;
  register jpc_mqstate_t *state ;
  register jpc_mqstate_t *state___19 ;
  register jpc_mqstate_t *state___20 ;
  int c ;
  unsigned char prevbuf ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 239
  state = *(mqdec->curctx);
#line 240
  if (mqdec->areg < state->qeval) {
#line 240
    state___19 = *(mqdec->curctx);
#line 240
    ret = state___19->mps ^ 1;
#line 240
    *(mqdec->curctx) = state___19->nlps;
  } else {
#line 240
    state___20 = *(mqdec->curctx);
#line 240
    ret = state___20->mps;
#line 240
    *(mqdec->curctx) = state___20->nmps;
  }
  {
#line 241
  while (1) {
    while_continue: /* CIL Label */ ;

#line 241
    if (! mqdec->ctreg) {
#line 241
      if (! mqdec->eof) {
#line 241
        if (! ((mqdec->in)->flags_ & 7)) {
#line 241
          if ((mqdec->in)->rwlimit_ >= 0L) {
#line 241
            if ((mqdec->in)->rwcnt_ >= (mqdec->in)->rwlimit_) {
#line 241
              (mqdec->in)->flags_ |= 4;
#line 241
              tmp___0 = -1;
            } else {
#line 241
              goto _L___10;
            }
          } else {
            _L___10: /* CIL Label */ 
#line 241
            ((mqdec->in)->cnt_) --;
#line 241
            if ((mqdec->in)->cnt_ < 0) {
              {
#line 241
              __cil_tmp8 = jas_stream_fillbuf(mqdec->in, 1);
#line 241
              tmp = __cil_tmp8;
              }
            } else {
#line 241
              __cil_tmp9 = (mqdec->in)->ptr_;
#line 241
              ((mqdec->in)->ptr_) ++;
#line 241
              ((mqdec->in)->rwcnt_) ++;
#line 241
              tmp = (int )*__cil_tmp9;
            }
#line 241
            tmp___0 = tmp;
          }
#line 241
          tmp___1 = tmp___0;
        } else {
#line 241
          tmp___1 = -1;
        }
#line 241
        c = tmp___1;
#line 241
        if (c == -1) {
#line 241
          mqdec->eof = 1;
#line 241
          c = 255;
        }
#line 241
        prevbuf = mqdec->inbuffer;
#line 241
        mqdec->inbuffer = (unsigned char )c;
#line 241
        if ((int )prevbuf == 255) {
#line 241
          if (c > 143) {
#line 241
            mqdec->creg += 65280UL;
#line 241
            mqdec->ctreg = (uint_fast32_t )8;
          } else {
#line 241
            mqdec->creg += (unsigned long )(c << 9);
#line 241
            mqdec->ctreg = (uint_fast32_t )7;
          }
        } else {
#line 241
          mqdec->creg += (unsigned long )(c << 8);
#line 241
          mqdec->ctreg = (uint_fast32_t )8;
        }
      } else {
#line 241
        mqdec->creg += 65280UL;
#line 241
        mqdec->ctreg = (uint_fast32_t )8;
      }
    }
#line 241
    mqdec->areg <<= 1;
#line 241
    mqdec->creg <<= 1;
#line 241
    (mqdec->ctreg) --;
#line 241
    if (! (! (mqdec->areg & 32768UL))) {
#line 241
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 243
  return (ret);
}
}
#line 247 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
int jpc_mqdec_lpsexchrenormd(jpc_mqdec_t *mqdec ) 
{ 
  int ret ;
  register jpc_mqstate_t *state ;
  register jpc_mqstate_t *state___21 ;
  register jpc_mqstate_t *state___22 ;
  int c ;
  unsigned char prevbuf ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 250
  state = *(mqdec->curctx);
#line 251
  if (mqdec->areg >= state->qeval) {
#line 251
    state___21 = *(mqdec->curctx);
#line 251
    mqdec->areg = state___21->qeval;
#line 251
    ret = state___21->mps ^ 1;
#line 251
    *(mqdec->curctx) = state___21->nlps;
  } else {
#line 251
    state___22 = *(mqdec->curctx);
#line 251
    mqdec->areg = state___22->qeval;
#line 251
    ret = state___22->mps;
#line 251
    *(mqdec->curctx) = state___22->nmps;
  }
  {
#line 252
  while (1) {
    while_continue: /* CIL Label */ ;

#line 252
    if (! mqdec->ctreg) {
#line 252
      if (! mqdec->eof) {
#line 252
        if (! ((mqdec->in)->flags_ & 7)) {
#line 252
          if ((mqdec->in)->rwlimit_ >= 0L) {
#line 252
            if ((mqdec->in)->rwcnt_ >= (mqdec->in)->rwlimit_) {
#line 252
              (mqdec->in)->flags_ |= 4;
#line 252
              tmp___0 = -1;
            } else {
#line 252
              goto _L___10;
            }
          } else {
            _L___10: /* CIL Label */ 
#line 252
            ((mqdec->in)->cnt_) --;
#line 252
            if ((mqdec->in)->cnt_ < 0) {
              {
#line 252
              __cil_tmp8 = jas_stream_fillbuf(mqdec->in, 1);
#line 252
              tmp = __cil_tmp8;
              }
            } else {
#line 252
              __cil_tmp9 = (mqdec->in)->ptr_;
#line 252
              ((mqdec->in)->ptr_) ++;
#line 252
              ((mqdec->in)->rwcnt_) ++;
#line 252
              tmp = (int )*__cil_tmp9;
            }
#line 252
            tmp___0 = tmp;
          }
#line 252
          tmp___1 = tmp___0;
        } else {
#line 252
          tmp___1 = -1;
        }
#line 252
        c = tmp___1;
#line 252
        if (c == -1) {
#line 252
          mqdec->eof = 1;
#line 252
          c = 255;
        }
#line 252
        prevbuf = mqdec->inbuffer;
#line 252
        mqdec->inbuffer = (unsigned char )c;
#line 252
        if ((int )prevbuf == 255) {
#line 252
          if (c > 143) {
#line 252
            mqdec->creg += 65280UL;
#line 252
            mqdec->ctreg = (uint_fast32_t )8;
          } else {
#line 252
            mqdec->creg += (unsigned long )(c << 9);
#line 252
            mqdec->ctreg = (uint_fast32_t )7;
          }
        } else {
#line 252
          mqdec->creg += (unsigned long )(c << 8);
#line 252
          mqdec->ctreg = (uint_fast32_t )8;
        }
      } else {
#line 252
        mqdec->creg += 65280UL;
#line 252
        mqdec->ctreg = (uint_fast32_t )8;
      }
    }
#line 252
    mqdec->areg <<= 1;
#line 252
    mqdec->creg <<= 1;
#line 252
    (mqdec->ctreg) --;
#line 252
    if (! (! (mqdec->areg & 32768UL))) {
#line 252
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 254
  return (ret);
}
}
#line 262 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
static void jpc_mqdec_bytein(jpc_mqdec_t *mqdec ) 
{ 
  int c ;
  unsigned char prevbuf ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 267
  if (! mqdec->eof) {
#line 268
    if (! ((mqdec->in)->flags_ & 7)) {
#line 268
      if ((mqdec->in)->rwlimit_ >= 0L) {
#line 268
        if ((mqdec->in)->rwcnt_ >= (mqdec->in)->rwlimit_) {
#line 268
          (mqdec->in)->flags_ |= 4;
#line 268
          tmp___0 = -1;
        } else {
#line 268
          goto _L___10;
        }
      } else {
        _L___10: /* CIL Label */ 
#line 268
        ((mqdec->in)->cnt_) --;
#line 268
        if ((mqdec->in)->cnt_ < 0) {
          {
#line 268
          __cil_tmp4 = jas_stream_fillbuf(mqdec->in, 1);
#line 268
          tmp = __cil_tmp4;
          }
        } else {
#line 268
          __cil_tmp5 = (mqdec->in)->ptr_;
#line 268
          ((mqdec->in)->ptr_) ++;
#line 268
          ((mqdec->in)->rwcnt_) ++;
#line 268
          tmp = (int )*__cil_tmp5;
        }
#line 268
        tmp___0 = tmp;
      }
#line 268
      tmp___1 = tmp___0;
    } else {
#line 268
      tmp___1 = -1;
    }
#line 268
    c = tmp___1;
#line 268
    if (c == -1) {
#line 269
      mqdec->eof = 1;
#line 270
      c = 255;
    }
#line 272
    prevbuf = mqdec->inbuffer;
#line 273
    mqdec->inbuffer = (unsigned char )c;
#line 274
    if ((int )prevbuf == 255) {
#line 275
      if (c > 143) {
#line 276
        mqdec->creg += 65280UL;
#line 277
        mqdec->ctreg = (uint_fast32_t )8;
      } else {
#line 279
        mqdec->creg += (unsigned long )(c << 9);
#line 280
        mqdec->ctreg = (uint_fast32_t )7;
      }
    } else {
#line 283
      mqdec->creg += (unsigned long )(c << 8);
#line 284
      mqdec->ctreg = (uint_fast32_t )8;
    }
  } else {
#line 287
    mqdec->creg += 65280UL;
#line 288
    mqdec->ctreg = (uint_fast32_t )8;
  }
#line 290
  return;
}
}
#line 298 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqdec.c"
void jpc_mqdec_dump(jpc_mqdec_t *mqdec , FILE *out ) 
{ 


  {
  {
#line 300
  fprintf(out, "MQDEC A = %08lx, C = %08lx, CT=%08lx, ", mqdec->areg, mqdec->creg,
          mqdec->ctreg);
#line 303
  fprintf(out, "CTX = %d, ", mqdec->curctx - mqdec->ctxs);
#line 304
  fprintf(out, "IND %d, MPS %d, QEVAL %x\n", *(mqdec->curctx) - jpc_mqstates, (*(mqdec->curctx))->mps,
          (*(mqdec->curctx))->qeval);
  }
#line 307
  return;
}
}
#line 84 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqcod.c"
jpc_mqstate_t jpc_mqstates[94]  = 
#line 84 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mqcod.c"
  {      {(uint_fast16_t )22017, 0, & jpc_mqstates[2], & jpc_mqstates[3]}, 
        {(uint_fast16_t )22017, 1, & jpc_mqstates[3], & jpc_mqstates[2]}, 
        {(uint_fast16_t )13313, 0, & jpc_mqstates[4], & jpc_mqstates[12]}, 
        {(uint_fast16_t )13313, 1, & jpc_mqstates[5], & jpc_mqstates[13]}, 
        {(uint_fast16_t )6145, 0, & jpc_mqstates[6], & jpc_mqstates[18]}, 
        {(uint_fast16_t )6145, 1, & jpc_mqstates[7], & jpc_mqstates[19]}, 
        {(uint_fast16_t )2753, 0, & jpc_mqstates[8], & jpc_mqstates[24]}, 
        {(uint_fast16_t )2753, 1, & jpc_mqstates[9], & jpc_mqstates[25]}, 
        {(uint_fast16_t )1313, 0, & jpc_mqstates[10], & jpc_mqstates[58]}, 
        {(uint_fast16_t )1313, 1, & jpc_mqstates[11], & jpc_mqstates[59]}, 
        {(uint_fast16_t )545, 0, & jpc_mqstates[76], & jpc_mqstates[66]}, 
        {(uint_fast16_t )545, 1, & jpc_mqstates[77], & jpc_mqstates[67]}, 
        {(uint_fast16_t )22017, 0, & jpc_mqstates[14], & jpc_mqstates[13]}, 
        {(uint_fast16_t )22017, 1, & jpc_mqstates[15], & jpc_mqstates[12]}, 
        {(uint_fast16_t )21505, 0, & jpc_mqstates[16], & jpc_mqstates[28]}, 
        {(uint_fast16_t )21505, 1, & jpc_mqstates[17], & jpc_mqstates[29]}, 
        {(uint_fast16_t )18433, 0, & jpc_mqstates[18], & jpc_mqstates[28]}, 
        {(uint_fast16_t )18433, 1, & jpc_mqstates[19], & jpc_mqstates[29]}, 
        {(uint_fast16_t )14337, 0, & jpc_mqstates[20], & jpc_mqstates[28]}, 
        {(uint_fast16_t )14337, 1, & jpc_mqstates[21], & jpc_mqstates[29]}, 
        {(uint_fast16_t )12289, 0, & jpc_mqstates[22], & jpc_mqstates[34]}, 
        {(uint_fast16_t )12289, 1, & jpc_mqstates[23], & jpc_mqstates[35]}, 
        {(uint_fast16_t )9217, 0, & jpc_mqstates[24], & jpc_mqstates[36]}, 
        {(uint_fast16_t )9217, 1, & jpc_mqstates[25], & jpc_mqstates[37]}, 
        {(uint_fast16_t )7169, 0, & jpc_mqstates[26], & jpc_mqstates[40]}, 
        {(uint_fast16_t )7169, 1, & jpc_mqstates[27], & jpc_mqstates[41]}, 
        {(uint_fast16_t )5633, 0, & jpc_mqstates[58], & jpc_mqstates[42]}, 
        {(uint_fast16_t )5633, 1, & jpc_mqstates[59], & jpc_mqstates[43]}, 
        {(uint_fast16_t )22017, 0, & jpc_mqstates[30], & jpc_mqstates[29]}, 
        {(uint_fast16_t )22017, 1, & jpc_mqstates[31], & jpc_mqstates[28]}, 
        {(uint_fast16_t )21505, 0, & jpc_mqstates[32], & jpc_mqstates[28]}, 
        {(uint_fast16_t )21505, 1, & jpc_mqstates[33], & jpc_mqstates[29]}, 
        {(uint_fast16_t )20737, 0, & jpc_mqstates[34], & jpc_mqstates[30]}, 
        {(uint_fast16_t )20737, 1, & jpc_mqstates[35], & jpc_mqstates[31]}, 
        {(uint_fast16_t )18433, 0, & jpc_mqstates[36], & jpc_mqstates[32]}, 
        {(uint_fast16_t )18433, 1, & jpc_mqstates[37], & jpc_mqstates[33]}, 
        {(uint_fast16_t )14337, 0, & jpc_mqstates[38], & jpc_mqstates[34]}, 
        {(uint_fast16_t )14337, 1, & jpc_mqstates[39], & jpc_mqstates[35]}, 
        {(uint_fast16_t )13313, 0, & jpc_mqstates[40], & jpc_mqstates[36]}, 
        {(uint_fast16_t )13313, 1, & jpc_mqstates[41], & jpc_mqstates[37]}, 
        {(uint_fast16_t )12289, 0, & jpc_mqstates[42], & jpc_mqstates[38]}, 
        {(uint_fast16_t )12289, 1, & jpc_mqstates[43], & jpc_mqstates[39]}, 
        {(uint_fast16_t )10241, 0, & jpc_mqstates[44], & jpc_mqstates[38]}, 
        {(uint_fast16_t )10241, 1, & jpc_mqstates[45], & jpc_mqstates[39]}, 
        {(uint_fast16_t )9217, 0, & jpc_mqstates[46], & jpc_mqstates[40]}, 
        {(uint_fast16_t )9217, 1, & jpc_mqstates[47], & jpc_mqstates[41]}, 
        {(uint_fast16_t )8705, 0, & jpc_mqstates[48], & jpc_mqstates[42]}, 
        {(uint_fast16_t )8705, 1, & jpc_mqstates[49], & jpc_mqstates[43]}, 
        {(uint_fast16_t )7169, 0, & jpc_mqstates[50], & jpc_mqstates[44]}, 
        {(uint_fast16_t )7169, 1, & jpc_mqstates[51], & jpc_mqstates[45]}, 
        {(uint_fast16_t )6145, 0, & jpc_mqstates[52], & jpc_mqstates[46]}, 
        {(uint_fast16_t )6145, 1, & jpc_mqstates[53], & jpc_mqstates[47]}, 
        {(uint_fast16_t )5633, 0, & jpc_mqstates[54], & jpc_mqstates[48]}, 
        {(uint_fast16_t )5633, 1, & jpc_mqstates[55], & jpc_mqstates[49]}, 
        {(uint_fast16_t )5121, 0, & jpc_mqstates[56], & jpc_mqstates[50]}, 
        {(uint_fast16_t )5121, 1, & jpc_mqstates[57], & jpc_mqstates[51]}, 
        {(uint_fast16_t )4609, 0, & jpc_mqstates[58], & jpc_mqstates[52]}, 
        {(uint_fast16_t )4609, 1, & jpc_mqstates[59], & jpc_mqstates[53]}, 
        {(uint_fast16_t )4353, 0, & jpc_mqstates[60], & jpc_mqstates[54]}, 
        {(uint_fast16_t )4353, 1, & jpc_mqstates[61], & jpc_mqstates[55]}, 
        {(uint_fast16_t )2753, 0, & jpc_mqstates[62], & jpc_mqstates[56]}, 
        {(uint_fast16_t )2753, 1, & jpc_mqstates[63], & jpc_mqstates[57]}, 
        {(uint_fast16_t )2497, 0, & jpc_mqstates[64], & jpc_mqstates[58]}, 
        {(uint_fast16_t )2497, 1, & jpc_mqstates[65], & jpc_mqstates[59]}, 
        {(uint_fast16_t )2209, 0, & jpc_mqstates[66], & jpc_mqstates[60]}, 
        {(uint_fast16_t )2209, 1, & jpc_mqstates[67], & jpc_mqstates[61]}, 
        {(uint_fast16_t )1313, 0, & jpc_mqstates[68], & jpc_mqstates[62]}, 
        {(uint_fast16_t )1313, 1, & jpc_mqstates[69], & jpc_mqstates[63]}, 
        {(uint_fast16_t )1089, 0, & jpc_mqstates[70], & jpc_mqstates[64]}, 
        {(uint_fast16_t )1089, 1, & jpc_mqstates[71], & jpc_mqstates[65]}, 
        {(uint_fast16_t )673, 0, & jpc_mqstates[72], & jpc_mqstates[66]}, 
        {(uint_fast16_t )673, 1, & jpc_mqstates[73], & jpc_mqstates[67]}, 
        {(uint_fast16_t )545, 0, & jpc_mqstates[74], & jpc_mqstates[68]}, 
        {(uint_fast16_t )545, 1, & jpc_mqstates[75], & jpc_mqstates[69]}, 
        {(uint_fast16_t )321, 0, & jpc_mqstates[76], & jpc_mqstates[70]}, 
        {(uint_fast16_t )321, 1, & jpc_mqstates[77], & jpc_mqstates[71]}, 
        {(uint_fast16_t )273, 0, & jpc_mqstates[78], & jpc_mqstates[72]}, 
        {(uint_fast16_t )273, 1, & jpc_mqstates[79], & jpc_mqstates[73]}, 
        {(uint_fast16_t )133, 0, & jpc_mqstates[80], & jpc_mqstates[74]}, 
        {(uint_fast16_t )133, 1, & jpc_mqstates[81], & jpc_mqstates[75]}, 
        {(uint_fast16_t )73, 0, & jpc_mqstates[82], & jpc_mqstates[76]}, 
        {(uint_fast16_t )73, 1, & jpc_mqstates[83], & jpc_mqstates[77]}, 
        {(uint_fast16_t )37, 0, & jpc_mqstates[84], & jpc_mqstates[78]}, 
        {(uint_fast16_t )37, 1, & jpc_mqstates[85], & jpc_mqstates[79]}, 
        {(uint_fast16_t )21, 0, & jpc_mqstates[86], & jpc_mqstates[80]}, 
        {(uint_fast16_t )21, 1, & jpc_mqstates[87], & jpc_mqstates[81]}, 
        {(uint_fast16_t )9, 0, & jpc_mqstates[88], & jpc_mqstates[82]}, 
        {(uint_fast16_t )9, 1, & jpc_mqstates[89], & jpc_mqstates[83]}, 
        {(uint_fast16_t )5, 0, & jpc_mqstates[90], & jpc_mqstates[84]}, 
        {(uint_fast16_t )5, 1, & jpc_mqstates[91], & jpc_mqstates[85]}, 
        {(uint_fast16_t )1, 0, & jpc_mqstates[90], & jpc_mqstates[86]}, 
        {(uint_fast16_t )1, 1, & jpc_mqstates[91], & jpc_mqstates[87]}, 
        {(uint_fast16_t )22017, 0, & jpc_mqstates[92], & jpc_mqstates[92]}, 
        {(uint_fast16_t )22017, 1, & jpc_mqstates[93], & jpc_mqstates[93]}};
#line 97 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mct.h"
void jpc_rct(jas_matrix_t *c0 , jas_matrix_t *c1 , jas_matrix_t *c2 ) ;
#line 100
void jpc_irct(jas_matrix_t *c0 , jas_matrix_t *c1 , jas_matrix_t *c2 ) ;
#line 103
void jpc_ict(jas_matrix_t *c0 , jas_matrix_t *c1 , jas_matrix_t *c2 ) ;
#line 106
void jpc_iict(jas_matrix_t *c0 , jas_matrix_t *c1 , jas_matrix_t *c2 ) ;
#line 109
jpc_fix_t jpc_mct_getsynweight(int mctid , int cmptno ) ;
#line 87 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mct.c"
void jpc_rct(jas_matrix_t *c0 , jas_matrix_t *c1 , jas_matrix_t *c2 ) 
{ 
  int numrows ;
  int numcols ;
  int i ;
  int j ;
  jpc_fix_t *c0p ;
  jpc_fix_t *c1p ;
  jpc_fix_t *c2p ;
  int r ;
  int g ;
  int b ;
  int y ;
  int u ;
  int v ;
  jpc_fix_t *__cil_tmp18 ;
  jpc_fix_t *__cil_tmp19 ;
  jpc_fix_t *__cil_tmp20 ;

  {
#line 97
  numrows = (int )c0->numrows_;
#line 98
  numcols = (int )c0->numcols_;
#line 104
  i = 0;
  {
#line 104
  while (1) {
    while_continue: /* CIL Label */ ;

#line 104
    if (! (i < numrows)) {
#line 104
      goto while_break;
    }
#line 105
    c0p = *(c0->rows_ + i) + 0;
#line 106
    c1p = *(c1->rows_ + i) + 0;
#line 107
    c2p = *(c2->rows_ + i) + 0;
#line 108
    j = numcols;
    {
#line 108
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 108
      if (! (j > 0)) {
#line 108
        goto while_break___0;
      }
#line 115
      r = (int )*c0p;
#line 116
      g = (int )*c1p;
#line 117
      b = (int )*c2p;
#line 118
      y = ((r + (g << 1)) + b) >> 2;
#line 119
      u = b - g;
#line 120
      v = r - g;
#line 121
      __cil_tmp18 = c0p;
#line 121
      c0p ++;
#line 121
      *__cil_tmp18 = (jpc_fix_t )y;
#line 122
      __cil_tmp19 = c1p;
#line 122
      c1p ++;
#line 122
      *__cil_tmp19 = (jpc_fix_t )u;
#line 123
      __cil_tmp20 = c2p;
#line 123
      c2p ++;
#line 123
      *__cil_tmp20 = (jpc_fix_t )v;
#line 108
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 104
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 108
  return;
}
}
#line 130 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mct.c"
void jpc_irct(jas_matrix_t *c0 , jas_matrix_t *c1 , jas_matrix_t *c2 ) 
{ 
  int numrows ;
  int numcols ;
  int i ;
  int j ;
  jpc_fix_t *c0p ;
  jpc_fix_t *c1p ;
  jpc_fix_t *c2p ;
  int r ;
  int g ;
  int b ;
  int y ;
  int u ;
  int v ;
  jpc_fix_t *__cil_tmp18 ;
  jpc_fix_t *__cil_tmp19 ;
  jpc_fix_t *__cil_tmp20 ;

  {
#line 140
  numrows = (int )c0->numrows_;
#line 141
  numcols = (int )c0->numcols_;
#line 147
  i = 0;
  {
#line 147
  while (1) {
    while_continue: /* CIL Label */ ;

#line 147
    if (! (i < numrows)) {
#line 147
      goto while_break;
    }
#line 148
    c0p = *(c0->rows_ + i) + 0;
#line 149
    c1p = *(c1->rows_ + i) + 0;
#line 150
    c2p = *(c2->rows_ + i) + 0;
#line 151
    j = numcols;
    {
#line 151
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 151
      if (! (j > 0)) {
#line 151
        goto while_break___0;
      }
#line 158
      y = (int )*c0p;
#line 159
      u = (int )*c1p;
#line 160
      v = (int )*c2p;
#line 161
      g = y - ((u + v) >> 2);
#line 162
      r = v + g;
#line 163
      b = u + g;
#line 164
      __cil_tmp18 = c0p;
#line 164
      c0p ++;
#line 164
      *__cil_tmp18 = (jpc_fix_t )r;
#line 165
      __cil_tmp19 = c1p;
#line 165
      c1p ++;
#line 165
      *__cil_tmp19 = (jpc_fix_t )g;
#line 166
      __cil_tmp20 = c2p;
#line 166
      c2p ++;
#line 166
      *__cil_tmp20 = (jpc_fix_t )b;
#line 151
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 147
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 151
  return;
}
}
#line 171 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mct.c"
void jpc_ict(jas_matrix_t *c0 , jas_matrix_t *c1 , jas_matrix_t *c2 ) 
{ 
  int numrows ;
  int numcols ;
  int i ;
  int j ;
  jpc_fix_t r ;
  jpc_fix_t g ;
  jpc_fix_t b ;
  jpc_fix_t y ;
  jpc_fix_t u ;
  jpc_fix_t v ;
  jpc_fix_t *c0p ;
  jpc_fix_t *c1p ;
  jpc_fix_t *c2p ;
  jpc_fix_t *__cil_tmp19 ;
  jpc_fix_t *__cil_tmp20 ;
  jpc_fix_t *__cil_tmp21 ;

  {
#line 187
  numrows = (int )c0->numrows_;
#line 189
  numcols = (int )c0->numcols_;
#line 191
  i = 0;
  {
#line 191
  while (1) {
    while_continue: /* CIL Label */ ;

#line 191
    if (! (i < numrows)) {
#line 191
      goto while_break;
    }
#line 192
    c0p = *(c0->rows_ + i) + 0;
#line 193
    c1p = *(c1->rows_ + i) + 0;
#line 194
    c2p = *(c2->rows_ + i) + 0;
#line 195
    j = numcols;
    {
#line 195
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 195
      if (! (j > 0)) {
#line 195
        goto while_break___0;
      }
#line 196
      r = *c0p;
#line 197
      g = *c1p;
#line 198
      b = *c2p;
#line 199
      y = (((jpc_fix_t )(0.299 * (double )(1L << 13)) * r >> 13) + ((jpc_fix_t )(0.587 * (double )(1L << 13)) * g >> 13)) + ((jpc_fix_t )(0.114000000001 * (double )(1L << 13)) * b >> 13);
#line 201
      u = (((jpc_fix_t )(- 0.168750000001 * (double )(1L << 13)) * r >> 13) + ((jpc_fix_t )(- 0.33126 * (double )(1L << 13)) * g >> 13)) + ((jpc_fix_t )(0.5 * (double )(1L << 13)) * b >> 13);
#line 203
      v = (((jpc_fix_t )(0.5 * (double )(1L << 13)) * r >> 13) + ((jpc_fix_t )(- 0.418690000001 * (double )(1L << 13)) * g >> 13)) + ((jpc_fix_t )(- 0.08131 * (double )(1L << 13)) * b >> 13);
#line 205
      __cil_tmp19 = c0p;
#line 205
      c0p ++;
#line 205
      *__cil_tmp19 = y;
#line 206
      __cil_tmp20 = c1p;
#line 206
      c1p ++;
#line 206
      *__cil_tmp20 = u;
#line 207
      __cil_tmp21 = c2p;
#line 207
      c2p ++;
#line 207
      *__cil_tmp21 = v;
#line 195
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 191
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 195
  return;
}
}
#line 212 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mct.c"
void jpc_iict(jas_matrix_t *c0 , jas_matrix_t *c1 , jas_matrix_t *c2 ) 
{ 
  int numrows ;
  int numcols ;
  int i ;
  int j ;
  jpc_fix_t r ;
  jpc_fix_t g ;
  jpc_fix_t b ;
  jpc_fix_t y ;
  jpc_fix_t u ;
  jpc_fix_t v ;
  jpc_fix_t *c0p ;
  jpc_fix_t *c1p ;
  jpc_fix_t *c2p ;
  jpc_fix_t *__cil_tmp19 ;
  jpc_fix_t *__cil_tmp20 ;
  jpc_fix_t *__cil_tmp21 ;

  {
#line 228
  numrows = (int )c0->numrows_;
#line 230
  numcols = (int )c0->numcols_;
#line 232
  i = 0;
  {
#line 232
  while (1) {
    while_continue: /* CIL Label */ ;

#line 232
    if (! (i < numrows)) {
#line 232
      goto while_break;
    }
#line 233
    c0p = *(c0->rows_ + i) + 0;
#line 234
    c1p = *(c1->rows_ + i) + 0;
#line 235
    c2p = *(c2->rows_ + i) + 0;
#line 236
    j = numcols;
    {
#line 236
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 236
      if (! (j > 0)) {
#line 236
        goto while_break___0;
      }
#line 237
      y = *c0p;
#line 238
      u = *c1p;
#line 239
      v = *c2p;
#line 240
      r = y + ((jpc_fix_t )(1.402 * (double )(1L << 13)) * v >> 13);
#line 241
      g = (y + ((jpc_fix_t )(- 0.34413 * (double )(1L << 13)) * u >> 13)) + ((jpc_fix_t )(- 0.71414 * (double )(1L << 13)) * v >> 13);
#line 243
      b = y + ((jpc_fix_t )(1.77200000001 * (double )(1L << 13)) * u >> 13);
#line 244
      __cil_tmp19 = c0p;
#line 244
      c0p ++;
#line 244
      *__cil_tmp19 = r;
#line 245
      __cil_tmp20 = c1p;
#line 245
      c1p ++;
#line 245
      *__cil_tmp20 = g;
#line 246
      __cil_tmp21 = c2p;
#line 246
      c2p ++;
#line 246
      *__cil_tmp21 = b;
#line 236
      j --;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 232
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 236
  return;
}
}
#line 251 "/root/patron-new/new_2/src/libjasper/jpc/jpc_mct.c"
jpc_fix_t jpc_mct_getsynweight(int mctid , int cmptno ) 
{ 
  jpc_fix_t synweight ;
  double __cil_tmp4 ;
  double __cil_tmp5 ;
  double __cil_tmp6 ;
  double __cil_tmp7 ;
  double __cil_tmp8 ;
  double __cil_tmp9 ;

  {
#line 255
  synweight = 1L << 13;
#line 257
  if (mctid == 2) {
#line 257
    goto case_2;
  }
#line 259
  if (mctid == 0) {
#line 259
    goto case_0;
  }
#line 262
  if (mctid == 1) {
#line 262
    goto case_1;
  }
#line 265
  if (mctid == 2) {
#line 265
    goto case_2___0;
  }
#line 270
  if (mctid == 1) {
#line 270
    goto case_1___0;
  }
#line 272
  if (mctid == 0) {
#line 272
    goto case_0___0;
  }
#line 275
  if (mctid == 1) {
#line 275
    goto case_1___1;
  }
#line 278
  if (mctid == 2) {
#line 278
    goto case_2___1;
  }
#line 256
  goto switch_break;
  case_2: 
#line 259
  if (cmptno == 0) {
#line 259
    goto case_0;
  }
#line 262
  if (cmptno == 1) {
#line 262
    goto case_1;
  }
#line 265
  if (cmptno == 2) {
#line 265
    goto case_2___0;
  }
#line 258
  goto switch_break___0;
  case_0: 
  {
#line 260
  __cil_tmp4 = sqrt(3.);
#line 260
  synweight = (jpc_fix_t )(__cil_tmp4 * (double )(1L << 13));
  }
#line 261
  goto switch_break___0;
  case_1: 
  {
#line 263
  __cil_tmp5 = sqrt(0.6875);
#line 263
  synweight = (jpc_fix_t )(__cil_tmp5 * (double )(1L << 13));
  }
#line 264
  goto switch_break___0;
  case_2___0: 
  {
#line 266
  __cil_tmp6 = sqrt(0.6875);
#line 266
  synweight = (jpc_fix_t )(__cil_tmp6 * (double )(1L << 13));
  }
#line 267
  goto switch_break___0;
  switch_break___0: ;
#line 269
  goto switch_break;
  case_1___0: 
#line 272
  if (cmptno == 0) {
#line 272
    goto case_0___0;
  }
#line 275
  if (cmptno == 1) {
#line 275
    goto case_1___1;
  }
#line 278
  if (cmptno == 2) {
#line 278
    goto case_2___1;
  }
#line 271
  goto switch_break___1;
  case_0___0: 
  {
#line 273
  __cil_tmp7 = sqrt(3.);
#line 273
  synweight = (jpc_fix_t )(__cil_tmp7 * (double )(1L << 13));
  }
#line 274
  goto switch_break___1;
  case_1___1: 
  {
#line 276
  __cil_tmp8 = sqrt(3.2584);
#line 276
  synweight = (jpc_fix_t )(__cil_tmp8 * (double )(1L << 13));
  }
#line 277
  goto switch_break___1;
  case_2___1: 
  {
#line 279
  __cil_tmp9 = sqrt(2.4755);
#line 279
  synweight = (jpc_fix_t )(__cil_tmp9 * (double )(1L << 13));
  }
#line 280
  goto switch_break___1;
  switch_break___1: ;
#line 282
  goto switch_break;
  switch_break: ;
#line 290
  return (synweight);
}
}
#line 89 "/root/patron-new/new_2/src/libjasper/jpc/jpc_math.c"
int jpc_floorlog2(int x ) 
{ 
  int y ;

  {
#line 96
  y = 0;
  {
#line 97
  while (1) {
    while_continue: /* CIL Label */ ;

#line 97
    if (! (x > 1)) {
#line 97
      goto while_break;
    }
#line 98
    x >>= 1;
#line 99
    y ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 101
  return (y);
}
}
#line 108 "/root/patron-new/new_2/src/libjasper/jpc/jpc_math.c"
int jpc_firstone(int x ) 
{ 
  int n ;

  {
#line 115
  n = -1;
  {
#line 116
  while (1) {
    while_continue: /* CIL Label */ ;

#line 116
    if (! (x > 0)) {
#line 116
      goto while_break;
    }
#line 117
    x >>= 1;
#line 118
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 120
  return (n);
}
}
#line 111 "../../../src/libjasper/include/jasper/jas_version.h"
char const   *jas_getversion(void) ;
#line 122 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
jpc_enc_tile_t *jpc_enc_tile_create(jpc_enc_cp_t *cp , jas_image_t *image , int tileno ) ;
#line 123
void jpc_enc_tile_destroy(jpc_enc_tile_t *tile ) ;
#line 125
static jpc_enc_tcmpt_t *tcmpt_create(jpc_enc_tcmpt_t *tcmpt , jpc_enc_cp_t *cp , jas_image_t *image ,
                                     jpc_enc_tile_t *tile ) ;
#line 127
static void tcmpt_destroy(jpc_enc_tcmpt_t *tcmpt ) ;
#line 128
static jpc_enc_rlvl_t *rlvl_create(jpc_enc_rlvl_t *rlvl , jpc_enc_cp_t *cp , jpc_enc_tcmpt_t *tcmpt ,
                                   jpc_tsfb_band_t *bandinfos ) ;
#line 130
static void rlvl_destroy(jpc_enc_rlvl_t *rlvl ) ;
#line 131
static jpc_enc_band_t *band_create(jpc_enc_band_t *band , jpc_enc_cp_t *cp , jpc_enc_rlvl_t *rlvl ,
                                   jpc_tsfb_band_t *bandinfos ) ;
#line 133
static void band_destroy(jpc_enc_band_t *band ) ;
#line 134
static jpc_enc_prc_t *prc_create(jpc_enc_prc_t *prc , jpc_enc_cp_t *cp , jpc_enc_band_t *band ) ;
#line 136
static void prc_destroy(jpc_enc_prc_t *prc ) ;
#line 137
static jpc_enc_cblk_t *cblk_create(jpc_enc_cblk_t *cblk , jpc_enc_cp_t *cp , jpc_enc_prc_t *prc ) ;
#line 139
static void cblk_destroy(jpc_enc_cblk_t *cblk ) ;
#line 140
int ratestrtosize(char *s , uint_fast32_t rawsize , uint_fast32_t *size ) ;
#line 141
static void pass_destroy(jpc_enc_pass_t *pass ) ;
#line 142
void jpc_enc_dump(jpc_enc_t *enc ) ;
#line 148
int dump_passes(jpc_enc_pass_t *passes , int numpasses , jpc_enc_cblk_t *cblk ) ;
#line 149
void calcrdslopes(jpc_enc_cblk_t *cblk ) ;
#line 150
void dump_layeringinfo(jpc_enc_t *enc ) ;
#line 153
void jpc_quantize(jas_matrix_t *data , jpc_fix_t stepsize ) ;
#line 154
static int jpc_enc_encodemainhdr(jpc_enc_t *enc ) ;
#line 155
static int jpc_enc_encodemainbody(jpc_enc_t *enc ) ;
#line 156
int jpc_enc_encodetiledata(jpc_enc_t *enc ) ;
#line 157
jpc_enc_t *jpc_enc_create(jpc_enc_cp_t *cp , jas_stream_t *out , jas_image_t *image ) ;
#line 158
void jpc_enc_destroy(jpc_enc_t *enc ) ;
#line 162
int rateallocate(jpc_enc_t *enc , int numlyrs , uint_fast32_t *cumlens ) ;
#line 164
static jpc_enc_cp_t *cp_create(char *optstr , jas_image_t *image ) ;
#line 165
void jpc_enc_cp_destroy(jpc_enc_cp_t *cp ) ;
#line 166
static uint_fast32_t jpc_abstorelstepsize(jpc_fix_t absdelta , int scaleexpn ) ;
#line 168 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static uint_fast32_t jpc_abstorelstepsize(jpc_fix_t absdelta , int scaleexpn ) 
{ 
  int p ;
  uint_fast32_t mant ;
  uint_fast32_t expn ;
  int n ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  jpc_fix_t tmp ;

  {
#line 175
  if (absdelta < 0L) {
    {
#line 176
    abort();
    }
  }
  {
#line 179
  __cil_tmp7 = jpc_firstone((int )absdelta);
#line 179
  p = __cil_tmp7 - 13;
#line 180
  __cil_tmp8 = jpc_firstone((int )absdelta);
#line 180
  n = 11 - __cil_tmp8;
  }
#line 181
  if (n < 0) {
#line 181
    tmp = absdelta >> - n;
  } else {
#line 181
    tmp = absdelta << n;
  }
#line 181
  mant = (uint_fast32_t )(tmp & 2047L);
#line 182
  expn = (uint_fast32_t )(scaleexpn - p);
#line 183
  if (scaleexpn < p) {
    {
#line 184
    abort();
    }
  }
#line 186
  return (((expn & 31UL) << 11) | (mant & 2047UL));
}
}
#line 219 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
jas_taginfo_t encopts[28]  = 
#line 219
  {      {0, (char *)"debug"}, 
        {1, (char *)"imgareatlx"}, 
        {2, (char *)"imgareatly"}, 
        {3, (char *)"tilegrdtlx"}, 
        {4, (char *)"tilegrdtly"}, 
        {5, (char *)"tilewidth"}, 
        {6, (char *)"tileheight"}, 
        {7, (char *)"prcwidth\250"}, 
        {8, (char *)"prcheight"}, 
        {9, (char *)"cblkwidth"}, 
        {10, (char *)"cblkheight"}, 
        {11, (char *)"mode"}, 
        {12, (char *)"prg"}, 
        {13, (char *)"nomct"}, 
        {14, (char *)"numrlvls\250"}, 
        {15, (char *)"sop"}, 
        {16, (char *)"eph"}, 
        {17, (char *)"lazy"}, 
        {18, (char *)"termall"}, 
        {19, (char *)"segsym"}, 
        {20, (char *)"vcausal"}, 
        {22, (char *)"pterm"}, 
        {21, (char *)"resetprob"}, 
        {23, (char *)"numgbits\250"}, 
        {24, (char *)"rate"}, 
        {25, (char *)"ilyrratesX\312\372PV"}, 
        {26, (char *)"_jp2overhead"}, 
        {-1, (char *)0}};
#line 256 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
jas_taginfo_t prgordtab[6]  = {      {0, (char *)"lrcp"}, 
        {1, (char *)"rlcpPV"}, 
        {2, (char *)"rpclPV"}, 
        {3, (char *)"pcrlPV"}, 
        {4, (char *)"cprlPV"}, 
        {-1, (char *)0}};
#line 270 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
jas_taginfo_t modetab[3]  = {      {0, (char *)"int"}, 
        {1, (char *)"real"}, 
        {-1, (char *)0}};
#line 280 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
int jpc_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) 
{ 
  jpc_enc_t *enc ;
  jpc_enc_cp_t *cp ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;

  {
  {
#line 285
  enc = (jpc_enc_t *)0;
#line 286
  cp = (jpc_enc_cp_t *)0;
#line 288
  jpc_initluts();
#line 290
  cp = cp_create(optstr, image);
  }
#line 290
  if (! cp) {
    {
#line 291
    jas_eprintf("invalid JP encoder options\n");
    }
#line 292
    goto error;
  }
  {
#line 295
  enc = jpc_enc_create(cp, out, image);
  }
#line 295
  if (! enc) {
#line 296
    goto error;
  }
  {
#line 298
  cp = (jpc_enc_cp_t *)0;
#line 301
  __cil_tmp8 = jpc_enc_encodemainhdr(enc);
  }
#line 301
  if (__cil_tmp8) {
#line 302
    goto error;
  }
  {
#line 306
  __cil_tmp9 = jpc_enc_encodemainbody(enc);
  }
#line 306
  if (__cil_tmp9) {
#line 307
    goto error;
  }
  {
#line 311
  enc->mrk = jpc_ms_create(65497);
  }
#line 311
  if (! enc->mrk) {
#line 312
    goto error;
  }
  {
#line 314
  __cil_tmp11 = jpc_putms(enc->out, enc->cstate, enc->mrk);
  }
#line 314
  if (__cil_tmp11) {
    {
#line 315
    jas_eprintf("cannot write EOI marker\n\220");
    }
#line 316
    goto error;
  }
  {
#line 318
  jpc_ms_destroy(enc->mrk);
#line 319
  enc->mrk = (jpc_ms_t *)0;
#line 321
  __cil_tmp12 = jas_stream_flush(enc->out);
  }
#line 321
  if (__cil_tmp12) {
#line 322
    goto error;
  }
  {
#line 325
  jpc_enc_destroy(enc);
  }
#line 327
  return (0);
  error: 
#line 330
  if (cp) {
    {
#line 331
    jpc_enc_cp_destroy(cp);
    }
  }
#line 333
  if (enc) {
    {
#line 334
    jpc_enc_destroy(enc);
    }
  }
#line 336
  return (-1);
}
}
#line 343 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static jpc_enc_cp_t *cp_create(char *optstr , jas_image_t *image ) 
{ 
  jpc_enc_cp_t *cp ;
  jas_tvparser_t *tvp ;
  int ret ;
  int numilyrrates ;
  double *ilyrrates ;
  int i ;
  int tagid ;
  jpc_enc_tcp_t *tcp ;
  jpc_enc_tccp_t *tccp ;
  jpc_enc_ccp_t *ccp ;
  int cmptno ;
  uint_fast16_t rlvlno ;
  uint_fast16_t prcwidthexpn ;
  uint_fast16_t prcheightexpn ;
  int enablemct ;
  uint_fast32_t jp2overhead ;
  uint_fast16_t lyrno ;
  uint_fast32_t hsteplcm ;
  uint_fast32_t vsteplcm ;
  int mctvalid ;
  char *tmp ;
  jas_tvparser_t *__cil_tmp27 ;
  jas_taginfo_t *__cil_tmp31 ;
  char *__cil_tmp32 ;
  int __cil_tmp33 ;
  char *__cil_tmp34 ;
  int __cil_tmp35 ;
  char *__cil_tmp36 ;
  int __cil_tmp37 ;
  char *__cil_tmp38 ;
  int __cil_tmp39 ;
  char *__cil_tmp40 ;
  int __cil_tmp41 ;
  char *__cil_tmp42 ;
  int __cil_tmp43 ;
  char *__cil_tmp44 ;
  int __cil_tmp45 ;
  char *__cil_tmp46 ;
  int __cil_tmp47 ;
  int __cil_tmp48 ;
  char *__cil_tmp49 ;
  int __cil_tmp50 ;
  int __cil_tmp51 ;
  char *__cil_tmp52 ;
  int __cil_tmp53 ;
  int __cil_tmp54 ;
  char *__cil_tmp55 ;
  int __cil_tmp56 ;
  int __cil_tmp57 ;
  jas_taginfo_t *__cil_tmp60 ;
  char *__cil_tmp61 ;
  jas_taginfo_t *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  int __cil_tmp67 ;
  char *__cil_tmp68 ;
  int __cil_tmp69 ;
  char *__cil_tmp70 ;
  int __cil_tmp71 ;
  char *__cil_tmp72 ;
  char *__cil_tmp73 ;
  int __cil_tmp74 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  int __cil_tmp77 ;
  char *__cil_tmp78 ;
  uint_fast32_t tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;

  {
  {
#line 366
  tvp = (jas_tvparser_t *)0;
#line 367
  cp = (jpc_enc_cp_t *)0;
#line 368
  ilyrrates = (double *)0;
#line 369
  numilyrrates = 0;
#line 371
  tmp___3 = jas_malloc(sizeof(jpc_enc_cp_t ));
#line 371
  cp = (jpc_enc_cp_t *)tmp___3;
  }
#line 371
  if (! cp) {
#line 372
    goto error;
  }
#line 375
  prcwidthexpn = (uint_fast16_t )15;
#line 376
  prcheightexpn = (uint_fast16_t )15;
#line 377
  enablemct = 1;
#line 378
  jp2overhead = (uint_fast32_t )0;
#line 380
  cp->ccps = (jpc_enc_ccp_t *)0;
#line 381
  cp->debug = 0;
#line 382
  cp->imgareatlx = 0xffffffffffffffffUL;
#line 383
  cp->imgareatly = 0xffffffffffffffffUL;
#line 384
  cp->refgrdwidth = (uint_fast32_t )0;
#line 385
  cp->refgrdheight = (uint_fast32_t )0;
#line 386
  cp->tilegrdoffx = 0xffffffffffffffffUL;
#line 387
  cp->tilegrdoffy = 0xffffffffffffffffUL;
#line 388
  cp->tilewidth = (uint_fast32_t )0;
#line 389
  cp->tileheight = (uint_fast32_t )0;
#line 390
  cp->numcmpts = (uint_fast16_t )image->numcmpts_;
#line 392
  hsteplcm = (uint_fast32_t )1;
#line 393
  vsteplcm = (uint_fast32_t )1;
#line 394
  cmptno = 0;
  {
#line 394
  while (1) {
    while_continue: /* CIL Label */ ;

#line 394
    if (! (cmptno < image->numcmpts_)) {
#line 394
      goto while_break;
    }
#line 395
    if (((*(image->cmpts_ + cmptno))->tlx_ + (*(image->cmpts_ + cmptno))->width_ * (*(image->cmpts_ + cmptno))->hstep_) + (*(image->cmpts_ + cmptno))->hstep_ <= image->brx_) {
      {
#line 398
      jas_eprintf("unsupported image type\n");
      }
#line 399
      goto error;
    } else
#line 395
    if (((*(image->cmpts_ + cmptno))->tly_ + (*(image->cmpts_ + cmptno))->height_ * (*(image->cmpts_ + cmptno))->vstep_) + (*(image->cmpts_ + cmptno))->vstep_ <= image->bry_) {
      {
#line 398
      jas_eprintf("unsupported image type\n");
      }
#line 399
      goto error;
    }
#line 402
    hsteplcm *= (unsigned long )(*(image->cmpts_ + cmptno))->hstep_;
#line 403
    vsteplcm *= (unsigned long )(*(image->cmpts_ + cmptno))->vstep_;
#line 394
    cmptno ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break: 
  {
#line 406
  tmp___4 = jas_alloc2(cp->numcmpts, sizeof(jpc_enc_ccp_t ));
#line 406
  cp->ccps = (jpc_enc_ccp_t *)tmp___4;
  }
#line 406
  if (! cp->ccps) {
#line 407
    goto error;
  }
#line 409
  ccp = cp->ccps;
#line 409
  cmptno = 0;
  {
#line 409
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 409
    if (! (cmptno < (int )cp->numcmpts)) {
#line 409
      goto while_break___0;
    }
    {
#line 411
    ccp->sampgrdstepx = (uint_fast8_t )(*(image->cmpts_ + cmptno))->hstep_;
#line 412
    ccp->sampgrdstepy = (uint_fast8_t )(*(image->cmpts_ + cmptno))->vstep_;
#line 414
    ccp->sampgrdsubstepx = (uint_fast8_t )0;
#line 415
    ccp->sampgrdsubstepx = (uint_fast8_t )0;
#line 416
    ccp->prec = (uint_fast8_t )(*(image->cmpts_ + cmptno))->prec_;
#line 417
    ccp->sgnd = (*(image->cmpts_ + cmptno))->sgnd_;
#line 418
    ccp->numstepsizes = (uint_fast16_t )0;
#line 419
    memset((void *)(ccp->stepsizes), 0, sizeof(ccp->stepsizes));
#line 409
    ccp ++;
#line 409
    cmptno ++;
    }
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 422
  cp->rawsize = jas_image_rawsize(image);
#line 423
  cp->totalsize = 0xffffffffffffffffUL;
#line 425
  tcp = & cp->tcp;
#line 426
  tcp->csty = (uint_fast8_t )0;
#line 427
  tcp->intmode = 1;
#line 428
  tcp->prg = (uint_fast8_t )0;
#line 429
  tcp->numlyrs = (uint_fast16_t )1;
#line 430
  tcp->ilyrrates = (jpc_fix_t *)0;
#line 432
  tccp = & cp->tccp;
#line 433
  tccp->csty = (uint_fast8_t )0;
#line 434
  tccp->maxrlvls = (uint_fast8_t )6;
#line 435
  tccp->cblkwidthexpn = (uint_fast16_t )6;
#line 436
  tccp->cblkheightexpn = (uint_fast16_t )6;
#line 437
  tccp->cblksty = (uint_fast8_t )0;
#line 438
  tccp->numgbits = (uint_fast8_t )2;
  }
#line 440
  if (optstr) {
#line 440
    tmp = optstr;
  } else {
#line 440
    tmp = (char *)"\220";
  }
  {
#line 440
  __cil_tmp27 = jas_tvparser_create((char const   *)((int )tmp));
#line 440
  tvp = __cil_tmp27;
  }
#line 440
  if (! tvp) {
#line 441
    goto error;
  }
  {
#line 444
  while (1) {
    while_continue___1: /* CIL Label */ ;
    {
#line 444
    ret = jas_tvparser_next(tvp);
    }
#line 444
    if (! (! ret)) {
#line 444
      goto while_break___1;
    }
#line 447
    if (__cil_tmp31->id == 0) {
#line 447
      goto case_0;
    }
#line 450
    if (__cil_tmp31->id == 1) {
#line 450
      goto case_1;
    }
#line 453
    if (__cil_tmp31->id == 2) {
#line 453
      goto case_2;
    }
#line 456
    if (__cil_tmp31->id == 3) {
#line 456
      goto case_3;
    }
#line 459
    if (__cil_tmp31->id == 4) {
#line 459
      goto case_4;
    }
#line 462
    if (__cil_tmp31->id == 5) {
#line 462
      goto case_5;
    }
#line 465
    if (__cil_tmp31->id == 6) {
#line 465
      goto case_6;
    }
#line 468
    if (__cil_tmp31->id == 7) {
#line 468
      goto case_7;
    }
#line 471
    if (__cil_tmp31->id == 8) {
#line 471
      goto case_8;
    }
#line 474
    if (__cil_tmp31->id == 9) {
#line 474
      goto case_9;
    }
#line 478
    if (__cil_tmp31->id == 10) {
#line 478
      goto case_10;
    }
#line 482
    if (__cil_tmp31->id == 11) {
#line 482
      goto case_11;
    }
#line 491
    if (__cil_tmp31->id == 12) {
#line 491
      goto case_12;
    }
#line 500
    if (__cil_tmp31->id == 13) {
#line 500
      goto case_13;
    }
#line 503
    if (__cil_tmp31->id == 14) {
#line 503
      goto case_14;
    }
#line 506
    if (__cil_tmp31->id == 15) {
#line 506
      goto case_15;
    }
#line 509
    if (__cil_tmp31->id == 16) {
#line 509
      goto case_16;
    }
#line 512
    if (__cil_tmp31->id == 17) {
#line 512
      goto case_17;
    }
#line 515
    if (__cil_tmp31->id == 18) {
#line 515
      goto case_18;
    }
#line 518
    if (__cil_tmp31->id == 19) {
#line 518
      goto case_19;
    }
#line 521
    if (__cil_tmp31->id == 20) {
#line 521
      goto case_20;
    }
#line 524
    if (__cil_tmp31->id == 21) {
#line 524
      goto case_21;
    }
#line 527
    if (__cil_tmp31->id == 22) {
#line 527
      goto case_22;
    }
#line 530
    if (__cil_tmp31->id == 23) {
#line 530
      goto case_23;
    }
#line 533
    if (__cil_tmp31->id == 24) {
#line 533
      goto case_24;
    }
#line 540
    if (__cil_tmp31->id == 25) {
#line 540
      goto case_25;
    }
#line 548
    if (__cil_tmp31->id == 26) {
#line 548
      goto case_26;
    }
#line 551
    goto switch_default;
    case_0: 
    {
#line 448
    __cil_tmp32 = jas_tvparser_getval(tvp);
#line 448
    __cil_tmp33 = atoi((char const   *)__cil_tmp32);
#line 448
    cp->debug = __cil_tmp33;
    }
#line 449
    goto switch_break;
    case_1: 
    {
#line 451
    __cil_tmp34 = jas_tvparser_getval(tvp);
#line 451
    __cil_tmp35 = atoi((char const   *)__cil_tmp34);
#line 451
    cp->imgareatlx = (uint_fast32_t )__cil_tmp35;
    }
#line 452
    goto switch_break;
    case_2: 
    {
#line 454
    __cil_tmp36 = jas_tvparser_getval(tvp);
#line 454
    __cil_tmp37 = atoi((char const   *)__cil_tmp36);
#line 454
    cp->imgareatly = (uint_fast32_t )__cil_tmp37;
    }
#line 455
    goto switch_break;
    case_3: 
    {
#line 457
    __cil_tmp38 = jas_tvparser_getval(tvp);
#line 457
    __cil_tmp39 = atoi((char const   *)__cil_tmp38);
#line 457
    cp->tilegrdoffx = (uint_fast32_t )__cil_tmp39;
    }
#line 458
    goto switch_break;
    case_4: 
    {
#line 460
    __cil_tmp40 = jas_tvparser_getval(tvp);
#line 460
    __cil_tmp41 = atoi((char const   *)__cil_tmp40);
#line 460
    cp->tilegrdoffy = (uint_fast32_t )__cil_tmp41;
    }
#line 461
    goto switch_break;
    case_5: 
    {
#line 463
    __cil_tmp42 = jas_tvparser_getval(tvp);
#line 463
    __cil_tmp43 = atoi((char const   *)__cil_tmp42);
#line 463
    cp->tilewidth = (uint_fast32_t )__cil_tmp43;
    }
#line 464
    goto switch_break;
    case_6: 
    {
#line 466
    __cil_tmp44 = jas_tvparser_getval(tvp);
#line 466
    __cil_tmp45 = atoi((char const   *)__cil_tmp44);
#line 466
    cp->tileheight = (uint_fast32_t )__cil_tmp45;
    }
#line 467
    goto switch_break;
    case_7: 
    {
#line 469
    __cil_tmp46 = jas_tvparser_getval(tvp);
#line 469
    __cil_tmp47 = atoi((char const   *)__cil_tmp46);
#line 469
    __cil_tmp48 = jpc_floorlog2(__cil_tmp47);
#line 469
    prcwidthexpn = (uint_fast16_t )__cil_tmp48;
    }
#line 470
    goto switch_break;
    case_8: 
    {
#line 472
    __cil_tmp49 = jas_tvparser_getval(tvp);
#line 472
    __cil_tmp50 = atoi((char const   *)__cil_tmp49);
#line 472
    __cil_tmp51 = jpc_floorlog2(__cil_tmp50);
#line 472
    prcheightexpn = (uint_fast16_t )__cil_tmp51;
    }
#line 473
    goto switch_break;
    case_9: 
    {
#line 475
    __cil_tmp52 = jas_tvparser_getval(tvp);
#line 475
    __cil_tmp53 = atoi((char const   *)__cil_tmp52);
#line 475
    __cil_tmp54 = jpc_floorlog2(__cil_tmp53);
#line 475
    tccp->cblkwidthexpn = (uint_fast16_t )__cil_tmp54;
    }
#line 477
    goto switch_break;
    case_10: 
    {
#line 479
    __cil_tmp55 = jas_tvparser_getval(tvp);
#line 479
    __cil_tmp56 = atoi((char const   *)__cil_tmp55);
#line 479
    __cil_tmp57 = jpc_floorlog2(__cil_tmp56);
#line 479
    tccp->cblkheightexpn = (uint_fast16_t )__cil_tmp57;
    }
#line 481
    goto switch_break;
    case_11: 
#line 483
    tagid = __cil_tmp60->id;
#line 483
    if (tagid < 0) {
      {
#line 485
      __cil_tmp61 = jas_tvparser_getval(tvp);
#line 485
      jas_eprintf("ignoring invalid mode %s\n", __cil_tmp61);
      }
    } else {
#line 488
      tcp->intmode = tagid == 0;
    }
#line 490
    goto switch_break;
    case_12: 
#line 492
    tagid = __cil_tmp64->id;
#line 492
    if (tagid < 0) {
      {
#line 494
      __cil_tmp65 = jas_tvparser_getval(tvp);
#line 494
      jas_eprintf("ignoring invalid progression order %s\n", __cil_tmp65);
      }
    } else {
#line 497
      tcp->prg = (uint_fast8_t )tagid;
    }
#line 499
    goto switch_break;
    case_13: 
#line 501
    enablemct = 0;
#line 502
    goto switch_break;
    case_14: 
    {
#line 504
    __cil_tmp66 = jas_tvparser_getval(tvp);
#line 504
    __cil_tmp67 = atoi((char const   *)__cil_tmp66);
#line 504
    tccp->maxrlvls = (uint_fast8_t )__cil_tmp67;
    }
#line 505
    goto switch_break;
    case_15: 
#line 507
    cp->tcp.csty = (uint_fast8_t )((int )cp->tcp.csty | 2);
#line 508
    goto switch_break;
    case_16: 
#line 510
    cp->tcp.csty = (uint_fast8_t )((int )cp->tcp.csty | 4);
#line 511
    goto switch_break;
    case_17: 
#line 513
    tccp->cblksty = (uint_fast8_t )((int )tccp->cblksty | 1);
#line 514
    goto switch_break;
    case_18: 
#line 516
    tccp->cblksty = (uint_fast8_t )((int )tccp->cblksty | 4);
#line 517
    goto switch_break;
    case_19: 
#line 519
    tccp->cblksty = (uint_fast8_t )((int )tccp->cblksty | 32);
#line 520
    goto switch_break;
    case_20: 
#line 522
    tccp->cblksty = (uint_fast8_t )((int )tccp->cblksty | 8);
#line 523
    goto switch_break;
    case_21: 
#line 525
    tccp->cblksty = (uint_fast8_t )((int )tccp->cblksty | 2);
#line 526
    goto switch_break;
    case_22: 
#line 528
    tccp->cblksty = (uint_fast8_t )((int )tccp->cblksty | 16);
#line 529
    goto switch_break;
    case_23: 
    {
#line 531
    __cil_tmp68 = jas_tvparser_getval(tvp);
#line 531
    __cil_tmp69 = atoi((char const   *)__cil_tmp68);
#line 531
    cp->tccp.numgbits = (uint_fast8_t )__cil_tmp69;
    }
#line 532
    goto switch_break;
    case_24: 
    {
#line 534
    __cil_tmp70 = jas_tvparser_getval(tvp);
#line 534
    __cil_tmp71 = ratestrtosize(__cil_tmp70, cp->rawsize, & cp->totalsize);
    }
#line 534
    if (__cil_tmp71) {
      {
#line 536
      __cil_tmp72 = jas_tvparser_getval(tvp);
#line 536
      jas_eprintf("ignoring bad rate specifier %s\n", __cil_tmp72);
      }
    }
#line 539
    goto switch_break;
    case_25: 
    {
#line 541
    __cil_tmp73 = jas_tvparser_getval(tvp);
#line 541
    __cil_tmp74 = jpc_atoaf(__cil_tmp73, & numilyrrates, & ilyrrates);
    }
#line 541
    if (__cil_tmp74) {
      {
#line 543
      __cil_tmp75 = jas_tvparser_getval(tvp);
#line 543
      jas_eprintf("warning: invalid intermediate layer rates specifier ignored (%s)\n",
                  __cil_tmp75);
      }
    }
#line 546
    goto switch_break;
    case_26: 
    {
#line 549
    __cil_tmp76 = jas_tvparser_getval(tvp);
#line 549
    __cil_tmp77 = atoi((char const   *)__cil_tmp76);
#line 549
    jp2overhead = (uint_fast32_t )__cil_tmp77;
    }
#line 550
    goto switch_break;
    switch_default: 
    {
#line 552
    __cil_tmp78 = jas_tvparser_gettag(tvp);
#line 552
    jas_eprintf("warning: ignoring invalid option %s\n", __cil_tmp78);
    }
#line 554
    goto switch_break;
    switch_break: ;
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break___1: 
  {
#line 558
  jas_tvparser_destroy(tvp);
#line 559
  tvp = (jas_tvparser_t *)0;
  }
#line 561
  if (cp->totalsize != 0xffffffffffffffffUL) {
#line 562
    if (cp->totalsize > jp2overhead) {
#line 562
      tmp___0 = cp->totalsize - jp2overhead;
    } else {
#line 562
      tmp___0 = 0UL;
    }
#line 562
    cp->totalsize = tmp___0;
  }
#line 566
  if (cp->imgareatlx == 0xffffffffffffffffUL) {
#line 567
    cp->imgareatlx = (uint_fast32_t )0;
  } else {
#line 569
    if (hsteplcm != 1UL) {
      {
#line 570
      jas_eprintf("warning: overriding imgareatlx value\n");
      }
    }
#line 572
    cp->imgareatlx *= hsteplcm;
  }
#line 574
  if (cp->imgareatly == 0xffffffffffffffffUL) {
#line 575
    cp->imgareatly = (uint_fast32_t )0;
  } else {
#line 577
    if (vsteplcm != 1UL) {
      {
#line 578
      jas_eprintf("warning: overriding imgareatly value\n");
      }
    }
#line 580
    cp->imgareatly *= vsteplcm;
  }
#line 582
  cp->refgrdwidth = cp->imgareatlx + (unsigned long )(image->brx_ - image->tlx_);
#line 583
  cp->refgrdheight = cp->imgareatly + (unsigned long )(image->bry_ - image->tly_);
#line 584
  if (cp->tilegrdoffx == 0xffffffffffffffffUL) {
#line 585
    cp->tilegrdoffx = cp->imgareatlx;
  }
#line 587
  if (cp->tilegrdoffy == 0xffffffffffffffffUL) {
#line 588
    cp->tilegrdoffy = cp->imgareatly;
  }
#line 590
  if (! cp->tilewidth) {
#line 591
    cp->tilewidth = cp->refgrdwidth - cp->tilegrdoffx;
  }
#line 593
  if (! cp->tileheight) {
#line 594
    cp->tileheight = cp->refgrdheight - cp->tilegrdoffy;
  }
#line 597
  if (cp->numcmpts == 3UL) {
#line 598
    mctvalid = 1;
#line 599
    cmptno = 0;
    {
#line 599
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 599
      if (! (cmptno < image->numcmpts_)) {
#line 599
        goto while_break___2;
      }
#line 600
      if ((*(image->cmpts_ + cmptno))->prec_ != (*(image->cmpts_ + 0))->prec_) {
#line 604
        mctvalid = 0;
      } else
#line 600
      if ((*(image->cmpts_ + cmptno))->sgnd_ != (*(image->cmpts_ + 0))->sgnd_) {
#line 604
        mctvalid = 0;
      } else
#line 600
      if ((*(image->cmpts_ + cmptno))->width_ != (*(image->cmpts_ + 0))->width_) {
#line 604
        mctvalid = 0;
      } else
#line 600
      if ((*(image->cmpts_ + cmptno))->height_ != (*(image->cmpts_ + 0))->height_) {
#line 604
        mctvalid = 0;
      }
#line 599
      cmptno ++;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___2: ;
  } else {
#line 608
    mctvalid = 0;
  }
#line 610
  if (mctvalid) {
#line 610
    if (enablemct) {
#line 610
      if (image->clrspc_ >> 8 != 4) {
        {
#line 611
        jas_eprintf("warning: color space apparently not RGB\n\220");
        }
      }
    }
  }
#line 613
  if (mctvalid) {
#line 613
    if (enablemct) {
#line 613
      if (image->clrspc_ >> 8 == 4) {
#line 614
        if (tcp->intmode) {
#line 614
          tmp___1 = 2;
        } else {
#line 614
          tmp___1 = 1;
        }
#line 614
        tcp->mctid = (uint_fast8_t )tmp___1;
      } else {
#line 616
        tcp->mctid = (uint_fast8_t )0;
      }
    } else {
#line 616
      tcp->mctid = (uint_fast8_t )0;
    }
  } else {
#line 616
    tcp->mctid = (uint_fast8_t )0;
  }
#line 618
  if (tcp->intmode) {
#line 618
    tmp___2 = 1;
  } else {
#line 618
    tmp___2 = 0;
  }
#line 618
  tccp->qmfbid = (uint_fast8_t )tmp___2;
#line 620
  rlvlno = (uint_fast16_t )0;
  {
#line 620
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 620
    if (! (rlvlno < (unsigned long )tccp->maxrlvls)) {
#line 620
      goto while_break___3;
    }
#line 621
    tccp->prcwidthexpns[rlvlno] = prcwidthexpn;
#line 622
    tccp->prcheightexpns[rlvlno] = prcheightexpn;
#line 620
    rlvlno ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___3: ;
#line 624
  if (prcwidthexpn != 15UL) {
#line 625
    tccp->csty = (uint_fast8_t )((int )tccp->csty | 1);
  } else
#line 624
  if (prcheightexpn != 15UL) {
#line 625
    tccp->csty = (uint_fast8_t )((int )tccp->csty | 1);
  }
#line 629
  if (! cp->tilewidth) {
    {
#line 630
    jas_eprintf("invalid tile width %lu\n", cp->tilewidth);
    }
#line 632
    goto error;
  }
#line 634
  if (! cp->tileheight) {
    {
#line 635
    jas_eprintf("invalid tile height %lu\n\230\001", cp->tileheight);
    }
#line 637
    goto error;
  }
#line 641
  if (cp->tilegrdoffx > cp->imgareatlx) {
    {
#line 645
    jas_eprintf("invalid tile grid offset (%lu, %lu)\n", cp->tilegrdoffx, cp->tilegrdoffy);
    }
#line 648
    goto error;
  } else
#line 641
  if (cp->tilegrdoffy > cp->imgareatly) {
    {
#line 645
    jas_eprintf("invalid tile grid offset (%lu, %lu)\n", cp->tilegrdoffx, cp->tilegrdoffy);
    }
#line 648
    goto error;
  } else
#line 641
  if (cp->tilegrdoffx + cp->tilewidth < cp->imgareatlx) {
    {
#line 645
    jas_eprintf("invalid tile grid offset (%lu, %lu)\n", cp->tilegrdoffx, cp->tilegrdoffy);
    }
#line 648
    goto error;
  } else
#line 641
  if (cp->tilegrdoffy + cp->tileheight < cp->imgareatly) {
    {
#line 645
    jas_eprintf("invalid tile grid offset (%lu, %lu)\n", cp->tilegrdoffx, cp->tilegrdoffy);
    }
#line 648
    goto error;
  }
#line 651
  cp->numhtiles = (((cp->refgrdwidth - cp->tilegrdoffx) + cp->tilewidth) - 1UL) / cp->tilewidth;
#line 653
  cp->numvtiles = (((cp->refgrdheight - cp->tilegrdoffy) + cp->tileheight) - 1UL) / cp->tileheight;
#line 655
  cp->numtiles = cp->numhtiles * cp->numvtiles;
#line 657
  if (ilyrrates) {
#line 657
    if (numilyrrates > 0) {
      {
#line 658
      tcp->numlyrs = (uint_fast16_t )(numilyrrates + 1);
#line 659
      tmp___5 = jas_alloc2(tcp->numlyrs - 1UL, sizeof(jpc_fix_t ));
#line 659
      tcp->ilyrrates = (jpc_fix_t *)tmp___5;
      }
#line 659
      if (! tcp->ilyrrates) {
#line 661
        goto error;
      }
#line 663
      i = 0;
      {
#line 663
      while (1) {
        while_continue___4: /* CIL Label */ ;

#line 663
        if (! (i < (int )(tcp->numlyrs - 1UL))) {
#line 663
          goto while_break___4;
        }
#line 664
        *(tcp->ilyrrates + i) = (jpc_fix_t )(*(ilyrrates + i) * (double )(1L << 13));
#line 663
        i ++;
      }
      while_break___12: /* CIL Label */ ;
      }
      while_break___4: ;
    }
  }
#line 670
  if (cp->totalsize == 0xffffffffffffffffUL) {
#line 670
    if (! cp->tcp.intmode) {
      {
#line 671
      jas_eprintf("cannot use real mode for lossless coding\n");
      }
#line 672
      goto error;
    }
  }
#line 676
  if (prcwidthexpn > 15UL) {
    {
#line 677
    jas_eprintf("invalid precinct width\n");
    }
#line 678
    goto error;
  }
#line 682
  if (prcheightexpn > 15UL) {
    {
#line 683
    jas_eprintf("invalid precinct height\n\220");
    }
#line 684
    goto error;
  }
#line 688
  if (cp->tccp.cblkwidthexpn < 2UL) {
    {
#line 689
    jas_eprintf("invalid code block width %d\n", 1 << cp->tccp.cblkwidthexpn);
    }
#line 691
    goto error;
  } else
#line 688
  if (cp->tccp.cblkwidthexpn > 12UL) {
    {
#line 689
    jas_eprintf("invalid code block width %d\n", 1 << cp->tccp.cblkwidthexpn);
    }
#line 691
    goto error;
  }
#line 695
  if (cp->tccp.cblkheightexpn < 2UL) {
    {
#line 696
    jas_eprintf("invalid code block height %d\n", 1 << cp->tccp.cblkheightexpn);
    }
#line 698
    goto error;
  } else
#line 695
  if (cp->tccp.cblkheightexpn > 12UL) {
    {
#line 696
    jas_eprintf("invalid code block height %d\n", 1 << cp->tccp.cblkheightexpn);
    }
#line 698
    goto error;
  }
#line 702
  if (cp->tccp.cblkwidthexpn + cp->tccp.cblkheightexpn > 12UL) {
    {
#line 703
    jas_eprintf("code block size too large\n");
    }
#line 704
    goto error;
  }
#line 708
  if (cp->tcp.numlyrs > 16384UL) {
    {
#line 709
    jas_eprintf("too many layers\n\220");
    }
#line 710
    goto error;
  }
#line 714
  if ((int )cp->tccp.maxrlvls < 1) {
    {
#line 715
    jas_eprintf("must be at least one resolution level\n");
    }
#line 716
    goto error;
  }
#line 720
  if ((int )cp->tccp.numgbits > 8) {
    {
#line 721
    jas_eprintf("invalid number of guard bits\n");
    }
#line 722
    goto error;
  }
#line 726
  if (cp->totalsize != 0xffffffffffffffffUL) {
#line 726
    if (cp->totalsize > cp->rawsize) {
      {
#line 727
      jas_eprintf("warning: specified rate is unreasonably large (%lu > %lu)\n", cp->totalsize,
                  cp->rawsize);
      }
    }
  }
#line 731
  if (tcp->numlyrs > 1UL) {
#line 733
    lyrno = (uint_fast16_t )0;
    {
#line 733
    while (1) {
      while_continue___5: /* CIL Label */ ;

#line 733
      if (! (lyrno + 2UL < tcp->numlyrs)) {
#line 733
        goto while_break___5;
      }
#line 734
      if (*(tcp->ilyrrates + lyrno) >= *(tcp->ilyrrates + (lyrno + 1UL))) {
        {
#line 735
        jas_eprintf("intermediate layer rates must increase monotonically\n");
        }
#line 736
        goto error;
      }
#line 733
      lyrno ++;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___5: ;
#line 740
    if (cp->totalsize != 0xffffffffffffffffUL) {
#line 741
      lyrno = (uint_fast16_t )0;
      {
#line 741
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 741
        if (! (lyrno < tcp->numlyrs - 1UL)) {
#line 741
          goto while_break___6;
        }
#line 742
        if ((double )*(tcp->ilyrrates + lyrno) / (double )(1L << 13) > (double )cp->totalsize / (double )cp->rawsize) {
          {
#line 744
          jas_eprintf("warning: intermediate layer rates must be less than overall rate\n");
          }
#line 745
          goto error;
        }
#line 741
        lyrno ++;
      }
      while_break___14: /* CIL Label */ ;
      }
      while_break___6: ;
    }
  }
#line 751
  if (ilyrrates) {
    {
#line 752
    jas_free((void *)ilyrrates);
    }
  }
#line 755
  return (cp);
  error: 
#line 759
  if (ilyrrates) {
    {
#line 760
    jas_free((void *)ilyrrates);
    }
  }
#line 762
  if (tvp) {
    {
#line 763
    jas_tvparser_destroy(tvp);
    }
  }
#line 765
  if (cp) {
    {
#line 766
    jpc_enc_cp_destroy(cp);
    }
  }
#line 768
  return ((jpc_enc_cp_t *)0);
}
}
#line 771 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
void jpc_enc_cp_destroy(jpc_enc_cp_t *cp ) 
{ 


  {
#line 773
  if (cp->ccps) {
#line 774
    if (cp->tcp.ilyrrates) {
      {
#line 775
      jas_free((void *)cp->tcp.ilyrrates);
      }
    }
    {
#line 777
    jas_free((void *)cp->ccps);
    }
  }
  {
#line 779
  jas_free((void *)cp);
  }
#line 781
  return;
}
}
#line 782 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
int ratestrtosize(char *s , uint_fast32_t rawsize , uint_fast32_t *size ) 
{ 
  jpc_flt_t f ;
  char *__cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 787
  __cil_tmp5 = strchr((char const   *)s, 'B');
  }
#line 787
  if (__cil_tmp5) {
    {
#line 788
    __cil_tmp6 = atoi((char const   *)s);
#line 788
    *size = (uint_fast32_t )__cil_tmp6;
    }
  } else {
    {
#line 790
    f = atof((char const   *)s);
    }
#line 791
    if (f < (double )0) {
#line 792
      *size = (uint_fast32_t )0;
    } else
#line 793
    if (f > 1.) {
#line 794
      *size = rawsize + 1UL;
    } else {
#line 796
      *size = (uint_fast32_t )(f * (double )rawsize);
    }
  }
#line 799
  return (0);
}
}
#line 806 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
jpc_enc_t *jpc_enc_create(jpc_enc_cp_t *cp , jas_stream_t *out , jas_image_t *image ) 
{ 
  jpc_enc_t *enc ;
  void *tmp ;

  {
  {
#line 810
  enc = (jpc_enc_t *)0;
#line 812
  tmp = jas_malloc(sizeof(jpc_enc_t ));
#line 812
  enc = (jpc_enc_t *)tmp;
  }
#line 812
  if (! enc) {
#line 813
    goto error;
  }
  {
#line 816
  enc->image = image;
#line 817
  enc->out = out;
#line 818
  enc->cp = cp;
#line 819
  enc->cstate = (jpc_cstate_t *)0;
#line 820
  enc->tmpstream = (jas_stream_t *)0;
#line 821
  enc->mrk = (jpc_ms_t *)0;
#line 822
  enc->curtile = (jpc_enc_tile_t *)0;
#line 824
  enc->cstate = jpc_cstate_create();
  }
#line 824
  if (! enc->cstate) {
#line 825
    goto error;
  }
#line 827
  enc->len = (uint_fast32_t )0;
#line 828
  enc->mainbodysize = (uint_fast32_t )0;
#line 830
  return (enc);
  error: 
#line 834
  if (enc) {
    {
#line 835
    jpc_enc_destroy(enc);
    }
  }
#line 837
  return ((jpc_enc_t *)0);
}
}
#line 840 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
void jpc_enc_destroy(jpc_enc_t *enc ) 
{ 


  {
#line 846
  if (enc->curtile) {
    {
#line 847
    jpc_enc_tile_destroy(enc->curtile);
    }
  }
#line 849
  if (enc->cp) {
    {
#line 850
    jpc_enc_cp_destroy(enc->cp);
    }
  }
#line 852
  if (enc->cstate) {
    {
#line 853
    jpc_cstate_destroy(enc->cstate);
    }
  }
#line 855
  if (enc->tmpstream) {
    {
#line 856
    jas_stream_close(enc->tmpstream);
    }
  }
  {
#line 859
  jas_free((void *)enc);
  }
#line 861
  return;
}
}
#line 887 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static int jpc_enc_encodemainhdr(jpc_enc_t *enc ) 
{ 
  jpc_siz_t *siz ;
  jpc_cod_t *cod ;
  jpc_qcd_t *qcd ;
  int i ;
  long startoff ;
  long mainhdrlen ;
  jpc_enc_cp_t *cp ;
  jpc_qcc_t *qcc ;
  jpc_enc_tccp_t *tccp ;
  uint_fast16_t cmptno ;
  jpc_tsfb_band_t bandinfos[100] ;
  jpc_fix_t mctsynweight ;
  jpc_enc_tcp_t *tcp ;
  jpc_tsfb_t *tsfb ;
  jpc_tsfb_band_t *bandinfo ;
  uint_fast16_t numbands ;
  uint_fast16_t bandno ;
  uint_fast16_t rlvlno ;
  uint_fast16_t analgain ;
  jpc_fix_t absstepsize ;
  char buf[1024] ;
  jpc_com_t *com ;
  int __cil_tmp25 ;
  int __cil_tmp29 ;
  char const   *__cil_tmp31 ;
  char *__cil_tmp33 ;
  int __cil_tmp34 ;
  uint_fast16_t tmp___0 ;
  int __cil_tmp38 ;
  int __cil_tmp41 ;
  int tmp___1 ;
  int __cil_tmp44 ;
  int tmp___2 ;
  int __cil_tmp47 ;
  uint_fast32_t overhead ;
  uint_fast32_t tmp___3 ;
  void *tmp___4 ;

  {
  {
#line 912
  cp = enc->cp;
#line 914
  startoff = (enc->out)->rwcnt_;
#line 917
  enc->mrk = jpc_ms_create(65359);
  }
#line 917
  if (! enc->mrk) {
#line 918
    return (-1);
  }
  {
#line 920
  __cil_tmp25 = jpc_putms(enc->out, enc->cstate, enc->mrk);
  }
#line 920
  if (__cil_tmp25) {
    {
#line 921
    jas_eprintf("cannot write SOC marker\n\220");
    }
#line 922
    return (-1);
  }
  {
#line 924
  jpc_ms_destroy(enc->mrk);
#line 925
  enc->mrk = (jpc_ms_t *)0;
#line 928
  enc->mrk = jpc_ms_create(65361);
  }
#line 928
  if (! enc->mrk) {
#line 929
    return (-1);
  }
  {
#line 931
  siz = & (enc->mrk)->parms.siz;
#line 932
  siz->caps = (uint_fast16_t )0;
#line 933
  siz->xoff = cp->imgareatlx;
#line 934
  siz->yoff = cp->imgareatly;
#line 935
  siz->width = cp->refgrdwidth;
#line 936
  siz->height = cp->refgrdheight;
#line 937
  siz->tilexoff = cp->tilegrdoffx;
#line 938
  siz->tileyoff = cp->tilegrdoffy;
#line 939
  siz->tilewidth = cp->tilewidth;
#line 940
  siz->tileheight = cp->tileheight;
#line 941
  siz->numcomps = cp->numcmpts;
#line 942
  tmp___4 = jas_alloc2(siz->numcomps, sizeof(jpc_sizcomp_t ));
#line 942
  siz->comps = (jpc_sizcomp_t *)tmp___4;
#line 944
  i = 0;
  }
  {
#line 944
  while (1) {
    while_continue: /* CIL Label */ ;

#line 944
    if (! (i < (int )cp->numcmpts)) {
#line 944
      goto while_break;
    }
#line 945
    (siz->comps + i)->prec = (cp->ccps + i)->prec;
#line 946
    (siz->comps + i)->sgnd = (uint_fast8_t )(cp->ccps + i)->sgnd;
#line 947
    (siz->comps + i)->hsamp = (cp->ccps + i)->sampgrdstepx;
#line 948
    (siz->comps + i)->vsamp = (cp->ccps + i)->sampgrdstepy;
#line 944
    i ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: 
  {
#line 950
  __cil_tmp29 = jpc_putms(enc->out, enc->cstate, enc->mrk);
  }
#line 950
  if (__cil_tmp29) {
    {
#line 951
    jas_eprintf("cannot write SIZ marker\n\220");
    }
#line 952
    return (-1);
  }
  {
#line 954
  jpc_ms_destroy(enc->mrk);
#line 955
  enc->mrk = (jpc_ms_t *)0;
#line 957
  enc->mrk = jpc_ms_create(65380);
  }
#line 957
  if (! enc->mrk) {
#line 958
    return (-1);
  }
  {
#line 960
  __cil_tmp31 = jas_getversion();
#line 960
  sprintf(buf, "Creator: JasPer Version %s", __cil_tmp31);
#line 961
  com = & (enc->mrk)->parms.com;
#line 962
  com->len = strlen((char const   *)(buf));
#line 963
  com->regid = (uint_fast16_t )1;
#line 964
  __cil_tmp33 = jas_strdup((char const   *)(buf));
#line 964
  com->data = (unsigned char *)__cil_tmp33;
  }
#line 964
  if (! com->data) {
    {
#line 965
    abort();
    }
  }
  {
#line 967
  __cil_tmp34 = jpc_putms(enc->out, enc->cstate, enc->mrk);
  }
#line 967
  if (__cil_tmp34) {
    {
#line 968
    jas_eprintf("cannot write COM marker\n\220");
    }
#line 969
    return (-1);
  }
  {
#line 971
  jpc_ms_destroy(enc->mrk);
#line 972
  enc->mrk = (jpc_ms_t *)0;
#line 988
  tcp = & cp->tcp;
#line 989
  tccp = & cp->tccp;
#line 990
  cmptno = (uint_fast16_t )0;
  }
  {
#line 990
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 990
    if (! (cmptno < cp->numcmpts)) {
#line 990
      goto while_break___0;
    }
    {
#line 991
    tsfb = jpc_cod_gettsfb((int )tccp->qmfbid, (int )tccp->maxrlvls - 1);
#line 992
    jpc_tsfb_getbands(tsfb, (uint_fast32_t )0, (uint_fast32_t )0, (uint_fast32_t )(1 << (int )tccp->maxrlvls),
                      (uint_fast32_t )(1 << (int )tccp->maxrlvls), bandinfos);
#line 994
    jpc_tsfb_destroy(tsfb);
#line 995
    mctsynweight = jpc_mct_getsynweight((int )tcp->mctid, (int )cmptno);
#line 996
    numbands = (uint_fast16_t )(3 * (int )tccp->maxrlvls - 2);
#line 997
    bandinfo = bandinfos;
#line 997
    bandno = (uint_fast16_t )0;
    }
    {
#line 997
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 997
      if (! (bandno < numbands)) {
#line 997
        goto while_break___1;
      }
#line 999
      if (bandno) {
#line 999
        tmp___0 = (bandno - 1UL) / 3UL + 1UL;
      } else {
#line 999
        tmp___0 = 0UL;
      }
      {
#line 999
      rlvlno = tmp___0;
#line 1000
      __cil_tmp38 = JPC_NOMINALGAIN((int )tccp->qmfbid, (int )tccp->maxrlvls, (int )rlvlno,
                                    bandinfo->orient);
#line 1000
      analgain = (uint_fast16_t )__cil_tmp38;
      }
#line 1002
      if (! tcp->intmode) {
#line 1003
        absstepsize = ((jpc_fix_t )((1 << (analgain + 1UL)) << 13) << 13) / bandinfo->synenergywt;
      } else {
#line 1006
        absstepsize = (jpc_fix_t )(1 << 13);
      }
      {
#line 1008
      (cp->ccps + cmptno)->stepsizes[bandno] = jpc_abstorelstepsize(absstepsize, (int )((unsigned long )(cp->ccps + cmptno)->prec + analgain));
#line 998
      bandinfo ++;
#line 998
      bandno ++;
      }
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___1: 
#line 1012
    (cp->ccps + cmptno)->numstepsizes = numbands;
#line 990
    cmptno ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 1015
  enc->mrk = jpc_ms_create(65362);
  }
#line 1015
  if (! enc->mrk) {
#line 1016
    return (-1);
  }
#line 1018
  cod = & (enc->mrk)->parms.cod;
#line 1019
  cod->csty = (uint_fast8_t )((int )cp->tccp.csty | (int )cp->tcp.csty);
#line 1020
  cod->compparms.csty = (uint_fast8_t )((int )cp->tccp.csty | (int )cp->tcp.csty);
#line 1021
  cod->compparms.numdlvls = (uint_fast8_t )((int )cp->tccp.maxrlvls - 1);
#line 1022
  cod->compparms.numrlvls = (int )cp->tccp.maxrlvls;
#line 1023
  cod->prg = cp->tcp.prg;
#line 1024
  cod->numlyrs = cp->tcp.numlyrs;
#line 1025
  cod->compparms.cblkwidthval = (uint_fast8_t )(cp->tccp.cblkwidthexpn - 2UL);
#line 1026
  cod->compparms.cblkheightval = (uint_fast8_t )(cp->tccp.cblkheightexpn - 2UL);
#line 1027
  cod->compparms.cblksty = cp->tccp.cblksty;
#line 1028
  cod->compparms.qmfbid = cp->tccp.qmfbid;
#line 1029
  cod->mctrans = (uint_fast8_t )((int )cp->tcp.mctid != 0);
#line 1030
  if ((int )tccp->csty & 1) {
#line 1031
    rlvlno = (uint_fast16_t )0;
    {
#line 1031
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 1031
      if (! (rlvlno < (unsigned long )tccp->maxrlvls)) {
#line 1031
        goto while_break___2;
      }
#line 1032
      cod->compparms.rlvls[rlvlno].parwidthval = (uint_fast8_t )tccp->prcwidthexpns[rlvlno];
#line 1033
      cod->compparms.rlvls[rlvlno].parheightval = (uint_fast8_t )tccp->prcheightexpns[rlvlno];
#line 1031
      rlvlno ++;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___2: ;
  }
  {
#line 1036
  __cil_tmp41 = jpc_putms(enc->out, enc->cstate, enc->mrk);
  }
#line 1036
  if (__cil_tmp41) {
    {
#line 1037
    jas_eprintf("cannot write COD marker\n\220");
    }
#line 1038
    return (-1);
  }
  {
#line 1040
  jpc_ms_destroy(enc->mrk);
#line 1041
  enc->mrk = (jpc_ms_t *)0;
#line 1043
  enc->mrk = jpc_ms_create(65372);
  }
#line 1043
  if (! enc->mrk) {
#line 1044
    return (-1);
  }
#line 1046
  qcd = & (enc->mrk)->parms.qcd;
#line 1047
  if ((int )tccp->qmfbid == 0) {
#line 1047
    tmp___1 = 2;
  } else {
#line 1047
    tmp___1 = 0;
  }
  {
#line 1047
  qcd->compparms.qntsty = (uint_fast8_t )tmp___1;
#line 1049
  qcd->compparms.numstepsizes = (int )(cp->ccps + 0)->numstepsizes;
#line 1050
  qcd->compparms.numguard = cp->tccp.numgbits;
#line 1051
  qcd->compparms.stepsizes = (cp->ccps + 0)->stepsizes;
#line 1052
  __cil_tmp44 = jpc_putms(enc->out, enc->cstate, enc->mrk);
  }
#line 1052
  if (__cil_tmp44) {
#line 1053
    return (-1);
  }
  {
#line 1056
  qcd->compparms.stepsizes = (uint_fast16_t *)0;
#line 1057
  jpc_ms_destroy(enc->mrk);
#line 1058
  enc->mrk = (jpc_ms_t *)0;
#line 1060
  tccp = & cp->tccp;
#line 1061
  cmptno = (uint_fast16_t )1;
  }
  {
#line 1061
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1061
    if (! (cmptno < cp->numcmpts)) {
#line 1061
      goto while_break___3;
    }
    {
#line 1062
    enc->mrk = jpc_ms_create(65373);
    }
#line 1062
    if (! enc->mrk) {
#line 1063
      return (-1);
    }
#line 1065
    qcc = & (enc->mrk)->parms.qcc;
#line 1066
    qcc->compno = cmptno;
#line 1067
    if ((int )tccp->qmfbid == 0) {
#line 1067
      tmp___2 = 2;
    } else {
#line 1067
      tmp___2 = 0;
    }
    {
#line 1067
    qcc->compparms.qntsty = (uint_fast8_t )tmp___2;
#line 1069
    qcc->compparms.numstepsizes = (int )(cp->ccps + cmptno)->numstepsizes;
#line 1070
    qcc->compparms.numguard = cp->tccp.numgbits;
#line 1071
    qcc->compparms.stepsizes = (cp->ccps + cmptno)->stepsizes;
#line 1072
    __cil_tmp47 = jpc_putms(enc->out, enc->cstate, enc->mrk);
    }
#line 1072
    if (__cil_tmp47) {
#line 1073
      return (-1);
    }
    {
#line 1076
    qcc->compparms.stepsizes = (uint_fast16_t *)0;
#line 1077
    jpc_ms_destroy(enc->mrk);
#line 1078
    enc->mrk = (jpc_ms_t *)0;
#line 1061
    cmptno ++;
    }
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___3: 
#line 1082
  mainhdrlen = (enc->out)->rwcnt_ - startoff;
#line 1083
  enc->len += (unsigned long )mainhdrlen;
#line 1084
  if ((enc->cp)->totalsize != 0xffffffffffffffffUL) {
#line 1086
    overhead = (uint_fast32_t )(mainhdrlen + 2L);
#line 1087
    if ((enc->cp)->totalsize >= overhead) {
#line 1087
      tmp___3 = (enc->cp)->totalsize - overhead;
    } else {
#line 1087
      tmp___3 = 0UL;
    }
#line 1087
    enc->mainbodysize = tmp___3;
  } else {
#line 1090
    enc->mainbodysize = 0xffffffffffffffffUL;
  }
#line 1093
  return (0);
}
}
#line 1096 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static int jpc_enc_encodemainbody(jpc_enc_t *enc ) 
{ 
  int tileno ;
  int tilex ;
  int tiley ;
  int i ;
  jpc_sot_t *sot ;
  jpc_enc_tcmpt_t *comp ;
  jpc_enc_tcmpt_t *endcomps ;
  jpc_enc_band_t *band ;
  jpc_enc_band_t *endbands ;
  jpc_enc_rlvl_t *lvl ;
  int rlvlno ;
  jpc_qcc_t *qcc ;
  jpc_cod_t *cod ;
  int adjust ;
  int j ;
  int absbandno ;
  long numbytes ;
  long tilehdrlen ;
  long tilelen ;
  jpc_enc_tile_t *tile ;
  jpc_enc_cp_t *cp ;
  double rho ;
  int lyrno ;
  int cmptno ;
  int samestepsizes ;
  jpc_enc_ccp_t *ccps ;
  jpc_enc_tccp_t *tccp ;
  int bandno ;
  uint_fast32_t x ;
  uint_fast32_t y ;
  int mingbits ;
  int actualnumbps ;
  jpc_fix_t mxmag ;
  jpc_fix_t mag ;
  int numgbits ;
  int __cil_tmp38 ;
  int tmp___1 ;
  int __cil_tmp42 ;
  int __cil_tmp43 ;
  int __cil_tmp44 ;
  uint_fast32_t __cil_tmp45 ;
  int __cil_tmp49 ;
  int __cil_tmp51 ;
  int tmp___3 ;
  int __cil_tmp54 ;
  int __cil_tmp56 ;
  int __cil_tmp57 ;
  double tmp___4 ;
  int __cil_tmp59 ;
  int __cil_tmp60 ;
  long __cil_tmp62 ;
  long __cil_tmp63 ;
  int __cil_tmp64 ;

  {
#line 1134
  cp = enc->cp;
#line 1137
  numbytes = 0L;
#line 1139
  tileno = 0;
  {
#line 1139
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1139
    if (! (tileno < (int )cp->numtiles)) {
#line 1139
      goto while_break;
    }
    {
#line 1140
    tilex = (int )((unsigned long )tileno % cp->numhtiles);
#line 1141
    tiley = (int )((unsigned long )tileno / cp->numhtiles);
#line 1143
    enc->curtile = jpc_enc_tile_create(enc->cp, enc->image, tileno);
    }
#line 1143
    if (! enc->curtile) {
      {
#line 1144
      abort();
      }
    }
    {
#line 1147
    tile = enc->curtile;
#line 1149
    __cil_tmp38 = jas_getdbglevel();
    }
#line 1149
    if (__cil_tmp38 >= 10) {
      {
#line 1150
      jpc_enc_dump(enc);
      }
    }
#line 1153
    endcomps = tile->tcmpts + tile->numtcmpts;
#line 1154
    comp = tile->tcmpts;
#line 1154
    cmptno = 0;
    {
#line 1154
    while (1) {
      while_continue___8: /* CIL Label */ ;

#line 1154
      if (! (cmptno < tile->numtcmpts)) {
#line 1154
        goto while_break___0;
      }
#line 1155
      if (! (cp->ccps + cmptno)->sgnd) {
#line 1156
        adjust = 1 << ((int )(cp->ccps + cmptno)->prec - 1);
#line 1157
        i = 0;
        {
#line 1157
        while (1) {
          while_continue___9: /* CIL Label */ ;

#line 1157
          if (! ((long )i < (comp->data)->numrows_)) {
#line 1157
            goto while_break___1;
          }
#line 1158
          j = 0;
          {
#line 1158
          while (1) {
            while_continue___10: /* CIL Label */ ;

#line 1158
            if (! ((long )j < (comp->data)->numcols_)) {
#line 1158
              goto while_break___2;
            }
#line 1159
            *(*((comp->data)->rows_ + i) + j) -= (long )adjust;
#line 1158
            j ++;
          }
          while_break___19: /* CIL Label */ ;
          }
          while_break___2: 
#line 1157
          i ++;
        }
        while_break___18: /* CIL Label */ ;
        }
        while_break___1: ;
      }
#line 1154
      comp ++;
#line 1154
      cmptno ++;
    }
    while_break___17: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1165
    if (! tile->intmode) {
#line 1166
      endcomps = tile->tcmpts + tile->numtcmpts;
#line 1167
      comp = tile->tcmpts;
      {
#line 1167
      while (1) {
        while_continue___11: /* CIL Label */ ;

#line 1167
        if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 1167
          goto while_break___3;
        }
        {
#line 1168
        jas_matrix_asl(comp->data, 13);
#line 1167
        comp ++;
        }
      }
      while_break___20: /* CIL Label */ ;
      }
      while_break___3: ;
    }
#line 1183
    goto switch_default;
    {
#line 1175
    jpc_rct((tile->tcmpts + 0)->data, (tile->tcmpts + 1)->data, (tile->tcmpts + 2)->data);
    }
#line 1177
    goto switch_break;
    {
#line 1180
    jpc_ict((tile->tcmpts + 0)->data, (tile->tcmpts + 1)->data, (tile->tcmpts + 2)->data);
    }
#line 1182
    goto switch_break;
    switch_default: 
#line 1184
    goto switch_break;
    switch_break: 
#line 1187
    i = 0;
    {
#line 1187
    while (1) {
      while_continue___12: /* CIL Label */ ;

#line 1187
      if (! (i < (enc->image)->numcmpts_)) {
#line 1187
        goto while_break___4;
      }
      {
#line 1188
      comp = tile->tcmpts + i;
#line 1189
      jpc_tsfb_analyze(comp->tsfb, comp->data);
#line 1187
      i ++;
      }
    }
    while_break___21: /* CIL Label */ ;
    }
    while_break___4: 
#line 1194
    endcomps = tile->tcmpts + tile->numtcmpts;
#line 1195
    comp = tile->tcmpts;
#line 1195
    cmptno = 0;
    {
#line 1195
    while (1) {
      while_continue___13: /* CIL Label */ ;

#line 1195
      if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 1195
        goto while_break___5;
      }
      {
#line 1196
      mingbits = 0;
#line 1197
      absbandno = 0;
#line 1202
      memset((void *)(comp->stepsizes), 0, sizeof(comp->stepsizes));
#line 1203
      lvl = comp->rlvls;
#line 1203
      rlvlno = 0;
      }
      {
#line 1203
      while (1) {
        while_continue___14: /* CIL Label */ ;
        while_continue___6: ;
#line 1203
        if (! (rlvlno < comp->numrlvls)) {
#line 1203
          goto while_break___6;
        }
#line 1204
        if (! lvl->bands) {
#line 1205
          if (rlvlno) {
#line 1205
            tmp___1 = 3;
          } else {
#line 1205
            tmp___1 = 1;
          }
#line 1205
          absbandno += tmp___1;
#line 1206
          goto while_continue___6;
        }
#line 1208
        endbands = lvl->bands + lvl->numbands;
#line 1209
        band = lvl->bands;
        {
#line 1209
        while (1) {
          while_continue___15: /* CIL Label */ ;
          while_continue___7: ;
#line 1209
          if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 1209
            goto while_break___7;
          }
#line 1210
          if (! band->data) {
#line 1211
            absbandno ++;
#line 1212
            goto while_continue___7;
          }
#line 1214
          actualnumbps = 0;
#line 1215
          mxmag = (jpc_fix_t )0;
#line 1216
          y = (uint_fast32_t )0;
          {
#line 1216
          while (1) {
            while_continue___16: /* CIL Label */ ;

#line 1216
            if (! (y < (uint_fast32_t )(band->data)->numrows_)) {
#line 1216
              goto while_break___8;
            }
#line 1217
            x = (uint_fast32_t )0;
            {
#line 1217
            while (1) {
              while_continue___17: /* CIL Label */ ;

#line 1217
              if (! (x < (uint_fast32_t )(band->data)->numcols_)) {
#line 1217
                goto while_break___9;
              }
              {
#line 1218
              __cil_tmp42 = abs((int )*(*((band->data)->rows_ + y) + x));
#line 1218
              mag = (jpc_fix_t )__cil_tmp42;
              }
#line 1219
              if (mag > mxmag) {
#line 1220
                mxmag = mag;
              }
#line 1217
              x ++;
            }
            while_break___26: /* CIL Label */ ;
            }
            while_break___9: 
#line 1216
            y ++;
          }
          while_break___25: /* CIL Label */ ;
          }
          while_break___8: ;
#line 1224
          if (tile->intmode) {
            {
#line 1225
            __cil_tmp43 = jpc_firstone((int )mxmag);
#line 1225
            actualnumbps = __cil_tmp43 + 1;
            }
          } else {
            {
#line 1227
            __cil_tmp44 = jpc_firstone((int )mxmag);
#line 1227
            actualnumbps = (__cil_tmp44 + 1) - 13;
            }
          }
#line 1229
          numgbits = actualnumbps - (((int )(cp->ccps + cmptno)->prec - 1) + band->analgain);
#line 1234
          if (numgbits > mingbits) {
#line 1235
            mingbits = numgbits;
          }
#line 1237
          if (! tile->intmode) {
#line 1238
            band->absstepsize = ((jpc_fix_t )((1 << (band->analgain + 1)) << 13) << 13) / band->synweight;
          } else {
#line 1242
            band->absstepsize = (jpc_fix_t )(1 << 13);
          }
          {
#line 1244
          __cil_tmp45 = jpc_abstorelstepsize(band->absstepsize, (int )(cp->ccps + cmptno)->prec + band->analgain);
#line 1244
          band->stepsize = (int )__cil_tmp45;
#line 1247
          band->numbps = ((int )cp->tccp.numgbits + (band->stepsize >> 11)) - 1;
          }
#line 1250
          if (band->data) {
#line 1250
            if (! tile->intmode) {
              {
#line 1251
              jpc_quantize(band->data, band->absstepsize);
              }
            }
          }
#line 1254
          comp->stepsizes[absbandno] = (uint_fast16_t )band->stepsize;
#line 1255
          absbandno ++;
#line 1209
          band ++;
        }
        while_break___24: /* CIL Label */ ;
        }
        while_break___7: 
#line 1203
        lvl ++;
#line 1203
        rlvlno ++;
      }
      while_break___23: /* CIL Label */ ;
      }
      while_break___6: ;
#line 1260
      if (! tile->intmode) {
        {
#line 1261
        jas_matrix_divpow2(comp->data, 7);
        }
      } else {
        {
#line 1263
        jas_matrix_asl(comp->data, 6);
        }
      }
#line 1269
      if (mingbits > (int )cp->tccp.numgbits) {
        {
#line 1270
        jas_eprintf("error: too few guard bits (need at least %d)\n", mingbits);
        }
#line 1272
        return (-1);
      }
#line 1195
      comp ++;
#line 1195
      cmptno ++;
    }
    while_break___22: /* CIL Label */ ;
    }
    while_break___5: 
    {
#line 1276
    enc->tmpstream = jas_stream_memopen((char *)0, 0);
    }
#line 1276
    if (! enc->tmpstream) {
      {
#line 1277
      jas_eprintf("cannot open tmp file\n");
      }
#line 1278
      return (-1);
    }
    {
#line 1282
    enc->mrk = jpc_ms_create(65424);
    }
#line 1282
    if (! enc->mrk) {
#line 1283
      return (-1);
    }
    {
#line 1285
    sot = & (enc->mrk)->parms.sot;
#line 1286
    sot->len = (uint_fast32_t )0;
#line 1287
    sot->tileno = (uint_fast16_t )tileno;
#line 1288
    sot->partno = (uint_fast8_t )0;
#line 1289
    sot->numparts = (uint_fast8_t )1;
#line 1290
    __cil_tmp49 = jpc_putms(enc->tmpstream, enc->cstate, enc->mrk);
    }
#line 1290
    if (__cil_tmp49) {
      {
#line 1291
      jas_eprintf("cannot write SOT marker\n\220");
      }
#line 1292
      return (-1);
    }
    {
#line 1294
    jpc_ms_destroy(enc->mrk);
#line 1295
    enc->mrk = (jpc_ms_t *)0;
#line 1301
    tccp = & cp->tccp;
#line 1302
    cmptno = 0;
    }
    {
#line 1302
    while (1) {
      while_continue___18: /* CIL Label */ ;

#line 1302
      if (! (cmptno < (int )cp->numcmpts)) {
#line 1302
        goto while_break___10;
      }
#line 1303
      comp = tile->tcmpts + cmptno;
#line 1304
      if (comp->numrlvls != (int )tccp->maxrlvls) {
        {
#line 1305
        enc->mrk = jpc_ms_create(65362);
        }
#line 1305
        if (! enc->mrk) {
#line 1306
          return (-1);
        }
#line 1310
        comp = tile->tcmpts + 0;
#line 1311
        cod = & (enc->mrk)->parms.cod;
#line 1312
        cod->compparms.csty = (uint_fast8_t )0;
#line 1313
        cod->compparms.numdlvls = (uint_fast8_t )(comp->numrlvls - 1);
#line 1314
        cod->prg = tile->prg;
#line 1315
        cod->numlyrs = (uint_fast16_t )tile->numlyrs;
#line 1316
        cod->compparms.cblkwidthval = (uint_fast8_t )(comp->cblkwidthexpn - 2);
#line 1317
        cod->compparms.cblkheightval = (uint_fast8_t )(comp->cblkheightexpn - 2);
#line 1318
        cod->compparms.cblksty = (uint_fast8_t )comp->cblksty;
#line 1319
        cod->compparms.qmfbid = (uint_fast8_t )comp->qmfbid;
#line 1320
        cod->mctrans = (uint_fast8_t )((int )tile->mctid != 0);
#line 1321
        i = 0;
        {
#line 1321
        while (1) {
          while_continue___19: /* CIL Label */ ;

#line 1321
          if (! (i < comp->numrlvls)) {
#line 1321
            goto while_break___11;
          }
#line 1322
          cod->compparms.rlvls[i].parwidthval = (uint_fast8_t )(comp->rlvls + i)->prcwidthexpn;
#line 1323
          cod->compparms.rlvls[i].parheightval = (uint_fast8_t )(comp->rlvls + i)->prcheightexpn;
#line 1321
          i ++;
        }
        while_break___28: /* CIL Label */ ;
        }
        while_break___11: 
        {
#line 1325
        __cil_tmp51 = jpc_putms(enc->tmpstream, enc->cstate, enc->mrk);
        }
#line 1325
        if (__cil_tmp51) {
#line 1326
          return (-1);
        }
        {
#line 1328
        jpc_ms_destroy(enc->mrk);
#line 1329
        enc->mrk = (jpc_ms_t *)0;
        }
      }
#line 1302
      cmptno ++;
    }
    while_break___27: /* CIL Label */ ;
    }
    while_break___10: 
#line 1333
    comp = tile->tcmpts;
#line 1333
    cmptno = 0;
    {
#line 1333
    while (1) {
      while_continue___20: /* CIL Label */ ;

#line 1333
      if (! (cmptno < (int )cp->numcmpts)) {
#line 1333
        goto while_break___12;
      }
#line 1334
      ccps = cp->ccps + cmptno;
#line 1335
      if ((int )ccps->numstepsizes == comp->numstepsizes) {
#line 1336
        samestepsizes = 1;
#line 1337
        bandno = 0;
        {
#line 1337
        while (1) {
          while_continue___21: /* CIL Label */ ;

#line 1337
          if (! (bandno < (int )ccps->numstepsizes)) {
#line 1337
            goto while_break___13;
          }
#line 1338
          if (ccps->stepsizes[bandno] != comp->stepsizes[bandno]) {
#line 1339
            samestepsizes = 0;
#line 1340
            goto while_break___13;
          }
#line 1337
          bandno ++;
        }
        while_break___30: /* CIL Label */ ;
        }
        while_break___13: ;
      } else {
#line 1344
        samestepsizes = 0;
      }
#line 1346
      if (! samestepsizes) {
        {
#line 1347
        enc->mrk = jpc_ms_create(65373);
        }
#line 1347
        if (! enc->mrk) {
#line 1348
          return (-1);
        }
#line 1350
        qcc = & (enc->mrk)->parms.qcc;
#line 1351
        qcc->compno = (uint_fast16_t )cmptno;
#line 1352
        qcc->compparms.numguard = cp->tccp.numgbits;
#line 1353
        if (comp->qmfbid == 0) {
#line 1353
          tmp___3 = 2;
        } else {
#line 1353
          tmp___3 = 0;
        }
        {
#line 1353
        qcc->compparms.qntsty = (uint_fast8_t )tmp___3;
#line 1355
        qcc->compparms.numstepsizes = comp->numstepsizes;
#line 1356
        qcc->compparms.stepsizes = comp->stepsizes;
#line 1357
        __cil_tmp54 = jpc_putms(enc->tmpstream, enc->cstate, enc->mrk);
        }
#line 1357
        if (__cil_tmp54) {
#line 1358
          return (-1);
        }
        {
#line 1360
        qcc->compparms.stepsizes = (uint_fast16_t *)0;
#line 1361
        jpc_ms_destroy(enc->mrk);
#line 1362
        enc->mrk = (jpc_ms_t *)0;
        }
      }
#line 1333
      comp ++;
#line 1333
      cmptno ++;
    }
    while_break___29: /* CIL Label */ ;
    }
    while_break___12: 
    {
#line 1367
    enc->mrk = jpc_ms_create(65427);
    }
#line 1367
    if (! enc->mrk) {
#line 1368
      return (-1);
    }
    {
#line 1370
    __cil_tmp56 = jpc_putms(enc->tmpstream, enc->cstate, enc->mrk);
    }
#line 1370
    if (__cil_tmp56) {
      {
#line 1371
      jas_eprintf("cannot write SOD marker\n\220");
      }
#line 1372
      return (-1);
    }
    {
#line 1374
    jpc_ms_destroy(enc->mrk);
#line 1375
    enc->mrk = (jpc_ms_t *)0;
#line 1376
    tilehdrlen = (enc->tmpstream)->rwcnt_;
#line 1382
    __cil_tmp57 = jpc_enc_enccblks(enc);
    }
#line 1382
    if (__cil_tmp57) {
      {
#line 1383
      abort();
      }
#line 1384
      return (-1);
    }
#line 1387
    cp = enc->cp;
#line 1388
    rho = ((double )(tile->brx - tile->tlx) * (double )(tile->bry - tile->tly)) / (double )((cp->refgrdwidth - cp->imgareatlx) * (cp->refgrdheight - cp->imgareatly));
#line 1391
    tile->rawsize = (uint_fast32_t )((double )cp->rawsize * rho);
#line 1393
    lyrno = 0;
    {
#line 1393
    while (1) {
      while_continue___22: /* CIL Label */ ;

#line 1393
      if (! (lyrno < tile->numlyrs - 1)) {
#line 1393
        goto while_break___14;
      }
#line 1394
      *(tile->lyrsizes + lyrno) = (uint_fast32_t )((double )tile->rawsize * ((double )*(cp->tcp.ilyrrates + lyrno) / (double )(1L << 13)));
#line 1393
      lyrno ++;
    }
    while_break___31: /* CIL Label */ ;
    }
    while_break___14: ;
#line 1397
    if (cp->totalsize != 0xffffffffffffffffUL) {
#line 1397
      tmp___4 = rho * (double )enc->mainbodysize;
    } else {
#line 1397
      tmp___4 = (double )0xffffffffffffffffUL;
    }
#line 1397
    *(tile->lyrsizes + (tile->numlyrs - 1)) = (uint_fast32_t )tmp___4;
#line 1399
    lyrno = 0;
    {
#line 1399
    while (1) {
      while_continue___23: /* CIL Label */ ;

#line 1399
      if (! (lyrno < tile->numlyrs)) {
#line 1399
        goto while_break___15;
      }
#line 1400
      if (*(tile->lyrsizes + lyrno) != 0xffffffffffffffffUL) {
#line 1401
        if (tilehdrlen <= (long )*(tile->lyrsizes + lyrno)) {
#line 1402
          *(tile->lyrsizes + lyrno) -= (unsigned long )tilehdrlen;
        } else {
#line 1404
          *(tile->lyrsizes + lyrno) = (uint_fast32_t )0;
        }
      }
#line 1399
      lyrno ++;
    }
    while_break___32: /* CIL Label */ ;
    }
    while_break___15: 
    {
#line 1409
    __cil_tmp59 = rateallocate(enc, tile->numlyrs, tile->lyrsizes);
    }
#line 1409
    if (__cil_tmp59) {
#line 1410
      return (-1);
    }
    {
#line 1416
    __cil_tmp60 = jpc_enc_encodetiledata(enc);
    }
#line 1416
    if (__cil_tmp60) {
      {
#line 1417
      jas_eprintf("dotile failed\n");
      }
#line 1418
      return (-1);
    }
    {
#line 1429
    tilelen = jas_stream_tell(enc->tmpstream);
#line 1431
    __cil_tmp62 = jas_stream_seek(enc->tmpstream, 6L, 0);
    }
#line 1431
    if (__cil_tmp62 < 0L) {
#line 1432
      return (-1);
    }
    {
#line 1434
    jpc_putuint32(enc->tmpstream, (uint_fast32_t )tilelen);
#line 1436
    __cil_tmp63 = jas_stream_seek(enc->tmpstream, 0L, 0);
    }
#line 1436
    if (__cil_tmp63 < 0L) {
#line 1437
      return (-1);
    }
    {
#line 1439
    __cil_tmp64 = jpc_putdata(enc->out, enc->tmpstream, -1L);
    }
#line 1439
    if (__cil_tmp64) {
#line 1440
      return (-1);
    }
    {
#line 1442
    enc->len += (unsigned long )tilelen;
#line 1444
    jas_stream_close(enc->tmpstream);
#line 1445
    enc->tmpstream = (jas_stream_t *)0;
#line 1447
    jpc_enc_tile_destroy(enc->curtile);
#line 1448
    enc->curtile = (jpc_enc_tile_t *)0;
#line 1139
    tileno ++;
    }
  }
  while_break___16: /* CIL Label */ ;
  }
  while_break: ;
#line 1452
  return (0);
}
}
#line 1455 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
int jpc_enc_encodetiledata(jpc_enc_t *enc ) 
{ 
  int __cil_tmp3 ;

  {
  {
#line 1458
  __cil_tmp3 = jpc_enc_encpkts(enc, enc->tmpstream);
  }
#line 1458
  if (__cil_tmp3) {
#line 1459
    return (-1);
  }
#line 1461
  return (0);
}
}
#line 1464 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
int dump_passes(jpc_enc_pass_t *passes , int numpasses , jpc_enc_cblk_t *cblk ) 
{ 
  jpc_enc_pass_t *pass ;
  int i ;
  jas_stream_memobj_t *smo ;

  {
#line 1470
  smo = (jas_stream_memobj_t *)(cblk->stream)->obj_;
#line 1472
  pass = passes;
#line 1473
  i = 0;
  {
#line 1473
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1473
    if (! (i < numpasses)) {
#line 1473
      goto while_break;
    }
    {
#line 1474
    jas_eprintf("start=%d end=%d type=%d term=%d lyrno=%d firstchar=%02x size=%ld pos=%ld\n",
                pass->start, pass->end, pass->type, pass->term, pass->lyrno, (int )*(smo->buf_ + pass->start),
                smo->len_, smo->pos_);
#line 1480
    pass ++;
#line 1473
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1482
  return (0);
}
}
#line 1485 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
void jpc_quantize(jas_matrix_t *data , jpc_fix_t stepsize ) 
{ 
  int i ;
  int j ;
  jpc_fix_t t ;

  {
#line 1491
  if (stepsize == (jpc_fix_t )(1 << 13)) {
#line 1492
    return;
  }
#line 1495
  i = 0;
  {
#line 1495
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1495
    if (! ((long )i < data->numrows_)) {
#line 1495
      goto while_break;
    }
#line 1496
    j = 0;
    {
#line 1496
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1496
      if (! ((long )j < data->numcols_)) {
#line 1496
        goto while_break___0;
      }
#line 1497
      t = *(*(data->rows_ + i) + j);
#line 1500
      if (t < 0L) {
#line 1501
        t = - ((- t << 13) / stepsize);
      } else {
#line 1503
        t = (t << 13) / stepsize;
      }
#line 1507
      *(*(data->rows_ + i) + j) = t;
#line 1496
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 1495
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1499
  return;
}
}
#line 1512 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
void calcrdslopes(jpc_enc_cblk_t *cblk ) 
{ 
  jpc_enc_pass_t *endpasses ;
  jpc_enc_pass_t *pass0 ;
  jpc_enc_pass_t *pass1 ;
  jpc_enc_pass_t *pass2 ;
  jpc_flt_t slope0 ;
  jpc_flt_t slope ;
  jpc_flt_t dd ;
  long dr ;

  {
#line 1523
  endpasses = cblk->passes + cblk->numpasses;
#line 1524
  pass2 = cblk->passes;
#line 1525
  slope0 = (jpc_flt_t )0;
  {
#line 1526
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1526
    if (! ((unsigned long )pass2 != (unsigned long )endpasses)) {
#line 1526
      goto while_break;
    }
#line 1527
    pass0 = (jpc_enc_pass_t *)0;
#line 1528
    pass1 = cblk->passes;
    {
#line 1528
    while (1) {
      while_continue___1: /* CIL Label */ ;
      while_continue___0: ;
#line 1528
      if (! ((unsigned long )pass1 != (unsigned long )endpasses)) {
#line 1528
        goto while_break___0;
      }
#line 1529
      dd = pass1->cumwmsedec;
#line 1530
      dr = (long )pass1->end;
#line 1531
      if (pass0) {
#line 1532
        dd -= pass0->cumwmsedec;
#line 1533
        dr -= (long )pass0->end;
      }
#line 1535
      if (dd <= (double )0) {
#line 1536
        pass1->rdslope = (jpc_flt_t )-1;
#line 1537
        if ((unsigned long )pass1 >= (unsigned long )pass2) {
#line 1538
          pass2 = pass1 + 1;
        }
#line 1540
        goto while_continue___0;
      }
#line 1542
      if ((unsigned long )pass1 < (unsigned long )pass2) {
#line 1542
        if (pass1->rdslope <= (double )0) {
#line 1543
          goto while_continue___0;
        }
      }
#line 1545
      if (! dr) {
#line 1547
        pass0->rdslope = (jpc_flt_t )0;
#line 1548
        goto while_break___0;
      }
#line 1550
      slope = dd / (double )dr;
#line 1551
      if (pass0) {
#line 1551
        if (slope >= slope0) {
#line 1552
          pass0->rdslope = (jpc_flt_t )0;
#line 1553
          goto while_break___0;
        }
      }
#line 1555
      pass1->rdslope = slope;
#line 1556
      if ((unsigned long )pass1 >= (unsigned long )pass2) {
#line 1557
        pass2 = pass1 + 1;
      }
#line 1559
      pass0 = pass1;
#line 1560
      slope0 = slope;
#line 1528
      pass1 ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1535
  return;
}
}
#line 1574 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
void dump_layeringinfo(jpc_enc_t *enc ) 
{ 
  jpc_enc_tcmpt_t *tcmpt ;
  int tcmptno ;
  jpc_enc_rlvl_t *rlvl ;
  int rlvlno ;
  jpc_enc_band_t *band ;
  int bandno ;
  jpc_enc_prc_t *prc ;
  int prcno ;
  jpc_enc_cblk_t *cblk ;
  int cblkno ;
  jpc_enc_pass_t *pass ;
  int passno ;
  int lyrno ;
  jpc_enc_tile_t *tile ;

  {
#line 1592
  tile = enc->curtile;
#line 1594
  lyrno = 0;
  {
#line 1594
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1594
    if (! (lyrno < tile->numlyrs)) {
#line 1594
      goto while_break;
    }
    {
#line 1595
    jas_eprintf("lyrno = %02d\nV", lyrno);
#line 1596
    tcmpt = tile->tcmpts;
#line 1596
    tcmptno = 0;
    }
    {
#line 1596
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 1596
      if (! (tcmptno < tile->numtcmpts)) {
#line 1596
        goto while_break___0;
      }
#line 1598
      rlvl = tcmpt->rlvls;
#line 1598
      rlvlno = 0;
      {
#line 1598
      while (1) {
        while_continue___5: /* CIL Label */ ;
        while_continue___1: ;
#line 1598
        if (! (rlvlno < tcmpt->numrlvls)) {
#line 1598
          goto while_break___1;
        }
#line 1600
        if (! rlvl->bands) {
#line 1601
          goto while_continue___1;
        }
#line 1603
        band = rlvl->bands;
#line 1603
        bandno = 0;
        {
#line 1603
        while (1) {
          while_continue___6: /* CIL Label */ ;
          while_continue___2: ;
#line 1603
          if (! (bandno < rlvl->numbands)) {
#line 1603
            goto while_break___2;
          }
#line 1605
          if (! band->data) {
#line 1606
            goto while_continue___2;
          }
#line 1608
          prc = band->prcs;
#line 1608
          prcno = 0;
          {
#line 1608
          while (1) {
            while_continue___7: /* CIL Label */ ;
            while_continue___3: ;
#line 1608
            if (! (prcno < rlvl->numprcs)) {
#line 1608
              goto while_break___3;
            }
#line 1610
            if (! prc->cblks) {
#line 1611
              goto while_continue___3;
            }
#line 1613
            cblk = prc->cblks;
#line 1613
            cblkno = 0;
            {
#line 1613
            while (1) {
              while_continue___8: /* CIL Label */ ;

#line 1613
              if (! (cblkno < prc->numcblks)) {
#line 1613
                goto while_break___4;
              }
#line 1615
              pass = cblk->passes;
#line 1615
              passno = 0;
              {
#line 1615
              while (1) {
                while_continue___9: /* CIL Label */ ;

#line 1615
                if (passno < cblk->numpasses) {
#line 1615
                  if (! (pass->lyrno == lyrno)) {
#line 1615
                    goto while_break___5;
                  }
                } else {
#line 1615
                  goto while_break___5;
                }
                {
#line 1618
                jas_eprintf("lyrno=%02d cmptno=%02d rlvlno=%02d bandno=%02d prcno=%02d cblkno=%03d passno=%03d\n\334\371PV",
                            lyrno, tcmptno, rlvlno, bandno, prcno, cblkno, passno);
#line 1617
                pass ++;
#line 1617
                passno ++;
                }
              }
              while_break___12: /* CIL Label */ ;
              }
              while_break___5: 
#line 1614
              cblk ++;
#line 1614
              cblkno ++;
            }
            while_break___11: /* CIL Label */ ;
            }
            while_break___4: 
#line 1609
            prc ++;
#line 1609
            prcno ++;
          }
          while_break___10: /* CIL Label */ ;
          }
          while_break___3: 
#line 1604
          band ++;
#line 1604
          bandno ++;
        }
        while_break___9: /* CIL Label */ ;
        }
        while_break___2: 
#line 1599
        rlvl ++;
#line 1599
        rlvlno ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___1: 
#line 1597
      tcmpt ++;
#line 1597
      tcmptno ++;
    }
    while_break___7: /* CIL Label */ ;
    }
    while_break___0: 
#line 1594
    lyrno ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break: ;
#line 1598
  return;
}
}
#line 1628 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
int rateallocate(jpc_enc_t *enc , int numlyrs , uint_fast32_t *cumlens ) 
{ 
  jpc_flt_t lo ;
  jpc_flt_t hi ;
  jas_stream_t *out ;
  long cumlen ;
  int lyrno ;
  jpc_flt_t thresh ;
  jpc_flt_t goodthresh ;
  int success ;
  long pos ;
  long oldpos ;
  int numiters ;
  jpc_enc_tcmpt_t *comp ;
  jpc_enc_tcmpt_t *endcomps ;
  jpc_enc_rlvl_t *lvl ;
  jpc_enc_rlvl_t *endlvls ;
  jpc_enc_band_t *band ;
  jpc_enc_band_t *endbands ;
  jpc_enc_cblk_t *cblk ;
  jpc_enc_cblk_t *endcblks ;
  jpc_enc_pass_t *pass ;
  jpc_enc_pass_t *endpasses ;
  jpc_enc_pass_t *pass1 ;
  jpc_flt_t mxrdslope ;
  jpc_flt_t mnrdslope ;
  jpc_enc_tile_t *tile ;
  jpc_enc_prc_t *prc ;
  int prcno ;
  int __cil_tmp32 ;
  int __cil_tmp36 ;
  long __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  int __cil_tmp42 ;
  int __cil_tmp43 ;

  {
#line 1659
  tile = enc->curtile;
#line 1661
  lyrno = 1;
  {
#line 1661
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1661
    if (! (lyrno < numlyrs - 1)) {
#line 1661
      goto while_break;
    }
#line 1662
    if (*(cumlens + (lyrno - 1)) > *(cumlens + lyrno)) {
      {
#line 1663
      abort();
      }
    }
#line 1661
    lyrno ++;
  }
  while_break___30: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1667
  out = jas_stream_memopen((char *)0, 0);
  }
#line 1667
  if (! out) {
#line 1668
    return (-1);
  }
#line 1673
  mnrdslope = (double )1.79769313487e+308L;
#line 1674
  mxrdslope = (jpc_flt_t )0;
#line 1675
  endcomps = tile->tcmpts + tile->numtcmpts;
#line 1676
  comp = tile->tcmpts;
  {
#line 1676
  while (1) {
    while_continue___29: /* CIL Label */ ;

#line 1676
    if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 1676
      goto while_break___0;
    }
#line 1677
    endlvls = comp->rlvls + comp->numrlvls;
#line 1678
    lvl = comp->rlvls;
    {
#line 1678
    while (1) {
      while_continue___30: /* CIL Label */ ;
      while_continue___1: ;
#line 1678
      if (! ((unsigned long )lvl != (unsigned long )endlvls)) {
#line 1678
        goto while_break___1;
      }
#line 1679
      if (! lvl->bands) {
#line 1680
        goto while_continue___1;
      }
#line 1682
      endbands = lvl->bands + lvl->numbands;
#line 1683
      band = lvl->bands;
      {
#line 1683
      while (1) {
        while_continue___31: /* CIL Label */ ;
        while_continue___2: ;
#line 1683
        if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 1683
          goto while_break___2;
        }
#line 1684
        if (! band->data) {
#line 1685
          goto while_continue___2;
        }
#line 1687
        prc = band->prcs;
#line 1687
        prcno = 0;
        {
#line 1687
        while (1) {
          while_continue___32: /* CIL Label */ ;
          while_continue___3: ;
#line 1687
          if (! (prcno < lvl->numprcs)) {
#line 1687
            goto while_break___3;
          }
#line 1688
          if (! prc->cblks) {
#line 1689
            goto while_continue___3;
          }
#line 1691
          endcblks = prc->cblks + prc->numcblks;
#line 1692
          cblk = prc->cblks;
          {
#line 1692
          while (1) {
            while_continue___33: /* CIL Label */ ;

#line 1692
            if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 1692
              goto while_break___4;
            }
            {
#line 1693
            calcrdslopes(cblk);
#line 1694
            endpasses = cblk->passes + cblk->numpasses;
#line 1695
            pass = cblk->passes;
            }
            {
#line 1695
            while (1) {
              while_continue___34: /* CIL Label */ ;

#line 1695
              if (! ((unsigned long )pass != (unsigned long )endpasses)) {
#line 1695
                goto while_break___5;
              }
#line 1696
              if (pass->rdslope > (double )0) {
#line 1697
                if (pass->rdslope < mnrdslope) {
#line 1698
                  mnrdslope = pass->rdslope;
                }
#line 1700
                if (pass->rdslope > mxrdslope) {
#line 1701
                  mxrdslope = pass->rdslope;
                }
              }
#line 1695
              pass ++;
            }
            while_break___36: /* CIL Label */ ;
            }
            while_break___5: 
#line 1692
            cblk ++;
          }
          while_break___35: /* CIL Label */ ;
          }
          while_break___4: 
#line 1687
          prc ++;
#line 1687
          prcno ++;
        }
        while_break___34: /* CIL Label */ ;
        }
        while_break___3: 
#line 1683
        band ++;
      }
      while_break___33: /* CIL Label */ ;
      }
      while_break___2: 
#line 1678
      lvl ++;
    }
    while_break___32: /* CIL Label */ ;
    }
    while_break___1: 
#line 1676
    comp ++;
  }
  while_break___31: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 1710
  __cil_tmp32 = jas_getdbglevel();
  }
#line 1710
  if (__cil_tmp32) {
    {
#line 1711
    jas_eprintf("min rdslope = %f max rdslope = %f\n", mnrdslope, mxrdslope);
    }
  }
  {
#line 1714
  jpc_init_t2state(enc, 1);
#line 1716
  lyrno = 0;
  }
  {
#line 1716
  while (1) {
    while_continue___35: /* CIL Label */ ;

#line 1716
    if (! (lyrno < numlyrs)) {
#line 1716
      goto while_break___6;
    }
#line 1718
    lo = mnrdslope;
#line 1719
    hi = mxrdslope;
#line 1721
    success = 0;
#line 1722
    goodthresh = (jpc_flt_t )0;
#line 1723
    numiters = 0;
    {
#line 1725
    while (1) {
      while_continue___36: /* CIL Label */ ;
#line 1727
      cumlen = (long )*(cumlens + lyrno);
#line 1728
      if ((unsigned long )cumlen == 0xffffffffffffffffUL) {
#line 1732
        goodthresh = (jpc_flt_t )-1;
#line 1733
        success = 1;
#line 1734
        goto while_break___7;
      }
      {
#line 1737
      thresh = (lo + hi) / (double )2;
#line 1740
      jpc_save_t2state(enc);
#line 1741
      oldpos = jas_stream_tell(out);
#line 1746
      endcomps = tile->tcmpts + tile->numtcmpts;
#line 1747
      comp = tile->tcmpts;
      }
      {
#line 1747
      while (1) {
        while_continue___37: /* CIL Label */ ;

#line 1747
        if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 1747
          goto while_break___8;
        }
#line 1748
        endlvls = comp->rlvls + comp->numrlvls;
#line 1749
        lvl = comp->rlvls;
        {
#line 1749
        while (1) {
          while_continue___38: /* CIL Label */ ;
          while_continue___9: ;
#line 1749
          if (! ((unsigned long )lvl != (unsigned long )endlvls)) {
#line 1749
            goto while_break___9;
          }
#line 1750
          if (! lvl->bands) {
#line 1751
            goto while_continue___9;
          }
#line 1753
          endbands = lvl->bands + lvl->numbands;
#line 1754
          band = lvl->bands;
          {
#line 1754
          while (1) {
            while_continue___39: /* CIL Label */ ;
            while_continue___10: ;
#line 1754
            if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 1754
              goto while_break___10;
            }
#line 1755
            if (! band->data) {
#line 1756
              goto while_continue___10;
            }
#line 1758
            prc = band->prcs;
#line 1758
            prcno = 0;
            {
#line 1758
            while (1) {
              while_continue___40: /* CIL Label */ ;
              while_continue___11: ;
#line 1758
              if (! (prcno < lvl->numprcs)) {
#line 1758
                goto while_break___11;
              }
#line 1759
              if (! prc->cblks) {
#line 1760
                goto while_continue___11;
              }
#line 1762
              endcblks = prc->cblks + prc->numcblks;
#line 1763
              cblk = prc->cblks;
              {
#line 1763
              while (1) {
                while_continue___41: /* CIL Label */ ;

#line 1763
                if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 1763
                  goto while_break___12;
                }
#line 1764
                if (cblk->curpass) {
#line 1765
                  endpasses = cblk->passes + cblk->numpasses;
#line 1766
                  pass1 = cblk->curpass;
#line 1767
                  pass = cblk->curpass;
                  {
#line 1767
                  while (1) {
                    while_continue___42: /* CIL Label */ ;

#line 1767
                    if (! ((unsigned long )pass != (unsigned long )endpasses)) {
#line 1767
                      goto while_break___13;
                    }
#line 1768
                    if (pass->rdslope >= thresh) {
#line 1769
                      pass1 = pass + 1;
                    }
#line 1767
                    pass ++;
                  }
                  while_break___44: /* CIL Label */ ;
                  }
                  while_break___13: 
#line 1772
                  pass = cblk->curpass;
                  {
#line 1772
                  while (1) {
                    while_continue___43: /* CIL Label */ ;

#line 1772
                    if (! ((unsigned long )pass != (unsigned long )pass1)) {
#line 1772
                      goto while_break___14;
                    }
#line 1773
                    pass->lyrno = lyrno;
#line 1772
                    pass ++;
                  }
                  while_break___45: /* CIL Label */ ;
                  }
                  while_break___14: ;
                  {
#line 1775
                  while (1) {
                    while_continue___44: /* CIL Label */ ;

#line 1775
                    if (! ((unsigned long )pass != (unsigned long )endpasses)) {
#line 1775
                      goto while_break___15;
                    }
#line 1776
                    pass->lyrno = -1;
#line 1775
                    pass ++;
                  }
                  while_break___46: /* CIL Label */ ;
                  }
                  while_break___15: ;
                }
#line 1763
                cblk ++;
              }
              while_break___43: /* CIL Label */ ;
              }
              while_break___12: 
#line 1758
              prc ++;
#line 1758
              prcno ++;
            }
            while_break___42: /* CIL Label */ ;
            }
            while_break___11: 
#line 1754
            band ++;
          }
          while_break___41: /* CIL Label */ ;
          }
          while_break___10: 
#line 1749
          lvl ++;
        }
        while_break___40: /* CIL Label */ ;
        }
        while_break___9: 
#line 1747
        comp ++;
      }
      while_break___39: /* CIL Label */ ;
      }
      while_break___8: 
#line 1786
      endcomps = tile->tcmpts + tile->numtcmpts;
#line 1787
      comp = tile->tcmpts;
      {
#line 1787
      while (1) {
        while_continue___45: /* CIL Label */ ;

#line 1787
        if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 1787
          goto while_break___16;
        }
#line 1788
        endlvls = comp->rlvls + comp->numrlvls;
#line 1789
        lvl = comp->rlvls;
        {
#line 1789
        while (1) {
          while_continue___46: /* CIL Label */ ;
          while_continue___17: ;
#line 1789
          if (! ((unsigned long )lvl != (unsigned long )endlvls)) {
#line 1789
            goto while_break___17;
          }
#line 1790
          if (! lvl->bands) {
#line 1791
            goto while_continue___17;
          }
#line 1793
          prcno = 0;
          {
#line 1793
          while (1) {
            while_continue___47: /* CIL Label */ ;

#line 1793
            if (! (prcno < lvl->numprcs)) {
#line 1793
              goto while_break___18;
            }
            {
#line 1794
            __cil_tmp36 = jpc_enc_encpkt(enc, out, (int )(comp - tile->tcmpts), (int )(lvl - comp->rlvls),
                                         prcno, lyrno);
            }
#line 1794
            if (__cil_tmp36) {
#line 1795
              return (-1);
            }
#line 1793
            prcno ++;
          }
          while_break___49: /* CIL Label */ ;
          }
          while_break___18: 
#line 1789
          lvl ++;
        }
        while_break___48: /* CIL Label */ ;
        }
        while_break___17: 
#line 1787
        comp ++;
      }
      while_break___47: /* CIL Label */ ;
      }
      while_break___16: 
      {
#line 1801
      pos = jas_stream_tell(out);
      }
#line 1805
      if (pos > cumlen) {
#line 1807
        lo = thresh;
      } else
#line 1808
      if (pos <= cumlen) {
#line 1810
        hi = thresh;
#line 1811
        if (! success) {
#line 1812
          goodthresh = thresh;
#line 1813
          success = 1;
        } else
#line 1811
        if (thresh < goodthresh) {
#line 1812
          goodthresh = thresh;
#line 1813
          success = 1;
        }
      }
      {
#line 1818
      jpc_restore_t2state(enc);
#line 1819
      __cil_tmp39 = jas_stream_seek(out, oldpos, 0);
      }
#line 1819
      if (__cil_tmp39 < 0L) {
        {
#line 1820
        abort();
        }
      }
      {
#line 1823
      __cil_tmp40 = jas_getdbglevel();
      }
#line 1823
      if (__cil_tmp40) {
        {
#line 1824
        jas_eprintf("maxlen=%08ld actuallen=%08ld thresh=%f\n", cumlen, pos, thresh);
        }
      }
#line 1827
      numiters ++;
#line 1725
      if (lo < hi - 0.00100000000001) {
#line 1725
        if (! (numiters < 32)) {
#line 1725
          goto while_break___7;
        }
      } else {
#line 1725
        goto while_break___7;
      }
    }
    while_break___38: /* CIL Label */ ;
    }
    while_break___7: ;
#line 1830
    if (! success) {
      {
#line 1831
      jas_eprintf("warning: empty layer generated\n");
      }
    }
    {
#line 1834
    __cil_tmp41 = jas_getdbglevel();
    }
#line 1834
    if (__cil_tmp41) {
      {
#line 1835
      jas_eprintf("success %d goodthresh %f\n}\315\372PV", success, goodthresh);
      }
    }
#line 1840
    endcomps = tile->tcmpts + tile->numtcmpts;
#line 1841
    comp = tile->tcmpts;
    {
#line 1841
    while (1) {
      while_continue___48: /* CIL Label */ ;

#line 1841
      if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 1841
        goto while_break___19;
      }
#line 1842
      endlvls = comp->rlvls + comp->numrlvls;
#line 1843
      lvl = comp->rlvls;
      {
#line 1843
      while (1) {
        while_continue___49: /* CIL Label */ ;
        while_continue___20: ;
#line 1843
        if (! ((unsigned long )lvl != (unsigned long )endlvls)) {
#line 1843
          goto while_break___20;
        }
#line 1844
        if (! lvl->bands) {
#line 1845
          goto while_continue___20;
        }
#line 1847
        endbands = lvl->bands + lvl->numbands;
#line 1848
        band = lvl->bands;
        {
#line 1848
        while (1) {
          while_continue___50: /* CIL Label */ ;
          while_continue___21: ;
#line 1848
          if (! ((unsigned long )band != (unsigned long )endbands)) {
#line 1848
            goto while_break___21;
          }
#line 1849
          if (! band->data) {
#line 1850
            goto while_continue___21;
          }
#line 1852
          prc = band->prcs;
#line 1852
          prcno = 0;
          {
#line 1852
          while (1) {
            while_continue___51: /* CIL Label */ ;
            while_continue___22: ;
#line 1852
            if (! (prcno < lvl->numprcs)) {
#line 1852
              goto while_break___22;
            }
#line 1853
            if (! prc->cblks) {
#line 1854
              goto while_continue___22;
            }
#line 1856
            endcblks = prc->cblks + prc->numcblks;
#line 1857
            cblk = prc->cblks;
            {
#line 1857
            while (1) {
              while_continue___52: /* CIL Label */ ;

#line 1857
              if (! ((unsigned long )cblk != (unsigned long )endcblks)) {
#line 1857
                goto while_break___23;
              }
#line 1858
              if (cblk->curpass) {
#line 1859
                endpasses = cblk->passes + cblk->numpasses;
#line 1860
                pass1 = cblk->curpass;
#line 1861
                if (success) {
#line 1862
                  pass = cblk->curpass;
                  {
#line 1862
                  while (1) {
                    while_continue___53: /* CIL Label */ ;

#line 1862
                    if (! ((unsigned long )pass != (unsigned long )endpasses)) {
#line 1862
                      goto while_break___24;
                    }
#line 1863
                    if (pass->rdslope >= goodthresh) {
#line 1864
                      pass1 = pass + 1;
                    }
#line 1862
                    pass ++;
                  }
                  while_break___55: /* CIL Label */ ;
                  }
                  while_break___24: ;
                }
#line 1868
                pass = cblk->curpass;
                {
#line 1868
                while (1) {
                  while_continue___54: /* CIL Label */ ;

#line 1868
                  if (! ((unsigned long )pass != (unsigned long )pass1)) {
#line 1868
                    goto while_break___25;
                  }
#line 1869
                  pass->lyrno = lyrno;
#line 1868
                  pass ++;
                }
                while_break___56: /* CIL Label */ ;
                }
                while_break___25: ;
                {
#line 1871
                while (1) {
                  while_continue___55: /* CIL Label */ ;

#line 1871
                  if (! ((unsigned long )pass != (unsigned long )endpasses)) {
#line 1871
                    goto while_break___26;
                  }
#line 1872
                  pass->lyrno = -1;
#line 1871
                  pass ++;
                }
                while_break___57: /* CIL Label */ ;
                }
                while_break___26: ;
              }
#line 1857
              cblk ++;
            }
            while_break___54: /* CIL Label */ ;
            }
            while_break___23: 
#line 1852
            prc ++;
#line 1852
            prcno ++;
          }
          while_break___53: /* CIL Label */ ;
          }
          while_break___22: 
#line 1848
          band ++;
        }
        while_break___52: /* CIL Label */ ;
        }
        while_break___21: 
#line 1843
        lvl ++;
      }
      while_break___51: /* CIL Label */ ;
      }
      while_break___20: 
#line 1841
      comp ++;
    }
    while_break___50: /* CIL Label */ ;
    }
    while_break___19: 
#line 1882
    endcomps = tile->tcmpts + tile->numtcmpts;
#line 1883
    comp = tile->tcmpts;
    {
#line 1883
    while (1) {
      while_continue___56: /* CIL Label */ ;

#line 1883
      if (! ((unsigned long )comp != (unsigned long )endcomps)) {
#line 1883
        goto while_break___27;
      }
#line 1884
      endlvls = comp->rlvls + comp->numrlvls;
#line 1885
      lvl = comp->rlvls;
      {
#line 1885
      while (1) {
        while_continue___57: /* CIL Label */ ;
        while_continue___28: ;
#line 1885
        if (! ((unsigned long )lvl != (unsigned long )endlvls)) {
#line 1885
          goto while_break___28;
        }
#line 1886
        if (! lvl->bands) {
#line 1887
          goto while_continue___28;
        }
#line 1889
        prcno = 0;
        {
#line 1889
        while (1) {
          while_continue___58: /* CIL Label */ ;

#line 1889
          if (! (prcno < lvl->numprcs)) {
#line 1889
            goto while_break___29;
          }
          {
#line 1890
          __cil_tmp42 = jpc_enc_encpkt(enc, out, (int )(comp - tile->tcmpts), (int )(lvl - comp->rlvls),
                                       prcno, lyrno);
          }
#line 1890
          if (__cil_tmp42) {
#line 1891
            return (-1);
          }
#line 1889
          prcno ++;
        }
        while_break___60: /* CIL Label */ ;
        }
        while_break___29: 
#line 1885
        lvl ++;
      }
      while_break___59: /* CIL Label */ ;
      }
      while_break___28: 
#line 1883
      comp ++;
    }
    while_break___58: /* CIL Label */ ;
    }
    while_break___27: 
#line 1716
    lyrno ++;
  }
  while_break___37: /* CIL Label */ ;
  }
  while_break___6: 
  {
#line 1898
  __cil_tmp43 = jas_getdbglevel();
  }
#line 1898
  if (__cil_tmp43 >= 5) {
    {
#line 1899
    dump_layeringinfo(enc);
    }
  }
  {
#line 1902
  jas_stream_close(out);
  }
#line 1909
  return (0);
}
}
#line 1916 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
jpc_enc_tile_t *jpc_enc_tile_create(jpc_enc_cp_t *cp , jas_image_t *image , int tileno ) 
{ 
  jpc_enc_tile_t *tile ;
  uint_fast32_t htileno ;
  uint_fast32_t vtileno ;
  uint_fast16_t lyrno ;
  uint_fast16_t cmptno ;
  jpc_enc_tcmpt_t *tcmpt ;
  uint_fast32_t tmp ;
  uint_fast32_t tmp___0 ;
  uint_fast32_t tmp___1 ;
  uint_fast32_t tmp___2 ;
  jpc_enc_tcmpt_t *__cil_tmp17 ;
  double __cil_tmp18 ;
  double __cil_tmp19 ;
  double __cil_tmp20 ;
  double __cil_tmp21 ;
  double __cil_tmp22 ;
  double __cil_tmp23 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;

  {
  {
#line 1925
  tmp___3 = jas_malloc(sizeof(jpc_enc_tile_t ));
#line 1925
  tile = (jpc_enc_tile_t *)tmp___3;
  }
#line 1925
  if (! tile) {
#line 1926
    goto error;
  }
#line 1930
  tile->tcmpts = (jpc_enc_tcmpt_t *)0;
#line 1931
  tile->lyrsizes = (uint_fast32_t *)0;
#line 1932
  tile->numtcmpts = (int )cp->numcmpts;
#line 1933
  tile->pi = (jpc_pi_t *)0;
#line 1935
  tile->tileno = (uint_fast32_t )tileno;
#line 1936
  htileno = (unsigned long )tileno % cp->numhtiles;
#line 1937
  vtileno = (unsigned long )tileno / cp->numhtiles;
#line 1941
  if (cp->tilegrdoffx + htileno * cp->tilewidth > cp->imgareatlx) {
#line 1941
    tmp = cp->tilegrdoffx + htileno * cp->tilewidth;
  } else {
#line 1941
    tmp = cp->imgareatlx;
  }
#line 1941
  tile->tlx = tmp;
#line 1943
  if (cp->tilegrdoffy + vtileno * cp->tileheight > cp->imgareatly) {
#line 1943
    tmp___0 = cp->tilegrdoffy + vtileno * cp->tileheight;
  } else {
#line 1943
    tmp___0 = cp->imgareatly;
  }
#line 1943
  tile->tly = tmp___0;
#line 1945
  if (cp->tilegrdoffx + (htileno + 1UL) * cp->tilewidth < cp->refgrdwidth) {
#line 1945
    tmp___1 = cp->tilegrdoffx + (htileno + 1UL) * cp->tilewidth;
  } else {
#line 1945
    tmp___1 = cp->refgrdwidth;
  }
#line 1945
  tile->brx = tmp___1;
#line 1947
  if (cp->tilegrdoffy + (vtileno + 1UL) * cp->tileheight < cp->refgrdheight) {
#line 1947
    tmp___2 = cp->tilegrdoffy + (vtileno + 1UL) * cp->tileheight;
  } else {
#line 1947
    tmp___2 = cp->refgrdheight;
  }
  {
#line 1947
  tile->bry = tmp___2;
#line 1951
  tile->intmode = cp->tcp.intmode;
#line 1952
  tile->csty = cp->tcp.csty;
#line 1953
  tile->prg = cp->tcp.prg;
#line 1954
  tile->mctid = cp->tcp.mctid;
#line 1956
  tile->numlyrs = (int )cp->tcp.numlyrs;
#line 1957
  tmp___4 = jas_alloc2((size_t )tile->numlyrs, sizeof(uint_fast32_t ));
#line 1957
  tile->lyrsizes = (uint_fast32_t *)tmp___4;
  }
#line 1957
  if (! tile->lyrsizes) {
#line 1959
    goto error;
  }
#line 1961
  lyrno = (uint_fast16_t )0;
  {
#line 1961
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1961
    if (! (lyrno < (unsigned long )tile->numlyrs)) {
#line 1961
      goto while_break;
    }
#line 1962
    *(tile->lyrsizes + lyrno) = (uint_fast32_t )0;
#line 1961
    lyrno ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1966
  tmp___5 = jas_alloc2(cp->numcmpts, sizeof(jpc_enc_tcmpt_t ));
#line 1966
  tile->tcmpts = (jpc_enc_tcmpt_t *)tmp___5;
  }
#line 1966
  if (! tile->tcmpts) {
#line 1967
    goto error;
  }
#line 1970
  tcmpt = tile->tcmpts;
#line 1970
  cmptno = (uint_fast16_t )0;
  {
#line 1970
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 1970
    if (! (cmptno < cp->numcmpts)) {
#line 1970
      goto while_break___0;
    }
#line 1972
    tcmpt->rlvls = (jpc_enc_rlvl_t *)0;
#line 1973
    tcmpt->tsfb = (jpc_tsfb_t *)0;
#line 1974
    tcmpt->data = (jas_matrix_t *)0;
#line 1971
    tcmpt ++;
#line 1971
    cmptno ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___0: 
#line 1977
  tcmpt = tile->tcmpts;
#line 1977
  cmptno = (uint_fast16_t )0;
  {
#line 1977
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1977
    if (! (cmptno < cp->numcmpts)) {
#line 1977
      goto while_break___1;
    }
    {
#line 1979
    __cil_tmp17 = tcmpt_create(tcmpt, cp, image, tile);
    }
#line 1979
    if (! __cil_tmp17) {
#line 1980
      goto error;
    }
#line 1978
    tcmpt ++;
#line 1978
    cmptno ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break___1: ;
#line 1986
  if ((int )tile->mctid == 2) {
#line 1986
    goto case_2;
  }
#line 1991
  if ((int )tile->mctid == 1) {
#line 1991
    goto case_1;
  }
#line 1996
  goto switch_default;
  case_2: 
  {
#line 1987
  __cil_tmp18 = sqrt(3.);
#line 1987
  (tile->tcmpts + 0)->synweight = (jpc_fix_t )(__cil_tmp18 * (double )(1L << 13));
#line 1988
  __cil_tmp19 = sqrt(0.6875);
#line 1988
  (tile->tcmpts + 1)->synweight = (jpc_fix_t )(__cil_tmp19 * (double )(1L << 13));
#line 1989
  __cil_tmp20 = sqrt(0.6875);
#line 1989
  (tile->tcmpts + 2)->synweight = (jpc_fix_t )(__cil_tmp20 * (double )(1L << 13));
  }
#line 1990
  goto switch_break;
  case_1: 
  {
#line 1992
  __cil_tmp21 = sqrt(3.);
#line 1992
  (tile->tcmpts + 0)->synweight = (jpc_fix_t )(__cil_tmp21 * (double )(1L << 13));
#line 1993
  __cil_tmp22 = sqrt(3.2584);
#line 1993
  (tile->tcmpts + 1)->synweight = (jpc_fix_t )(__cil_tmp22 * (double )(1L << 13));
#line 1994
  __cil_tmp23 = sqrt(2.4755);
#line 1994
  (tile->tcmpts + 2)->synweight = (jpc_fix_t )(__cil_tmp23 * (double )(1L << 13));
  }
#line 1995
  goto switch_break;
  switch_default: 
#line 1998
  tcmpt = tile->tcmpts;
#line 1998
  cmptno = (uint_fast16_t )0;
  {
#line 1998
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1998
    if (! (cmptno < cp->numcmpts)) {
#line 1998
      goto while_break___2;
    }
#line 2000
    tcmpt->synweight = 1L << 13;
#line 1999
    tcmpt ++;
#line 1999
    cmptno ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___2: ;
#line 2002
  goto switch_break;
  switch_break: 
  {
#line 2005
  tile->pi = jpc_enc_pi_create(cp, tile);
  }
#line 2005
  if (! tile->pi) {
#line 2006
    goto error;
  }
#line 2009
  return (tile);
  error: 
#line 2013
  if (tile) {
    {
#line 2014
    jpc_enc_tile_destroy(tile);
    }
  }
#line 2016
  return ((jpc_enc_tile_t *)0);
}
}
#line 2019 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
void jpc_enc_tile_destroy(jpc_enc_tile_t *tile ) 
{ 
  jpc_enc_tcmpt_t *tcmpt ;
  uint_fast16_t cmptno ;

  {
#line 2024
  if (tile->tcmpts) {
#line 2025
    tcmpt = tile->tcmpts;
#line 2025
    cmptno = (uint_fast16_t )0;
    {
#line 2025
    while (1) {
      while_continue: /* CIL Label */ ;

#line 2025
      if (! (cmptno < (unsigned long )tile->numtcmpts)) {
#line 2025
        goto while_break;
      }
      {
#line 2027
      tcmpt_destroy(tcmpt);
#line 2026
      tcmpt ++;
#line 2026
      cmptno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 2029
    jas_free((void *)tile->tcmpts);
    }
  }
#line 2031
  if (tile->lyrsizes) {
    {
#line 2032
    jas_free((void *)tile->lyrsizes);
    }
  }
#line 2034
  if (tile->pi) {
    {
#line 2035
    jpc_pi_destroy(tile->pi);
    }
  }
  {
#line 2037
  jas_free((void *)tile);
  }
#line 2039
  return;
}
}
#line 2040 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static jpc_enc_tcmpt_t *tcmpt_create(jpc_enc_tcmpt_t *tcmpt , jpc_enc_cp_t *cp , jas_image_t *image ,
                                     jpc_enc_tile_t *tile ) 
{ 
  uint_fast16_t cmptno ;
  uint_fast16_t rlvlno ;
  jpc_enc_rlvl_t *rlvl ;
  uint_fast32_t tlx ;
  uint_fast32_t tly ;
  uint_fast32_t brx ;
  uint_fast32_t bry ;
  uint_fast32_t cmpttlx ;
  uint_fast32_t cmpttly ;
  jpc_enc_ccp_t *ccp ;
  jpc_tsfb_band_t bandinfos[100] ;
  int __cil_tmp17 ;
  jpc_enc_rlvl_t *__cil_tmp21 ;
  void *tmp___0 ;

  {
  {
#line 2055
  tcmpt->tile = tile;
#line 2056
  tcmpt->tsfb = (jpc_tsfb_t *)0;
#line 2057
  tcmpt->data = (jas_matrix_t *)0;
#line 2058
  tcmpt->rlvls = (jpc_enc_rlvl_t *)0;
#line 2061
  cmptno = (uint_fast16_t )(tcmpt - tile->tcmpts);
#line 2063
  ccp = cp->ccps + cmptno;
#line 2067
  tlx = ((tile->tlx + (unsigned long )ccp->sampgrdstepx) - 1UL) / (unsigned long )ccp->sampgrdstepx;
#line 2068
  tly = ((tile->tly + (unsigned long )ccp->sampgrdstepy) - 1UL) / (unsigned long )ccp->sampgrdstepy;
#line 2069
  brx = ((tile->brx + (unsigned long )ccp->sampgrdstepx) - 1UL) / (unsigned long )ccp->sampgrdstepx;
#line 2070
  bry = ((tile->bry + (unsigned long )ccp->sampgrdstepy) - 1UL) / (unsigned long )ccp->sampgrdstepy;
#line 2073
  tcmpt->data = jas_seq2d_create((int )tlx, (int )tly, (int )brx, (int )bry);
  }
#line 2073
  if (! tcmpt->data) {
#line 2074
    goto error;
  }
  {
#line 2078
  cmpttlx = ((cp->imgareatlx + (unsigned long )ccp->sampgrdstepx) - 1UL) / (unsigned long )ccp->sampgrdstepx;
#line 2079
  cmpttly = ((cp->imgareatly + (unsigned long )ccp->sampgrdstepy) - 1UL) / (unsigned long )ccp->sampgrdstepy;
#line 2080
  __cil_tmp17 = jas_image_readcmpt(image, (int )cmptno, (jas_image_coord_t )(tlx - cmpttlx),
                                   (jas_image_coord_t )(tly - cmpttly), (jas_image_coord_t )(brx - tlx),
                                   (jas_image_coord_t )(bry - tly), tcmpt->data);
  }
#line 2080
  if (__cil_tmp17) {
#line 2082
    goto error;
  }
  {
#line 2085
  tcmpt->synweight = (jpc_fix_t )0;
#line 2086
  tcmpt->qmfbid = (int )cp->tccp.qmfbid;
#line 2087
  tcmpt->numrlvls = (int )cp->tccp.maxrlvls;
#line 2088
  tcmpt->numbands = 3 * tcmpt->numrlvls - 2;
#line 2089
  tcmpt->tsfb = jpc_cod_gettsfb(tcmpt->qmfbid, tcmpt->numrlvls - 1);
  }
#line 2089
  if (! tcmpt->tsfb) {
#line 2090
    goto error;
  }
#line 2093
  rlvlno = (uint_fast16_t )0;
  {
#line 2093
  while (1) {
    while_continue: /* CIL Label */ ;

#line 2093
    if (! (rlvlno < (unsigned long )tcmpt->numrlvls)) {
#line 2093
      goto while_break;
    }
#line 2094
    tcmpt->prcwidthexpns[rlvlno] = (int )cp->tccp.prcwidthexpns[rlvlno];
#line 2095
    tcmpt->prcheightexpns[rlvlno] = (int )cp->tccp.prcheightexpns[rlvlno];
#line 2093
    rlvlno ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
  {
#line 2097
  tcmpt->cblkwidthexpn = (int )cp->tccp.cblkwidthexpn;
#line 2098
  tcmpt->cblkheightexpn = (int )cp->tccp.cblkheightexpn;
#line 2099
  tcmpt->cblksty = (int )cp->tccp.cblksty;
#line 2100
  tcmpt->csty = (int )cp->tccp.csty;
#line 2102
  tcmpt->numstepsizes = tcmpt->numbands;
#line 2104
  memset((void *)(tcmpt->stepsizes), 0, (unsigned long )tcmpt->numstepsizes * sizeof(uint_fast16_t ));
#line 2107
  jpc_tsfb_getbands(tcmpt->tsfb, (uint_fast32_t )(tcmpt->data)->xstart_, (uint_fast32_t )(tcmpt->data)->ystart_,
                    (uint_fast32_t )(tcmpt->data)->xend_, (uint_fast32_t )(tcmpt->data)->yend_,
                    bandinfos);
#line 2111
  tmp___0 = jas_alloc2((size_t )tcmpt->numrlvls, sizeof(jpc_enc_rlvl_t ));
#line 2111
  tcmpt->rlvls = (jpc_enc_rlvl_t *)tmp___0;
  }
#line 2111
  if (! tcmpt->rlvls) {
#line 2112
    goto error;
  }
#line 2114
  rlvl = tcmpt->rlvls;
#line 2114
  rlvlno = (uint_fast16_t )0;
  {
#line 2114
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 2114
    if (! (rlvlno < (unsigned long )tcmpt->numrlvls)) {
#line 2114
      goto while_break___0;
    }
#line 2116
    rlvl->bands = (jpc_enc_band_t *)0;
#line 2117
    rlvl->tcmpt = tcmpt;
#line 2115
    rlvl ++;
#line 2115
    rlvlno ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: 
#line 2119
  rlvl = tcmpt->rlvls;
#line 2119
  rlvlno = (uint_fast16_t )0;
  {
#line 2119
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 2119
    if (! (rlvlno < (unsigned long )tcmpt->numrlvls)) {
#line 2119
      goto while_break___1;
    }
    {
#line 2121
    __cil_tmp21 = rlvl_create(rlvl, cp, tcmpt, bandinfos);
    }
#line 2121
    if (! __cil_tmp21) {
#line 2122
      goto error;
    }
#line 2120
    rlvl ++;
#line 2120
    rlvlno ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___1: ;
#line 2126
  return (tcmpt);
  error: 
  {
#line 2130
  tcmpt_destroy(tcmpt);
  }
#line 2131
  return ((jpc_enc_tcmpt_t *)0);
}
}
#line 2135 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static void tcmpt_destroy(jpc_enc_tcmpt_t *tcmpt ) 
{ 
  jpc_enc_rlvl_t *rlvl ;
  uint_fast16_t rlvlno ;

  {
#line 2140
  if (tcmpt->rlvls) {
#line 2141
    rlvl = tcmpt->rlvls;
#line 2141
    rlvlno = (uint_fast16_t )0;
    {
#line 2141
    while (1) {
      while_continue: /* CIL Label */ ;

#line 2141
      if (! (rlvlno < (unsigned long )tcmpt->numrlvls)) {
#line 2141
        goto while_break;
      }
      {
#line 2143
      rlvl_destroy(rlvl);
#line 2142
      rlvl ++;
#line 2142
      rlvlno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 2145
    jas_free((void *)tcmpt->rlvls);
    }
  }
#line 2148
  if (tcmpt->data) {
    {
#line 2149
    jas_matrix_destroy(tcmpt->data);
    }
  }
#line 2151
  if (tcmpt->tsfb) {
    {
#line 2152
    jpc_tsfb_destroy(tcmpt->tsfb);
    }
  }
#line 2155
  return;
}
}
#line 2156 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static jpc_enc_rlvl_t *rlvl_create(jpc_enc_rlvl_t *rlvl , jpc_enc_cp_t *cp , jpc_enc_tcmpt_t *tcmpt ,
                                   jpc_tsfb_band_t *bandinfos ) 
{ 
  uint_fast16_t rlvlno ;
  uint_fast32_t tlprctlx ;
  uint_fast32_t tlprctly ;
  uint_fast32_t brprcbrx ;
  uint_fast32_t brprcbry ;
  uint_fast16_t bandno ;
  jpc_enc_band_t *band ;
  int tmp ;
  uint_fast16_t tmp___0 ;
  uint_fast16_t tmp___1 ;
  uint_fast32_t tmp___2 ;
  uint_fast32_t tmp___3 ;
  uint_fast32_t tmp___4 ;
  uint_fast32_t tmp___5 ;
  uint_fast32_t tmp___6 ;
  uint_fast32_t tmp___7 ;
  jpc_enc_band_t *__cil_tmp22 ;
  void *tmp___8 ;

  {
#line 2168
  rlvlno = (uint_fast16_t )(rlvl - tcmpt->rlvls);
#line 2171
  rlvl->bands = (jpc_enc_band_t *)0;
#line 2172
  rlvl->tcmpt = tcmpt;
#line 2176
  rlvl->tlx = (uint_fast32_t )((((tcmpt->data)->xstart_ + (long )(1 << ((unsigned long )(tcmpt->numrlvls - 1) - rlvlno))) - 1L) >> ((unsigned long )(tcmpt->numrlvls - 1) - rlvlno));
#line 2178
  rlvl->tly = (uint_fast32_t )((((tcmpt->data)->ystart_ + (long )(1 << ((unsigned long )(tcmpt->numrlvls - 1) - rlvlno))) - 1L) >> ((unsigned long )(tcmpt->numrlvls - 1) - rlvlno));
#line 2180
  rlvl->brx = (uint_fast32_t )((((tcmpt->data)->xend_ + (long )(1 << ((unsigned long )(tcmpt->numrlvls - 1) - rlvlno))) - 1L) >> ((unsigned long )(tcmpt->numrlvls - 1) - rlvlno));
#line 2182
  rlvl->bry = (uint_fast32_t )((((tcmpt->data)->yend_ + (long )(1 << ((unsigned long )(tcmpt->numrlvls - 1) - rlvlno))) - 1L) >> ((unsigned long )(tcmpt->numrlvls - 1) - rlvlno));
#line 2185
  if (rlvl->tlx >= rlvl->brx) {
#line 2186
    rlvl->numhprcs = 0;
#line 2187
    rlvl->numvprcs = 0;
#line 2188
    rlvl->numprcs = 0;
#line 2189
    return (rlvl);
  } else
#line 2185
  if (rlvl->tly >= rlvl->bry) {
#line 2186
    rlvl->numhprcs = 0;
#line 2187
    rlvl->numvprcs = 0;
#line 2188
    rlvl->numprcs = 0;
#line 2189
    return (rlvl);
  }
#line 2192
  if (! rlvlno) {
#line 2192
    tmp = 1;
  } else {
#line 2192
    tmp = 3;
  }
#line 2192
  rlvl->numbands = tmp;
#line 2193
  rlvl->prcwidthexpn = (int )cp->tccp.prcwidthexpns[rlvlno];
#line 2194
  rlvl->prcheightexpn = (int )cp->tccp.prcheightexpns[rlvlno];
#line 2195
  if (! rlvlno) {
#line 2196
    rlvl->cbgwidthexpn = rlvl->prcwidthexpn;
#line 2197
    rlvl->cbgheightexpn = rlvl->prcheightexpn;
  } else {
#line 2199
    rlvl->cbgwidthexpn = rlvl->prcwidthexpn - 1;
#line 2200
    rlvl->cbgheightexpn = rlvl->prcheightexpn - 1;
  }
#line 2202
  if (cp->tccp.cblkwidthexpn < (unsigned long )rlvl->cbgwidthexpn) {
#line 2202
    tmp___0 = cp->tccp.cblkwidthexpn;
  } else {
#line 2202
    tmp___0 = (unsigned long )rlvl->cbgwidthexpn;
  }
#line 2202
  rlvl->cblkwidthexpn = tmp___0;
#line 2203
  if (cp->tccp.cblkheightexpn < (unsigned long )rlvl->cbgheightexpn) {
#line 2203
    tmp___1 = cp->tccp.cblkheightexpn;
  } else {
#line 2203
    tmp___1 = (unsigned long )rlvl->cbgheightexpn;
  }
#line 2203
  rlvl->cblkheightexpn = tmp___1;
#line 2206
  if (rlvl->prcwidthexpn > 0) {
#line 2206
    tmp___2 = rlvl->tlx & (unsigned long )(~ ((1 << rlvl->prcwidthexpn) - 1));
  } else {
#line 2206
    tmp___2 = rlvl->tlx;
  }
#line 2206
  tlprctlx = tmp___2;
#line 2207
  if (rlvl->prcheightexpn > 0) {
#line 2207
    tmp___3 = rlvl->tly & (unsigned long )(~ ((1 << rlvl->prcheightexpn) - 1));
  } else {
#line 2207
    tmp___3 = rlvl->tly;
  }
#line 2207
  tlprctly = tmp___3;
#line 2208
  if (rlvl->prcwidthexpn > 0) {
#line 2208
    if (rlvl->prcwidthexpn > 0) {
#line 2208
      tmp___4 = ((rlvl->brx + (unsigned long )(1 << rlvl->prcwidthexpn)) - 1UL) & (unsigned long )(~ ((1 << rlvl->prcwidthexpn) - 1));
    } else {
#line 2208
      tmp___4 = (rlvl->brx + (unsigned long )(1 << rlvl->prcwidthexpn)) - 1UL;
    }
#line 2208
    tmp___5 = tmp___4;
  } else {
#line 2208
    tmp___5 = rlvl->brx;
  }
#line 2208
  brprcbrx = tmp___5;
#line 2209
  if (rlvl->prcheightexpn > 0) {
#line 2209
    if (rlvl->prcheightexpn > 0) {
#line 2209
      tmp___6 = ((rlvl->bry + (unsigned long )(1 << rlvl->prcheightexpn)) - 1UL) & (unsigned long )(~ ((1 << rlvl->prcheightexpn) - 1));
    } else {
#line 2209
      tmp___6 = (rlvl->bry + (unsigned long )(1 << rlvl->prcheightexpn)) - 1UL;
    }
#line 2209
    tmp___7 = tmp___6;
  } else {
#line 2209
    tmp___7 = rlvl->bry;
  }
  {
#line 2209
  brprcbry = tmp___7;
#line 2210
  rlvl->numhprcs = (int )((brprcbrx - tlprctlx) >> rlvl->prcwidthexpn);
#line 2211
  rlvl->numvprcs = (int )((brprcbry - tlprctly) >> rlvl->prcheightexpn);
#line 2212
  rlvl->numprcs = rlvl->numhprcs * rlvl->numvprcs;
#line 2214
  tmp___8 = jas_alloc2((size_t )rlvl->numbands, sizeof(jpc_enc_band_t ));
#line 2214
  rlvl->bands = (jpc_enc_band_t *)tmp___8;
  }
#line 2214
  if (! rlvl->bands) {
#line 2215
    goto error;
  }
#line 2217
  band = rlvl->bands;
#line 2217
  bandno = (uint_fast16_t )0;
  {
#line 2217
  while (1) {
    while_continue: /* CIL Label */ ;

#line 2217
    if (! (bandno < (unsigned long )rlvl->numbands)) {
#line 2217
      goto while_break;
    }
#line 2219
    band->prcs = (jpc_enc_prc_t *)0;
#line 2220
    band->data = (jas_matrix_t *)0;
#line 2221
    band->rlvl = rlvl;
#line 2218
    band ++;
#line 2218
    bandno ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 2223
  band = rlvl->bands;
#line 2223
  bandno = (uint_fast16_t )0;
  {
#line 2223
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 2223
    if (! (bandno < (unsigned long )rlvl->numbands)) {
#line 2223
      goto while_break___0;
    }
    {
#line 2225
    __cil_tmp22 = band_create(band, cp, rlvl, bandinfos);
    }
#line 2225
    if (! __cil_tmp22) {
#line 2226
      goto error;
    }
#line 2224
    band ++;
#line 2224
    bandno ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 2230
  return (rlvl);
  error: 
  {
#line 2233
  rlvl_destroy(rlvl);
  }
#line 2234
  return ((jpc_enc_rlvl_t *)0);
}
}
#line 2237 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static void rlvl_destroy(jpc_enc_rlvl_t *rlvl ) 
{ 
  jpc_enc_band_t *band ;
  uint_fast16_t bandno ;

  {
#line 2242
  if (rlvl->bands) {
#line 2243
    band = rlvl->bands;
#line 2243
    bandno = (uint_fast16_t )0;
    {
#line 2243
    while (1) {
      while_continue: /* CIL Label */ ;

#line 2243
      if (! (bandno < (unsigned long )rlvl->numbands)) {
#line 2243
        goto while_break;
      }
      {
#line 2245
      band_destroy(band);
#line 2244
      band ++;
#line 2244
      bandno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 2247
    jas_free((void *)rlvl->bands);
    }
  }
#line 2250
  return;
}
}
#line 2251 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static jpc_enc_band_t *band_create(jpc_enc_band_t *band , jpc_enc_cp_t *cp , jpc_enc_rlvl_t *rlvl ,
                                   jpc_tsfb_band_t *bandinfos ) 
{ 
  uint_fast16_t bandno ;
  uint_fast16_t gblbandno ;
  uint_fast16_t rlvlno ;
  jpc_tsfb_band_t *bandinfo ;
  jpc_enc_tcmpt_t *tcmpt ;
  uint_fast32_t prcno ;
  jpc_enc_prc_t *prc ;
  unsigned long tmp ;
  jpc_enc_prc_t *__cil_tmp16 ;
  void *tmp___0 ;

  {
#line 2262
  tcmpt = rlvl->tcmpt;
#line 2263
  band->data = (jas_matrix_t *)0;
#line 2264
  band->prcs = (jpc_enc_prc_t *)0;
#line 2265
  band->rlvl = rlvl;
#line 2268
  rlvlno = (uint_fast16_t )(rlvl - (rlvl->tcmpt)->rlvls);
#line 2269
  bandno = (uint_fast16_t )(band - rlvl->bands);
#line 2270
  if (! rlvlno) {
#line 2270
    tmp = 0UL;
  } else {
#line 2270
    tmp = (3UL * (rlvlno - 1UL) + bandno) + 1UL;
  }
#line 2270
  gblbandno = tmp;
#line 2272
  bandinfo = bandinfos + gblbandno;
#line 2274
  if (bandinfo->xstart != bandinfo->xend) {
#line 2274
    if (bandinfo->ystart != bandinfo->yend) {
      {
#line 2275
      band->data = jas_seq2d_create(0, 0, 0, 0);
      }
#line 2275
      if (! band->data) {
#line 2276
        goto error;
      }
      {
#line 2278
      jas_seq2d_bindsub(band->data, tcmpt->data, bandinfo->locxstart, bandinfo->locystart,
                        bandinfo->locxend, bandinfo->locyend);
#line 2280
      (band->data)->yend_ = (band->data)->ystart_ + (band->data)->numrows_;
#line 2280
      (band->data)->xend_ = (band->data)->xstart_ + (band->data)->numcols_;
#line 2280
      (band->data)->ystart_ = (int_fast32_t )bandinfo->ystart;
#line 2280
      (band->data)->xstart_ = (int_fast32_t )bandinfo->xstart;
      }
    }
  }
  {
#line 2282
  band->orient = bandinfo->orient;
#line 2283
  band->analgain = JPC_NOMINALGAIN((int )cp->tccp.qmfbid, tcmpt->numrlvls, (int )rlvlno,
                                   band->orient);
#line 2285
  band->numbps = 0;
#line 2286
  band->absstepsize = (jpc_fix_t )0;
#line 2287
  band->stepsize = 0;
#line 2288
  band->synweight = bandinfo->synenergywt;
  }
#line 2290
  if (band->data) {
    {
#line 2291
    tmp___0 = jas_alloc2((size_t )rlvl->numprcs, sizeof(jpc_enc_prc_t ));
#line 2291
    band->prcs = (jpc_enc_prc_t *)tmp___0;
    }
#line 2291
    if (! band->prcs) {
#line 2292
      goto error;
    }
#line 2294
    prc = band->prcs;
#line 2294
    prcno = (uint_fast32_t )0;
    {
#line 2294
    while (1) {
      while_continue: /* CIL Label */ ;

#line 2294
      if (! (prcno < (unsigned long )rlvl->numprcs)) {
#line 2294
        goto while_break;
      }
#line 2296
      prc->cblks = (jpc_enc_cblk_t *)0;
#line 2297
      prc->incltree = (jpc_tagtree_t *)0;
#line 2298
      prc->nlibtree = (jpc_tagtree_t *)0;
#line 2299
      prc->savincltree = (jpc_tagtree_t *)0;
#line 2300
      prc->savnlibtree = (jpc_tagtree_t *)0;
#line 2301
      prc->band = band;
#line 2294
      prc ++;
#line 2294
      prcno ++;
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break: 
#line 2303
    prc = band->prcs;
#line 2303
    prcno = (uint_fast32_t )0;
    {
#line 2303
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 2303
      if (! (prcno < (unsigned long )rlvl->numprcs)) {
#line 2303
        goto while_break___0;
      }
      {
#line 2305
      __cil_tmp16 = prc_create(prc, cp, band);
      }
#line 2305
      if (! __cil_tmp16) {
#line 2306
        goto error;
      }
#line 2303
      prc ++;
#line 2303
      prcno ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
  }
#line 2311
  return (band);
  error: 
  {
#line 2314
  band_destroy(band);
  }
#line 2315
  return ((jpc_enc_band_t *)0);
}
}
#line 2318 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static void band_destroy(jpc_enc_band_t *band ) 
{ 
  jpc_enc_prc_t *prc ;
  jpc_enc_rlvl_t *rlvl ;
  uint_fast32_t prcno ;

  {
#line 2324
  if (band->prcs) {
#line 2325
    rlvl = band->rlvl;
#line 2326
    prc = band->prcs;
#line 2326
    prcno = (uint_fast32_t )0;
    {
#line 2326
    while (1) {
      while_continue: /* CIL Label */ ;

#line 2326
      if (! (prcno < (unsigned long )rlvl->numprcs)) {
#line 2326
        goto while_break;
      }
      {
#line 2328
      prc_destroy(prc);
#line 2327
      prc ++;
#line 2327
      prcno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 2330
    jas_free((void *)band->prcs);
    }
  }
#line 2332
  if (band->data) {
    {
#line 2333
    jas_matrix_destroy(band->data);
    }
  }
#line 2336
  return;
}
}
#line 2337 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static jpc_enc_prc_t *prc_create(jpc_enc_prc_t *prc , jpc_enc_cp_t *cp , jpc_enc_band_t *band ) 
{ 
  uint_fast32_t prcno ;
  uint_fast32_t prcxind ;
  uint_fast32_t prcyind ;
  uint_fast32_t cbgtlx ;
  uint_fast32_t cbgtly ;
  uint_fast32_t tlprctlx ;
  uint_fast32_t tlprctly ;
  uint_fast32_t tlcbgtlx ;
  uint_fast32_t tlcbgtly ;
  uint_fast16_t rlvlno ;
  jpc_enc_rlvl_t *rlvl ;
  uint_fast32_t tlcblktlx ;
  uint_fast32_t tlcblktly ;
  uint_fast32_t brcblkbrx ;
  uint_fast32_t brcblkbry ;
  uint_fast32_t cblkno ;
  jpc_enc_cblk_t *cblk ;
  jpc_enc_tcmpt_t *tcmpt ;
  uint_fast32_t tmp ;
  uint_fast32_t tmp___0 ;
  unsigned long tmp___1 ;
  unsigned long tmp___2 ;
  unsigned long tmp___3 ;
  unsigned long tmp___4 ;
  uint_fast32_t tmp___5 ;
  uint_fast32_t tmp___6 ;
  uint_fast32_t tmp___7 ;
  uint_fast32_t tmp___8 ;
  uint_fast32_t tmp___9 ;
  uint_fast32_t tmp___10 ;
  jpc_enc_cblk_t *__cil_tmp39 ;
  void *tmp___11 ;

  {
#line 2358
  prc->cblks = (jpc_enc_cblk_t *)0;
#line 2359
  prc->incltree = (jpc_tagtree_t *)0;
#line 2360
  prc->savincltree = (jpc_tagtree_t *)0;
#line 2361
  prc->nlibtree = (jpc_tagtree_t *)0;
#line 2362
  prc->savnlibtree = (jpc_tagtree_t *)0;
#line 2364
  rlvl = band->rlvl;
#line 2365
  tcmpt = rlvl->tcmpt;
#line 2366
  rlvlno = (uint_fast16_t )(rlvl - tcmpt->rlvls);
#line 2367
  prcno = (uint_fast32_t )(prc - band->prcs);
#line 2368
  prcxind = prcno % (unsigned long )rlvl->numhprcs;
#line 2369
  prcyind = prcno / (unsigned long )rlvl->numhprcs;
#line 2370
  prc->band = band;
#line 2372
  if (rlvl->prcwidthexpn > 0) {
#line 2372
    tmp = rlvl->tlx & (unsigned long )(~ ((1 << rlvl->prcwidthexpn) - 1));
  } else {
#line 2372
    tmp = rlvl->tlx;
  }
#line 2372
  tlprctlx = tmp;
#line 2373
  if (rlvl->prcheightexpn > 0) {
#line 2373
    tmp___0 = rlvl->tly & (unsigned long )(~ ((1 << rlvl->prcheightexpn) - 1));
  } else {
#line 2373
    tmp___0 = rlvl->tly;
  }
#line 2373
  tlprctly = tmp___0;
#line 2374
  if (! rlvlno) {
#line 2375
    tlcbgtlx = tlprctlx;
#line 2376
    tlcbgtly = tlprctly;
  } else {
#line 2378
    tlcbgtlx = ((tlprctlx + (unsigned long )(1 << 1)) - 1UL) >> 1;
#line 2379
    tlcbgtly = ((tlprctly + (unsigned long )(1 << 1)) - 1UL) >> 1;
  }
#line 2384
  cbgtlx = tlcbgtlx + (prcxind << rlvl->cbgwidthexpn);
#line 2385
  cbgtly = tlcbgtly + (prcyind << rlvl->cbgheightexpn);
#line 2386
  if ((unsigned long )(band->data)->xstart_ > cbgtlx) {
#line 2386
    tmp___1 = (unsigned long )(band->data)->xstart_;
  } else {
#line 2386
    tmp___1 = cbgtlx;
  }
#line 2386
  prc->tlx = tmp___1;
#line 2387
  if ((unsigned long )(band->data)->ystart_ > cbgtly) {
#line 2387
    tmp___2 = (unsigned long )(band->data)->ystart_;
  } else {
#line 2387
    tmp___2 = cbgtly;
  }
#line 2387
  prc->tly = tmp___2;
#line 2388
  if ((unsigned long )(band->data)->xend_ < cbgtlx + (unsigned long )(1 << rlvl->cbgwidthexpn)) {
#line 2388
    tmp___3 = (unsigned long )(band->data)->xend_;
  } else {
#line 2388
    tmp___3 = cbgtlx + (unsigned long )(1 << rlvl->cbgwidthexpn);
  }
#line 2388
  prc->brx = tmp___3;
#line 2390
  if ((unsigned long )(band->data)->yend_ < cbgtly + (unsigned long )(1 << rlvl->cbgheightexpn)) {
#line 2390
    tmp___4 = (unsigned long )(band->data)->yend_;
  } else {
#line 2390
    tmp___4 = cbgtly + (unsigned long )(1 << rlvl->cbgheightexpn);
  }
#line 2390
  prc->bry = tmp___4;
#line 2393
  if (prc->tlx < prc->brx) {
#line 2393
    if (prc->tly < prc->bry) {
#line 2396
      if (rlvl->cblkwidthexpn > 0UL) {
#line 2396
        tmp___5 = prc->tlx & (unsigned long )(~ ((1 << rlvl->cblkwidthexpn) - 1));
      } else {
#line 2396
        tmp___5 = prc->tlx;
      }
#line 2396
      tlcblktlx = tmp___5;
#line 2397
      if (rlvl->cblkheightexpn > 0UL) {
#line 2397
        tmp___6 = prc->tly & (unsigned long )(~ ((1 << rlvl->cblkheightexpn) - 1));
      } else {
#line 2397
        tmp___6 = prc->tly;
      }
#line 2397
      tlcblktly = tmp___6;
#line 2398
      if (rlvl->cblkwidthexpn > 0UL) {
#line 2398
        if (rlvl->cblkwidthexpn > 0UL) {
#line 2398
          tmp___7 = ((prc->brx + (unsigned long )(1 << rlvl->cblkwidthexpn)) - 1UL) & (unsigned long )(~ ((1 << rlvl->cblkwidthexpn) - 1));
        } else {
#line 2398
          tmp___7 = (prc->brx + (unsigned long )(1 << rlvl->cblkwidthexpn)) - 1UL;
        }
#line 2398
        tmp___8 = tmp___7;
      } else {
#line 2398
        tmp___8 = prc->brx;
      }
#line 2398
      brcblkbrx = tmp___8;
#line 2399
      if (rlvl->cblkheightexpn > 0UL) {
#line 2399
        if (rlvl->cblkheightexpn > 0UL) {
#line 2399
          tmp___9 = ((prc->bry + (unsigned long )(1 << rlvl->cblkheightexpn)) - 1UL) & (unsigned long )(~ ((1 << rlvl->cblkheightexpn) - 1));
        } else {
#line 2399
          tmp___9 = (prc->bry + (unsigned long )(1 << rlvl->cblkheightexpn)) - 1UL;
        }
#line 2399
        tmp___10 = tmp___9;
      } else {
#line 2399
        tmp___10 = prc->bry;
      }
      {
#line 2399
      brcblkbry = tmp___10;
#line 2400
      prc->numhcblks = (int )((brcblkbrx - tlcblktlx) >> rlvl->cblkwidthexpn);
#line 2402
      prc->numvcblks = (int )((brcblkbry - tlcblktly) >> rlvl->cblkheightexpn);
#line 2404
      prc->numcblks = prc->numhcblks * prc->numvcblks;
#line 2406
      prc->incltree = jpc_tagtree_create(prc->numhcblks, prc->numvcblks);
      }
#line 2406
      if (! prc->incltree) {
#line 2408
        goto error;
      }
      {
#line 2410
      prc->nlibtree = jpc_tagtree_create(prc->numhcblks, prc->numvcblks);
      }
#line 2410
      if (! prc->nlibtree) {
#line 2412
        goto error;
      }
      {
#line 2414
      prc->savincltree = jpc_tagtree_create(prc->numhcblks, prc->numvcblks);
      }
#line 2414
      if (! prc->savincltree) {
#line 2416
        goto error;
      }
      {
#line 2418
      prc->savnlibtree = jpc_tagtree_create(prc->numhcblks, prc->numvcblks);
      }
#line 2418
      if (! prc->savnlibtree) {
#line 2420
        goto error;
      }
      {
#line 2423
      tmp___11 = jas_alloc2((size_t )prc->numcblks, sizeof(jpc_enc_cblk_t ));
#line 2423
      prc->cblks = (jpc_enc_cblk_t *)tmp___11;
      }
#line 2423
      if (! prc->cblks) {
#line 2424
        goto error;
      }
#line 2426
      cblk = prc->cblks;
#line 2426
      cblkno = (uint_fast32_t )0;
      {
#line 2426
      while (1) {
        while_continue: /* CIL Label */ ;

#line 2426
        if (! (cblkno < (unsigned long )prc->numcblks)) {
#line 2426
          goto while_break;
        }
#line 2428
        cblk->passes = (jpc_enc_pass_t *)0;
#line 2429
        cblk->stream = (jas_stream_t *)0;
#line 2430
        cblk->mqenc = (jpc_mqenc_t *)0;
#line 2431
        cblk->data = (jas_matrix_t *)0;
#line 2432
        cblk->flags = (jas_matrix_t *)0;
#line 2433
        cblk->prc = prc;
#line 2427
        cblk ++;
#line 2427
        cblkno ++;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: 
#line 2435
      cblk = prc->cblks;
#line 2435
      cblkno = (uint_fast32_t )0;
      {
#line 2435
      while (1) {
        while_continue___0: /* CIL Label */ ;

#line 2435
        if (! (cblkno < (unsigned long )prc->numcblks)) {
#line 2435
          goto while_break___0;
        }
        {
#line 2437
        __cil_tmp39 = cblk_create(cblk, cp, prc);
        }
#line 2437
        if (! __cil_tmp39) {
#line 2438
          goto error;
        }
#line 2436
        cblk ++;
#line 2436
        cblkno ++;
      }
      while_break___2: /* CIL Label */ ;
      }
      while_break___0: ;
    } else {
#line 2393
      goto _L;
    }
  } else {
    _L: 
#line 2443
    prc->tlx = prc->brx;
#line 2444
    prc->tly = prc->bry;
#line 2445
    prc->numcblks = 0;
#line 2446
    prc->numhcblks = 0;
#line 2447
    prc->numvcblks = 0;
#line 2448
    prc->cblks = (jpc_enc_cblk_t *)0;
#line 2449
    prc->incltree = (jpc_tagtree_t *)0;
#line 2450
    prc->nlibtree = (jpc_tagtree_t *)0;
#line 2451
    prc->savincltree = (jpc_tagtree_t *)0;
#line 2452
    prc->savnlibtree = (jpc_tagtree_t *)0;
  }
#line 2455
  return (prc);
  error: 
  {
#line 2458
  prc_destroy(prc);
  }
#line 2459
  return ((jpc_enc_prc_t *)0);
}
}
#line 2462 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static void prc_destroy(jpc_enc_prc_t *prc ) 
{ 
  jpc_enc_cblk_t *cblk ;
  uint_fast32_t cblkno ;

  {
#line 2467
  if (prc->cblks) {
#line 2468
    cblk = prc->cblks;
#line 2468
    cblkno = (uint_fast32_t )0;
    {
#line 2468
    while (1) {
      while_continue: /* CIL Label */ ;

#line 2468
      if (! (cblkno < (unsigned long )prc->numcblks)) {
#line 2468
        goto while_break;
      }
      {
#line 2470
      cblk_destroy(cblk);
#line 2469
      cblk ++;
#line 2469
      cblkno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 2472
    jas_free((void *)prc->cblks);
    }
  }
#line 2474
  if (prc->incltree) {
    {
#line 2475
    jpc_tagtree_destroy(prc->incltree);
    }
  }
#line 2477
  if (prc->nlibtree) {
    {
#line 2478
    jpc_tagtree_destroy(prc->nlibtree);
    }
  }
#line 2480
  if (prc->savincltree) {
    {
#line 2481
    jpc_tagtree_destroy(prc->savincltree);
    }
  }
#line 2483
  if (prc->savnlibtree) {
    {
#line 2484
    jpc_tagtree_destroy(prc->savnlibtree);
    }
  }
#line 2487
  return;
}
}
#line 2488 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static jpc_enc_cblk_t *cblk_create(jpc_enc_cblk_t *cblk , jpc_enc_cp_t *cp , jpc_enc_prc_t *prc ) 
{ 
  jpc_enc_band_t *band ;
  uint_fast32_t cblktlx ;
  uint_fast32_t cblktly ;
  uint_fast32_t cblkbrx ;
  uint_fast32_t cblkbry ;
  jpc_enc_rlvl_t *rlvl ;
  uint_fast32_t cblkxind ;
  uint_fast32_t cblkyind ;
  uint_fast32_t cblkno ;
  uint_fast32_t tlcblktlx ;
  uint_fast32_t tlcblktly ;
  uint_fast32_t tmp ;
  uint_fast32_t tmp___0 ;
  uint_fast32_t tmp___1 ;
  uint_fast32_t tmp___2 ;
  uint_fast32_t tmp___3 ;
  uint_fast32_t tmp___4 ;

  {
#line 2502
  cblkno = (uint_fast32_t )(cblk - prc->cblks);
#line 2503
  cblkxind = cblkno % (unsigned long )prc->numhcblks;
#line 2504
  cblkyind = cblkno / (unsigned long )prc->numhcblks;
#line 2505
  rlvl = (prc->band)->rlvl;
#line 2506
  cblk->prc = prc;
#line 2508
  cblk->numpasses = 0;
#line 2509
  cblk->passes = (jpc_enc_pass_t *)0;
#line 2510
  cblk->numencpasses = 0;
#line 2511
  cblk->numimsbs = 0;
#line 2512
  cblk->numlenbits = 0;
#line 2513
  cblk->stream = (jas_stream_t *)0;
#line 2514
  cblk->mqenc = (jpc_mqenc_t *)0;
#line 2515
  cblk->flags = (jas_matrix_t *)0;
#line 2516
  cblk->numbps = 0;
#line 2517
  cblk->curpass = (jpc_enc_pass_t *)0;
#line 2518
  cblk->data = (jas_matrix_t *)0;
#line 2519
  cblk->savedcurpass = (jpc_enc_pass_t *)0;
#line 2520
  cblk->savednumlenbits = 0;
#line 2521
  cblk->savednumencpasses = 0;
#line 2523
  band = prc->band;
#line 2524
  if (rlvl->cblkwidthexpn > 0UL) {
#line 2524
    tmp = prc->tlx & (unsigned long )(~ ((1 << rlvl->cblkwidthexpn) - 1));
  } else {
#line 2524
    tmp = prc->tlx;
  }
#line 2524
  tlcblktlx = tmp;
#line 2525
  if (rlvl->cblkheightexpn > 0UL) {
#line 2525
    tmp___0 = prc->tly & (unsigned long )(~ ((1 << rlvl->cblkheightexpn) - 1));
  } else {
#line 2525
    tmp___0 = prc->tly;
  }
#line 2525
  tlcblktly = tmp___0;
#line 2526
  if (tlcblktlx + (cblkxind << rlvl->cblkwidthexpn) > prc->tlx) {
#line 2526
    tmp___1 = tlcblktlx + (cblkxind << rlvl->cblkwidthexpn);
  } else {
#line 2526
    tmp___1 = prc->tlx;
  }
#line 2526
  cblktlx = tmp___1;
#line 2527
  if (tlcblktly + (cblkyind << rlvl->cblkheightexpn) > prc->tly) {
#line 2527
    tmp___2 = tlcblktly + (cblkyind << rlvl->cblkheightexpn);
  } else {
#line 2527
    tmp___2 = prc->tly;
  }
#line 2527
  cblktly = tmp___2;
#line 2528
  if (tlcblktlx + ((cblkxind + 1UL) << rlvl->cblkwidthexpn) < prc->brx) {
#line 2528
    tmp___3 = tlcblktlx + ((cblkxind + 1UL) << rlvl->cblkwidthexpn);
  } else {
#line 2528
    tmp___3 = prc->brx;
  }
#line 2528
  cblkbrx = tmp___3;
#line 2530
  if (tlcblktly + ((cblkyind + 1UL) << rlvl->cblkheightexpn) < prc->bry) {
#line 2530
    tmp___4 = tlcblktly + ((cblkyind + 1UL) << rlvl->cblkheightexpn);
  } else {
#line 2530
    tmp___4 = prc->bry;
  }
  {
#line 2530
  cblkbry = tmp___4;
#line 2534
  cblk->data = jas_seq2d_create(0, 0, 0, 0);
  }
#line 2534
  if (! cblk->data) {
#line 2535
    goto error;
  }
  {
#line 2537
  jas_seq2d_bindsub(cblk->data, band->data, (int )cblktlx, (int )cblktly, (int )cblkbrx,
                    (int )cblkbry);
  }
#line 2539
  return (cblk);
  error: 
  {
#line 2542
  cblk_destroy(cblk);
  }
#line 2543
  return ((jpc_enc_cblk_t *)0);
}
}
#line 2546 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static void cblk_destroy(jpc_enc_cblk_t *cblk ) 
{ 
  uint_fast16_t passno ;
  jpc_enc_pass_t *pass ;

  {
#line 2550
  if (cblk->passes) {
#line 2551
    pass = cblk->passes;
#line 2551
    passno = (uint_fast16_t )0;
    {
#line 2551
    while (1) {
      while_continue: /* CIL Label */ ;

#line 2551
      if (! (passno < (unsigned long )cblk->numpasses)) {
#line 2551
        goto while_break;
      }
      {
#line 2553
      pass_destroy(pass);
#line 2552
      pass ++;
#line 2552
      passno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 2555
    jas_free((void *)cblk->passes);
    }
  }
#line 2557
  if (cblk->stream) {
    {
#line 2558
    jas_stream_close(cblk->stream);
    }
  }
#line 2560
  if (cblk->mqenc) {
    {
#line 2561
    jpc_mqenc_destroy(cblk->mqenc);
    }
  }
#line 2563
  if (cblk->data) {
    {
#line 2564
    jas_matrix_destroy(cblk->data);
    }
  }
#line 2566
  if (cblk->flags) {
    {
#line 2567
    jas_matrix_destroy(cblk->flags);
    }
  }
#line 2570
  return;
}
}
#line 2571 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
static void pass_destroy(jpc_enc_pass_t *pass ) 
{ 


  {
#line 2576
  return;
}
}
#line 2576 "/root/patron-new/new_2/src/libjasper/jpc/jpc_enc.c"
void jpc_enc_dump(jpc_enc_t *enc ) 
{ 
  jpc_enc_tile_t *tile ;
  jpc_enc_tcmpt_t *tcmpt ;
  jpc_enc_rlvl_t *rlvl ;
  jpc_enc_band_t *band ;
  jpc_enc_prc_t *prc ;
  jpc_enc_cblk_t *cblk ;
  uint_fast16_t cmptno ;
  uint_fast16_t rlvlno ;
  uint_fast16_t bandno ;
  uint_fast32_t prcno ;
  uint_fast32_t cblkno ;

  {
#line 2590
  tile = enc->curtile;
#line 2592
  tcmpt = tile->tcmpts;
#line 2592
  cmptno = (uint_fast16_t )0;
  {
#line 2592
  while (1) {
    while_continue: /* CIL Label */ ;

#line 2592
    if (! (cmptno < (unsigned long )tile->numtcmpts)) {
#line 2592
      goto while_break;
    }
    {
#line 2594
    jas_eprintf("  tcmpt %5d %5d %5d %5d\n\230\001", (tcmpt->data)->xstart_, (tcmpt->data)->ystart_,
                (tcmpt->data)->xend_, (tcmpt->data)->yend_);
#line 2595
    rlvl = tcmpt->rlvls;
#line 2595
    rlvlno = (uint_fast16_t )0;
    }
    {
#line 2595
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 2595
      if (! (rlvlno < (unsigned long )tcmpt->numrlvls)) {
#line 2595
        goto while_break___0;
      }
      {
#line 2597
      jas_eprintf("    rlvl %5d %5d %5d %5d\nj\322\372PV", rlvl->tlx, rlvl->tly, rlvl->brx,
                  rlvl->bry);
#line 2598
      band = rlvl->bands;
#line 2598
      bandno = (uint_fast16_t )0;
      }
      {
#line 2598
      while (1) {
        while_continue___4: /* CIL Label */ ;
        while_continue___1: ;
#line 2598
        if (! (bandno < (unsigned long )rlvl->numbands)) {
#line 2598
          goto while_break___1;
        }
#line 2600
        if (! band->data) {
#line 2601
          goto while_continue___1;
        }
        {
#line 2603
        jas_eprintf("      band %5d %5d %5d %5d\n\372PV", (band->data)->xstart_, (band->data)->ystart_,
                    (band->data)->xend_, (band->data)->yend_);
#line 2604
        prc = band->prcs;
#line 2604
        prcno = (uint_fast32_t )0;
        }
        {
#line 2604
        while (1) {
          while_continue___5: /* CIL Label */ ;
          while_continue___2: ;
#line 2604
          if (! (prcno < (unsigned long )rlvl->numprcs)) {
#line 2604
            goto while_break___2;
          }
          {
#line 2606
          jas_eprintf("        prc %5d %5d %5d %5d (%5d %5d)\n", prc->tlx, prc->tly,
                      prc->brx, prc->bry, prc->brx - prc->tlx, prc->bry - prc->tly);
          }
#line 2607
          if (! prc->cblks) {
#line 2608
            goto while_continue___2;
          }
#line 2610
          cblk = prc->cblks;
#line 2610
          cblkno = (uint_fast32_t )0;
          {
#line 2610
          while (1) {
            while_continue___6: /* CIL Label */ ;

#line 2610
            if (! (cblkno < (unsigned long )prc->numcblks)) {
#line 2610
              goto while_break___3;
            }
            {
#line 2612
            jas_eprintf("         cblk %5d %5d %5d %5d\n", (cblk->data)->xstart_,
                        (cblk->data)->ystart_, (cblk->data)->xend_, (cblk->data)->yend_);
#line 2611
            cblk ++;
#line 2611
            cblkno ++;
            }
          }
          while_break___8: /* CIL Label */ ;
          }
          while_break___3: 
#line 2605
          prc ++;
#line 2605
          prcno ++;
        }
        while_break___7: /* CIL Label */ ;
        }
        while_break___2: 
#line 2599
        band ++;
#line 2599
        bandno ++;
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___1: 
#line 2596
      rlvl ++;
#line 2596
      rlvlno ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: 
#line 2592
    tcmpt ++;
#line 2592
    cmptno ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: ;
#line 2596
  return;
}
}
#line 138 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_dump(jpc_dec_t *dec , FILE *out ) ;
#line 140
jpc_ppxstab_t *jpc_ppxstab_create(void) ;
#line 141
void jpc_ppxstab_destroy(jpc_ppxstab_t *tab ) ;
#line 142
int jpc_ppxstab_grow(jpc_ppxstab_t *tab , int maxents ) ;
#line 143
int jpc_ppxstab_insert(jpc_ppxstab_t *tab , jpc_ppxstabent_t *ent ) ;
#line 144
jpc_streamlist_t *jpc_ppmstabtostreams(jpc_ppxstab_t *tab ) ;
#line 145
int jpc_pptstabwrite(jas_stream_t *out , jpc_ppxstab_t *tab ) ;
#line 146
jpc_ppxstabent_t *jpc_ppxstabent_create(void) ;
#line 147
void jpc_ppxstabent_destroy(jpc_ppxstabent_t *ent ) ;
#line 149
int jpc_streamlist_numstreams(jpc_streamlist_t *streamlist ) ;
#line 150
jpc_streamlist_t *jpc_streamlist_create(void) ;
#line 151
int jpc_streamlist_insert(jpc_streamlist_t *streamlist , int streamno , jas_stream_t *stream ) ;
#line 153
jas_stream_t *jpc_streamlist_remove(jpc_streamlist_t *streamlist , int streamno ) ;
#line 154
void jpc_streamlist_destroy(jpc_streamlist_t *streamlist ) ;
#line 155
jas_stream_t *jpc_streamlist_get(jpc_streamlist_t *streamlist , int streamno ) ;
#line 157
static void jpc_dec_cp_resetflags(jpc_dec_cp_t *cp ) ;
#line 158
static jpc_dec_cp_t *jpc_dec_cp_create(uint_fast16_t numcomps ) ;
#line 159
static int jpc_dec_cp_isvalid(jpc_dec_cp_t *cp ) ;
#line 160
static jpc_dec_cp_t *jpc_dec_cp_copy(jpc_dec_cp_t *cp ) ;
#line 161
static int jpc_dec_cp_setfromcod(jpc_dec_cp_t *cp , jpc_cod_t *cod ) ;
#line 162
static int jpc_dec_cp_setfromcoc(jpc_dec_cp_t *cp , jpc_coc_t *coc ) ;
#line 163
static int jpc_dec_cp_setfromcox(jpc_dec_cp_t *cp , jpc_dec_ccp_t *ccp , jpc_coxcp_t *compparms ,
                                 int flags ) ;
#line 165
static int jpc_dec_cp_setfromqcd(jpc_dec_cp_t *cp , jpc_qcd_t *qcd ) ;
#line 166
static int jpc_dec_cp_setfromqcc(jpc_dec_cp_t *cp , jpc_qcc_t *qcc ) ;
#line 167
static int jpc_dec_cp_setfromqcx(jpc_dec_cp_t *cp , jpc_dec_ccp_t *ccp , jpc_qcxcp_t *compparms ,
                                 int flags ) ;
#line 169
static int jpc_dec_cp_setfromrgn(jpc_dec_cp_t *cp , jpc_rgn_t *rgn ) ;
#line 170
static int jpc_dec_cp_prepare(jpc_dec_cp_t *cp ) ;
#line 171
static void jpc_dec_cp_destroy(jpc_dec_cp_t *cp ) ;
#line 172
static int jpc_dec_cp_setfrompoc(jpc_dec_cp_t *cp , jpc_poc_t *poc , int reset ) ;
#line 173
static int jpc_pi_addpchgfrompoc(jpc_pi_t *pi , jpc_poc_t *poc ) ;
#line 175
static int jpc_dec_decode(jpc_dec_t *dec ) ;
#line 176
static jpc_dec_t *jpc_dec_create(jpc_dec_importopts_t *impopts , jas_stream_t *in ) ;
#line 177
static void jpc_dec_destroy(jpc_dec_t *dec ) ;
#line 178
static void jpc_dequantize(jas_matrix_t *x , jpc_fix_t absstepsize ) ;
#line 179
static void jpc_undo_roi(jas_matrix_t *x , int roishift , int bgshift , int numbps ) ;
#line 180
static jpc_fix_t jpc_calcabsstepsize(int stepsize , int numbits ) ;
#line 181
static int jpc_dec_tiledecode(jpc_dec_t *dec , jpc_dec_tile_t *tile ) ;
#line 182
static int jpc_dec_tileinit(jpc_dec_t *dec , jpc_dec_tile_t *tile ) ;
#line 183
static int jpc_dec_tilefini(jpc_dec_t *dec , jpc_dec_tile_t *tile ) ;
#line 184
static int jpc_dec_process_soc(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 185
static int jpc_dec_process_sot(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 186
static int jpc_dec_process_sod(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 187
static int jpc_dec_process_eoc(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 188
static int jpc_dec_process_siz(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 189
static int jpc_dec_process_cod(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 190
static int jpc_dec_process_coc(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 191
static int jpc_dec_process_rgn(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 192
static int jpc_dec_process_qcd(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 193
static int jpc_dec_process_qcc(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 194
static int jpc_dec_process_poc(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 195
static int jpc_dec_process_ppm(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 196
static int jpc_dec_process_ppt(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 197
static int jpc_dec_process_com(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 198
static int jpc_dec_process_unk(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 199
static int jpc_dec_process_crg(jpc_dec_t *dec , jpc_ms_t *ms ) ;
#line 200
static int jpc_dec_parseopts(char *optstr , jpc_dec_importopts_t *opts___0 ) ;
#line 202
static jpc_dec_mstabent_t *jpc_dec_mstab_lookup(uint_fast16_t id ) ;
#line 208 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jpc_dec_mstabent_t jpc_dec_mstab[20]  = 
#line 208
  {      {(uint_fast16_t )65359, 1, & jpc_dec_process_soc}, 
        {(uint_fast16_t )65424, 12, & jpc_dec_process_sot}, 
        {(uint_fast16_t )65427, 16, & jpc_dec_process_sod}, 
        {(uint_fast16_t )65497, 8, & jpc_dec_process_eoc}, 
        {(uint_fast16_t )65361, 2, & jpc_dec_process_siz}, 
        {(uint_fast16_t )65362, 20, & jpc_dec_process_cod}, 
        {(uint_fast16_t )65363, 20, & jpc_dec_process_coc}, 
        {(uint_fast16_t )65374, 20, & jpc_dec_process_rgn}, 
        {(uint_fast16_t )65372, 20, & jpc_dec_process_qcd}, 
        {(uint_fast16_t )65373, 20, & jpc_dec_process_qcc}, 
        {(uint_fast16_t )65375, 20, & jpc_dec_process_poc}, 
        {(uint_fast16_t )65365, 4, (int (*)(jpc_dec_t * , jpc_ms_t * ))0}, 
        {(uint_fast16_t )65367, 4, (int (*)(jpc_dec_t * , jpc_ms_t * ))0}, 
        {(uint_fast16_t )65368, 16, (int (*)(jpc_dec_t * , jpc_ms_t * ))0}, 
        {(uint_fast16_t )65376, 4, & jpc_dec_process_ppm}, 
        {(uint_fast16_t )65377, 16, & jpc_dec_process_ppt}, 
        {(uint_fast16_t )65425, 0, (int (*)(jpc_dec_t * , jpc_ms_t * ))0}, 
        {(uint_fast16_t )65379, 4, & jpc_dec_process_crg}, 
        {(uint_fast16_t )65380, 20, & jpc_dec_process_com}, 
        {(uint_fast16_t )0, 20, & jpc_dec_process_unk}};
#line 235 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jas_image_t *jpc_decode(jas_stream_t *in , char *optstr ) 
{ 
  jpc_dec_importopts_t opts___0 ;
  jpc_dec_t *dec ;
  jas_image_t *image ;
  int __cil_tmp6 ;
  int __cil_tmp8 ;

  {
  {
#line 241
  dec = (jpc_dec_t *)0;
#line 243
  __cil_tmp6 = jpc_dec_parseopts(optstr, & opts___0);
  }
#line 243
  if (__cil_tmp6) {
#line 244
    goto error;
  }
  {
#line 247
  jpc_initluts();
#line 249
  dec = jpc_dec_create(& opts___0, in);
  }
#line 249
  if (! dec) {
#line 250
    goto error;
  }
  {
#line 254
  __cil_tmp8 = jpc_dec_decode(dec);
  }
#line 254
  if (__cil_tmp8) {
#line 255
    goto error;
  }
#line 258
  if ((dec->image)->numcmpts_ >= 3) {
#line 259
    (dec->image)->clrspc_ = (4 << 8) | 1;
#line 260
    (*((dec->image)->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
#line 262
    (*((dec->image)->cmpts_ + 1))->type_ = (jas_image_cmpttype_t )1;
#line 264
    (*((dec->image)->cmpts_ + 2))->type_ = (jas_image_cmpttype_t )2;
  } else {
#line 267
    (dec->image)->clrspc_ = (3 << 8) | 1;
#line 268
    (*((dec->image)->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
  }
  {
#line 273
  image = dec->image;
#line 276
  dec->image = (jas_image_t *)0;
#line 279
  jpc_dec_destroy(dec);
  }
#line 281
  return (image);
  error: 
#line 284
  if (dec) {
    {
#line 285
    jpc_dec_destroy(dec);
    }
  }
#line 287
  return ((jas_image_t *)0);
}
}
#line 296 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jas_taginfo_t decopts[4]  = {      {0, (char *)"maxlyrs"}, 
        {1, (char *)"maxpkts"}, 
        {2, (char *)"debug"}, 
        {-1, (char *)0}};
#line 303 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_parseopts(char *optstr , jpc_dec_importopts_t *opts___0 ) 
{ 
  jas_tvparser_t *tvp ;
  char *tmp ;
  jas_tvparser_t *__cil_tmp5 ;
  int __cil_tmp6 ;
  jas_taginfo_t *__cil_tmp9 ;
  char *__cil_tmp10 ;
  int __cil_tmp11 ;
  char *__cil_tmp12 ;
  int __cil_tmp13 ;
  char *__cil_tmp14 ;
  int __cil_tmp15 ;
  char *__cil_tmp16 ;

  {
#line 307
  opts___0->debug = 0;
#line 308
  opts___0->maxlyrs = 16384;
#line 309
  opts___0->maxpkts = -1;
#line 311
  if (optstr) {
#line 311
    tmp = optstr;
  } else {
#line 311
    tmp = (char *)"\220";
  }
  {
#line 311
  __cil_tmp5 = jas_tvparser_create((char const   *)((int )tmp));
#line 311
  tvp = __cil_tmp5;
  }
#line 311
  if (! tvp) {
#line 312
    return (-1);
  }
  {
#line 315
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 315
    __cil_tmp6 = jas_tvparser_next(tvp);
    }
#line 315
    if (! (! __cil_tmp6)) {
#line 315
      goto while_break;
    }
#line 318
    if (__cil_tmp9->id == 0) {
#line 318
      goto case_0;
    }
#line 321
    if (__cil_tmp9->id == 2) {
#line 321
      goto case_2;
    }
#line 324
    if (__cil_tmp9->id == 1) {
#line 324
      goto case_1;
    }
#line 327
    goto switch_default;
    case_0: 
    {
#line 319
    __cil_tmp10 = jas_tvparser_getval(tvp);
#line 319
    __cil_tmp11 = atoi((char const   *)__cil_tmp10);
#line 319
    opts___0->maxlyrs = __cil_tmp11;
    }
#line 320
    goto switch_break;
    case_2: 
    {
#line 322
    __cil_tmp12 = jas_tvparser_getval(tvp);
#line 322
    __cil_tmp13 = atoi((char const   *)__cil_tmp12);
#line 322
    opts___0->debug = __cil_tmp13;
    }
#line 323
    goto switch_break;
    case_1: 
    {
#line 325
    __cil_tmp14 = jas_tvparser_getval(tvp);
#line 325
    __cil_tmp15 = atoi((char const   *)__cil_tmp14);
#line 325
    opts___0->maxpkts = __cil_tmp15;
    }
#line 326
    goto switch_break;
    switch_default: 
    {
#line 328
    __cil_tmp16 = jas_tvparser_gettag(tvp);
#line 328
    jas_eprintf("warning: ignoring invalid option %s\nPV", __cil_tmp16);
    }
#line 330
    goto switch_break;
    switch_break: ;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 334
  jas_tvparser_destroy(tvp);
  }
#line 336
  return (0);
}
}
#line 343 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static jpc_dec_mstabent_t *jpc_dec_mstab_lookup(uint_fast16_t id ) 
{ 
  jpc_dec_mstabent_t *mstabent ;

  {
#line 346
  mstabent = jpc_dec_mstab;
  {
#line 346
  while (1) {
    while_continue: /* CIL Label */ ;

#line 346
    if (! (mstabent->id != 0UL)) {
#line 346
      goto while_break;
    }
#line 347
    if (mstabent->id == id) {
#line 348
      goto while_break;
    }
#line 346
    mstabent ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 351
  return (mstabent);
}
}
#line 354 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_decode(jpc_dec_t *dec ) 
{ 
  jpc_ms_t *ms ;
  jpc_dec_mstabent_t *mstabent ;
  int ret ;
  jpc_cstate_t *cstate ;

  {
  {
#line 361
  cstate = jpc_cstate_create();
  }
#line 361
  if (! cstate) {
#line 362
    return (-1);
  }
#line 364
  dec->cstate = cstate;
#line 367
  dec->state = 1;
  {
#line 369
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 372
    ms = jpc_getms(dec->in, cstate);
    }
#line 372
    if (! ms) {
      {
#line 373
      jas_eprintf("cannot get marker segment\n");
      }
#line 374
      return (-1);
    }
    {
#line 377
    mstabent = jpc_dec_mstab_lookup(ms->id);
    }
#line 382
    if (! (dec->state & mstabent->validstates)) {
      {
#line 383
      jas_eprintf("unexpected marker segment type\n");
#line 384
      jpc_ms_destroy(ms);
      }
#line 385
      return (-1);
    }
#line 389
    if (mstabent->action) {
      {
#line 390
      ret = (*(mstabent->action))(dec, ms);
      }
    } else {
#line 393
      ret = 0;
    }
    {
#line 397
    jpc_ms_destroy(ms);
    }
#line 399
    if (ret < 0) {
#line 400
      return (-1);
    } else
#line 401
    if (ret > 0) {
#line 402
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 407
  return (0);
}
}
#line 410 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_crg(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  int cmptno ;
  jpc_dec_cmpt_t *cmpt ;
  jpc_crg_t *crg ;

  {
#line 416
  crg = & ms->parms.crg;
#line 417
  cmpt = dec->cmpts;
#line 417
  cmptno = 0;
  {
#line 417
  while (1) {
    while_continue: /* CIL Label */ ;

#line 417
    if (! (cmptno < dec->numcomps)) {
#line 417
      goto while_break;
    }
#line 417
    cmpt ++;
#line 417
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 427
  return (0);
}
}
#line 430 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_soc(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 


  {
#line 433
  ms = (jpc_ms_t *)0;
#line 436
  dec->state = 2;
#line 438
  return (0);
}
}
#line 441 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_sot(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_dec_tile_t *tile ;
  jpc_sot_t *sot ;
  jas_image_cmptparm_t *compinfos ;
  jas_image_cmptparm_t *compinfo ;
  jpc_dec_cmpt_t *cmpt ;
  int cmptno ;
  void *tmp___1 ;

  {
#line 444
  sot = & ms->parms.sot;
#line 450
  if (dec->state == 4) {
    {
#line 452
    tmp___1 = jas_alloc2((size_t )dec->numcomps, sizeof(jas_image_cmptparm_t ));
#line 452
    compinfos = (jas_image_cmptparm_t *)tmp___1;
#line 454
    compinfo = compinfos;
#line 454
    cmpt = dec->cmpts;
#line 454
    cmptno = 0;
    }
    {
#line 454
    while (1) {
      while_continue: /* CIL Label */ ;

#line 454
      if (! (cmptno < dec->numcomps)) {
#line 454
        goto while_break;
      }
#line 456
      compinfo->tlx = (jas_image_coord_t )0;
#line 457
      compinfo->tly = (jas_image_coord_t )0;
#line 458
      compinfo->prec = (int )cmpt->prec;
#line 459
      compinfo->sgnd = cmpt->sgnd;
#line 460
      compinfo->width = (jas_image_coord_t )cmpt->width;
#line 461
      compinfo->height = (jas_image_coord_t )cmpt->height;
#line 462
      compinfo->hstep = (jas_image_coord_t )cmpt->hstep;
#line 463
      compinfo->vstep = (jas_image_coord_t )cmpt->vstep;
#line 455
      compinfo ++;
#line 455
      cmpt ++;
#line 455
      cmptno ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 466
    dec->image = jas_image_create(dec->numcomps, compinfos, 16384);
    }
#line 466
    if (! dec->image) {
#line 468
      return (-1);
    }
    {
#line 470
    jas_free((void *)compinfos);
    }
#line 474
    if (dec->ppmstab) {
      {
#line 477
      dec->pkthdrstreams = jpc_ppmstabtostreams(dec->ppmstab);
      }
#line 477
      if (! dec->pkthdrstreams) {
        {
#line 478
        abort();
        }
      }
      {
#line 480
      jpc_ppxstab_destroy(dec->ppmstab);
#line 481
      dec->ppmstab = (jpc_ppxstab_t *)0;
      }
    }
  }
#line 485
  if (sot->len > 0UL) {
#line 486
    dec->curtileendoff = (long )((((unsigned long )(dec->in)->rwcnt_ - ms->len) - 4UL) + sot->len);
  } else {
#line 489
    dec->curtileendoff = 0L;
  }
#line 492
  if ((int )sot->tileno >= dec->numtiles) {
    {
#line 493
    jas_eprintf("invalid tile number in SOT marker segment\n");
    }
#line 494
    return (-1);
  }
#line 497
  dec->curtile = dec->tiles + sot->tileno;
#line 498
  tile = dec->curtile;
#line 500
  if ((int )sot->partno != tile->partno) {
#line 501
    return (-1);
  }
#line 503
  if (tile->numparts > 0) {
#line 503
    if ((int )sot->partno >= tile->numparts) {
#line 504
      return (-1);
    }
  }
#line 506
  if (! tile->numparts) {
#line 506
    if ((int )sot->numparts > 0) {
#line 507
      tile->numparts = (int )sot->numparts;
    }
  }
#line 510
  tile->pptstab = (jpc_ppxstab_t *)0;
#line 513
  if (tile->state == 0) {
#line 513
    goto case_0;
  }
#line 522
  goto switch_default;
  case_0: 
  {
#line 515
  tile->state = 1;
#line 517
  tile->cp = jpc_dec_cp_copy(dec->cp);
  }
#line 517
  if (! tile->cp) {
#line 518
    return (-1);
  }
  {
#line 520
  jpc_dec_cp_resetflags(dec->cp);
  }
#line 521
  goto switch_break;
  switch_default: 
#line 523
  if ((int )sot->numparts == (int )sot->partno - 1) {
#line 524
    tile->state = 2;
  }
#line 526
  goto switch_break;
  switch_break: 
#line 534
  dec->state = 16;
#line 536
  return (0);
}
}
#line 539 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_sod(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_dec_tile_t *tile ;
  int pos ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  long __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  jas_stream_t *tmp ;
  int __cil_tmp13 ;
  long curoff ;
  uint_fast32_t n ;
  uint_fast32_t __cil_tmp16 ;
  int __cil_tmp17 ;
  unsigned char *__cil_tmp18 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int __cil_tmp22 ;

  {
#line 545
  ms = (jpc_ms_t *)0;
#line 547
  tile = dec->curtile;
#line 547
  if (! tile) {
#line 548
    return (-1);
  }
#line 551
  if (! tile->partno) {
    {
#line 552
    __cil_tmp5 = jpc_dec_cp_isvalid(tile->cp);
    }
#line 552
    if (! __cil_tmp5) {
#line 553
      return (-1);
    }
    {
#line 555
    jpc_dec_cp_prepare(tile->cp);
#line 556
    __cil_tmp6 = jpc_dec_tileinit(dec, tile);
    }
#line 556
    if (__cil_tmp6) {
#line 557
      return (-1);
    }
  }
#line 562
  if (dec->pkthdrstreams) {
    {
#line 565
    tile->pkthdrstream = jpc_streamlist_remove(dec->pkthdrstreams, 0);
    }
#line 565
    if (! tile->pkthdrstream) {
#line 566
      return (-1);
    }
  }
#line 570
  if (tile->pptstab) {
#line 571
    if (! tile->pkthdrstream) {
      {
#line 572
      tile->pkthdrstream = jas_stream_memopen((char *)0, 0);
      }
#line 572
      if (! tile->pkthdrstream) {
#line 573
        return (-1);
      }
    }
    {
#line 576
    __cil_tmp9 = jas_stream_tell(tile->pkthdrstream);
#line 576
    pos = (int )__cil_tmp9;
#line 577
    jas_stream_seek(tile->pkthdrstream, 0L, 2);
#line 578
    __cil_tmp10 = jpc_pptstabwrite(tile->pkthdrstream, tile->pptstab);
    }
#line 578
    if (__cil_tmp10) {
#line 579
      return (-1);
    }
    {
#line 581
    jas_stream_seek(tile->pkthdrstream, (long )pos, 0);
#line 582
    jpc_ppxstab_destroy(tile->pptstab);
#line 583
    tile->pptstab = (jpc_ppxstab_t *)0;
    }
  }
  {
#line 586
  __cil_tmp11 = jas_getdbglevel();
  }
#line 586
  if (__cil_tmp11 >= 10) {
    {
#line 587
    jpc_dec_dump(dec, stderr);
    }
  }
#line 590
  if (tile->pkthdrstream) {
#line 590
    tmp = tile->pkthdrstream;
  } else {
#line 590
    tmp = dec->in;
  }
  {
#line 590
  __cil_tmp13 = jpc_dec_decodepkts(dec, tmp, dec->in);
  }
#line 590
  if (__cil_tmp13) {
    {
#line 592
    jas_eprintf("jpc_dec_decodepkts failed\n\364\372PV");
    }
#line 593
    return (-1);
  }
#line 597
  if (dec->curtileendoff > 0L) {
#line 600
    curoff = (dec->in)->rwcnt_;
#line 601
    if (curoff < dec->curtileendoff) {
      {
#line 602
      n = (uint_fast32_t )(dec->curtileendoff - curoff);
#line 603
      jas_eprintf("warning: ignoring trailing garbage (%lu bytes)\n", n);
      }
      {
#line 606
      while (1) {
        while_continue: /* CIL Label */ ;
#line 606
        __cil_tmp16 = n;
#line 606
        n --;
#line 606
        if (! (__cil_tmp16 > 0UL)) {
#line 606
          goto while_break;
        }
#line 607
        if (! ((dec->in)->flags_ & 7)) {
#line 607
          if ((dec->in)->rwlimit_ >= 0L) {
#line 607
            if ((dec->in)->rwcnt_ >= (dec->in)->rwlimit_) {
#line 607
              (dec->in)->flags_ |= 4;
#line 607
              tmp___1 = -1;
            } else {
#line 607
              goto _L___10;
            }
          } else {
            _L___10: /* CIL Label */ 
#line 607
            ((dec->in)->cnt_) --;
#line 607
            if ((dec->in)->cnt_ < 0) {
              {
#line 607
              __cil_tmp17 = jas_stream_fillbuf(dec->in, 1);
#line 607
              tmp___0 = __cil_tmp17;
              }
            } else {
#line 607
              __cil_tmp18 = (dec->in)->ptr_;
#line 607
              ((dec->in)->ptr_) ++;
#line 607
              ((dec->in)->rwcnt_) ++;
#line 607
              tmp___0 = (int )*__cil_tmp18;
            }
#line 607
            tmp___1 = tmp___0;
          }
#line 607
          tmp___2 = tmp___1;
        } else {
#line 607
          tmp___2 = -1;
        }
#line 607
        if (tmp___2 == -1) {
          {
#line 608
          jas_eprintf("read error\n");
          }
#line 609
          return (-1);
        }
      }
      while_break___0: /* CIL Label */ ;
      }
      while_break: ;
    } else
#line 612
    if (curoff > dec->curtileendoff) {
      {
#line 613
      jas_eprintf("warning: not enough tile data (%lu bytes)\n\364\372PV", (unsigned long )curoff - (unsigned long )dec->curtileendoff);
      }
    }
  }
#line 619
  if (tile->numparts > 0) {
#line 619
    if (tile->partno == tile->numparts - 1) {
      {
#line 620
      __cil_tmp22 = jpc_dec_tiledecode(dec, tile);
      }
#line 620
      if (__cil_tmp22) {
#line 621
        return (-1);
      }
      {
#line 623
      jpc_dec_tilefini(dec, tile);
      }
    }
  }
#line 626
  dec->curtile = (jpc_dec_tile_t *)0;
#line 629
  (tile->partno) ++;
#line 632
  dec->state = 8;
#line 634
  return (0);
}
}
#line 637 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_tileinit(jpc_dec_t *dec , jpc_dec_tile_t *tile ) 
{ 
  jpc_dec_tcomp_t *tcomp ;
  int compno ;
  int rlvlno ;
  jpc_dec_rlvl_t *rlvl ;
  jpc_dec_band_t *band ;
  jpc_dec_prc_t *prc ;
  int bndno ;
  jpc_tsfb_band_t *bnd ;
  int bandno ;
  jpc_dec_ccp_t *ccp ;
  int prccnt ;
  jpc_dec_cblk_t *cblk ;
  int cblkcnt ;
  uint_fast32_t tlprcxstart ;
  uint_fast32_t tlprcystart ;
  uint_fast32_t brprcxend ;
  uint_fast32_t brprcyend ;
  uint_fast32_t tlcbgxstart ;
  uint_fast32_t tlcbgystart ;
  uint_fast32_t brcbgxend ;
  uint_fast32_t brcbgyend ;
  uint_fast32_t cbgxstart ;
  uint_fast32_t cbgystart ;
  uint_fast32_t cbgxend ;
  uint_fast32_t cbgyend ;
  uint_fast32_t tlcblkxstart ;
  uint_fast32_t tlcblkystart ;
  uint_fast32_t brcblkxend ;
  uint_fast32_t brcblkyend ;
  uint_fast32_t cblkxstart ;
  uint_fast32_t cblkystart ;
  uint_fast32_t cblkxend ;
  uint_fast32_t cblkyend ;
  uint_fast32_t tmpxstart ;
  uint_fast32_t tmpystart ;
  uint_fast32_t tmpxend ;
  uint_fast32_t tmpyend ;
  jpc_dec_cp_t *cp ;
  jpc_tsfb_band_t bnds[64] ;
  jpc_pchg_t *pchg ;
  int pchgno ;
  jpc_dec_cmpt_t *cmpt ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  uint_fast32_t tmp___5 ;
  uint_fast32_t tmp___6 ;
  uint_fast32_t tmp___7 ;
  uint_fast32_t tmp___8 ;
  uint_fast32_t tmp___10 ;
  uint_fast32_t tmp___11 ;
  uint_fast32_t tmp___12 ;
  uint_fast32_t tmp___13 ;
  int __cil_tmp73 ;
  jpc_pchg_t *__cil_tmp74 ;
  jpc_pchg_t *__cil_tmp75 ;
  void *tmp___15 ;
  void *tmp___16 ;
  void *tmp___17 ;
  void *tmp___18 ;

  {
#line 682
  cp = tile->cp;
#line 683
  tile->realmode = 0;
#line 684
  if ((int )cp->mctid == 1) {
#line 685
    tile->realmode = 1;
  }
#line 688
  cmpt = dec->cmpts;
#line 688
  tcomp = tile->tcomps;
#line 688
  compno = 0;
  {
#line 688
  while (1) {
    while_continue: /* CIL Label */ ;

#line 688
    if (! (compno < dec->numcomps)) {
#line 688
      goto while_break;
    }
#line 690
    ccp = (tile->cp)->ccps + compno;
#line 691
    if ((int )ccp->qmfbid == 0) {
#line 692
      tile->realmode = 1;
    }
    {
#line 694
    tcomp->numrlvls = (int )ccp->numrlvls;
#line 695
    tmp___15 = jas_alloc2((size_t )tcomp->numrlvls, sizeof(jpc_dec_rlvl_t ));
#line 695
    tcomp->rlvls = (jpc_dec_rlvl_t *)tmp___15;
    }
#line 695
    if (! tcomp->rlvls) {
#line 697
      return (-1);
    }
    {
#line 699
    tcomp->data = jas_seq2d_create((int )(((tile->xstart + cmpt->hstep) - 1UL) / cmpt->hstep),
                                   (int )(((tile->ystart + cmpt->vstep) - 1UL) / cmpt->vstep),
                                   (int )(((tile->xend + cmpt->hstep) - 1UL) / cmpt->hstep),
                                   (int )(((tile->yend + cmpt->vstep) - 1UL) / cmpt->vstep));
    }
#line 699
    if (! tcomp->data) {
#line 703
      return (-1);
    }
    {
#line 705
    tcomp->tsfb = jpc_cod_gettsfb((int )ccp->qmfbid, tcomp->numrlvls - 1);
    }
#line 705
    if (! tcomp->tsfb) {
#line 707
      return (-1);
    }
    {
#line 710
    jpc_tsfb_getbands(tcomp->tsfb, (uint_fast32_t )(tcomp->data)->xstart_, (uint_fast32_t )(tcomp->data)->ystart_,
                      (uint_fast32_t )(tcomp->data)->xend_, (uint_fast32_t )(tcomp->data)->yend_,
                      bnds);
#line 712
    rlvl = tcomp->rlvls;
#line 712
    rlvlno = 0;
    }
    {
#line 712
    while (1) {
      while_continue___2: /* CIL Label */ ;
      while_continue___0: ;
#line 712
      if (! (rlvlno < tcomp->numrlvls)) {
#line 712
        goto while_break___0;
      }
#line 714
      rlvl->bands = (jpc_dec_band_t *)0;
#line 715
      rlvl->xstart = ((tcomp->xstart + (unsigned long )(1 << ((tcomp->numrlvls - 1) - rlvlno))) - 1UL) >> ((tcomp->numrlvls - 1) - rlvlno);
#line 717
      rlvl->ystart = ((tcomp->ystart + (unsigned long )(1 << ((tcomp->numrlvls - 1) - rlvlno))) - 1UL) >> ((tcomp->numrlvls - 1) - rlvlno);
#line 719
      rlvl->xend = ((tcomp->xend + (unsigned long )(1 << ((tcomp->numrlvls - 1) - rlvlno))) - 1UL) >> ((tcomp->numrlvls - 1) - rlvlno);
#line 721
      rlvl->yend = ((tcomp->yend + (unsigned long )(1 << ((tcomp->numrlvls - 1) - rlvlno))) - 1UL) >> ((tcomp->numrlvls - 1) - rlvlno);
#line 723
      rlvl->prcwidthexpn = (int )ccp->prcwidthexpns[rlvlno];
#line 724
      rlvl->prcheightexpn = (int )ccp->prcheightexpns[rlvlno];
#line 725
      tlprcxstart = (rlvl->xstart >> rlvl->prcwidthexpn) << rlvl->prcwidthexpn;
#line 727
      tlprcystart = (rlvl->ystart >> rlvl->prcheightexpn) << rlvl->prcheightexpn;
#line 729
      brprcxend = (((rlvl->xend + (unsigned long )(1 << rlvl->prcwidthexpn)) - 1UL) >> rlvl->prcwidthexpn) << rlvl->prcwidthexpn;
#line 731
      brprcyend = (((rlvl->yend + (unsigned long )(1 << rlvl->prcheightexpn)) - 1UL) >> rlvl->prcheightexpn) << rlvl->prcheightexpn;
#line 733
      rlvl->numhprcs = (int )((brprcxend - tlprcxstart) >> rlvl->prcwidthexpn);
#line 735
      rlvl->numvprcs = (int )((brprcyend - tlprcystart) >> rlvl->prcheightexpn);
#line 737
      rlvl->numprcs = rlvl->numhprcs * rlvl->numvprcs;
#line 739
      if (rlvl->xstart >= rlvl->xend) {
#line 740
        rlvl->bands = (jpc_dec_band_t *)0;
#line 741
        rlvl->numprcs = 0;
#line 742
        rlvl->numhprcs = 0;
#line 743
        rlvl->numvprcs = 0;
#line 744
        goto while_continue___0;
      } else
#line 739
      if (rlvl->ystart >= rlvl->yend) {
#line 740
        rlvl->bands = (jpc_dec_band_t *)0;
#line 741
        rlvl->numprcs = 0;
#line 742
        rlvl->numhprcs = 0;
#line 743
        rlvl->numvprcs = 0;
#line 744
        goto while_continue___0;
      }
#line 746
      if (! rlvlno) {
#line 747
        tlcbgxstart = tlprcxstart;
#line 748
        tlcbgystart = tlprcystart;
#line 749
        brcbgxend = brprcxend;
#line 750
        brcbgyend = brprcyend;
#line 751
        rlvl->cbgwidthexpn = rlvl->prcwidthexpn;
#line 752
        rlvl->cbgheightexpn = rlvl->prcheightexpn;
      } else {
#line 754
        tlcbgxstart = ((tlprcxstart + (unsigned long )(1 << 1)) - 1UL) >> 1;
#line 755
        tlcbgystart = ((tlprcystart + (unsigned long )(1 << 1)) - 1UL) >> 1;
#line 756
        brcbgxend = ((brprcxend + (unsigned long )(1 << 1)) - 1UL) >> 1;
#line 757
        brcbgyend = ((brprcyend + (unsigned long )(1 << 1)) - 1UL) >> 1;
#line 758
        rlvl->cbgwidthexpn = rlvl->prcwidthexpn - 1;
#line 759
        rlvl->cbgheightexpn = rlvl->prcheightexpn - 1;
      }
#line 761
      if ((int )ccp->cblkwidthexpn < rlvl->cbgwidthexpn) {
#line 761
        tmp = (int )ccp->cblkwidthexpn;
      } else {
#line 761
        tmp = rlvl->cbgwidthexpn;
      }
#line 761
      rlvl->cblkwidthexpn = (uint_fast16_t )tmp;
#line 763
      if ((int )ccp->cblkheightexpn < rlvl->cbgheightexpn) {
#line 763
        tmp___0 = (int )ccp->cblkheightexpn;
      } else {
#line 763
        tmp___0 = rlvl->cbgheightexpn;
      }
#line 763
      rlvl->cblkheightexpn = (uint_fast16_t )tmp___0;
#line 766
      if (! rlvlno) {
#line 766
        tmp___1 = 1;
      } else {
#line 766
        tmp___1 = 3;
      }
      {
#line 766
      rlvl->numbands = tmp___1;
#line 767
      tmp___16 = jas_alloc2((size_t )rlvl->numbands, sizeof(jpc_dec_band_t ));
#line 767
      rlvl->bands = (jpc_dec_band_t *)tmp___16;
      }
#line 767
      if (! rlvl->bands) {
#line 769
        return (-1);
      }
#line 771
      band = rlvl->bands;
#line 771
      bandno = 0;
      {
#line 771
      while (1) {
        while_continue___3: /* CIL Label */ ;
        while_continue___1: ;
#line 771
        if (! (bandno < rlvl->numbands)) {
#line 771
          goto while_break___1;
        }
#line 773
        if (! rlvlno) {
#line 773
          tmp___2 = 0;
        } else {
#line 773
          tmp___2 = (3 * (rlvlno - 1) + bandno) + 1;
        }
        {
#line 773
        bndno = tmp___2;
#line 775
        bnd = & bnds[bndno];
#line 777
        band->orient = bnd->orient;
#line 778
        band->stepsize = (int )ccp->stepsizes[bndno];
#line 779
        band->analgain = JPC_NOMINALGAIN((int )ccp->qmfbid, tcomp->numrlvls - 1, rlvlno,
                                         band->orient);
#line 781
        band->absstepsize = jpc_calcabsstepsize(band->stepsize, (int )(cmpt->prec + (unsigned long )band->analgain));
#line 783
        band->numbps = ((int )ccp->numguardbits + (band->stepsize >> 11)) - 1;
        }
#line 785
        if ((int )ccp->roishift + band->numbps >= 32) {
#line 785
          tmp___3 = 31 - band->numbps;
        } else {
#line 785
          tmp___3 = (int )ccp->roishift;
        }
#line 785
        band->roishift = tmp___3;
#line 787
        band->data = (jas_matrix_t *)0;
#line 788
        band->prcs = (jpc_dec_prc_t *)0;
#line 789
        if (bnd->xstart == bnd->xend) {
#line 790
          goto while_continue___1;
        } else
#line 789
        if (bnd->ystart == bnd->yend) {
#line 790
          goto while_continue___1;
        }
        {
#line 792
        band->data = jas_seq2d_create(0, 0, 0, 0);
        }
#line 792
        if (! band->data) {
#line 793
          return (-1);
        }
        {
#line 795
        jas_seq2d_bindsub(band->data, tcomp->data, bnd->locxstart, bnd->locystart,
                          bnd->locxend, bnd->locyend);
#line 796
        (band->data)->yend_ = (band->data)->ystart_ + (band->data)->numrows_;
#line 796
        (band->data)->xend_ = (band->data)->xstart_ + (band->data)->numcols_;
#line 796
        (band->data)->ystart_ = (int_fast32_t )bnd->ystart;
#line 796
        (band->data)->xstart_ = (int_fast32_t )bnd->xstart;
#line 800
        tmp___17 = jas_alloc2((size_t )rlvl->numprcs, sizeof(jpc_dec_prc_t ));
#line 800
        band->prcs = (jpc_dec_prc_t *)tmp___17;
        }
#line 800
        if (! band->prcs) {
#line 801
          return (-1);
        }
#line 805
        cbgxstart = tlcbgxstart;
#line 806
        cbgystart = tlcbgystart;
#line 807
        prc = band->prcs;
#line 807
        prccnt = rlvl->numprcs;
        {
#line 807
        while (1) {
          while_continue___4: /* CIL Label */ ;

#line 807
          if (! (prccnt > 0)) {
#line 807
            goto while_break___2;
          }
#line 809
          cbgxend = cbgxstart + (unsigned long )(1 << rlvl->cbgwidthexpn);
#line 810
          cbgyend = cbgystart + (unsigned long )(1 << rlvl->cbgheightexpn);
#line 811
          if (cbgxstart > (uint_fast32_t )(band->data)->xstart_) {
#line 811
            tmp___5 = cbgxstart;
          } else {
#line 811
            tmp___5 = (uint_fast32_t )(band->data)->xstart_;
          }
#line 811
          prc->xstart = tmp___5;
#line 812
          if (cbgystart > (uint_fast32_t )(band->data)->ystart_) {
#line 812
            tmp___6 = cbgystart;
          } else {
#line 812
            tmp___6 = (uint_fast32_t )(band->data)->ystart_;
          }
#line 812
          prc->ystart = tmp___6;
#line 813
          if (cbgxend < (uint_fast32_t )(band->data)->xend_) {
#line 813
            tmp___7 = cbgxend;
          } else {
#line 813
            tmp___7 = (uint_fast32_t )(band->data)->xend_;
          }
#line 813
          prc->xend = tmp___7;
#line 814
          if (cbgyend < (uint_fast32_t )(band->data)->yend_) {
#line 814
            tmp___8 = cbgyend;
          } else {
#line 814
            tmp___8 = (uint_fast32_t )(band->data)->yend_;
          }
#line 814
          prc->yend = tmp___8;
#line 815
          if (prc->xend > prc->xstart) {
#line 815
            if (prc->yend > prc->ystart) {
              {
#line 816
              tlcblkxstart = (prc->xstart >> rlvl->cblkwidthexpn) << rlvl->cblkwidthexpn;
#line 818
              tlcblkystart = (prc->ystart >> rlvl->cblkheightexpn) << rlvl->cblkheightexpn;
#line 820
              brcblkxend = (((prc->xend + (unsigned long )(1 << rlvl->cblkwidthexpn)) - 1UL) >> rlvl->cblkwidthexpn) << rlvl->cblkwidthexpn;
#line 822
              brcblkyend = (((prc->yend + (unsigned long )(1 << rlvl->cblkheightexpn)) - 1UL) >> rlvl->cblkheightexpn) << rlvl->cblkheightexpn;
#line 824
              prc->numhcblks = (int )((brcblkxend - tlcblkxstart) >> rlvl->cblkwidthexpn);
#line 826
              prc->numvcblks = (int )((brcblkyend - tlcblkystart) >> rlvl->cblkheightexpn);
#line 828
              prc->numcblks = prc->numhcblks * prc->numvcblks;
#line 831
              prc->incltagtree = jpc_tagtree_create(prc->numhcblks, prc->numvcblks);
              }
#line 831
              if (! prc->incltagtree) {
#line 832
                return (-1);
              }
              {
#line 834
              prc->numimsbstagtree = jpc_tagtree_create(prc->numhcblks, prc->numvcblks);
              }
#line 834
              if (! prc->numimsbstagtree) {
#line 835
                return (-1);
              }
              {
#line 837
              tmp___18 = jas_alloc2((size_t )prc->numcblks, sizeof(jpc_dec_cblk_t ));
#line 837
              prc->cblks = (jpc_dec_cblk_t *)tmp___18;
              }
#line 837
              if (! prc->cblks) {
#line 838
                return (-1);
              }
#line 841
              cblkxstart = cbgxstart;
#line 842
              cblkystart = cbgystart;
#line 843
              cblk = prc->cblks;
#line 843
              cblkcnt = prc->numcblks;
              {
#line 843
              while (1) {
                while_continue___5: /* CIL Label */ ;

#line 843
                if (! (cblkcnt > 0)) {
#line 843
                  goto while_break___3;
                }
#line 844
                cblkxend = cblkxstart + (unsigned long )(1 << rlvl->cblkwidthexpn);
#line 845
                cblkyend = cblkystart + (unsigned long )(1 << rlvl->cblkheightexpn);
#line 846
                if (cblkxstart > prc->xstart) {
#line 846
                  tmp___10 = cblkxstart;
                } else {
#line 846
                  tmp___10 = prc->xstart;
                }
#line 846
                tmpxstart = tmp___10;
#line 847
                if (cblkystart > prc->ystart) {
#line 847
                  tmp___11 = cblkystart;
                } else {
#line 847
                  tmp___11 = prc->ystart;
                }
#line 847
                tmpystart = tmp___11;
#line 848
                if (cblkxend < prc->xend) {
#line 848
                  tmp___12 = cblkxend;
                } else {
#line 848
                  tmp___12 = prc->xend;
                }
#line 848
                tmpxend = tmp___12;
#line 849
                if (cblkyend < prc->yend) {
#line 849
                  tmp___13 = cblkyend;
                } else {
#line 849
                  tmp___13 = prc->yend;
                }
#line 849
                tmpyend = tmp___13;
#line 850
                if (tmpxend > tmpxstart) {
#line 850
                  if (tmpyend > tmpystart) {
                    {
#line 851
                    cblk->firstpassno = -1;
#line 852
                    cblk->mqdec = (jpc_mqdec_t *)0;
#line 853
                    cblk->nulldec = (jpc_bitstream_t *)0;
#line 854
                    cblk->flags = (jas_matrix_t *)0;
#line 855
                    cblk->numpasses = 0;
#line 856
                    cblk->segs.head = (jpc_dec_seg_t *)0;
#line 857
                    cblk->segs.tail = (jpc_dec_seg_t *)0;
#line 858
                    cblk->curseg = (jpc_dec_seg_t *)0;
#line 859
                    cblk->numimsbs = 0;
#line 860
                    cblk->numlenbits = 3;
#line 861
                    cblk->flags = (jas_matrix_t *)0;
#line 862
                    cblk->data = jas_seq2d_create(0, 0, 0, 0);
                    }
#line 862
                    if (! cblk->data) {
#line 863
                      return (-1);
                    }
                    {
#line 865
                    jas_seq2d_bindsub(cblk->data, band->data, (int )tmpxstart, (int )tmpystart,
                                      (int )tmpxend, (int )tmpyend);
#line 866
                    cblk ++;
#line 867
                    cblkcnt --;
                    }
                  }
                }
#line 869
                cblkxstart += (unsigned long )(1 << rlvl->cblkwidthexpn);
#line 870
                if (cblkxstart >= cbgxend) {
#line 871
                  cblkxstart = cbgxstart;
#line 872
                  cblkystart += (unsigned long )(1 << rlvl->cblkheightexpn);
                }
              }
              while_break___9: /* CIL Label */ ;
              }
              while_break___3: ;
            } else {
#line 877
              prc->cblks = (jpc_dec_cblk_t *)0;
#line 878
              prc->incltagtree = (jpc_tagtree_t *)0;
#line 879
              prc->numimsbstagtree = (jpc_tagtree_t *)0;
            }
          } else {
#line 877
            prc->cblks = (jpc_dec_cblk_t *)0;
#line 878
            prc->incltagtree = (jpc_tagtree_t *)0;
#line 879
            prc->numimsbstagtree = (jpc_tagtree_t *)0;
          }
#line 881
          cbgxstart += (unsigned long )(1 << rlvl->cbgwidthexpn);
#line 882
          if (cbgxstart >= brcbgxend) {
#line 883
            cbgxstart = tlcbgxstart;
#line 884
            cbgystart += (unsigned long )(1 << rlvl->cbgheightexpn);
          }
#line 808
          prc ++;
#line 808
          prccnt --;
        }
        while_break___8: /* CIL Label */ ;
        }
        while_break___2: 
#line 772
        band ++;
#line 772
        bandno ++;
      }
      while_break___7: /* CIL Label */ ;
      }
      while_break___1: 
#line 713
      rlvl ++;
#line 713
      rlvlno ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: 
#line 689
    cmpt ++;
#line 689
    tcomp ++;
#line 689
    compno ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: 
  {
#line 893
  tile->pi = jpc_dec_pi_create(dec, tile);
  }
#line 893
  if (! tile->pi) {
#line 895
    return (-1);
  }
#line 898
  pchgno = 0;
  {
#line 898
  while (1) {
    while_continue___6: /* CIL Label */ ;

#line 898
    if (! (pchgno < __cil_tmp73)) {
#line 898
      goto while_break___4;
    }
    {
#line 900
    __cil_tmp74 = jpc_pchglist_get((tile->cp)->pchglist, pchgno);
#line 900
    __cil_tmp75 = jpc_pchg_copy(__cil_tmp74);
#line 900
    pchg = __cil_tmp75;
#line 902
    jpc_pi_addpchg(tile->pi, pchg);
#line 899
    pchgno ++;
    }
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___4: 
  {
#line 904
  jpc_pi_init(tile->pi);
  }
#line 906
  return (0);
}
}
#line 909 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_tilefini(jpc_dec_t *dec , jpc_dec_tile_t *tile ) 
{ 
  jpc_dec_tcomp_t *tcomp ;
  int compno ;
  int bandno ;
  int rlvlno ;
  jpc_dec_band_t *band ;
  jpc_dec_rlvl_t *rlvl ;
  int prcno ;
  jpc_dec_prc_t *prc ;
  jpc_dec_seg_t *seg ;
  jpc_dec_cblk_t *cblk ;
  int cblkno ;

  {
#line 923
  if (tile->tcomps) {
#line 925
    tcomp = tile->tcomps;
#line 925
    compno = 0;
    {
#line 925
    while (1) {
      while_continue: /* CIL Label */ ;

#line 925
      if (! (compno < dec->numcomps)) {
#line 925
        goto while_break;
      }
#line 927
      rlvl = tcomp->rlvls;
#line 927
      rlvlno = 0;
      {
#line 927
      while (1) {
        while_continue___3: /* CIL Label */ ;
        while_continue___0: ;
#line 927
        if (! (rlvlno < tcomp->numrlvls)) {
#line 927
          goto while_break___0;
        }
#line 929
        if (! rlvl->bands) {
#line 930
          goto while_continue___0;
        }
#line 932
        band = rlvl->bands;
#line 932
        bandno = 0;
        {
#line 932
        while (1) {
          while_continue___4: /* CIL Label */ ;

#line 932
          if (! (bandno < rlvl->numbands)) {
#line 932
            goto while_break___1;
          }
#line 933
          if (band->prcs) {
#line 934
            prc = band->prcs;
#line 934
            prcno = 0;
            {
#line 934
            while (1) {
              while_continue___5: /* CIL Label */ ;
              while_continue___2: ;
#line 934
              if (! (prcno < rlvl->numprcs)) {
#line 934
                goto while_break___2;
              }
#line 936
              if (! prc->cblks) {
#line 937
                goto while_continue___2;
              }
#line 939
              cblk = prc->cblks;
#line 939
              cblkno = 0;
              {
#line 939
              while (1) {
                while_continue___6: /* CIL Label */ ;

#line 939
                if (! (cblkno < prc->numcblks)) {
#line 939
                  goto while_break___3;
                }
                {
#line 941
                while (1) {
                  while_continue___7: /* CIL Label */ ;

#line 941
                  if (! cblk->segs.head) {
#line 941
                    goto while_break___4;
                  }
                  {
#line 942
                  seg = cblk->segs.head;
#line 943
                  jpc_seglist_remove(& cblk->segs, seg);
#line 944
                  jpc_seg_destroy(seg);
                  }
                }
                while_break___10: /* CIL Label */ ;
                }
                while_break___4: 
                {
#line 946
                jas_matrix_destroy(cblk->data);
                }
#line 947
                if (cblk->mqdec) {
                  {
#line 948
                  jpc_mqdec_destroy(cblk->mqdec);
                  }
                }
#line 950
                if (cblk->nulldec) {
                  {
#line 951
                  jpc_bitstream_close(cblk->nulldec);
                  }
                }
#line 953
                if (cblk->flags) {
                  {
#line 954
                  jas_matrix_destroy(cblk->flags);
                  }
                }
#line 939
                cblk ++;
#line 939
                cblkno ++;
              }
              while_break___9: /* CIL Label */ ;
              }
              while_break___3: ;
#line 957
              if (prc->incltagtree) {
                {
#line 958
                jpc_tagtree_destroy(prc->incltagtree);
                }
              }
#line 960
              if (prc->numimsbstagtree) {
                {
#line 961
                jpc_tagtree_destroy(prc->numimsbstagtree);
                }
              }
#line 963
              if (prc->cblks) {
                {
#line 964
                jas_free((void *)prc->cblks);
                }
              }
#line 935
              prc ++;
#line 935
              prcno ++;
            }
            while_break___8: /* CIL Label */ ;
            }
            while_break___2: ;
          }
#line 968
          if (band->data) {
            {
#line 969
            jas_matrix_destroy(band->data);
            }
          }
#line 971
          if (band->prcs) {
            {
#line 972
            jas_free((void *)band->prcs);
            }
          }
#line 932
          band ++;
#line 932
          bandno ++;
        }
        while_break___7: /* CIL Label */ ;
        }
        while_break___1: ;
#line 975
        if (rlvl->bands) {
          {
#line 976
          jas_free((void *)rlvl->bands);
          }
        }
#line 928
        rlvl ++;
#line 928
        rlvlno ++;
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___0: ;
#line 979
      if (tcomp->rlvls) {
        {
#line 980
        jas_free((void *)tcomp->rlvls);
        }
      }
#line 982
      if (tcomp->data) {
        {
#line 983
        jas_matrix_destroy(tcomp->data);
        }
      }
#line 985
      if (tcomp->tsfb) {
        {
#line 986
        jpc_tsfb_destroy(tcomp->tsfb);
        }
      }
#line 926
      tcomp ++;
#line 926
      compno ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break: ;
  }
#line 990
  if (tile->cp) {
    {
#line 991
    jpc_dec_cp_destroy(tile->cp);
#line 992
    tile->cp = (jpc_dec_cp_t *)0;
    }
  }
#line 994
  if (tile->tcomps) {
    {
#line 995
    jas_free((void *)tile->tcomps);
#line 996
    tile->tcomps = (jpc_dec_tcomp_t *)0;
    }
  }
#line 998
  if (tile->pi) {
    {
#line 999
    jpc_pi_destroy(tile->pi);
#line 1000
    tile->pi = (jpc_pi_t *)0;
    }
  }
#line 1002
  if (tile->pkthdrstream) {
    {
#line 1003
    jas_stream_close(tile->pkthdrstream);
#line 1004
    tile->pkthdrstream = (jas_stream_t *)0;
    }
  }
#line 1006
  if (tile->pptstab) {
    {
#line 1007
    jpc_ppxstab_destroy(tile->pptstab);
#line 1008
    tile->pptstab = (jpc_ppxstab_t *)0;
    }
  }
#line 1011
  tile->state = 3;
#line 1013
  return (0);
}
}
#line 1016 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_tiledecode(jpc_dec_t *dec , jpc_dec_tile_t *tile ) 
{ 
  int i ;
  int j ;
  jpc_dec_tcomp_t *tcomp ;
  jpc_dec_rlvl_t *rlvl ;
  jpc_dec_band_t *band ;
  int compno ;
  int rlvlno ;
  int bandno ;
  int adjust ;
  int v ;
  jpc_dec_ccp_t *ccp ;
  jpc_dec_cmpt_t *cmpt ;
  int __cil_tmp15 ;
  long tmp___1 ;
  int tmp___2 ;
  jpc_fix_t mn ;
  jpc_fix_t mx ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp24 ;

  {
  {
#line 1031
  __cil_tmp15 = jpc_dec_decodecblks(dec, tile);
  }
#line 1031
  if (__cil_tmp15) {
    {
#line 1032
    jas_eprintf("jpc_dec_decodecblks failed\n");
    }
#line 1033
    return (-1);
  }
#line 1037
  tcomp = tile->tcomps;
#line 1037
  compno = 0;
  {
#line 1037
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1037
    if (! (compno < dec->numcomps)) {
#line 1037
      goto while_break;
    }
#line 1039
    ccp = (tile->cp)->ccps + compno;
#line 1040
    rlvl = tcomp->rlvls;
#line 1040
    rlvlno = 0;
    {
#line 1040
    while (1) {
      while_continue___2: /* CIL Label */ ;
      while_continue___0: ;
#line 1040
      if (! (rlvlno < tcomp->numrlvls)) {
#line 1040
        goto while_break___0;
      }
#line 1042
      if (! rlvl->bands) {
#line 1043
        goto while_continue___0;
      }
#line 1045
      band = rlvl->bands;
#line 1045
      bandno = 0;
      {
#line 1045
      while (1) {
        while_continue___3: /* CIL Label */ ;
        while_continue___1: ;
#line 1045
        if (! (bandno < rlvl->numbands)) {
#line 1045
          goto while_break___1;
        }
#line 1047
        if (! band->data) {
#line 1048
          goto while_continue___1;
        }
        {
#line 1050
        jpc_undo_roi(band->data, band->roishift, (int )ccp->roishift - band->roishift,
                     band->numbps);
        }
#line 1052
        if (tile->realmode) {
          {
#line 1053
          jas_matrix_asl(band->data, 13);
#line 1054
          jpc_dequantize(band->data, band->absstepsize);
          }
        }
#line 1046
        band ++;
#line 1046
        bandno ++;
      }
      while_break___13: /* CIL Label */ ;
      }
      while_break___1: 
#line 1041
      rlvl ++;
#line 1041
      rlvlno ++;
    }
    while_break___12: /* CIL Label */ ;
    }
    while_break___0: 
#line 1038
    tcomp ++;
#line 1038
    compno ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break: 
#line 1062
  tcomp = tile->tcomps;
#line 1062
  compno = 0;
  {
#line 1062
  while (1) {
    while_continue___4: /* CIL Label */ ;

#line 1062
    if (! (compno < dec->numcomps)) {
#line 1062
      goto while_break___2;
    }
    {
#line 1064
    ccp = (tile->cp)->ccps + compno;
#line 1065
    jpc_tsfb_synthesize(tcomp->tsfb, tcomp->data);
#line 1063
    tcomp ++;
#line 1063
    compno ++;
    }
  }
  while_break___14: /* CIL Label */ ;
  }
  while_break___2: ;
#line 1070
  goto switch_break;
  {
#line 1073
  jpc_irct((tile->tcomps + 0)->data, (tile->tcomps + 1)->data, (tile->tcomps + 2)->data);
  }
#line 1075
  goto switch_break;
  {
#line 1078
  jpc_iict((tile->tcomps + 0)->data, (tile->tcomps + 1)->data, (tile->tcomps + 2)->data);
  }
#line 1080
  goto switch_break;
  switch_break: ;
#line 1084
  if (tile->realmode) {
#line 1085
    tcomp = tile->tcomps;
#line 1085
    compno = 0;
    {
#line 1085
    while (1) {
      while_continue___5: /* CIL Label */ ;

#line 1085
      if (! (compno < dec->numcomps)) {
#line 1085
        goto while_break___3;
      }
#line 1087
      i = 0;
      {
#line 1087
      while (1) {
        while_continue___6: /* CIL Label */ ;

#line 1087
        if (! ((long )i < (tcomp->data)->numrows_)) {
#line 1087
          goto while_break___4;
        }
#line 1088
        j = 0;
        {
#line 1088
        while (1) {
          while_continue___7: /* CIL Label */ ;

#line 1088
          if (! ((long )j < (tcomp->data)->numcols_)) {
#line 1088
            goto while_break___5;
          }
#line 1089
          v = (int )*(*((tcomp->data)->rows_ + i) + j);
#line 1090
          if (v < 0) {
#line 1090
            tmp___1 = ((long )v + (1L << 12)) & ~ ((1L << 13) - 1L);
          } else {
#line 1090
            tmp___1 = - (((long )(- v) + (1L << 12)) & ~ ((1L << 13) - 1L));
          }
#line 1090
          v = (int )tmp___1;
#line 1091
          *(*((tcomp->data)->rows_ + i) + j) = (jas_seqent_t )(v >> 13);
#line 1088
          j ++;
        }
        while_break___17: /* CIL Label */ ;
        }
        while_break___5: 
#line 1087
        i ++;
      }
      while_break___16: /* CIL Label */ ;
      }
      while_break___4: 
#line 1086
      tcomp ++;
#line 1086
      compno ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___3: ;
  }
#line 1098
  cmpt = dec->cmpts;
#line 1098
  tcomp = tile->tcomps;
#line 1098
  compno = 0;
  {
#line 1098
  while (1) {
    while_continue___8: /* CIL Label */ ;

#line 1098
    if (! (compno < dec->numcomps)) {
#line 1098
      goto while_break___6;
    }
#line 1100
    if (cmpt->sgnd) {
#line 1100
      tmp___2 = 0;
    } else {
#line 1100
      tmp___2 = 1 << (cmpt->prec - 1UL);
    }
#line 1100
    adjust = tmp___2;
#line 1101
    i = 0;
    {
#line 1101
    while (1) {
      while_continue___9: /* CIL Label */ ;

#line 1101
      if (! ((long )i < (tcomp->data)->numrows_)) {
#line 1101
        goto while_break___7;
      }
#line 1102
      j = 0;
      {
#line 1102
      while (1) {
        while_continue___10: /* CIL Label */ ;

#line 1102
        if (! ((long )j < (tcomp->data)->numcols_)) {
#line 1102
          goto while_break___8;
        }
#line 1103
        *(*((tcomp->data)->rows_ + i) + j) += (long )adjust;
#line 1102
        j ++;
      }
      while_break___20: /* CIL Label */ ;
      }
      while_break___8: 
#line 1101
      i ++;
    }
    while_break___19: /* CIL Label */ ;
    }
    while_break___7: 
#line 1099
    cmpt ++;
#line 1099
    tcomp ++;
#line 1099
    compno ++;
  }
  while_break___18: /* CIL Label */ ;
  }
  while_break___6: 
#line 1109
  cmpt = dec->cmpts;
#line 1109
  tcomp = tile->tcomps;
#line 1109
  compno = 0;
  {
#line 1109
  while (1) {
    while_continue___11: /* CIL Label */ ;

#line 1109
    if (! (compno < dec->numcomps)) {
#line 1109
      goto while_break___9;
    }
#line 1113
    if (cmpt->sgnd) {
#line 1113
      tmp___3 = - (1 << (cmpt->prec - 1UL));
    } else {
#line 1113
      tmp___3 = 0;
    }
#line 1113
    mn = (jpc_fix_t )tmp___3;
#line 1114
    if (cmpt->sgnd) {
#line 1114
      tmp___4 = (1 << (cmpt->prec - 1UL)) - 1;
    } else {
#line 1114
      tmp___4 = (1 << cmpt->prec) - 1;
    }
    {
#line 1114
    mx = (jpc_fix_t )tmp___4;
#line 1116
    jas_matrix_clip(tcomp->data, mn, mx);
#line 1110
    cmpt ++;
#line 1110
    tcomp ++;
#line 1110
    compno ++;
    }
  }
  while_break___21: /* CIL Label */ ;
  }
  while_break___9: 
#line 1122
  cmpt = dec->cmpts;
#line 1122
  tcomp = tile->tcomps;
#line 1122
  compno = 0;
  {
#line 1122
  while (1) {
    while_continue___12: /* CIL Label */ ;

#line 1122
    if (! (compno < dec->numcomps)) {
#line 1122
      goto while_break___10;
    }
    {
#line 1124
    __cil_tmp24 = jas_image_writecmpt(dec->image, compno, (jas_image_coord_t )(tcomp->xstart - ((dec->xstart + cmpt->hstep) - 1UL) / cmpt->hstep),
                                      (jas_image_coord_t )(tcomp->ystart - ((dec->ystart + cmpt->vstep) - 1UL) / cmpt->vstep),
                                      (tcomp->data)->numcols_, (tcomp->data)->numrows_,
                                      tcomp->data);
    }
#line 1124
    if (__cil_tmp24) {
      {
#line 1128
      jas_eprintf("write component failed\n");
      }
#line 1129
      return (-4);
    }
#line 1123
    cmpt ++;
#line 1123
    tcomp ++;
#line 1123
    compno ++;
  }
  while_break___22: /* CIL Label */ ;
  }
  while_break___10: ;
#line 1133
  return (0);
}
}
#line 1136 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_eoc(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  int tileno ;
  jpc_dec_tile_t *tile ;
  int __cil_tmp5 ;

  {
#line 1142
  ms = (jpc_ms_t *)0;
#line 1144
  tile = dec->tiles;
#line 1144
  tileno = 0;
  {
#line 1144
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1144
    if (! (tileno < dec->numtiles)) {
#line 1144
      goto while_break;
    }
#line 1146
    if (tile->state == 1) {
      {
#line 1147
      __cil_tmp5 = jpc_dec_tiledecode(dec, tile);
      }
#line 1147
      if (__cil_tmp5) {
#line 1148
        return (-1);
      }
    }
    {
#line 1151
    jpc_dec_tilefini(dec, tile);
#line 1144
    tile ++;
#line 1144
    tileno ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 1155
  dec->state = 32;
#line 1157
  return (1);
}
}
#line 1160 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_siz(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_siz_t *siz ;
  int compno ;
  int tileno ;
  jpc_dec_tile_t *tile ;
  jpc_dec_tcomp_t *tcomp ;
  int htileno ;
  int vtileno ;
  jpc_dec_cmpt_t *cmpt ;
  uint_fast32_t tmp ;
  uint_fast32_t tmp___0 ;
  uint_fast32_t tmp___1 ;
  uint_fast32_t tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;

  {
  {
#line 1162
  siz = & ms->parms.siz;
#line 1171
  dec->xstart = siz->xoff;
#line 1172
  dec->ystart = siz->yoff;
#line 1173
  dec->xend = siz->width;
#line 1174
  dec->yend = siz->height;
#line 1175
  dec->tilewidth = siz->tilewidth;
#line 1176
  dec->tileheight = siz->tileheight;
#line 1177
  dec->tilexoff = siz->tilexoff;
#line 1178
  dec->tileyoff = siz->tileyoff;
#line 1179
  dec->numcomps = (int )siz->numcomps;
#line 1180
  dec->cp = jpc_dec_cp_create((uint_fast16_t )dec->numcomps);
  }
#line 1180
  if (! dec->cp) {
#line 1181
    return (-1);
  }
  {
#line 1184
  tmp___3 = jas_alloc2((size_t )dec->numcomps, sizeof(jpc_dec_cmpt_t ));
#line 1184
  dec->cmpts = (jpc_dec_cmpt_t *)tmp___3;
  }
#line 1184
  if (! dec->cmpts) {
#line 1185
    return (-1);
  }
#line 1188
  cmpt = dec->cmpts;
#line 1188
  compno = 0;
  {
#line 1188
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1188
    if (! (compno < dec->numcomps)) {
#line 1188
      goto while_break;
    }
#line 1190
    cmpt->prec = (uint_fast16_t )(siz->comps + compno)->prec;
#line 1191
    cmpt->sgnd = (int )(siz->comps + compno)->sgnd;
#line 1192
    cmpt->hstep = (uint_fast32_t )(siz->comps + compno)->hsamp;
#line 1193
    cmpt->vstep = (uint_fast32_t )(siz->comps + compno)->vsamp;
#line 1194
    cmpt->width = ((dec->xend + cmpt->hstep) - 1UL) / cmpt->hstep - ((dec->xstart + cmpt->hstep) - 1UL) / cmpt->hstep;
#line 1196
    cmpt->height = ((dec->yend + cmpt->vstep) - 1UL) / cmpt->vstep - ((dec->ystart + cmpt->vstep) - 1UL) / cmpt->vstep;
#line 1198
    cmpt->hsubstep = (uint_fast32_t )0;
#line 1199
    cmpt->vsubstep = (uint_fast32_t )0;
#line 1188
    cmpt ++;
#line 1188
    compno ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1202
  dec->image = (jas_image_t *)0;
#line 1204
  dec->numhtiles = (int )((((dec->xend - dec->tilexoff) + dec->tilewidth) - 1UL) / dec->tilewidth);
#line 1205
  dec->numvtiles = (int )((((dec->yend - dec->tileyoff) + dec->tileheight) - 1UL) / dec->tileheight);
#line 1206
  dec->numtiles = dec->numhtiles * dec->numvtiles;
#line 1207
  tmp___4 = jas_alloc2((size_t )dec->numtiles, sizeof(jpc_dec_tile_t ));
#line 1207
  dec->tiles = (jpc_dec_tile_t *)tmp___4;
  }
#line 1207
  if (! dec->tiles) {
#line 1208
    return (-1);
  }
#line 1211
  tile = dec->tiles;
#line 1211
  tileno = 0;
  {
#line 1211
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 1211
    if (! (tileno < dec->numtiles)) {
#line 1211
      goto while_break___0;
    }
#line 1213
    htileno = tileno % dec->numhtiles;
#line 1214
    vtileno = tileno / dec->numhtiles;
#line 1215
    tile->realmode = 0;
#line 1216
    tile->state = 0;
#line 1217
    if (dec->tilexoff + (unsigned long )htileno * dec->tilewidth > dec->xstart) {
#line 1217
      tmp = dec->tilexoff + (unsigned long )htileno * dec->tilewidth;
    } else {
#line 1217
      tmp = dec->xstart;
    }
#line 1217
    tile->xstart = tmp;
#line 1219
    if (dec->tileyoff + (unsigned long )vtileno * dec->tileheight > dec->ystart) {
#line 1219
      tmp___0 = dec->tileyoff + (unsigned long )vtileno * dec->tileheight;
    } else {
#line 1219
      tmp___0 = dec->ystart;
    }
#line 1219
    tile->ystart = tmp___0;
#line 1221
    if (dec->tilexoff + (unsigned long )(htileno + 1) * dec->tilewidth < dec->xend) {
#line 1221
      tmp___1 = dec->tilexoff + (unsigned long )(htileno + 1) * dec->tilewidth;
    } else {
#line 1221
      tmp___1 = dec->xend;
    }
#line 1221
    tile->xend = tmp___1;
#line 1223
    if (dec->tileyoff + (unsigned long )(vtileno + 1) * dec->tileheight < dec->yend) {
#line 1223
      tmp___2 = dec->tileyoff + (unsigned long )(vtileno + 1) * dec->tileheight;
    } else {
#line 1223
      tmp___2 = dec->yend;
    }
    {
#line 1223
    tile->yend = tmp___2;
#line 1225
    tile->numparts = 0;
#line 1226
    tile->partno = 0;
#line 1227
    tile->pkthdrstream = (jas_stream_t *)0;
#line 1228
    tile->pkthdrstreampos = 0L;
#line 1229
    tile->pptstab = (jpc_ppxstab_t *)0;
#line 1230
    tile->cp = (jpc_dec_cp_t *)0;
#line 1231
    tmp___5 = jas_alloc2((size_t )dec->numcomps, sizeof(jpc_dec_tcomp_t ));
#line 1231
    tile->tcomps = (jpc_dec_tcomp_t *)tmp___5;
    }
#line 1231
    if (! tile->tcomps) {
#line 1233
      return (-1);
    }
#line 1235
    tcomp = tile->tcomps;
#line 1235
    cmpt = dec->cmpts;
#line 1235
    compno = 0;
    {
#line 1235
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 1235
      if (! (compno < dec->numcomps)) {
#line 1235
        goto while_break___1;
      }
#line 1237
      tcomp->rlvls = (jpc_dec_rlvl_t *)0;
#line 1238
      tcomp->data = (jas_matrix_t *)0;
#line 1239
      tcomp->xstart = ((tile->xstart + cmpt->hstep) - 1UL) / cmpt->hstep;
#line 1240
      tcomp->ystart = ((tile->ystart + cmpt->vstep) - 1UL) / cmpt->vstep;
#line 1241
      tcomp->xend = ((tile->xend + cmpt->hstep) - 1UL) / cmpt->hstep;
#line 1242
      tcomp->yend = ((tile->yend + cmpt->vstep) - 1UL) / cmpt->vstep;
#line 1243
      tcomp->tsfb = (jpc_tsfb_t *)0;
#line 1236
      tcomp ++;
#line 1236
      cmpt ++;
#line 1236
      compno ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
#line 1211
    tile ++;
#line 1211
    tileno ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: 
#line 1247
  dec->pkthdrstreams = (jpc_streamlist_t *)0;
#line 1251
  dec->state = 4;
#line 1253
  return (0);
}
}
#line 1256 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_cod(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_cod_t *cod ;
  jpc_dec_tile_t *tile ;

  {
#line 1258
  cod = & ms->parms.cod;
#line 1262
  if (dec->state == 4) {
#line 1262
    goto case_4;
  }
#line 1265
  if (dec->state == 16) {
#line 1265
    goto case_16;
  }
#line 1261
  goto switch_break;
  case_4: 
  {
#line 1263
  jpc_dec_cp_setfromcod(dec->cp, cod);
  }
#line 1264
  goto switch_break;
  case_16: 
#line 1266
  tile = dec->curtile;
#line 1266
  if (! tile) {
#line 1267
    return (-1);
  }
#line 1269
  if (tile->partno != 0) {
#line 1270
    return (-1);
  }
  {
#line 1272
  jpc_dec_cp_setfromcod(tile->cp, cod);
  }
#line 1273
  goto switch_break;
  switch_break: ;
#line 1275
  return (0);
}
}
#line 1278 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_coc(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_coc_t *coc ;
  jpc_dec_tile_t *tile ;

  {
#line 1280
  coc = & ms->parms.coc;
#line 1283
  if ((int )coc->compno >= dec->numcomps) {
    {
#line 1284
    jas_eprintf("invalid component number in COC marker segment\n");
    }
#line 1285
    return (-1);
  }
#line 1288
  if (dec->state == 4) {
#line 1288
    goto case_4;
  }
#line 1291
  if (dec->state == 16) {
#line 1291
    goto case_16;
  }
#line 1287
  goto switch_break;
  case_4: 
  {
#line 1289
  jpc_dec_cp_setfromcoc(dec->cp, coc);
  }
#line 1290
  goto switch_break;
  case_16: 
#line 1292
  tile = dec->curtile;
#line 1292
  if (! tile) {
#line 1293
    return (-1);
  }
#line 1295
  if (tile->partno > 0) {
#line 1296
    return (-1);
  }
  {
#line 1298
  jpc_dec_cp_setfromcoc(tile->cp, coc);
  }
#line 1299
  goto switch_break;
  switch_break: ;
#line 1301
  return (0);
}
}
#line 1304 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_rgn(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_rgn_t *rgn ;
  jpc_dec_tile_t *tile ;

  {
#line 1306
  rgn = & ms->parms.rgn;
#line 1309
  if ((int )rgn->compno >= dec->numcomps) {
    {
#line 1310
    jas_eprintf("invalid component number in RGN marker segment\n");
    }
#line 1311
    return (-1);
  }
#line 1314
  if (dec->state == 4) {
#line 1314
    goto case_4;
  }
#line 1317
  if (dec->state == 16) {
#line 1317
    goto case_16;
  }
#line 1313
  goto switch_break;
  case_4: 
  {
#line 1315
  jpc_dec_cp_setfromrgn(dec->cp, rgn);
  }
#line 1316
  goto switch_break;
  case_16: 
#line 1318
  tile = dec->curtile;
#line 1318
  if (! tile) {
#line 1319
    return (-1);
  }
#line 1321
  if (tile->partno > 0) {
#line 1322
    return (-1);
  }
  {
#line 1324
  jpc_dec_cp_setfromrgn(tile->cp, rgn);
  }
#line 1325
  goto switch_break;
  switch_break: ;
#line 1328
  return (0);
}
}
#line 1331 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_qcd(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_qcd_t *qcd ;
  jpc_dec_tile_t *tile ;

  {
#line 1333
  qcd = & ms->parms.qcd;
#line 1337
  if (dec->state == 4) {
#line 1337
    goto case_4;
  }
#line 1340
  if (dec->state == 16) {
#line 1340
    goto case_16;
  }
#line 1336
  goto switch_break;
  case_4: 
  {
#line 1338
  jpc_dec_cp_setfromqcd(dec->cp, qcd);
  }
#line 1339
  goto switch_break;
  case_16: 
#line 1341
  tile = dec->curtile;
#line 1341
  if (! tile) {
#line 1342
    return (-1);
  }
#line 1344
  if (tile->partno > 0) {
#line 1345
    return (-1);
  }
  {
#line 1347
  jpc_dec_cp_setfromqcd(tile->cp, qcd);
  }
#line 1348
  goto switch_break;
  switch_break: ;
#line 1350
  return (0);
}
}
#line 1353 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_qcc(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_qcc_t *qcc ;
  jpc_dec_tile_t *tile ;

  {
#line 1355
  qcc = & ms->parms.qcc;
#line 1358
  if ((int )qcc->compno >= dec->numcomps) {
    {
#line 1359
    jas_eprintf("invalid component number in QCC marker segment\n");
    }
#line 1360
    return (-1);
  }
#line 1363
  if (dec->state == 4) {
#line 1363
    goto case_4;
  }
#line 1366
  if (dec->state == 16) {
#line 1366
    goto case_16;
  }
#line 1362
  goto switch_break;
  case_4: 
  {
#line 1364
  jpc_dec_cp_setfromqcc(dec->cp, qcc);
  }
#line 1365
  goto switch_break;
  case_16: 
#line 1367
  tile = dec->curtile;
#line 1367
  if (! tile) {
#line 1368
    return (-1);
  }
#line 1370
  if (tile->partno > 0) {
#line 1371
    return (-1);
  }
  {
#line 1373
  jpc_dec_cp_setfromqcc(tile->cp, qcc);
  }
#line 1374
  goto switch_break;
  switch_break: ;
#line 1376
  return (0);
}
}
#line 1379 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_poc(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_poc_t *poc ;
  jpc_dec_tile_t *tile ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;

  {
#line 1381
  poc = & ms->parms.poc;
#line 1384
  if (dec->state == 4) {
#line 1384
    goto case_4;
  }
#line 1389
  if (dec->state == 16) {
#line 1389
    goto case_16;
  }
#line 1383
  goto switch_break;
  case_4: 
  {
#line 1385
  __cil_tmp5 = jpc_dec_cp_setfrompoc(dec->cp, poc, 1);
  }
#line 1385
  if (__cil_tmp5) {
#line 1386
    return (-1);
  }
#line 1388
  goto switch_break;
  case_16: 
#line 1390
  tile = dec->curtile;
#line 1390
  if (! tile) {
#line 1391
    return (-1);
  }
#line 1393
  if (! tile->partno) {
    {
#line 1394
    __cil_tmp6 = jpc_dec_cp_setfrompoc(tile->cp, poc, ! tile->partno);
    }
#line 1394
    if (__cil_tmp6) {
#line 1395
      return (-1);
    }
  } else {
    {
#line 1398
    jpc_pi_addpchgfrompoc(tile->pi, poc);
    }
  }
#line 1400
  goto switch_break;
  switch_break: ;
#line 1402
  return (0);
}
}
#line 1405 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_ppm(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_ppm_t *ppm ;
  jpc_ppxstabent_t *ppmstabent ;
  int __cil_tmp7 ;

  {
#line 1407
  ppm = & ms->parms.ppm;
#line 1410
  if (! dec->ppmstab) {
    {
#line 1411
    dec->ppmstab = jpc_ppxstab_create();
    }
#line 1411
    if (! dec->ppmstab) {
#line 1412
      return (-1);
    }
  }
  {
#line 1416
  ppmstabent = jpc_ppxstabent_create();
  }
#line 1416
  if (! ppmstabent) {
#line 1417
    return (-1);
  }
  {
#line 1419
  ppmstabent->ind = (uint_fast16_t )ppm->ind;
#line 1420
  ppmstabent->data = ppm->data;
#line 1421
  ppm->data = (unsigned char *)0;
#line 1422
  ppmstabent->len = ppm->len;
#line 1423
  __cil_tmp7 = jpc_ppxstab_insert(dec->ppmstab, ppmstabent);
  }
#line 1423
  if (__cil_tmp7) {
#line 1424
    return (-1);
  }
#line 1426
  return (0);
}
}
#line 1429 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_ppt(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 
  jpc_ppt_t *ppt ;
  jpc_dec_tile_t *tile ;
  jpc_ppxstabent_t *pptstabent ;
  int __cil_tmp8 ;

  {
#line 1431
  ppt = & ms->parms.ppt;
#line 1435
  tile = dec->curtile;
#line 1436
  if (! tile->pptstab) {
    {
#line 1437
    tile->pptstab = jpc_ppxstab_create();
    }
#line 1437
    if (! tile->pptstab) {
#line 1438
      return (-1);
    }
  }
  {
#line 1441
  pptstabent = jpc_ppxstabent_create();
  }
#line 1441
  if (! pptstabent) {
#line 1442
    return (-1);
  }
  {
#line 1444
  pptstabent->ind = (uint_fast16_t )ppt->ind;
#line 1445
  pptstabent->data = ppt->data;
#line 1446
  ppt->data = (unsigned char *)0;
#line 1447
  pptstabent->len = ppt->len;
#line 1448
  __cil_tmp8 = jpc_ppxstab_insert(tile->pptstab, pptstabent);
  }
#line 1448
  if (__cil_tmp8) {
#line 1449
    return (-1);
  }
#line 1451
  return (0);
}
}
#line 1454 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_com(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 


  {
#line 1457
  dec = (jpc_dec_t *)0;
#line 1458
  ms = (jpc_ms_t *)0;
#line 1460
  return (0);
}
}
#line 1463 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_process_unk(jpc_dec_t *dec , jpc_ms_t *ms ) 
{ 


  {
  {
#line 1466
  dec = (jpc_dec_t *)0;
#line 1468
  jas_eprintf("warning: ignoring unknown marker segment\nl\356\372PV");
#line 1469
  jpc_ms_dump(ms, stderr);
  }
#line 1470
  return (0);
}
}
#line 1477 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static jpc_dec_cp_t *jpc_dec_cp_create(uint_fast16_t numcomps ) 
{ 
  jpc_dec_cp_t *cp ;
  jpc_dec_ccp_t *ccp ;
  int compno ;
  void *tmp ;
  void *tmp___0 ;

  {
  {
#line 1483
  tmp = jas_malloc(sizeof(jpc_dec_cp_t ));
#line 1483
  cp = (jpc_dec_cp_t *)tmp;
  }
#line 1483
  if (! cp) {
#line 1484
    return ((jpc_dec_cp_t *)0);
  }
  {
#line 1486
  cp->flags = 0;
#line 1487
  cp->numcomps = (int )numcomps;
#line 1488
  cp->prgord = (uint_fast8_t )0;
#line 1489
  cp->numlyrs = (uint_fast16_t )0;
#line 1490
  cp->mctid = (uint_fast8_t )0;
#line 1491
  cp->csty = (uint_fast8_t )0;
#line 1492
  tmp___0 = jas_alloc2((size_t )cp->numcomps, sizeof(jpc_dec_ccp_t ));
#line 1492
  cp->ccps = (jpc_dec_ccp_t *)tmp___0;
  }
#line 1492
  if (! cp->ccps) {
#line 1493
    return ((jpc_dec_cp_t *)0);
  }
  {
#line 1495
  cp->pchglist = jpc_pchglist_create();
  }
#line 1495
  if (! cp->pchglist) {
    {
#line 1496
    jas_free((void *)cp->ccps);
    }
#line 1497
    return ((jpc_dec_cp_t *)0);
  }
#line 1499
  ccp = cp->ccps;
#line 1499
  compno = 0;
  {
#line 1499
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1499
    if (! (compno < cp->numcomps)) {
#line 1499
      goto while_break;
    }
#line 1501
    ccp->flags = 0;
#line 1502
    ccp->numrlvls = (uint_fast8_t )0;
#line 1503
    ccp->cblkwidthexpn = (uint_fast8_t )0;
#line 1504
    ccp->cblkheightexpn = (uint_fast8_t )0;
#line 1505
    ccp->qmfbid = (uint_fast8_t )0;
#line 1506
    ccp->numstepsizes = (uint_fast16_t )0;
#line 1507
    ccp->numguardbits = (uint_fast8_t )0;
#line 1508
    ccp->roishift = (uint_fast8_t )0;
#line 1509
    ccp->cblkctx = (uint_fast8_t )0;
#line 1500
    ccp ++;
#line 1500
    compno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1511
  return (cp);
}
}
#line 1514 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static jpc_dec_cp_t *jpc_dec_cp_copy(jpc_dec_cp_t *cp ) 
{ 
  jpc_dec_cp_t *newcp ;
  jpc_dec_ccp_t *newccp ;
  jpc_dec_ccp_t *ccp ;
  int compno ;

  {
  {
#line 1521
  newcp = jpc_dec_cp_create((uint_fast16_t )cp->numcomps);
  }
#line 1521
  if (! newcp) {
#line 1522
    return ((jpc_dec_cp_t *)0);
  }
  {
#line 1524
  newcp->flags = cp->flags;
#line 1525
  newcp->prgord = cp->prgord;
#line 1526
  newcp->numlyrs = cp->numlyrs;
#line 1527
  newcp->mctid = cp->mctid;
#line 1528
  newcp->csty = cp->csty;
#line 1529
  jpc_pchglist_destroy(newcp->pchglist);
#line 1530
  newcp->pchglist = (jpc_pchglist_t *)0;
#line 1531
  newcp->pchglist = jpc_pchglist_copy(cp->pchglist);
  }
#line 1531
  if (! newcp->pchglist) {
    {
#line 1532
    jas_free((void *)newcp);
    }
#line 1533
    return ((jpc_dec_cp_t *)0);
  }
#line 1535
  ccp = cp->ccps;
#line 1535
  newccp = newcp->ccps;
#line 1535
  compno = 0;
  {
#line 1535
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1535
    if (! (compno < cp->numcomps)) {
#line 1535
      goto while_break;
    }
#line 1538
    *newccp = *ccp;
#line 1537
    ccp ++;
#line 1537
    newccp ++;
#line 1537
    compno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1540
  return (newcp);
}
}
#line 1543 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static void jpc_dec_cp_resetflags(jpc_dec_cp_t *cp ) 
{ 
  int compno ;
  jpc_dec_ccp_t *ccp ;

  {
#line 1547
  cp->flags &= 3;
#line 1548
  ccp = cp->ccps;
#line 1548
  compno = 0;
  {
#line 1548
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1548
    if (! (compno < cp->numcomps)) {
#line 1548
      goto while_break;
    }
#line 1550
    ccp->flags = 0;
#line 1549
    ccp ++;
#line 1549
    compno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1553
  return;
}
}
#line 1554 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static void jpc_dec_cp_destroy(jpc_dec_cp_t *cp ) 
{ 


  {
#line 1556
  if (cp->ccps) {
    {
#line 1557
    jas_free((void *)cp->ccps);
    }
  }
#line 1559
  if (cp->pchglist) {
    {
#line 1560
    jpc_pchglist_destroy(cp->pchglist);
    }
  }
  {
#line 1562
  jas_free((void *)cp);
  }
#line 1564
  return;
}
}
#line 1565 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_isvalid(jpc_dec_cp_t *cp ) 
{ 
  uint_fast16_t compcnt ;
  jpc_dec_ccp_t *ccp ;

  {
#line 1570
  if (! (cp->flags & 1)) {
#line 1571
    return (0);
  } else
#line 1570
  if (! (cp->flags & 2)) {
#line 1571
    return (0);
  }
#line 1573
  ccp = cp->ccps;
#line 1573
  compcnt = (uint_fast16_t )cp->numcomps;
  {
#line 1573
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1573
    if (! (compcnt > 0UL)) {
#line 1573
      goto while_break;
    }
#line 1576
    if ((int )ccp->qsty != 1) {
#line 1576
      if ((int )ccp->numstepsizes < 3 * (int )ccp->numrlvls - 2) {
#line 1579
        return (0);
      } else {
#line 1576
        goto _L;
      }
    } else
    _L: 
#line 1576
    if ((int )ccp->qsty == 1) {
#line 1576
      if (ccp->numstepsizes != 1UL) {
#line 1579
        return (0);
      }
    }
#line 1573
    ccp ++;
#line 1573
    compcnt --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1582
  return (1);
}
}
#line 1585 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static void calcstepsizes(uint_fast16_t refstepsize , int numrlvls , uint_fast16_t *stepsizes ) 
{ 
  int bandno ;
  int numbands ;
  uint_fast16_t expn ;
  uint_fast16_t mant ;
  int tmp___2 ;

  {
#line 1592
  expn = refstepsize >> 11;
#line 1593
  mant = refstepsize & 2047UL;
#line 1594
  numbands = 3 * numrlvls - 2;
#line 1595
  bandno = 0;
  {
#line 1595
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1595
    if (! (bandno < numbands)) {
#line 1595
      goto while_break;
    }
#line 1596
    if (bandno > 0) {
#line 1596
      tmp___2 = (bandno + 2) / 3;
    } else {
#line 1596
      tmp___2 = 0;
    }
#line 1596
    *(stepsizes + bandno) = (mant & 2047UL) | ((((expn + (unsigned long )(numrlvls - 1)) - (unsigned long )((numrlvls - 1) - tmp___2)) & 31UL) << 11);
#line 1595
    bandno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1599
  return;
}
}
#line 1601 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_prepare(jpc_dec_cp_t *cp ) 
{ 
  jpc_dec_ccp_t *ccp ;
  int compno ;
  int i ;

  {
#line 1606
  ccp = cp->ccps;
#line 1606
  compno = 0;
  {
#line 1606
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1606
    if (! (compno < cp->numcomps)) {
#line 1606
      goto while_break;
    }
#line 1608
    if (! ((int )ccp->csty & 1)) {
#line 1609
      i = 0;
      {
#line 1609
      while (1) {
        while_continue___0: /* CIL Label */ ;

#line 1609
        if (! (i < 33)) {
#line 1609
          goto while_break___0;
        }
#line 1610
        ccp->prcwidthexpns[i] = (uint_fast8_t )15;
#line 1611
        ccp->prcheightexpns[i] = (uint_fast8_t )15;
#line 1609
        i ++;
      }
      while_break___2: /* CIL Label */ ;
      }
      while_break___0: ;
    }
#line 1614
    if ((int )ccp->qsty == 1) {
      {
#line 1615
      calcstepsizes(ccp->stepsizes[0], (int )ccp->numrlvls, ccp->stepsizes);
      }
    }
#line 1607
    ccp ++;
#line 1607
    compno ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1618
  return (0);
}
}
#line 1621 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_setfromcod(jpc_dec_cp_t *cp , jpc_cod_t *cod ) 
{ 
  jpc_dec_ccp_t *ccp ;
  int compno ;
  int tmp ;

  {
#line 1625
  cp->flags |= 1;
#line 1626
  cp->prgord = cod->prg;
#line 1627
  if (cod->mctrans) {
#line 1628
    if ((int )cod->compparms.qmfbid == 0) {
#line 1628
      tmp = 1;
    } else {
#line 1628
      tmp = 2;
    }
#line 1628
    cp->mctid = (uint_fast8_t )tmp;
  } else {
#line 1630
    cp->mctid = (uint_fast8_t )0;
  }
#line 1632
  cp->numlyrs = cod->numlyrs;
#line 1633
  cp->csty = (uint_fast8_t )((int )cod->csty & 6);
#line 1634
  ccp = cp->ccps;
#line 1634
  compno = 0;
  {
#line 1634
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1634
    if (! (compno < cp->numcomps)) {
#line 1634
      goto while_break;
    }
    {
#line 1636
    jpc_dec_cp_setfromcox(cp, ccp, & cod->compparms, 0);
#line 1635
    ccp ++;
#line 1635
    compno ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 1638
  cp->flags |= 1;
#line 1639
  return (0);
}
}
#line 1642 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_setfromcoc(jpc_dec_cp_t *cp , jpc_coc_t *coc ) 
{ 


  {
  {
#line 1644
  jpc_dec_cp_setfromcox(cp, cp->ccps + coc->compno, & coc->compparms, 4);
  }
#line 1645
  return (0);
}
}
#line 1648 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_setfromcox(jpc_dec_cp_t *cp , jpc_dec_ccp_t *ccp , jpc_coxcp_t *compparms ,
                                 int flags ) 
{ 
  int rlvlno ;

  {
#line 1654
  cp = (jpc_dec_cp_t *)0;
#line 1656
  if (flags & 4) {
    _L: 
#line 1657
    ccp->numrlvls = (uint_fast8_t )((int )compparms->numdlvls + 1);
#line 1658
    ccp->cblkwidthexpn = (uint_fast8_t )((int )compparms->cblkwidthval + 2);
#line 1660
    ccp->cblkheightexpn = (uint_fast8_t )((int )compparms->cblkheightval + 2);
#line 1662
    ccp->qmfbid = compparms->qmfbid;
#line 1663
    ccp->cblkctx = compparms->cblksty;
#line 1664
    ccp->csty = (uint_fast8_t )((int )compparms->csty & 1);
#line 1665
    rlvlno = 0;
    {
#line 1665
    while (1) {
      while_continue: /* CIL Label */ ;

#line 1665
      if (! (rlvlno < compparms->numrlvls)) {
#line 1665
        goto while_break;
      }
#line 1666
      ccp->prcwidthexpns[rlvlno] = compparms->rlvls[rlvlno].parwidthval;
#line 1668
      ccp->prcheightexpns[rlvlno] = compparms->rlvls[rlvlno].parheightval;
#line 1665
      rlvlno ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
#line 1671
    ccp->flags |= flags | 1;
  } else
#line 1656
  if (! (ccp->flags & 4)) {
#line 1656
    goto _L;
  }
#line 1673
  return (0);
}
}
#line 1676 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_setfromqcd(jpc_dec_cp_t *cp , jpc_qcd_t *qcd ) 
{ 
  int compno ;
  jpc_dec_ccp_t *ccp ;

  {
#line 1680
  ccp = cp->ccps;
#line 1680
  compno = 0;
  {
#line 1680
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1680
    if (! (compno < cp->numcomps)) {
#line 1680
      goto while_break;
    }
    {
#line 1682
    jpc_dec_cp_setfromqcx(cp, ccp, & qcd->compparms, 0);
#line 1681
    ccp ++;
#line 1681
    compno ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 1684
  cp->flags |= 2;
#line 1685
  return (0);
}
}
#line 1688 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_setfromqcc(jpc_dec_cp_t *cp , jpc_qcc_t *qcc ) 
{ 
  int __cil_tmp3 ;

  {
  {
#line 1690
  __cil_tmp3 = jpc_dec_cp_setfromqcx(cp, cp->ccps + qcc->compno, & qcc->compparms,
                                     8);
  }
#line 1690
  return (__cil_tmp3);
}
}
#line 1693 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_setfromqcx(jpc_dec_cp_t *cp , jpc_dec_ccp_t *ccp , jpc_qcxcp_t *compparms ,
                                 int flags ) 
{ 
  int bandno ;

  {
#line 1699
  cp = (jpc_dec_cp_t *)0;
#line 1701
  if (flags & 8) {
    _L: 
#line 1702
    ccp->flags |= flags | 2;
#line 1703
    bandno = 0;
    {
#line 1703
    while (1) {
      while_continue: /* CIL Label */ ;

#line 1703
      if (! (bandno < compparms->numstepsizes)) {
#line 1703
        goto while_break;
      }
#line 1704
      ccp->stepsizes[bandno] = *(compparms->stepsizes + bandno);
#line 1703
      bandno ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
#line 1706
    ccp->numstepsizes = (uint_fast16_t )compparms->numstepsizes;
#line 1707
    ccp->numguardbits = compparms->numguard;
#line 1708
    ccp->qsty = compparms->qntsty;
  } else
#line 1701
  if (! (ccp->flags & 8)) {
#line 1701
    goto _L;
  }
#line 1710
  return (0);
}
}
#line 1713 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_setfromrgn(jpc_dec_cp_t *cp , jpc_rgn_t *rgn ) 
{ 
  jpc_dec_ccp_t *ccp ;

  {
#line 1716
  ccp = cp->ccps + rgn->compno;
#line 1717
  ccp->roishift = rgn->roishift;
#line 1718
  return (0);
}
}
#line 1721 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_pi_addpchgfrompoc(jpc_pi_t *pi , jpc_poc_t *poc ) 
{ 
  int pchgno ;
  jpc_pchg_t *pchg ;
  int __cil_tmp6 ;

  {
#line 1725
  pchgno = 0;
  {
#line 1725
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1725
    if (! (pchgno < poc->numpchgs)) {
#line 1725
      goto while_break;
    }
    {
#line 1726
    pchg = jpc_pchg_copy(poc->pchgs + pchgno);
    }
#line 1726
    if (! pchg) {
#line 1727
      return (-1);
    }
    {
#line 1729
    __cil_tmp6 = jpc_pchglist_insert(pi->pchglist, -1, pchg);
    }
#line 1729
    if (__cil_tmp6) {
#line 1730
      return (-1);
    }
#line 1725
    pchgno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1733
  return (0);
}
}
#line 1736 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_cp_setfrompoc(jpc_dec_cp_t *cp , jpc_poc_t *poc , int reset ) 
{ 
  int pchgno ;
  jpc_pchg_t *pchg ;
  int __cil_tmp6 ;
  int __cil_tmp9 ;

  {
#line 1740
  if (reset) {
    {
#line 1741
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 1741
      __cil_tmp6 = jpc_pchglist_numpchgs(cp->pchglist);
      }
#line 1741
      if (! (__cil_tmp6 > 0)) {
#line 1741
        goto while_break;
      }
      {
#line 1742
      pchg = jpc_pchglist_remove(cp->pchglist, 0);
#line 1743
      jpc_pchg_destroy(pchg);
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break: ;
  }
#line 1746
  pchgno = 0;
  {
#line 1746
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 1746
    if (! (pchgno < poc->numpchgs)) {
#line 1746
      goto while_break___0;
    }
    {
#line 1747
    pchg = jpc_pchg_copy(poc->pchgs + pchgno);
    }
#line 1747
    if (! pchg) {
#line 1748
      return (-1);
    }
    {
#line 1750
    __cil_tmp9 = jpc_pchglist_insert(cp->pchglist, -1, pchg);
    }
#line 1750
    if (__cil_tmp9) {
#line 1751
      return (-1);
    }
#line 1746
    pchgno ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: ;
#line 1754
  return (0);
}
}
#line 1757 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static jpc_fix_t jpc_calcabsstepsize(int stepsize , int numbits ) 
{ 
  jpc_fix_t absstepsize ;
  int n ;
  int tmp ;
  jpc_fix_t tmp___0 ;

  {
#line 1762
  absstepsize = (jpc_fix_t )(1 << 13);
#line 1763
  n = 2;
#line 1764
  if (n >= 0) {
#line 1764
    tmp = (stepsize & 2047) << n;
  } else {
#line 1764
    tmp = (stepsize & 2047) >> - n;
  }
#line 1764
  absstepsize |= (long )tmp;
#line 1766
  n = numbits - (stepsize >> 11);
#line 1767
  if (n >= 0) {
#line 1767
    tmp___0 = absstepsize << n;
  } else {
#line 1767
    tmp___0 = absstepsize >> - n;
  }
#line 1767
  absstepsize = tmp___0;
#line 1768
  return (absstepsize);
}
}
#line 1771 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static void jpc_dequantize(jas_matrix_t *x , jpc_fix_t absstepsize ) 
{ 
  int i ;
  int j ;
  int t ;

  {
#line 1778
  if (absstepsize == (jpc_fix_t )(1 << 13)) {
#line 1779
    return;
  }
#line 1782
  i = 0;
  {
#line 1782
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1782
    if (! ((long )i < x->numrows_)) {
#line 1782
      goto while_break;
    }
#line 1783
    j = 0;
    {
#line 1783
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1783
      if (! ((long )j < x->numcols_)) {
#line 1783
        goto while_break___0;
      }
#line 1784
      t = (int )*(*(x->rows_ + i) + j);
#line 1785
      if (t) {
#line 1786
        t = (int )((jpc_fix_big_t )t * absstepsize >> 13);
      } else {
#line 1788
        t = 0;
      }
#line 1790
      *(*(x->rows_ + i) + j) = (jas_seqent_t )t;
#line 1783
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 1782
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1786
  return;
}
}
#line 1796 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static void jpc_undo_roi(jas_matrix_t *x , int roishift , int bgshift , int numbps ) 
{ 
  int i ;
  int j ;
  int thresh ;
  jpc_fix_t val ;
  jpc_fix_t mag ;
  int warn ;
  uint_fast32_t mask ;
  jpc_fix_t tmp ;
  jpc_fix_t tmp___0 ;
  jpc_fix_t tmp___1 ;

  {
#line 1806
  if (roishift == 0) {
#line 1806
    if (bgshift == 0) {
#line 1807
      return;
    }
  }
#line 1809
  thresh = 1 << roishift;
#line 1811
  warn = 0;
#line 1812
  i = 0;
  {
#line 1812
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1812
    if (! ((long )i < x->numrows_)) {
#line 1812
      goto while_break;
    }
#line 1813
    j = 0;
    {
#line 1813
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1813
      if (! ((long )j < x->numcols_)) {
#line 1813
        goto while_break___0;
      }
#line 1814
      val = *(*(x->rows_ + i) + j);
#line 1815
      if (val >= 0L) {
#line 1815
        tmp = val;
      } else {
#line 1815
        tmp = - val;
      }
#line 1815
      mag = tmp;
#line 1816
      if (mag >= (long )thresh) {
#line 1818
        mag >>= roishift;
#line 1819
        if (val < 0L) {
#line 1819
          tmp___0 = - mag;
        } else {
#line 1819
          tmp___0 = mag;
        }
#line 1819
        val = tmp___0;
#line 1820
        *(*(x->rows_ + i) + j) = val;
      } else {
#line 1823
        mag <<= bgshift;
#line 1824
        mask = (uint_fast32_t )((1 << numbps) - 1);
#line 1829
        if ((unsigned long )mag & ~ mask) {
#line 1830
          if (! warn) {
            {
#line 1831
            jas_eprintf("warning: possibly corrupt code stream\n");
#line 1832
            warn = 1;
            }
          }
#line 1834
          mag = (jpc_fix_t )((unsigned long )mag & mask);
        }
#line 1836
        if (val < 0L) {
#line 1836
          tmp___1 = - mag;
        } else {
#line 1836
          tmp___1 = mag;
        }
#line 1836
        val = tmp___1;
#line 1837
        *(*(x->rows_ + i) + j) = val;
      }
#line 1813
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 1812
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1816
  return;
}
}
#line 1843 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static jpc_dec_t *jpc_dec_create(jpc_dec_importopts_t *impopts , jas_stream_t *in ) 
{ 
  jpc_dec_t *dec ;
  void *tmp ;

  {
  {
#line 1847
  tmp = jas_malloc(sizeof(jpc_dec_t ));
#line 1847
  dec = (jpc_dec_t *)tmp;
  }
#line 1847
  if (! dec) {
#line 1848
    return ((jpc_dec_t *)0);
  }
#line 1851
  dec->image = (jas_image_t *)0;
#line 1852
  dec->xstart = (uint_fast32_t )0;
#line 1853
  dec->ystart = (uint_fast32_t )0;
#line 1854
  dec->xend = (uint_fast32_t )0;
#line 1855
  dec->yend = (uint_fast32_t )0;
#line 1856
  dec->tilewidth = (uint_fast32_t )0;
#line 1857
  dec->tileheight = (uint_fast32_t )0;
#line 1858
  dec->tilexoff = (uint_fast32_t )0;
#line 1859
  dec->tileyoff = (uint_fast32_t )0;
#line 1860
  dec->numhtiles = 0;
#line 1861
  dec->numvtiles = 0;
#line 1862
  dec->numtiles = 0;
#line 1863
  dec->tiles = (jpc_dec_tile_t *)0;
#line 1864
  dec->curtile = (jpc_dec_tile_t *)0;
#line 1865
  dec->numcomps = 0;
#line 1866
  dec->in = in;
#line 1867
  dec->cp = (jpc_dec_cp_t *)0;
#line 1868
  dec->maxlyrs = impopts->maxlyrs;
#line 1869
  dec->maxpkts = impopts->maxpkts;
#line 1870
  dec->numpkts = 0;
#line 1871
  dec->ppmseqno = 0;
#line 1872
  dec->state = 0;
#line 1873
  dec->cmpts = (jpc_dec_cmpt_t *)0;
#line 1874
  dec->pkthdrstreams = (jpc_streamlist_t *)0;
#line 1875
  dec->ppmstab = (jpc_ppxstab_t *)0;
#line 1876
  dec->curtileendoff = 0L;
#line 1878
  return (dec);
}
}
#line 1881 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static void jpc_dec_destroy(jpc_dec_t *dec ) 
{ 


  {
#line 1883
  if (dec->cstate) {
    {
#line 1884
    jpc_cstate_destroy(dec->cstate);
    }
  }
#line 1886
  if (dec->pkthdrstreams) {
    {
#line 1887
    jpc_streamlist_destroy(dec->pkthdrstreams);
    }
  }
#line 1889
  if (dec->image) {
    {
#line 1890
    jas_image_destroy(dec->image);
    }
  }
#line 1893
  if (dec->cp) {
    {
#line 1894
    jpc_dec_cp_destroy(dec->cp);
    }
  }
#line 1897
  if (dec->cmpts) {
    {
#line 1898
    jas_free((void *)dec->cmpts);
    }
  }
#line 1901
  if (dec->tiles) {
    {
#line 1902
    jas_free((void *)dec->tiles);
    }
  }
  {
#line 1905
  jas_free((void *)dec);
  }
#line 1907
  return;
}
}
#line 1912 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
void jpc_seglist_insert(jpc_dec_seglist_t *list , jpc_dec_seg_t *ins , jpc_dec_seg_t *node ) 
{ 
  jpc_dec_seg_t *prev ;
  jpc_dec_seg_t *next ;
  struct jpc_dec_seg_s *tmp ;

  {
#line 1917
  prev = ins;
#line 1918
  node->prev = prev;
#line 1919
  if (prev) {
#line 1919
    tmp = prev->next;
  } else {
#line 1919
    tmp = (struct jpc_dec_seg_s *)0;
  }
#line 1919
  next = tmp;
#line 1920
  node->prev = prev;
#line 1921
  node->next = next;
#line 1922
  if (prev) {
#line 1923
    prev->next = node;
  } else {
#line 1925
    list->head = node;
  }
#line 1927
  if (next) {
#line 1928
    next->prev = node;
  } else {
#line 1930
    list->tail = node;
  }
#line 1932
  return;
}
}
#line 1934 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
void jpc_seglist_remove(jpc_dec_seglist_t *list , jpc_dec_seg_t *seg ) 
{ 
  jpc_dec_seg_t *prev ;
  jpc_dec_seg_t *next ;

  {
#line 1939
  prev = seg->prev;
#line 1940
  next = seg->next;
#line 1941
  if (prev) {
#line 1942
    prev->next = next;
  } else {
#line 1944
    list->head = next;
  }
#line 1946
  if (next) {
#line 1947
    next->prev = prev;
  } else {
#line 1949
    list->tail = prev;
  }
#line 1951
  seg->prev = (struct jpc_dec_seg_s *)0;
#line 1952
  seg->next = (struct jpc_dec_seg_s *)0;
#line 1953
  return;
}
}
#line 1955 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jpc_dec_seg_t *jpc_seg_alloc(void) 
{ 
  jpc_dec_seg_t *seg ;
  void *tmp ;

  {
  {
#line 1959
  tmp = jas_malloc(sizeof(jpc_dec_seg_t ));
#line 1959
  seg = (jpc_dec_seg_t *)tmp;
  }
#line 1959
  if (! seg) {
#line 1960
    return ((jpc_dec_seg_t *)0);
  }
#line 1962
  seg->prev = (struct jpc_dec_seg_s *)0;
#line 1963
  seg->next = (struct jpc_dec_seg_s *)0;
#line 1964
  seg->passno = -1;
#line 1965
  seg->numpasses = 0;
#line 1966
  seg->maxpasses = 0;
#line 1967
  seg->type = 0;
#line 1968
  seg->stream = (jas_stream_t *)0;
#line 1969
  seg->cnt = 0;
#line 1970
  seg->complete = 0;
#line 1971
  seg->lyrno = -1;
#line 1972
  return (seg);
}
}
#line 1975 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
void jpc_seg_destroy(jpc_dec_seg_t *seg ) 
{ 


  {
#line 1977
  if (seg->stream) {
    {
#line 1978
    jas_stream_close(seg->stream);
    }
  }
  {
#line 1980
  jas_free((void *)seg);
  }
#line 1982
  return;
}
}
#line 1983 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
static int jpc_dec_dump(jpc_dec_t *dec , FILE *out ) 
{ 
  jpc_dec_tile_t *tile ;
  int tileno ;
  jpc_dec_tcomp_t *tcomp ;
  int compno ;
  jpc_dec_rlvl_t *rlvl ;
  int rlvlno ;
  jpc_dec_band_t *band ;
  int bandno ;
  jpc_dec_prc_t *prc ;
  int prcno ;
  jpc_dec_cblk_t *cblk ;
  int cblkno ;

  {
#line 1998
  tile = dec->tiles;
#line 1998
  tileno = 0;
  {
#line 1998
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1998
    if (! (tileno < dec->numtiles)) {
#line 1998
      goto while_break;
    }
#line 2000
    tcomp = tile->tcomps;
#line 2000
    compno = 0;
    {
#line 2000
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 2000
      if (! (compno < dec->numcomps)) {
#line 2000
        goto while_break___0;
      }
#line 2002
      rlvl = tcomp->rlvls;
#line 2002
      rlvlno = 0;
      {
#line 2002
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 2002
        if (! (rlvlno < tcomp->numrlvls)) {
#line 2002
          goto while_break___1;
        }
        {
#line 2004
        fprintf(out, "RESOLUTION LEVEL %d\n", rlvlno);
#line 2005
        fprintf(out, "xs =%d, ys = %d, xe = %d, ye = %d, w = %d, h = %d\n", rlvl->xstart,
                rlvl->ystart, rlvl->xend, rlvl->yend, rlvl->xend - rlvl->xstart, rlvl->yend - rlvl->ystart);
#line 2008
        band = rlvl->bands;
#line 2008
        bandno = 0;
        }
        {
#line 2008
        while (1) {
          while_continue___2: /* CIL Label */ ;

#line 2008
          if (! (bandno < rlvl->numbands)) {
#line 2008
            goto while_break___2;
          }
          {
#line 2010
          fprintf(out, "BAND %d\n\230\001", bandno);
#line 2011
          fprintf(out, "xs =%d, ys = %d, xe = %d, ye = %d, w = %d, h = %d\n", (band->data)->xstart_,
                  (band->data)->ystart_, (band->data)->xend_, (band->data)->yend_,
                  (band->data)->xend_ - (band->data)->xstart_, (band->data)->yend_ - (band->data)->ystart_);
#line 2015
          prc = band->prcs;
#line 2015
          prcno = 0;
          }
          {
#line 2015
          while (1) {
            while_continue___3: /* CIL Label */ ;

#line 2015
            if (! (prcno < rlvl->numprcs)) {
#line 2015
              goto while_break___3;
            }
            {
#line 2018
            fprintf(out, "CODE BLOCK GROUP %d\n", prcno);
#line 2019
            fprintf(out, "xs =%d, ys = %d, xe = %d, ye = %d, w = %d, h = %d\n", prc->xstart,
                    prc->ystart, prc->xend, prc->yend, prc->xend - prc->xstart, prc->yend - prc->ystart);
#line 2022
            cblk = prc->cblks;
#line 2022
            cblkno = 0;
            }
            {
#line 2022
            while (1) {
              while_continue___4: /* CIL Label */ ;

#line 2022
              if (! (cblkno < prc->numcblks)) {
#line 2022
                goto while_break___4;
              }
              {
#line 2026
              fprintf(out, "CODE BLOCK %d\n", cblkno);
#line 2027
              fprintf(out, "xs =%d, ys = %d, xe = %d, ye = %d, w = %d, h = %d\n",
                      (cblk->data)->xstart_, (cblk->data)->ystart_, (cblk->data)->xend_,
                      (cblk->data)->yend_, (cblk->data)->xend_ - (cblk->data)->xstart_,
                      (cblk->data)->yend_ - (cblk->data)->ystart_);
#line 2024
              cblk ++;
#line 2024
              cblkno ++;
              }
            }
            while_break___10: /* CIL Label */ ;
            }
            while_break___4: 
#line 2016
            prc ++;
#line 2016
            prcno ++;
          }
          while_break___9: /* CIL Label */ ;
          }
          while_break___3: 
#line 2009
          band ++;
#line 2009
          bandno ++;
        }
        while_break___8: /* CIL Label */ ;
        }
        while_break___2: 
#line 2003
        rlvl ++;
#line 2003
        rlvlno ++;
      }
      while_break___7: /* CIL Label */ ;
      }
      while_break___1: 
#line 2001
      tcomp ++;
#line 2001
      compno ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___0: 
#line 1999
    tile ++;
#line 1999
    tileno ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break: ;
#line 2038
  return (0);
}
}
#line 2041 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jpc_streamlist_t *jpc_streamlist_create(void) 
{ 
  jpc_streamlist_t *streamlist ;
  int i ;
  void *tmp ;
  void *tmp___0 ;

  {
  {
#line 2046
  tmp = jas_malloc(sizeof(jpc_streamlist_t ));
#line 2046
  streamlist = (jpc_streamlist_t *)tmp;
  }
#line 2046
  if (! streamlist) {
#line 2047
    return ((jpc_streamlist_t *)0);
  }
  {
#line 2049
  streamlist->numstreams = 0;
#line 2050
  streamlist->maxstreams = 100;
#line 2051
  tmp___0 = jas_alloc2((size_t )streamlist->maxstreams, sizeof(jas_stream_t *));
#line 2051
  streamlist->streams = (jas_stream_t **)tmp___0;
  }
#line 2051
  if (! streamlist->streams) {
    {
#line 2053
    jas_free((void *)streamlist);
    }
#line 2054
    return ((jpc_streamlist_t *)0);
  }
#line 2056
  i = 0;
  {
#line 2056
  while (1) {
    while_continue: /* CIL Label */ ;

#line 2056
    if (! (i < streamlist->maxstreams)) {
#line 2056
      goto while_break;
    }
#line 2057
    *(streamlist->streams + i) = (jas_stream_t *)0;
#line 2056
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 2059
  return (streamlist);
}
}
#line 2062 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
int jpc_streamlist_insert(jpc_streamlist_t *streamlist , int streamno , jas_stream_t *stream ) 
{ 
  jas_stream_t **newstreams ;
  int newmaxstreams ;
  int i ;
  void *tmp ;

  {
#line 2069
  if (streamlist->numstreams >= streamlist->maxstreams) {
    {
#line 2070
    newmaxstreams = streamlist->maxstreams + 1024;
#line 2071
    tmp = jas_realloc2((void *)streamlist->streams, (size_t )(newmaxstreams + 1024),
                       sizeof(jas_stream_t *));
#line 2071
    newstreams = (jas_stream_t **)tmp;
    }
#line 2071
    if (! newstreams) {
#line 2073
      return (-1);
    }
#line 2075
    i = streamlist->numstreams;
    {
#line 2075
    while (1) {
      while_continue: /* CIL Label */ ;

#line 2075
      if (! (i < streamlist->maxstreams)) {
#line 2075
        goto while_break;
      }
#line 2076
      *(streamlist->streams + i) = (jas_stream_t *)0;
#line 2075
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
#line 2078
    streamlist->maxstreams = newmaxstreams;
#line 2079
    streamlist->streams = newstreams;
  }
#line 2081
  if (streamno != streamlist->numstreams) {
#line 2083
    return (-1);
  }
#line 2085
  *(streamlist->streams + streamno) = stream;
#line 2086
  (streamlist->numstreams) ++;
#line 2087
  return (0);
}
}
#line 2090 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jas_stream_t *jpc_streamlist_remove(jpc_streamlist_t *streamlist , int streamno ) 
{ 
  jas_stream_t *stream ;
  int i ;

  {
#line 2094
  if (streamno >= streamlist->numstreams) {
    {
#line 2095
    abort();
    }
  }
#line 2097
  stream = *(streamlist->streams + streamno);
#line 2098
  i = streamno + 1;
  {
#line 2098
  while (1) {
    while_continue: /* CIL Label */ ;

#line 2098
    if (! (i < streamlist->numstreams)) {
#line 2098
      goto while_break;
    }
#line 2099
    *(streamlist->streams + (i - 1)) = *(streamlist->streams + i);
#line 2098
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 2101
  (streamlist->numstreams) --;
#line 2102
  return (stream);
}
}
#line 2105 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
void jpc_streamlist_destroy(jpc_streamlist_t *streamlist ) 
{ 
  int streamno ;

  {
#line 2108
  if (streamlist->streams) {
#line 2109
    streamno = 0;
    {
#line 2109
    while (1) {
      while_continue: /* CIL Label */ ;

#line 2109
      if (! (streamno < streamlist->numstreams)) {
#line 2109
        goto while_break;
      }
      {
#line 2111
      jas_stream_close(*(streamlist->streams + streamno));
#line 2110
      streamno ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 2113
    jas_free((void *)streamlist->streams);
    }
  }
  {
#line 2115
  jas_free((void *)streamlist);
  }
#line 2117
  return;
}
}
#line 2118 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jas_stream_t *jpc_streamlist_get(jpc_streamlist_t *streamlist , int streamno ) 
{ 


  {
#line 2121
  return (*(streamlist->streams + streamno));
}
}
#line 2124 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
int jpc_streamlist_numstreams(jpc_streamlist_t *streamlist ) 
{ 


  {
#line 2126
  return (streamlist->numstreams);
}
}
#line 2129 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jpc_ppxstab_t *jpc_ppxstab_create(void) 
{ 
  jpc_ppxstab_t *tab ;
  void *tmp ;

  {
  {
#line 2133
  tmp = jas_malloc(sizeof(jpc_ppxstab_t ));
#line 2133
  tab = (jpc_ppxstab_t *)tmp;
  }
#line 2133
  if (! tab) {
#line 2134
    return ((jpc_ppxstab_t *)0);
  }
#line 2136
  tab->numents = 0;
#line 2137
  tab->maxents = 0;
#line 2138
  tab->ents = (jpc_ppxstabent_t **)0;
#line 2139
  return (tab);
}
}
#line 2142 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
void jpc_ppxstab_destroy(jpc_ppxstab_t *tab ) 
{ 
  int i ;

  {
#line 2145
  i = 0;
  {
#line 2145
  while (1) {
    while_continue: /* CIL Label */ ;

#line 2145
    if (! (i < tab->numents)) {
#line 2145
      goto while_break;
    }
    {
#line 2146
    jpc_ppxstabent_destroy(*(tab->ents + i));
#line 2145
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 2148
  if (tab->ents) {
    {
#line 2149
    jas_free((void *)tab->ents);
    }
  }
  {
#line 2151
  jas_free((void *)tab);
  }
#line 2153
  return;
}
}
#line 2154 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
int jpc_ppxstab_grow(jpc_ppxstab_t *tab , int maxents ) 
{ 
  jpc_ppxstabent_t **newents ;
  void *__cil_tmp4 ;
  void *__cil_tmp5 ;
  void *tmp ;

  {
#line 2157
  if (tab->maxents < maxents) {
#line 2158
    if (tab->ents) {
      {
#line 2158
      __cil_tmp4 = jas_realloc2((void *)tab->ents, (size_t )maxents, sizeof(jpc_ppxstabent_t *));
#line 2158
      tmp = __cil_tmp4;
      }
    } else {
      {
#line 2158
      __cil_tmp5 = jas_alloc2((size_t )maxents, sizeof(jpc_ppxstabent_t *));
#line 2158
      tmp = __cil_tmp5;
      }
    }
#line 2158
    newents = (jpc_ppxstabent_t **)tmp;
#line 2160
    if (! newents) {
#line 2161
      return (-1);
    }
#line 2163
    tab->ents = newents;
#line 2164
    tab->maxents = maxents;
  }
#line 2166
  return (0);
}
}
#line 2169 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
int jpc_ppxstab_insert(jpc_ppxstab_t *tab , jpc_ppxstabent_t *ent ) 
{ 
  int inspt ;
  int i ;
  int __cil_tmp5 ;

  {
#line 2174
  i = 0;
  {
#line 2174
  while (1) {
    while_continue: /* CIL Label */ ;

#line 2174
    if (! (i < tab->numents)) {
#line 2174
      goto while_break;
    }
#line 2175
    if ((*(tab->ents + i))->ind > ent->ind) {
#line 2176
      goto while_break;
    }
#line 2174
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 2179
  inspt = i;
#line 2181
  if (tab->numents >= tab->maxents) {
    {
#line 2182
    __cil_tmp5 = jpc_ppxstab_grow(tab, tab->maxents + 128);
    }
#line 2182
    if (__cil_tmp5) {
#line 2183
      return (-1);
    }
  }
#line 2187
  i = tab->numents;
  {
#line 2187
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 2187
    if (! (i > inspt)) {
#line 2187
      goto while_break___0;
    }
#line 2188
    *(tab->ents + i) = *(tab->ents + (i - 1));
#line 2187
    i --;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: 
#line 2190
  *(tab->ents + i) = ent;
#line 2191
  (tab->numents) ++;
#line 2193
  return (0);
}
}
#line 2196 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jpc_streamlist_t *jpc_ppmstabtostreams(jpc_ppxstab_t *tab ) 
{ 
  jpc_streamlist_t *streams ;
  unsigned char *dataptr ;
  uint_fast32_t datacnt ;
  uint_fast32_t tpcnt ;
  jpc_ppxstabent_t *ent ;
  int entno ;
  jas_stream_t *stream ;
  int n ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  uint_fast32_t tmp ;
  int __cil_tmp15 ;

  {
  {
#line 2207
  streams = jpc_streamlist_create();
  }
#line 2207
  if (! streams) {
#line 2208
    goto error;
  }
#line 2211
  if (! tab->numents) {
#line 2212
    return (streams);
  }
#line 2215
  entno = 0;
#line 2216
  ent = *(tab->ents + entno);
#line 2217
  dataptr = ent->data;
#line 2218
  datacnt = ent->len;
  {
#line 2219
  while (1) {
    while_continue: /* CIL Label */ ;

#line 2223
    if (datacnt < 4UL) {
#line 2224
      goto error;
    }
    {
#line 2226
    stream = jas_stream_memopen((char *)0, 0);
    }
#line 2226
    if (! stream) {
#line 2227
      goto error;
    }
    {
#line 2229
    __cil_tmp12 = jpc_streamlist_numstreams(streams);
#line 2229
    __cil_tmp13 = jpc_streamlist_insert(streams, __cil_tmp12, stream);
    }
#line 2229
    if (__cil_tmp13) {
#line 2231
      goto error;
    }
#line 2233
    tpcnt = (uint_fast32_t )(((((int )*(dataptr + 0) << 24) | ((int )*(dataptr + 1) << 16)) | ((int )*(dataptr + 2) << 8)) | (int )*(dataptr + 3));
#line 2235
    datacnt -= 4UL;
#line 2236
    dataptr += 4;
    {
#line 2239
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 2239
      if (! tpcnt) {
#line 2239
        goto while_break___0;
      }
#line 2240
      if (! datacnt) {
#line 2241
        entno ++;
#line 2241
        if (entno >= tab->numents) {
#line 2242
          goto error;
        }
#line 2244
        ent = *(tab->ents + entno);
#line 2245
        dataptr = ent->data;
#line 2246
        datacnt = ent->len;
      }
#line 2248
      if (tpcnt < datacnt) {
#line 2248
        tmp = tpcnt;
      } else {
#line 2248
        tmp = datacnt;
      }
      {
#line 2248
      n = (int )tmp;
#line 2249
      __cil_tmp15 = jas_stream_write(stream, (void const   *)dataptr, n);
      }
#line 2249
      if (__cil_tmp15 != n) {
#line 2250
        goto error;
      }
#line 2252
      tpcnt -= (unsigned long )n;
#line 2253
      dataptr += n;
#line 2254
      datacnt -= (unsigned long )n;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 2256
    jas_stream_rewind(stream);
    }
#line 2257
    if (! datacnt) {
#line 2258
      entno ++;
#line 2258
      if (entno >= tab->numents) {
#line 2259
        goto while_break;
      }
#line 2261
      ent = *(tab->ents + entno);
#line 2262
      dataptr = ent->data;
#line 2263
      datacnt = ent->len;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 2267
  return (streams);
  error: 
#line 2270
  if (streams) {
    {
#line 2271
    jpc_streamlist_destroy(streams);
    }
  }
#line 2273
  return ((jpc_streamlist_t *)0);
}
}
#line 2276 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
int jpc_pptstabwrite(jas_stream_t *out , jpc_ppxstab_t *tab ) 
{ 
  int i ;
  jpc_ppxstabent_t *ent ;
  int __cil_tmp5 ;

  {
#line 2280
  i = 0;
  {
#line 2280
  while (1) {
    while_continue: /* CIL Label */ ;

#line 2280
    if (! (i < tab->numents)) {
#line 2280
      goto while_break;
    }
    {
#line 2281
    ent = *(tab->ents + i);
#line 2282
    __cil_tmp5 = jas_stream_write(out, (void const   *)ent->data, (int )ent->len);
    }
#line 2282
    if (__cil_tmp5 != (int )ent->len) {
#line 2283
      return (-1);
    }
#line 2280
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 2286
  return (0);
}
}
#line 2289 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
jpc_ppxstabent_t *jpc_ppxstabent_create(void) 
{ 
  jpc_ppxstabent_t *ent ;
  void *tmp ;

  {
  {
#line 2292
  tmp = jas_malloc(sizeof(jpc_ppxstabent_t ));
#line 2292
  ent = (jpc_ppxstabent_t *)tmp;
  }
#line 2292
  if (! ent) {
#line 2293
    return ((jpc_ppxstabent_t *)0);
  }
#line 2295
  ent->data = (unsigned char *)0;
#line 2296
  ent->len = (uint_fast32_t )0;
#line 2297
  ent->ind = (uint_fast16_t )0;
#line 2298
  return (ent);
}
}
#line 2301 "/root/patron-new/new_2/src/libjasper/jpc/jpc_dec.c"
void jpc_ppxstabent_destroy(jpc_ppxstabent_t *ent ) 
{ 


  {
#line 2303
  if (ent->data) {
    {
#line 2304
    jas_free((void *)ent->data);
    }
  }
  {
#line 2306
  jas_free((void *)ent);
  }
#line 2308
  return;
}
}
#line 98 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static jpc_mstabent_t *jpc_mstab_lookup(int id ) ;
#line 100
static int jpc_poc_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 101
static int jpc_poc_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 102
static int jpc_poc_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 103
static void jpc_poc_destroyparms(jpc_ms_t *ms ) ;
#line 105
static int jpc_unk_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 106
static int jpc_sot_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 107
static int jpc_siz_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 108
static int jpc_cod_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 109
static int jpc_coc_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 110
static int jpc_qcd_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 111
static int jpc_qcc_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 112
static int jpc_rgn_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 113
static int jpc_sop_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 114
static int jpc_ppm_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 115
static int jpc_ppt_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 116
static int jpc_crg_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 117
static int jpc_com_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) ;
#line 119
static int jpc_sot_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 120
static int jpc_siz_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 121
static int jpc_cod_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 122
static int jpc_coc_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 123
static int jpc_qcd_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 124
static int jpc_qcc_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 125
static int jpc_rgn_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 126
static int jpc_unk_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 127
static int jpc_sop_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 128
static int jpc_ppm_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 129
static int jpc_ppt_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 130
static int jpc_crg_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 131
static int jpc_com_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 133
static int jpc_sot_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 134
static int jpc_siz_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 135
static int jpc_cod_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 136
static int jpc_coc_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 137
static int jpc_qcd_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 138
static int jpc_qcc_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 139
static int jpc_rgn_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 140
static int jpc_unk_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 141
static int jpc_sop_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 142
static int jpc_ppm_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 143
static int jpc_ppt_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 144
static int jpc_crg_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 145
static int jpc_com_dumpparms(jpc_ms_t *ms , FILE *out ) ;
#line 147
static void jpc_siz_destroyparms(jpc_ms_t *ms ) ;
#line 148
static void jpc_qcd_destroyparms(jpc_ms_t *ms ) ;
#line 149
static void jpc_qcc_destroyparms(jpc_ms_t *ms ) ;
#line 150
static void jpc_cod_destroyparms(jpc_ms_t *ms ) ;
#line 151
static void jpc_coc_destroyparms(jpc_ms_t *ms ) ;
#line 152
static void jpc_unk_destroyparms(jpc_ms_t *ms ) ;
#line 153
static void jpc_ppm_destroyparms(jpc_ms_t *ms ) ;
#line 154
static void jpc_ppt_destroyparms(jpc_ms_t *ms ) ;
#line 155
static void jpc_crg_destroyparms(jpc_ms_t *ms ) ;
#line 156
static void jpc_com_destroyparms(jpc_ms_t *ms ) ;
#line 158
static void jpc_qcx_destroycompparms(jpc_qcxcp_t *compparms ) ;
#line 159
static int jpc_qcx_getcompparms(jpc_qcxcp_t *compparms , jpc_cstate_t *cstate , jas_stream_t *in ,
                                uint_fast16_t len ) ;
#line 161
static int jpc_qcx_putcompparms(jpc_qcxcp_t *compparms , jpc_cstate_t *cstate , jas_stream_t *out ) ;
#line 163
static void jpc_cox_destroycompparms(jpc_coxcp_t *compparms ) ;
#line 164
static int jpc_cox_getcompparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ,
                                int prtflag , jpc_coxcp_t *compparms ) ;
#line 166
static int jpc_cox_putcompparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ,
                                int prtflag , jpc_coxcp_t *compparms ) ;
#line 173 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static jpc_mstabent_t jpc_mstab[20]  = 
#line 173
  {      {65359, (char *)"SOC", {(void (*)(jpc_ms_t * ))0, (int (*)(jpc_ms_t * , jpc_cstate_t * ,
                                                                jas_stream_t * ))0,
                             (int (*)(jpc_ms_t * , jpc_cstate_t * , jas_stream_t * ))0,
                             (int (*)(jpc_ms_t * , FILE * ))0}}, 
        {65424, (char *)"SOT", {(void (*)(jpc_ms_t * ))0, & jpc_sot_getparms, & jpc_sot_putparms,
                             & jpc_sot_dumpparms}}, 
        {65427, (char *)"SOD", {(void (*)(jpc_ms_t * ))0, (int (*)(jpc_ms_t * , jpc_cstate_t * ,
                                                                jas_stream_t * ))0,
                             (int (*)(jpc_ms_t * , jpc_cstate_t * , jas_stream_t * ))0,
                             (int (*)(jpc_ms_t * , FILE * ))0}}, 
        {65497, (char *)"EOC", {(void (*)(jpc_ms_t * ))0, (int (*)(jpc_ms_t * , jpc_cstate_t * ,
                                                                jas_stream_t * ))0,
                             (int (*)(jpc_ms_t * , jpc_cstate_t * , jas_stream_t * ))0,
                             (int (*)(jpc_ms_t * , FILE * ))0}}, 
        {65361, (char *)"SIZ", {& jpc_siz_destroyparms, & jpc_siz_getparms, & jpc_siz_putparms,
                             & jpc_siz_dumpparms}}, 
        {65362, (char *)"COD", {& jpc_cod_destroyparms, & jpc_cod_getparms, & jpc_cod_putparms,
                             & jpc_cod_dumpparms}}, 
        {65363, (char *)"COC", {& jpc_coc_destroyparms, & jpc_coc_getparms, & jpc_coc_putparms,
                             & jpc_coc_dumpparms}}, 
        {65374, (char *)"RGN", {(void (*)(jpc_ms_t * ))0, & jpc_rgn_getparms, & jpc_rgn_putparms,
                             & jpc_rgn_dumpparms}}, 
        {65372, (char *)"QCD", {& jpc_qcd_destroyparms, & jpc_qcd_getparms, & jpc_qcd_putparms,
                             & jpc_qcd_dumpparms}}, 
        {65373, (char *)"QCC", {& jpc_qcc_destroyparms, & jpc_qcc_getparms, & jpc_qcc_putparms,
                             & jpc_qcc_dumpparms}}, 
        {65375, (char *)"POC", {& jpc_poc_destroyparms, & jpc_poc_getparms, & jpc_poc_putparms,
                             & jpc_poc_dumpparms}}, 
        {65365, (char *)"TLM", {(void (*)(jpc_ms_t * ))0, & jpc_unk_getparms, & jpc_unk_putparms,
                             (int (*)(jpc_ms_t * , FILE * ))0}}, 
        {65367, (char *)"PLM", {(void (*)(jpc_ms_t * ))0, & jpc_unk_getparms, & jpc_unk_putparms,
                             (int (*)(jpc_ms_t * , FILE * ))0}}, 
        {65376, (char *)"PPM", {& jpc_ppm_destroyparms, & jpc_ppm_getparms, & jpc_ppm_putparms,
                             & jpc_ppm_dumpparms}}, 
        {65377, (char *)"PPT", {& jpc_ppt_destroyparms, & jpc_ppt_getparms, & jpc_ppt_putparms,
                             & jpc_ppt_dumpparms}}, 
        {65425, (char *)"SOP", {(void (*)(jpc_ms_t * ))0, & jpc_sop_getparms, & jpc_sop_putparms,
                             & jpc_sop_dumpparms}}, 
        {65426, (char *)"EPH", {(void (*)(jpc_ms_t * ))0, (int (*)(jpc_ms_t * , jpc_cstate_t * ,
                                                                jas_stream_t * ))0,
                             (int (*)(jpc_ms_t * , jpc_cstate_t * , jas_stream_t * ))0,
                             (int (*)(jpc_ms_t * , FILE * ))0}}, 
        {65379, (char *)"CRG", {(void (*)(jpc_ms_t * ))0, & jpc_crg_getparms, & jpc_crg_putparms,
                             & jpc_crg_dumpparms}}, 
        {65380, (char *)"COM", {& jpc_com_destroyparms, & jpc_com_getparms, & jpc_com_putparms,
                             & jpc_com_dumpparms}}, 
        {-1, (char *)"UNKNOWN", {& jpc_unk_destroyparms, & jpc_unk_getparms, & jpc_unk_putparms,
                              & jpc_unk_dumpparms}}};
#line 215 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
jpc_cstate_t *jpc_cstate_create(void) 
{ 
  jpc_cstate_t *cstate ;
  void *tmp ;

  {
  {
#line 218
  tmp = jas_malloc(sizeof(jpc_cstate_t ));
#line 218
  cstate = (jpc_cstate_t *)tmp;
  }
#line 218
  if (! cstate) {
#line 219
    return ((jpc_cstate_t *)0);
  }
#line 221
  cstate->numcomps = (uint_fast16_t )0;
#line 222
  return (cstate);
}
}
#line 226 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
void jpc_cstate_destroy(jpc_cstate_t *cstate ) 
{ 


  {
  {
#line 228
  jas_free((void *)cstate);
  }
#line 230
  return;
}
}
#line 232 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
jpc_ms_t *jpc_getms(jas_stream_t *in , jpc_cstate_t *cstate ) 
{ 
  jpc_ms_t *ms ;
  jpc_mstabent_t *mstabent ;
  jas_stream_t *tmpstream ;
  int __cil_tmp7 ;
  int __cil_tmp9 ;
  int __cil_tmp11 ;
  long __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  long __cil_tmp15 ;
  long __cil_tmp16 ;
  int __cil_tmp17 ;

  {
  {
#line 238
  ms = jpc_ms_create(0);
  }
#line 238
  if (! ms) {
#line 239
    return ((jpc_ms_t *)0);
  }
  {
#line 243
  __cil_tmp7 = jpc_getuint16(in, & ms->id);
  }
#line 243
  if (__cil_tmp7) {
    {
#line 245
    jpc_ms_destroy(ms);
    }
#line 246
    return ((jpc_ms_t *)0);
  } else
#line 243
  if (ms->id < 65280UL) {
    {
#line 245
    jpc_ms_destroy(ms);
    }
#line 246
    return ((jpc_ms_t *)0);
  } else
#line 243
  if (ms->id > 65535UL) {
    {
#line 245
    jpc_ms_destroy(ms);
    }
#line 246
    return ((jpc_ms_t *)0);
  }
  {
#line 249
  mstabent = jpc_mstab_lookup((int )ms->id);
#line 250
  ms->ops = & mstabent->ops;
  }
#line 256
  if (ms->id == 65359UL) {
#line 256
    goto _L___10;
  } else
#line 256
  if (ms->id == 65427UL) {
#line 256
    goto _L___10;
  } else
#line 256
  if (ms->id == 65497UL) {
#line 256
    goto _L___10;
  } else
#line 256
  if (ms->id == 65426UL) {
#line 256
    goto _L___10;
  } else
#line 256
  if (ms->id >= 65328UL) {
#line 256
    if (ms->id <= 65343UL) {
      _L___10: /* CIL Label */ 
      {
#line 301
      ms->len = (uint_fast16_t )0;
#line 303
      __cil_tmp17 = jas_getdbglevel();
      }
#line 303
      if (__cil_tmp17 > 0) {
        {
#line 304
        jpc_ms_dump(ms, stderr);
        }
      }
    } else {
#line 256
      goto _L___11;
    }
  } else {
    _L___11: /* CIL Label */ 
    {
#line 258
    __cil_tmp9 = jpc_getuint16(in, & ms->len);
    }
#line 258
    if (__cil_tmp9) {
      {
#line 259
      jpc_ms_destroy(ms);
      }
#line 260
      return ((jpc_ms_t *)0);
    } else
#line 258
    if (ms->len < 3UL) {
      {
#line 259
      jpc_ms_destroy(ms);
      }
#line 260
      return ((jpc_ms_t *)0);
    }
    {
#line 263
    ms->len -= 2UL;
#line 269
    tmpstream = jas_stream_memopen((char *)0, 0);
    }
#line 269
    if (! tmpstream) {
      {
#line 270
      jpc_ms_destroy(ms);
      }
#line 271
      return ((jpc_ms_t *)0);
    }
    {
#line 273
    __cil_tmp12 = jas_stream_seek(tmpstream, 0L, 0);
#line 273
    __cil_tmp11 = jas_stream_copy(tmpstream, in, (int )ms->len);
    }
#line 273
    if (__cil_tmp11) {
      {
#line 275
      jas_stream_close(tmpstream);
#line 276
      jpc_ms_destroy(ms);
      }
#line 277
      return ((jpc_ms_t *)0);
    } else
#line 273
    if (__cil_tmp12 < 0L) {
      {
#line 275
      jas_stream_close(tmpstream);
#line 276
      jpc_ms_destroy(ms);
      }
#line 277
      return ((jpc_ms_t *)0);
    }
    {
#line 280
    __cil_tmp13 = (*((ms->ops)->getparms))(ms, cstate, tmpstream);
    }
#line 280
    if (__cil_tmp13) {
      {
#line 281
      ms->ops = (struct jpc_msops_s *)0;
#line 282
      jpc_ms_destroy(ms);
#line 283
      jas_stream_close(tmpstream);
      }
#line 284
      return ((jpc_ms_t *)0);
    }
    {
#line 287
    __cil_tmp14 = jas_getdbglevel();
    }
#line 287
    if (__cil_tmp14 > 0) {
      {
#line 288
      jpc_ms_dump(ms, stderr);
      }
    }
    {
#line 291
    __cil_tmp15 = jas_stream_tell(tmpstream);
    }
#line 291
    if ((unsigned long )__cil_tmp15 != ms->len) {
      {
#line 292
      __cil_tmp16 = jas_stream_tell(tmpstream);
#line 292
      jas_eprintf("warning: trailing garbage in marker segment (%ld bytes)\n\230\001",
                  ms->len - (unsigned long )__cil_tmp16);
      }
    }
    {
#line 297
    jas_stream_close(tmpstream);
    }
  }
#line 312
  if (ms->id == 65361UL) {
#line 313
    cstate->numcomps = ms->parms.siz.numcomps;
  }
#line 316
  return (ms);
}
}
#line 320 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_putms(jas_stream_t *out , jpc_cstate_t *cstate , jpc_ms_t *ms ) 
{ 
  jas_stream_t *tmpstream ;
  int len ;
  int __cil_tmp6 ;
  int __cil_tmp8 ;
  long __cil_tmp9 ;
  long __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
  {
#line 326
  __cil_tmp6 = jpc_putuint16(out, ms->id);
  }
#line 326
  if (__cil_tmp6) {
#line 327
    return (-1);
  }
#line 331
  if ((ms->ops)->putparms) {
    {
#line 334
    tmpstream = jas_stream_memopen((char *)0, 0);
    }
#line 334
    if (! tmpstream) {
#line 335
      return (-1);
    }
    {
#line 337
    __cil_tmp8 = (*((ms->ops)->putparms))(ms, cstate, tmpstream);
    }
#line 337
    if (__cil_tmp8) {
      {
#line 338
      jas_stream_close(tmpstream);
      }
#line 339
      return (-1);
    }
    {
#line 342
    __cil_tmp9 = jas_stream_tell(tmpstream);
#line 342
    len = (int )__cil_tmp9;
    }
#line 342
    if (len < 0) {
      {
#line 343
      jas_stream_close(tmpstream);
      }
#line 344
      return (-1);
    }
    {
#line 346
    ms->len = (uint_fast16_t )len;
#line 349
    __cil_tmp12 = jas_stream_copy(out, tmpstream, (int )ms->len);
#line 349
    __cil_tmp11 = jpc_putuint16(out, ms->len + 2UL);
#line 349
    __cil_tmp10 = jas_stream_seek(tmpstream, 0L, 0);
    }
#line 349
    if (__cil_tmp10 < 0L) {
      {
#line 352
      jas_stream_close(tmpstream);
      }
#line 353
      return (-1);
    } else
#line 349
    if (__cil_tmp11) {
      {
#line 352
      jas_stream_close(tmpstream);
      }
#line 353
      return (-1);
    } else
#line 349
    if (__cil_tmp12 < 0) {
      {
#line 352
      jas_stream_close(tmpstream);
      }
#line 353
      return (-1);
    }
    {
#line 356
    jas_stream_close(tmpstream);
    }
  }
#line 361
  if (ms->id == 65361UL) {
#line 362
    cstate->numcomps = ms->parms.siz.numcomps;
  }
  {
#line 365
  __cil_tmp13 = jas_getdbglevel();
  }
#line 365
  if (__cil_tmp13 > 0) {
    {
#line 366
    jpc_ms_dump(ms, stderr);
    }
  }
#line 369
  return (0);
}
}
#line 377 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
jpc_ms_t *jpc_ms_create(int type ) 
{ 
  jpc_ms_t *ms ;
  jpc_mstabent_t *mstabent ;
  void *tmp ;

  {
  {
#line 382
  tmp = jas_malloc(sizeof(jpc_ms_t ));
#line 382
  ms = (jpc_ms_t *)tmp;
  }
#line 382
  if (! ms) {
#line 383
    return ((jpc_ms_t *)0);
  }
  {
#line 385
  ms->id = (uint_fast16_t )type;
#line 386
  ms->len = (uint_fast16_t )0;
#line 387
  mstabent = jpc_mstab_lookup((int )ms->id);
#line 388
  ms->ops = & mstabent->ops;
#line 389
  memset((void *)(& ms->parms), 0, sizeof(jpc_msparms_t ));
  }
#line 390
  return (ms);
}
}
#line 394 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
void jpc_ms_destroy(jpc_ms_t *ms ) 
{ 


  {
#line 396
  if (ms->ops) {
#line 396
    if ((ms->ops)->destroyparms) {
      {
#line 397
      (*((ms->ops)->destroyparms))(ms);
      }
    }
  }
  {
#line 399
  jas_free((void *)ms);
  }
#line 401
  return;
}
}
#line 403 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
void jpc_ms_dump(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_mstabent_t *mstabent ;

  {
  {
#line 406
  mstabent = jpc_mstab_lookup((int )ms->id);
#line 407
  fprintf(out, "type = 0x%04x (%s);", ms->id, mstabent->name);
  }
#line 408
  if (ms->id == 65359UL) {
    {
#line 416
    fprintf(out, "\n\322\025\373PV");
    }
  } else
#line 408
  if (ms->id == 65427UL) {
    {
#line 416
    fprintf(out, "\n\322\025\373PV");
    }
  } else
#line 408
  if (ms->id == 65497UL) {
    {
#line 416
    fprintf(out, "\n\322\025\373PV");
    }
  } else
#line 408
  if (ms->id == 65426UL) {
    {
#line 416
    fprintf(out, "\n\322\025\373PV");
    }
  } else
#line 408
  if (ms->id >= 65328UL) {
#line 408
    if (ms->id <= 65343UL) {
      {
#line 416
      fprintf(out, "\n\322\025\373PV");
      }
    } else {
#line 408
      goto _L___10;
    }
  } else {
    _L___10: /* CIL Label */ 
    {
#line 409
    fprintf(out, " len = %d;", ms->len + 2UL);
    }
#line 410
    if ((ms->ops)->dumpparms) {
      {
#line 411
      (*((ms->ops)->dumpparms))(ms, out);
      }
    } else {
      {
#line 413
      fprintf(out, "\n\243\025\373PV");
      }
    }
  }
#line 419
  return;
}
}
#line 424 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_sot_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_sot_t *sot ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
  {
#line 426
  sot = & ms->parms.sot;
#line 429
  cstate = (jpc_cstate_t *)0;
#line 431
  __cil_tmp8 = jpc_getuint8(in, & sot->numparts);
#line 431
  __cil_tmp7 = jpc_getuint8(in, & sot->partno);
#line 431
  __cil_tmp6 = jpc_getuint32(in, & sot->len);
#line 431
  __cil_tmp5 = jpc_getuint16(in, & sot->tileno);
  }
#line 431
  if (__cil_tmp5) {
#line 435
    return (-1);
  } else
#line 431
  if (__cil_tmp6) {
#line 435
    return (-1);
  } else
#line 431
  if (__cil_tmp7) {
#line 435
    return (-1);
  } else
#line 431
  if (__cil_tmp8) {
#line 435
    return (-1);
  }
#line 437
  if ((in->flags_ & 1) != 0) {
#line 438
    return (-1);
  }
#line 440
  return (0);
}
}
#line 443 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_sot_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_sot_t *sot ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
  {
#line 445
  sot = & ms->parms.sot;
#line 448
  cstate = (jpc_cstate_t *)0;
#line 450
  __cil_tmp8 = jpc_putuint8(out, sot->numparts);
#line 450
  __cil_tmp7 = jpc_putuint8(out, sot->partno);
#line 450
  __cil_tmp6 = jpc_putuint32(out, sot->len);
#line 450
  __cil_tmp5 = jpc_putuint16(out, sot->tileno);
  }
#line 450
  if (__cil_tmp5) {
#line 454
    return (-1);
  } else
#line 450
  if (__cil_tmp6) {
#line 454
    return (-1);
  } else
#line 450
  if (__cil_tmp7) {
#line 454
    return (-1);
  } else
#line 450
  if (__cil_tmp8) {
#line 454
    return (-1);
  }
#line 456
  return (0);
}
}
#line 459 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_sot_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_sot_t *sot ;

  {
  {
#line 461
  sot = & ms->parms.sot;
#line 462
  fprintf(out, "tileno = %d; len = %d; partno = %d; numparts = %d\n\377\377", sot->tileno,
          sot->len, (int )sot->partno, (int )sot->numparts);
  }
#line 464
  return (0);
}
}
#line 471 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_siz_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_siz_t *siz ;

  {
#line 473
  siz = & ms->parms.siz;
#line 474
  if (siz->comps) {
    {
#line 475
    jas_free((void *)siz->comps);
    }
  }
#line 478
  return;
}
}
#line 479 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_siz_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_siz_t *siz ;
  unsigned int i ;
  uint_fast8_t tmp ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  void *tmp___0 ;

  {
  {
#line 482
  siz = & ms->parms.siz;
#line 487
  cstate = (jpc_cstate_t *)0;
#line 489
  __cil_tmp16 = jpc_getuint16(in, & siz->numcomps);
#line 489
  __cil_tmp15 = jpc_getuint32(in, & siz->tileyoff);
#line 489
  __cil_tmp14 = jpc_getuint32(in, & siz->tilexoff);
#line 489
  __cil_tmp13 = jpc_getuint32(in, & siz->tileheight);
#line 489
  __cil_tmp12 = jpc_getuint32(in, & siz->tilewidth);
#line 489
  __cil_tmp11 = jpc_getuint32(in, & siz->yoff);
#line 489
  __cil_tmp10 = jpc_getuint32(in, & siz->xoff);
#line 489
  __cil_tmp9 = jpc_getuint32(in, & siz->height);
#line 489
  __cil_tmp8 = jpc_getuint32(in, & siz->width);
#line 489
  __cil_tmp7 = jpc_getuint16(in, & siz->caps);
  }
#line 489
  if (__cil_tmp7) {
#line 499
    return (-1);
  } else
#line 489
  if (__cil_tmp8) {
#line 499
    return (-1);
  } else
#line 489
  if (__cil_tmp9) {
#line 499
    return (-1);
  } else
#line 489
  if (__cil_tmp10) {
#line 499
    return (-1);
  } else
#line 489
  if (__cil_tmp11) {
#line 499
    return (-1);
  } else
#line 489
  if (__cil_tmp12) {
#line 499
    return (-1);
  } else
#line 489
  if (__cil_tmp13) {
#line 499
    return (-1);
  } else
#line 489
  if (__cil_tmp14) {
#line 499
    return (-1);
  } else
#line 489
  if (__cil_tmp15) {
#line 499
    return (-1);
  } else
#line 489
  if (__cil_tmp16) {
#line 499
    return (-1);
  }
#line 501
  if (! siz->width) {
#line 503
    return (-1);
  } else
#line 501
  if (! siz->height) {
#line 503
    return (-1);
  } else
#line 501
  if (! siz->tilewidth) {
#line 503
    return (-1);
  } else
#line 501
  if (! siz->tileheight) {
#line 503
    return (-1);
  } else
#line 501
  if (! siz->numcomps) {
#line 503
    return (-1);
  }
  {
#line 505
  tmp___0 = jas_alloc2(siz->numcomps, sizeof(jpc_sizcomp_t ));
#line 505
  siz->comps = (jpc_sizcomp_t *)tmp___0;
  }
#line 505
  if (! siz->comps) {
#line 506
    return (-1);
  }
#line 508
  i = 0U;
  {
#line 508
  while (1) {
    while_continue: /* CIL Label */ ;

#line 508
    if (! ((unsigned long )i < siz->numcomps)) {
#line 508
      goto while_break;
    }
    {
#line 509
    __cil_tmp20 = jpc_getuint8(in, & (siz->comps + i)->vsamp);
#line 509
    __cil_tmp19 = jpc_getuint8(in, & (siz->comps + i)->hsamp);
#line 509
    __cil_tmp18 = jpc_getuint8(in, & tmp);
    }
#line 509
    if (__cil_tmp18) {
      {
#line 512
      jas_free((void *)siz->comps);
      }
#line 513
      return (-1);
    } else
#line 509
    if (__cil_tmp19) {
      {
#line 512
      jas_free((void *)siz->comps);
      }
#line 513
      return (-1);
    } else
#line 509
    if (__cil_tmp20) {
      {
#line 512
      jas_free((void *)siz->comps);
      }
#line 513
      return (-1);
    }
#line 515
    (siz->comps + i)->sgnd = (uint_fast8_t )(((int )tmp >> 7) & 1);
#line 516
    (siz->comps + i)->prec = (uint_fast8_t )(((int )tmp & 127) + 1);
#line 508
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 518
  if ((in->flags_ & 1) != 0) {
    {
#line 519
    jas_free((void *)siz->comps);
    }
#line 520
    return (-1);
  }
#line 522
  return (0);
}
}
#line 525 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_siz_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_siz_t *siz ;
  unsigned int i ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;

  {
  {
#line 527
  siz = & ms->parms.siz;
#line 531
  cstate = (jpc_cstate_t *)0;
#line 535
  __cil_tmp16 = jpc_putuint16(out, siz->numcomps);
#line 535
  __cil_tmp15 = jpc_putuint32(out, siz->tileyoff);
#line 535
  __cil_tmp14 = jpc_putuint32(out, siz->tilexoff);
#line 535
  __cil_tmp13 = jpc_putuint32(out, siz->tileheight);
#line 535
  __cil_tmp12 = jpc_putuint32(out, siz->tilewidth);
#line 535
  __cil_tmp11 = jpc_putuint32(out, siz->yoff);
#line 535
  __cil_tmp10 = jpc_putuint32(out, siz->xoff);
#line 535
  __cil_tmp9 = jpc_putuint32(out, siz->height);
#line 535
  __cil_tmp8 = jpc_putuint32(out, siz->width);
#line 535
  __cil_tmp7 = jpc_putuint16(out, siz->caps);
  }
#line 535
  if (__cil_tmp7) {
#line 545
    return (-1);
  } else
#line 535
  if (__cil_tmp8) {
#line 545
    return (-1);
  } else
#line 535
  if (__cil_tmp9) {
#line 545
    return (-1);
  } else
#line 535
  if (__cil_tmp10) {
#line 545
    return (-1);
  } else
#line 535
  if (__cil_tmp11) {
#line 545
    return (-1);
  } else
#line 535
  if (__cil_tmp12) {
#line 545
    return (-1);
  } else
#line 535
  if (__cil_tmp13) {
#line 545
    return (-1);
  } else
#line 535
  if (__cil_tmp14) {
#line 545
    return (-1);
  } else
#line 535
  if (__cil_tmp15) {
#line 545
    return (-1);
  } else
#line 535
  if (__cil_tmp16) {
#line 545
    return (-1);
  }
#line 547
  i = 0U;
  {
#line 547
  while (1) {
    while_continue: /* CIL Label */ ;

#line 547
    if (! ((unsigned long )i < siz->numcomps)) {
#line 547
      goto while_break;
    }
    {
#line 548
    __cil_tmp19 = jpc_putuint8(out, (siz->comps + i)->vsamp);
#line 548
    __cil_tmp18 = jpc_putuint8(out, (siz->comps + i)->hsamp);
#line 548
    __cil_tmp17 = jpc_putuint8(out, (uint_fast8_t )((((int )(siz->comps + i)->sgnd & 1) << 7) | (((int )(siz->comps + i)->prec - 1) & 127)));
    }
#line 548
    if (__cil_tmp17) {
#line 552
      return (-1);
    } else
#line 548
    if (__cil_tmp18) {
#line 552
      return (-1);
    } else
#line 548
    if (__cil_tmp19) {
#line 552
      return (-1);
    }
#line 547
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 555
  return (0);
}
}
#line 558 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_siz_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_siz_t *siz ;
  unsigned int i ;

  {
  {
#line 560
  siz = & ms->parms.siz;
#line 562
  fprintf(out, "caps = 0x%02x;\n", siz->caps);
#line 563
  fprintf(out, "width = %d; height = %d; xoff = %d; yoff = %d;\n", siz->width, siz->height,
          siz->xoff, siz->yoff);
#line 565
  fprintf(out, "tilewidth = %d; tileheight = %d; tilexoff = %d; tileyoff = %d;\n",
          siz->tilewidth, siz->tileheight, siz->tilexoff, siz->tileyoff);
#line 568
  i = 0U;
  }
  {
#line 568
  while (1) {
    while_continue: /* CIL Label */ ;

#line 568
    if (! ((unsigned long )i < siz->numcomps)) {
#line 568
      goto while_break;
    }
    {
#line 569
    fprintf(out, "prec[%d] = %d; sgnd[%d] = %d; hsamp[%d] = %d; vsamp[%d] = %d\n",
            i, (int )(siz->comps + i)->prec, i, (int )(siz->comps + i)->sgnd, i, (int )(siz->comps + i)->hsamp,
            i, (int )(siz->comps + i)->vsamp);
#line 568
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 574
  return (0);
}
}
#line 581 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_cod_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_cod_t *cod ;

  {
  {
#line 583
  cod = & ms->parms.cod;
#line 584
  jpc_cox_destroycompparms(& cod->compparms);
  }
#line 586
  return;
}
}
#line 587 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_cod_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_cod_t *cod ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
  {
#line 589
  cod = & ms->parms.cod;
#line 590
  __cil_tmp5 = jpc_getuint8(in, & cod->csty);
  }
#line 590
  if (__cil_tmp5) {
#line 591
    return (-1);
  }
  {
#line 593
  __cil_tmp8 = jpc_getuint8(in, & cod->mctrans);
#line 593
  __cil_tmp7 = jpc_getuint16(in, & cod->numlyrs);
#line 593
  __cil_tmp6 = jpc_getuint8(in, & cod->prg);
  }
#line 593
  if (__cil_tmp6) {
#line 596
    return (-1);
  } else
#line 593
  if (__cil_tmp7) {
#line 596
    return (-1);
  } else
#line 593
  if (__cil_tmp8) {
#line 596
    return (-1);
  }
  {
#line 598
  __cil_tmp9 = jpc_cox_getcompparms(ms, cstate, in, ((int )cod->csty & 1) != 0, & cod->compparms);
  }
#line 598
  if (__cil_tmp9) {
#line 600
    return (-1);
  }
#line 602
  if ((in->flags_ & 1) != 0) {
    {
#line 603
    jpc_cod_destroyparms(ms);
    }
#line 604
    return (-1);
  }
#line 606
  return (0);
}
}
#line 609 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_cod_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_cod_t *cod ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;

  {
  {
#line 611
  cod = & ms->parms.cod;
#line 614
  __cil_tmp10 = jpc_putuint8(out, cod->mctrans);
#line 614
  __cil_tmp9 = jpc_putuint16(out, cod->numlyrs);
#line 614
  __cil_tmp8 = jpc_putuint8(out, cod->prg);
#line 614
  __cil_tmp7 = jpc_putuint8(out, cod->compparms.csty);
  }
#line 614
  if (__cil_tmp7) {
#line 618
    return (-1);
  } else
#line 614
  if (__cil_tmp8) {
#line 618
    return (-1);
  } else
#line 614
  if (__cil_tmp9) {
#line 618
    return (-1);
  } else
#line 614
  if (__cil_tmp10) {
#line 618
    return (-1);
  }
  {
#line 620
  __cil_tmp11 = jpc_cox_putcompparms(ms, cstate, out, ((int )cod->csty & 1) != 0,
                                     & cod->compparms);
  }
#line 620
  if (__cil_tmp11) {
#line 622
    return (-1);
  }
#line 624
  return (0);
}
}
#line 627 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_cod_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_cod_t *cod ;
  int i ;

  {
  {
#line 629
  cod = & ms->parms.cod;
#line 631
  fprintf(out, "csty = 0x%02x;\n", (int )cod->compparms.csty);
#line 632
  fprintf(out, "numdlvls = %d; qmfbid = %d; mctrans = %d\n", (int )cod->compparms.numdlvls,
          (int )cod->compparms.qmfbid, (int )cod->mctrans);
#line 634
  fprintf(out, "prg = %d; numlyrs = %d;\n\230\001", (int )cod->prg, cod->numlyrs);
#line 636
  fprintf(out, "cblkwidthval = %d; cblkheightval = %d; cblksty = 0x%02x;\n", (int )cod->compparms.cblkwidthval,
          (int )cod->compparms.cblkheightval, (int )cod->compparms.cblksty);
  }
#line 639
  if ((int )cod->csty & 1) {
#line 640
    i = 0;
    {
#line 640
    while (1) {
      while_continue: /* CIL Label */ ;

#line 640
      if (! (i < cod->compparms.numrlvls)) {
#line 640
        goto while_break;
      }
      {
#line 641
      jas_eprintf("prcwidth[%d] = %d, prcheight[%d] = %d\n", i, (int )cod->compparms.rlvls[i].parwidthval,
                  i, (int )cod->compparms.rlvls[i].parheightval);
#line 640
      i ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  }
#line 646
  return (0);
}
}
#line 653 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_coc_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_coc_t *coc ;

  {
  {
#line 655
  coc = & ms->parms.coc;
#line 656
  jpc_cox_destroycompparms(& coc->compparms);
  }
#line 658
  return;
}
}
#line 659 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_coc_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_coc_t *coc ;
  uint_fast8_t tmp ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
#line 661
  coc = & ms->parms.coc;
#line 663
  if (cstate->numcomps <= 256UL) {
    {
#line 664
    __cil_tmp6 = jpc_getuint8(in, & tmp);
    }
#line 664
    if (__cil_tmp6) {
#line 665
      return (-1);
    }
#line 667
    coc->compno = (uint_fast16_t )tmp;
  } else {
    {
#line 669
    __cil_tmp7 = jpc_getuint16(in, & coc->compno);
    }
#line 669
    if (__cil_tmp7) {
#line 670
      return (-1);
    }
  }
  {
#line 673
  __cil_tmp8 = jpc_getuint8(in, & coc->compparms.csty);
  }
#line 673
  if (__cil_tmp8) {
#line 674
    return (-1);
  }
  {
#line 676
  __cil_tmp9 = jpc_cox_getcompparms(ms, cstate, in, ((int )coc->compparms.csty & 1) != 0,
                                    & coc->compparms);
  }
#line 676
  if (__cil_tmp9) {
#line 678
    return (-1);
  }
#line 680
  if ((in->flags_ & 1) != 0) {
#line 681
    return (-1);
  }
#line 683
  return (0);
}
}
#line 686 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_coc_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_coc_t *coc ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
#line 688
  coc = & ms->parms.coc;
#line 690
  if (cstate->numcomps <= 256UL) {
    {
#line 691
    __cil_tmp6 = jpc_putuint8(out, (uint_fast8_t )coc->compno);
    }
#line 691
    if (__cil_tmp6) {
#line 692
      return (-1);
    }
  } else {
    {
#line 695
    __cil_tmp7 = jpc_putuint16(out, coc->compno);
    }
#line 695
    if (__cil_tmp7) {
#line 696
      return (-1);
    }
  }
  {
#line 699
  __cil_tmp8 = jpc_putuint8(out, coc->compparms.csty);
  }
#line 699
  if (__cil_tmp8) {
#line 700
    return (-1);
  }
  {
#line 702
  __cil_tmp9 = jpc_cox_putcompparms(ms, cstate, out, ((int )coc->compparms.csty & 1) != 0,
                                    & coc->compparms);
  }
#line 702
  if (__cil_tmp9) {
#line 704
    return (-1);
  }
#line 706
  return (0);
}
}
#line 709 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_coc_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_coc_t *coc ;

  {
  {
#line 711
  coc = & ms->parms.coc;
#line 712
  fprintf(out, "compno = %d; csty = 0x%02x; numdlvls = %d;\n", coc->compno, (int )coc->compparms.csty,
          (int )coc->compparms.numdlvls);
#line 714
  fprintf(out, "cblkwidthval = %d; cblkheightval = %d; cblksty = 0x%02x; qmfbid = %d;\n",
          (int )coc->compparms.cblkwidthval, (int )coc->compparms.cblkheightval, (int )coc->compparms.cblksty,
          (int )coc->compparms.qmfbid);
  }
#line 717
  return (0);
}
}
#line 723 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_cox_destroycompparms(jpc_coxcp_t *compparms ) 
{ 


  {
#line 726
  compparms = (jpc_coxcp_t *)0;
#line 727
  return;
}
}
#line 729 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_cox_getcompparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ,
                                int prtflag , jpc_coxcp_t *compparms ) 
{ 
  uint_fast8_t tmp ;
  int i ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
  {
#line 736
  ms = (jpc_ms_t *)0;
#line 737
  cstate = (jpc_cstate_t *)0;
#line 739
  __cil_tmp12 = jpc_getuint8(in, & compparms->qmfbid);
#line 739
  __cil_tmp11 = jpc_getuint8(in, & compparms->cblksty);
#line 739
  __cil_tmp10 = jpc_getuint8(in, & compparms->cblkheightval);
#line 739
  __cil_tmp9 = jpc_getuint8(in, & compparms->cblkwidthval);
#line 739
  __cil_tmp8 = jpc_getuint8(in, & compparms->numdlvls);
  }
#line 739
  if (__cil_tmp8) {
#line 744
    return (-1);
  } else
#line 739
  if (__cil_tmp9) {
#line 744
    return (-1);
  } else
#line 739
  if (__cil_tmp10) {
#line 744
    return (-1);
  } else
#line 739
  if (__cil_tmp11) {
#line 744
    return (-1);
  } else
#line 739
  if (__cil_tmp12) {
#line 744
    return (-1);
  }
#line 746
  compparms->numrlvls = (int )compparms->numdlvls + 1;
#line 747
  if (prtflag) {
#line 748
    i = 0;
    {
#line 748
    while (1) {
      while_continue: /* CIL Label */ ;

#line 748
      if (! (i < compparms->numrlvls)) {
#line 748
        goto while_break;
      }
      {
#line 749
      __cil_tmp13 = jpc_getuint8(in, & tmp);
      }
#line 749
      if (__cil_tmp13) {
        {
#line 750
        jpc_cox_destroycompparms(compparms);
        }
#line 751
        return (-1);
      }
#line 753
      compparms->rlvls[i].parwidthval = (uint_fast8_t )((int )tmp & 15);
#line 754
      compparms->rlvls[i].parheightval = (uint_fast8_t )(((int )tmp >> 4) & 15);
#line 748
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
#line 757
    compparms->csty = (uint_fast8_t )((int )compparms->csty | 1);
  }
#line 760
  if ((in->flags_ & 1) != 0) {
    {
#line 761
    jpc_cox_destroycompparms(compparms);
    }
#line 762
    return (-1);
  }
#line 764
  return (0);
}
}
#line 767 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_cox_putcompparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ,
                                int prtflag , jpc_coxcp_t *compparms ) 
{ 
  int i ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
  {
#line 774
  ms = (jpc_ms_t *)0;
#line 775
  cstate = (jpc_cstate_t *)0;
#line 777
  __cil_tmp12 = jpc_putuint8(out, compparms->qmfbid);
#line 777
  __cil_tmp11 = jpc_putuint8(out, compparms->cblksty);
#line 777
  __cil_tmp10 = jpc_putuint8(out, compparms->cblkheightval);
#line 777
  __cil_tmp9 = jpc_putuint8(out, compparms->cblkwidthval);
#line 777
  __cil_tmp8 = jpc_putuint8(out, compparms->numdlvls);
  }
#line 777
  if (__cil_tmp8) {
#line 782
    return (-1);
  } else
#line 777
  if (__cil_tmp9) {
#line 782
    return (-1);
  } else
#line 777
  if (__cil_tmp10) {
#line 782
    return (-1);
  } else
#line 777
  if (__cil_tmp11) {
#line 782
    return (-1);
  } else
#line 777
  if (__cil_tmp12) {
#line 782
    return (-1);
  }
#line 784
  if (prtflag) {
#line 785
    i = 0;
    {
#line 785
    while (1) {
      while_continue: /* CIL Label */ ;

#line 785
      if (! (i < compparms->numrlvls)) {
#line 785
        goto while_break;
      }
      {
#line 786
      __cil_tmp13 = jpc_putuint8(out, (uint_fast8_t )((((int )compparms->rlvls[i].parheightval & 15) << 4) | ((int )compparms->rlvls[i].parwidthval & 15)));
      }
#line 786
      if (__cil_tmp13) {
#line 789
        return (-1);
      }
#line 785
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  }
#line 793
  return (0);
}
}
#line 800 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_rgn_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_rgn_t *rgn ;
  uint_fast8_t tmp ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
#line 802
  rgn = & ms->parms.rgn;
#line 804
  if (cstate->numcomps <= 256UL) {
    {
#line 805
    __cil_tmp6 = jpc_getuint8(in, & tmp);
    }
#line 805
    if (__cil_tmp6) {
#line 806
      return (-1);
    }
#line 808
    rgn->compno = (uint_fast16_t )tmp;
  } else {
    {
#line 810
    __cil_tmp7 = jpc_getuint16(in, & rgn->compno);
    }
#line 810
    if (__cil_tmp7) {
#line 811
      return (-1);
    }
  }
  {
#line 814
  __cil_tmp9 = jpc_getuint8(in, & rgn->roishift);
#line 814
  __cil_tmp8 = jpc_getuint8(in, & rgn->roisty);
  }
#line 814
  if (__cil_tmp8) {
#line 816
    return (-1);
  } else
#line 814
  if (__cil_tmp9) {
#line 816
    return (-1);
  }
#line 818
  return (0);
}
}
#line 821 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_rgn_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_rgn_t *rgn ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
#line 823
  rgn = & ms->parms.rgn;
#line 824
  if (cstate->numcomps <= 256UL) {
    {
#line 825
    __cil_tmp5 = jpc_putuint8(out, (uint_fast8_t )rgn->compno);
    }
#line 825
    if (__cil_tmp5) {
#line 826
      return (-1);
    }
  } else {
    {
#line 829
    __cil_tmp6 = jpc_putuint16(out, rgn->compno);
    }
#line 829
    if (__cil_tmp6) {
#line 830
      return (-1);
    }
  }
  {
#line 833
  __cil_tmp8 = jpc_putuint8(out, rgn->roishift);
#line 833
  __cil_tmp7 = jpc_putuint8(out, rgn->roisty);
  }
#line 833
  if (__cil_tmp7) {
#line 835
    return (-1);
  } else
#line 833
  if (__cil_tmp8) {
#line 835
    return (-1);
  }
#line 837
  return (0);
}
}
#line 840 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_rgn_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_rgn_t *rgn ;

  {
  {
#line 842
  rgn = & ms->parms.rgn;
#line 843
  fprintf(out, "compno = %d; roisty = %d; roishift = %d\n\230\001", rgn->compno, (int )rgn->roisty,
          (int )rgn->roishift);
  }
#line 845
  return (0);
}
}
#line 852 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_qcd_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_qcd_t *qcd ;

  {
  {
#line 854
  qcd = & ms->parms.qcd;
#line 855
  jpc_qcx_destroycompparms(& qcd->compparms);
  }
#line 857
  return;
}
}
#line 858 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_qcd_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_qcxcp_t *compparms ;
  int __cil_tmp5 ;

  {
  {
#line 860
  compparms = & ms->parms.qcd.compparms;
#line 861
  __cil_tmp5 = jpc_qcx_getcompparms(compparms, cstate, in, ms->len);
  }
#line 861
  return (__cil_tmp5);
}
}
#line 864 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_qcd_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_qcxcp_t *compparms ;
  int __cil_tmp5 ;

  {
  {
#line 866
  compparms = & ms->parms.qcd.compparms;
#line 867
  __cil_tmp5 = jpc_qcx_putcompparms(compparms, cstate, out);
  }
#line 867
  return (__cil_tmp5);
}
}
#line 870 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_qcd_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_qcd_t *qcd ;
  int i ;

  {
  {
#line 872
  qcd = & ms->parms.qcd;
#line 874
  fprintf(out, "qntsty = %d; numguard = %d; numstepsizes = %d\n", (int )qcd->compparms.qntsty,
          (int )qcd->compparms.numguard, qcd->compparms.numstepsizes);
#line 876
  i = 0;
  }
  {
#line 876
  while (1) {
    while_continue: /* CIL Label */ ;

#line 876
    if (! (i < qcd->compparms.numstepsizes)) {
#line 876
      goto while_break;
    }
    {
#line 877
    fprintf(out, "expn[%d] = 0x%04x; mant[%d] = 0x%04x;\n", i, (unsigned int )(*(qcd->compparms.stepsizes + i) >> 11),
            i, (unsigned int )(*(qcd->compparms.stepsizes + i) & 2047UL));
#line 876
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 881
  return (0);
}
}
#line 888 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_qcc_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_qcc_t *qcc ;

  {
  {
#line 890
  qcc = & ms->parms.qcc;
#line 891
  jpc_qcx_destroycompparms(& qcc->compparms);
  }
#line 893
  return;
}
}
#line 894 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_qcc_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_qcc_t *qcc ;
  uint_fast8_t tmp ;
  int len ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
#line 896
  qcc = & ms->parms.qcc;
#line 899
  len = (int )ms->len;
#line 900
  if (cstate->numcomps <= 256UL) {
    {
#line 901
    __cil_tmp7 = jpc_getuint8(in, & tmp);
    }
#line 901
    if (__cil_tmp7) {
#line 902
      return (-1);
    }
#line 904
    qcc->compno = (uint_fast16_t )tmp;
#line 905
    len --;
  } else {
    {
#line 907
    __cil_tmp8 = jpc_getuint16(in, & qcc->compno);
    }
#line 907
    if (__cil_tmp8) {
#line 908
      return (-1);
    }
#line 910
    len -= 2;
  }
  {
#line 912
  __cil_tmp9 = jpc_qcx_getcompparms(& qcc->compparms, cstate, in, (uint_fast16_t )len);
  }
#line 912
  if (__cil_tmp9) {
#line 913
    return (-1);
  }
#line 915
  if ((in->flags_ & 1) != 0) {
    {
#line 916
    jpc_qcc_destroyparms(ms);
    }
#line 917
    return (-1);
  }
#line 919
  return (0);
}
}
#line 922 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_qcc_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_qcc_t *qcc ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
#line 924
  qcc = & ms->parms.qcc;
#line 925
  if (cstate->numcomps <= 256UL) {
    {
#line 926
    __cil_tmp5 = jpc_putuint8(out, (uint_fast8_t )qcc->compno);
    }
#line 926
    if (__cil_tmp5) {
#line 927
      return (-1);
    }
  } else {
    {
#line 930
    __cil_tmp6 = jpc_putuint16(out, qcc->compno);
    }
#line 930
    if (__cil_tmp6) {
#line 931
      return (-1);
    }
  }
  {
#line 934
  __cil_tmp7 = jpc_qcx_putcompparms(& qcc->compparms, cstate, out);
  }
#line 934
  if (__cil_tmp7) {
#line 935
    return (-1);
  }
#line 937
  return (0);
}
}
#line 940 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_qcc_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_qcc_t *qcc ;
  int i ;

  {
  {
#line 942
  qcc = & ms->parms.qcc;
#line 944
  fprintf(out, "compno = %d; qntsty = %d; numguard = %d; numstepsizes = %d\n", qcc->compno,
          (int )qcc->compparms.qntsty, (int )qcc->compparms.numguard, qcc->compparms.numstepsizes);
#line 947
  i = 0;
  }
  {
#line 947
  while (1) {
    while_continue: /* CIL Label */ ;

#line 947
    if (! (i < qcc->compparms.numstepsizes)) {
#line 947
      goto while_break;
    }
    {
#line 948
    fprintf(out, "expn[%d] = 0x%04x; mant[%d] = 0x%04x;\n", i, (unsigned int )(*(qcc->compparms.stepsizes + i) >> 11),
            i, (unsigned int )(*(qcc->compparms.stepsizes + i) & 2047UL));
#line 947
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 952
  return (0);
}
}
#line 959 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_qcx_destroycompparms(jpc_qcxcp_t *compparms ) 
{ 


  {
#line 961
  if (compparms->stepsizes) {
    {
#line 962
    jas_free((void *)compparms->stepsizes);
    }
  }
#line 965
  return;
}
}
#line 966 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_qcx_getcompparms(jpc_qcxcp_t *compparms , jpc_cstate_t *cstate , jas_stream_t *in ,
                                uint_fast16_t len ) 
{ 
  uint_fast8_t tmp ;
  int n ;
  int i ;
  int __cil_tmp8 ;
  int __cil_tmp11 ;
  int __cil_tmp13 ;
  void *tmp___25 ;

  {
  {
#line 974
  cstate = (jpc_cstate_t *)0;
#line 976
  n = 0;
#line 977
  __cil_tmp8 = jpc_getuint8(in, & tmp);
  }
#line 977
  if (__cil_tmp8) {
#line 978
    return (-1);
  }
#line 980
  n ++;
#line 981
  compparms->qntsty = (uint_fast8_t )((int )tmp & 31);
#line 982
  compparms->numguard = (uint_fast8_t )(((int )tmp >> 5) & 7);
#line 984
  if ((int )compparms->qntsty == 1) {
#line 984
    goto case_1;
  }
#line 987
  if ((int )compparms->qntsty == 0) {
#line 987
    goto case_0;
  }
#line 990
  if ((int )compparms->qntsty == 2) {
#line 990
    goto case_2;
  }
#line 983
  goto switch_break;
  case_1: 
#line 985
  compparms->numstepsizes = 1;
#line 986
  goto switch_break;
  case_0: 
#line 988
  compparms->numstepsizes = (int )(len - (unsigned long )n);
#line 989
  goto switch_break;
  case_2: 
#line 992
  compparms->numstepsizes = (int )((len - (unsigned long )n) / 2UL);
#line 993
  goto switch_break;
  switch_break: ;
#line 995
  if (compparms->numstepsizes > 0) {
    {
#line 996
    tmp___25 = jas_alloc2((size_t )compparms->numstepsizes, sizeof(uint_fast16_t ));
#line 996
    compparms->stepsizes = (uint_fast16_t *)tmp___25;
#line 999
    i = 0;
    }
    {
#line 999
    while (1) {
      while_continue: /* CIL Label */ ;

#line 999
      if (! (i < compparms->numstepsizes)) {
#line 999
        goto while_break;
      }
#line 1000
      if ((int )compparms->qntsty == 0) {
        {
#line 1001
        __cil_tmp11 = jpc_getuint8(in, & tmp);
        }
#line 1001
        if (__cil_tmp11) {
#line 1002
          return (-1);
        }
#line 1004
        *(compparms->stepsizes + i) = (uint_fast16_t )((((int )tmp >> 3) & 31) << 11);
      } else {
        {
#line 1006
        __cil_tmp13 = jpc_getuint16(in, compparms->stepsizes + i);
        }
#line 1006
        if (__cil_tmp13) {
#line 1007
          return (-1);
        }
      }
#line 999
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  } else {
#line 1012
    compparms->stepsizes = (uint_fast16_t *)0;
  }
#line 1014
  if ((in->flags_ & 2) != 0) {
    {
#line 1015
    jpc_qcx_destroycompparms(compparms);
    }
#line 1016
    return (-1);
  } else
#line 1014
  if ((in->flags_ & 1) != 0) {
    {
#line 1015
    jpc_qcx_destroycompparms(compparms);
    }
#line 1016
    return (-1);
  }
#line 1018
  return (0);
}
}
#line 1021 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_qcx_putcompparms(jpc_qcxcp_t *compparms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  int i ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 1027
  cstate = (jpc_cstate_t *)0;
#line 1029
  jpc_putuint8(out, (uint_fast8_t )((((int )compparms->numguard & 7) << 5) | (int )compparms->qntsty));
#line 1030
  i = 0;
  }
  {
#line 1030
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1030
    if (! (i < compparms->numstepsizes)) {
#line 1030
      goto while_break;
    }
#line 1031
    if ((int )compparms->qntsty == 0) {
      {
#line 1032
      __cil_tmp5 = jpc_putuint8(out, (uint_fast8_t )((*(compparms->stepsizes + i) >> 11) << 3));
      }
#line 1032
      if (__cil_tmp5) {
#line 1034
        return (-1);
      }
    } else {
      {
#line 1037
      __cil_tmp6 = jpc_putuint16(out, *(compparms->stepsizes + i));
      }
#line 1037
      if (__cil_tmp6) {
#line 1038
        return (-1);
      }
    }
#line 1030
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1042
  return (0);
}
}
#line 1049 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_sop_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_sop_t *sop ;
  int __cil_tmp5 ;

  {
  {
#line 1051
  sop = & ms->parms.sop;
#line 1054
  cstate = (jpc_cstate_t *)0;
#line 1056
  __cil_tmp5 = jpc_getuint16(in, & sop->seqno);
  }
#line 1056
  if (__cil_tmp5) {
#line 1057
    return (-1);
  }
#line 1059
  return (0);
}
}
#line 1062 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_sop_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_sop_t *sop ;
  int __cil_tmp5 ;

  {
  {
#line 1064
  sop = & ms->parms.sop;
#line 1067
  cstate = (jpc_cstate_t *)0;
#line 1069
  __cil_tmp5 = jpc_putuint16(out, sop->seqno);
  }
#line 1069
  if (__cil_tmp5) {
#line 1070
    return (-1);
  }
#line 1072
  return (0);
}
}
#line 1075 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_sop_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_sop_t *sop ;

  {
  {
#line 1077
  sop = & ms->parms.sop;
#line 1078
  fprintf(out, "seqno = %d;\nPV", sop->seqno);
  }
#line 1079
  return (0);
}
}
#line 1086 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_ppm_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_ppm_t *ppm ;

  {
#line 1088
  ppm = & ms->parms.ppm;
#line 1089
  if (ppm->data) {
    {
#line 1090
    jas_free((void *)ppm->data);
    }
  }
#line 1093
  return;
}
}
#line 1094 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_ppm_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_ppm_t *ppm ;
  int __cil_tmp5 ;
  int __cil_tmp7 ;
  void *tmp ;

  {
#line 1096
  ppm = & ms->parms.ppm;
#line 1099
  cstate = (jpc_cstate_t *)0;
#line 1101
  ppm->data = (unsigned char *)0;
#line 1103
  if (ms->len < 1UL) {
#line 1104
    goto error;
  }
  {
#line 1106
  __cil_tmp5 = jpc_getuint8(in, & ppm->ind);
  }
#line 1106
  if (__cil_tmp5) {
#line 1107
    goto error;
  }
#line 1110
  ppm->len = ms->len - 1UL;
#line 1111
  if (ppm->len > 0UL) {
    {
#line 1112
    tmp = jas_malloc(ppm->len);
#line 1112
    ppm->data = (unsigned char *)tmp;
    }
#line 1112
    if (! ppm->data) {
#line 1113
      goto error;
    }
    {
#line 1115
    __cil_tmp7 = jas_stream_read(in, (void *)ppm->data, (int )ppm->len);
    }
#line 1115
    if ((unsigned long )((unsigned int )__cil_tmp7) != ppm->len) {
#line 1116
      goto error;
    }
  } else {
#line 1119
    ppm->data = (unsigned char *)0;
  }
#line 1121
  return (0);
  error: 
  {
#line 1124
  jpc_ppm_destroyparms(ms);
  }
#line 1125
  return (-1);
}
}
#line 1128 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_ppm_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_ppm_t *ppm ;
  int __cil_tmp5 ;

  {
  {
#line 1130
  ppm = & ms->parms.ppm;
#line 1133
  cstate = (jpc_cstate_t *)0;
#line 1135
  __cil_tmp5 = jas_stream_write(out, (void const   *)((char *)ppm->data), (int )ppm->len);
  }
#line 1135
  if ((unsigned long )((unsigned int )__cil_tmp5) != ppm->len) {
#line 1136
    return (-1);
  }
#line 1138
  return (0);
}
}
#line 1141 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_ppm_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_ppm_t *ppm ;

  {
  {
#line 1143
  ppm = & ms->parms.ppm;
#line 1144
  fprintf(out, "ind=%d; len = %d;\n", (int )ppm->ind, ppm->len);
  }
#line 1145
  if (ppm->len > 0UL) {
    {
#line 1146
    fprintf(out, "data =\n");
#line 1147
    jas_memdump(out, (void *)ppm->data, ppm->len);
    }
  }
#line 1149
  return (0);
}
}
#line 1156 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_ppt_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_ppt_t *ppt ;

  {
#line 1158
  ppt = & ms->parms.ppt;
#line 1159
  if (ppt->data) {
    {
#line 1160
    jas_free((void *)ppt->data);
    }
  }
#line 1163
  return;
}
}
#line 1164 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_ppt_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_ppt_t *ppt ;
  int __cil_tmp5 ;
  int __cil_tmp7 ;
  void *tmp ;

  {
#line 1166
  ppt = & ms->parms.ppt;
#line 1169
  cstate = (jpc_cstate_t *)0;
#line 1171
  ppt->data = (unsigned char *)0;
#line 1173
  if (ms->len < 1UL) {
#line 1174
    goto error;
  }
  {
#line 1176
  __cil_tmp5 = jpc_getuint8(in, & ppt->ind);
  }
#line 1176
  if (__cil_tmp5) {
#line 1177
    goto error;
  }
#line 1179
  ppt->len = ms->len - 1UL;
#line 1180
  if (ppt->len > 0UL) {
    {
#line 1181
    tmp = jas_malloc(ppt->len);
#line 1181
    ppt->data = (unsigned char *)tmp;
    }
#line 1181
    if (! ppt->data) {
#line 1182
      goto error;
    }
    {
#line 1184
    __cil_tmp7 = jas_stream_read(in, (void *)((char *)ppt->data), (int )ppt->len);
    }
#line 1184
    if (__cil_tmp7 != (int )ppt->len) {
#line 1185
      goto error;
    }
  } else {
#line 1188
    ppt->data = (unsigned char *)0;
  }
#line 1190
  return (0);
  error: 
  {
#line 1193
  jpc_ppt_destroyparms(ms);
  }
#line 1194
  return (-1);
}
}
#line 1197 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_ppt_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_ppt_t *ppt ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 1199
  ppt = & ms->parms.ppt;
#line 1202
  cstate = (jpc_cstate_t *)0;
#line 1204
  __cil_tmp5 = jpc_putuint8(out, ppt->ind);
  }
#line 1204
  if (__cil_tmp5) {
#line 1205
    return (-1);
  }
  {
#line 1207
  __cil_tmp6 = jas_stream_write(out, (void const   *)((char *)ppt->data), (int )ppt->len);
  }
#line 1207
  if (__cil_tmp6 != (int )ppt->len) {
#line 1208
    return (-1);
  }
#line 1210
  return (0);
}
}
#line 1213 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_ppt_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_ppt_t *ppt ;

  {
  {
#line 1215
  ppt = & ms->parms.ppt;
#line 1216
  fprintf(out, "ind=%d; len = %d;\n\030\373PV", (int )ppt->ind, ppt->len);
  }
#line 1217
  if (ppt->len > 0UL) {
    {
#line 1218
    fprintf(out, "data =\n");
#line 1219
    jas_memdump(out, (void *)ppt->data, ppt->len);
    }
  }
#line 1221
  return (0);
}
}
#line 1228 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_poc_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_poc_t *poc ;

  {
#line 1230
  poc = & ms->parms.poc;
#line 1231
  if (poc->pchgs) {
    {
#line 1232
    jas_free((void *)poc->pchgs);
    }
  }
#line 1235
  return;
}
}
#line 1236 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_poc_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_poc_t *poc ;
  jpc_pocpchg_t *pchg ;
  int pchgno ;
  uint_fast8_t tmp ;
  uint_fast16_t tmp___25 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  void *tmp___26 ;

  {
#line 1238
  poc = & ms->parms.poc;
#line 1242
  if (cstate->numcomps > 256UL) {
#line 1242
    tmp___25 = ms->len / 9UL;
  } else {
#line 1242
    tmp___25 = ms->len / 7UL;
  }
  {
#line 1242
  poc->numpchgs = (int )tmp___25;
#line 1244
  tmp___26 = jas_alloc2((size_t )poc->numpchgs, sizeof(jpc_pocpchg_t ));
#line 1244
  poc->pchgs = (jpc_pocpchg_t *)tmp___26;
  }
#line 1244
  if (! poc->pchgs) {
#line 1245
    goto error;
  }
#line 1247
  pchg = poc->pchgs;
#line 1247
  pchgno = 0;
  {
#line 1247
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1247
    if (! (pchgno < poc->numpchgs)) {
#line 1247
      goto while_break;
    }
    {
#line 1249
    __cil_tmp10 = jpc_getuint8(in, & pchg->rlvlnostart);
    }
#line 1249
    if (__cil_tmp10) {
#line 1250
      goto error;
    }
#line 1252
    if (cstate->numcomps > 256UL) {
      {
#line 1253
      __cil_tmp11 = jpc_getuint16(in, & pchg->compnostart);
      }
#line 1253
      if (__cil_tmp11) {
#line 1254
        goto error;
      }
    } else {
      {
#line 1257
      __cil_tmp12 = jpc_getuint8(in, & tmp);
      }
#line 1257
      if (__cil_tmp12) {
#line 1258
        goto error;
      }
#line 1260
      pchg->compnostart = (uint_fast16_t )tmp;
    }
    {
#line 1262
    __cil_tmp14 = jpc_getuint8(in, & pchg->rlvlnoend);
#line 1262
    __cil_tmp13 = jpc_getuint16(in, & pchg->lyrnoend);
    }
#line 1262
    if (__cil_tmp13) {
#line 1264
      goto error;
    } else
#line 1262
    if (__cil_tmp14) {
#line 1264
      goto error;
    }
#line 1266
    if (cstate->numcomps > 256UL) {
      {
#line 1267
      __cil_tmp15 = jpc_getuint16(in, & pchg->compnoend);
      }
#line 1267
      if (__cil_tmp15) {
#line 1268
        goto error;
      }
    } else {
      {
#line 1271
      __cil_tmp16 = jpc_getuint8(in, & tmp);
      }
#line 1271
      if (__cil_tmp16) {
#line 1272
        goto error;
      }
#line 1274
      pchg->compnoend = (uint_fast16_t )tmp;
    }
    {
#line 1276
    __cil_tmp17 = jpc_getuint8(in, & pchg->prgord);
    }
#line 1276
    if (__cil_tmp17) {
#line 1277
      goto error;
    }
#line 1279
    if ((int )pchg->rlvlnostart > (int )pchg->rlvlnoend) {
#line 1281
      goto error;
    } else
#line 1279
    if (pchg->compnostart > pchg->compnoend) {
#line 1281
      goto error;
    }
#line 1247
    pchg ++;
#line 1247
    pchgno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1284
  return (0);
  error: 
  {
#line 1287
  jpc_poc_destroyparms(ms);
  }
#line 1288
  return (-1);
}
}
#line 1291 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_poc_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_poc_t *poc ;
  jpc_pocpchg_t *pchg ;
  int pchgno ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int tmp ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int tmp___0 ;
  int __cil_tmp16 ;

  {
#line 1293
  poc = & ms->parms.poc;
#line 1296
  pchg = poc->pchgs;
#line 1296
  pchgno = 0;
  {
#line 1296
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1296
    if (! (pchgno < poc->numpchgs)) {
#line 1296
      goto while_break;
    }
    {
#line 1298
    __cil_tmp16 = jpc_putuint8(out, pchg->prgord);
    }
#line 1298
    if (cstate->numcomps > 256UL) {
      {
#line 1298
      __cil_tmp13 = jpc_putuint16(out, pchg->compnoend);
#line 1298
      tmp___0 = __cil_tmp13;
      }
    } else {
      {
#line 1298
      __cil_tmp14 = jpc_putuint8(out, (uint_fast8_t )pchg->compnoend);
#line 1298
      tmp___0 = __cil_tmp14;
      }
    }
    {
#line 1298
    __cil_tmp12 = jpc_putuint8(out, pchg->rlvlnoend);
#line 1298
    __cil_tmp11 = jpc_putuint16(out, pchg->lyrnoend);
    }
#line 1298
    if (cstate->numcomps > 256UL) {
      {
#line 1298
      __cil_tmp8 = jpc_putuint16(out, pchg->compnostart);
#line 1298
      tmp = __cil_tmp8;
      }
    } else {
      {
#line 1298
      __cil_tmp9 = jpc_putuint8(out, (uint_fast8_t )pchg->compnostart);
#line 1298
      tmp = __cil_tmp9;
      }
    }
    {
#line 1298
    __cil_tmp7 = jpc_putuint8(out, pchg->rlvlnostart);
    }
#line 1298
    if (__cil_tmp7) {
#line 1308
      return (-1);
    } else
#line 1298
    if (tmp) {
#line 1308
      return (-1);
    } else
#line 1298
    if (__cil_tmp11) {
#line 1308
      return (-1);
    } else
#line 1298
    if (__cil_tmp12) {
#line 1308
      return (-1);
    } else
#line 1298
    if (tmp___0) {
#line 1308
      return (-1);
    } else
#line 1298
    if (__cil_tmp16) {
#line 1308
      return (-1);
    }
#line 1296
    pchg ++;
#line 1296
    pchgno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1311
  return (0);
}
}
#line 1314 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_poc_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_poc_t *poc ;
  jpc_pocpchg_t *pchg ;
  int pchgno ;

  {
#line 1316
  poc = & ms->parms.poc;
#line 1319
  pchg = poc->pchgs;
#line 1319
  pchgno = 0;
  {
#line 1319
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1319
    if (! (pchgno < poc->numpchgs)) {
#line 1319
      goto while_break;
    }
    {
#line 1321
    fprintf(out, "po[%d] = %d; ", pchgno, (int )pchg->prgord);
#line 1322
    fprintf(out, "cs[%d] = %d; ce[%d] = %d; \030\373PV", pchgno, pchg->compnostart,
            pchgno, pchg->compnoend);
#line 1324
    fprintf(out, "rs[%d] = %d; re[%d] = %d; \030\373PV", pchgno, (int )pchg->rlvlnostart,
            pchgno, (int )pchg->rlvlnoend);
#line 1326
    fprintf(out, "le[%d] = %d\n", pchgno, pchg->lyrnoend);
#line 1320
    pchg ++;
#line 1320
    pchgno ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1328
  return (0);
}
}
#line 1335 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_crg_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_crg_t *crg ;

  {
#line 1337
  crg = & ms->parms.crg;
#line 1338
  if (crg->comps) {
    {
#line 1339
    jas_free((void *)crg->comps);
    }
  }
#line 1342
  return;
}
}
#line 1343 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_crg_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_crg_t *crg ;
  jpc_crgcomp_t *comp ;
  uint_fast16_t compno ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  void *tmp ;

  {
  {
#line 1345
  crg = & ms->parms.crg;
#line 1348
  crg->numcomps = (int )cstate->numcomps;
#line 1349
  tmp = jas_alloc2(cstate->numcomps, sizeof(uint_fast16_t ));
#line 1349
  crg->comps = (jpc_crgcomp_t *)tmp;
  }
#line 1349
  if (! crg->comps) {
#line 1350
    return (-1);
  }
#line 1352
  comp = crg->comps;
#line 1352
  compno = (uint_fast16_t )0;
  {
#line 1352
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1352
    if (! (compno < cstate->numcomps)) {
#line 1352
      goto while_break;
    }
    {
#line 1354
    __cil_tmp9 = jpc_getuint16(in, & comp->voff);
#line 1354
    __cil_tmp8 = jpc_getuint16(in, & comp->hoff);
    }
#line 1354
    if (__cil_tmp8) {
      {
#line 1356
      jpc_crg_destroyparms(ms);
      }
#line 1357
      return (-1);
    } else
#line 1354
    if (__cil_tmp9) {
      {
#line 1356
      jpc_crg_destroyparms(ms);
      }
#line 1357
      return (-1);
    }
#line 1353
    comp ++;
#line 1353
    compno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1360
  return (0);
}
}
#line 1363 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_crg_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_crg_t *crg ;
  int compno ;
  jpc_crgcomp_t *comp ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
#line 1365
  crg = & ms->parms.crg;
#line 1370
  cstate = (jpc_cstate_t *)0;
#line 1372
  comp = crg->comps;
#line 1372
  compno = 0;
  {
#line 1372
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1372
    if (! (compno < crg->numcomps)) {
#line 1372
      goto while_break;
    }
    {
#line 1374
    __cil_tmp8 = jpc_putuint16(out, comp->voff);
#line 1374
    __cil_tmp7 = jpc_putuint16(out, comp->hoff);
    }
#line 1374
    if (__cil_tmp7) {
#line 1376
      return (-1);
    } else
#line 1374
    if (__cil_tmp8) {
#line 1376
      return (-1);
    }
#line 1372
    comp ++;
#line 1372
    compno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1379
  return (0);
}
}
#line 1382 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_crg_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_crg_t *crg ;
  int compno ;
  jpc_crgcomp_t *comp ;

  {
#line 1384
  crg = & ms->parms.crg;
#line 1387
  comp = crg->comps;
#line 1387
  compno = 0;
  {
#line 1387
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1387
    if (! (compno < crg->numcomps)) {
#line 1387
      goto while_break;
    }
    {
#line 1389
    fprintf(out, "hoff[%d] = %d; voff[%d] = %d\n", compno, comp->hoff, compno, comp->voff);
#line 1387
    comp ++;
#line 1387
    compno ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1392
  return (0);
}
}
#line 1399 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_com_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_com_t *com ;

  {
#line 1401
  com = & ms->parms.com;
#line 1402
  if (com->data) {
    {
#line 1403
    jas_free((void *)com->data);
    }
  }
#line 1406
  return;
}
}
#line 1407 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_com_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_com_t *com ;
  int __cil_tmp5 ;
  int __cil_tmp7 ;
  void *tmp ;

  {
  {
#line 1409
  com = & ms->parms.com;
#line 1412
  cstate = (jpc_cstate_t *)0;
#line 1414
  __cil_tmp5 = jpc_getuint16(in, & com->regid);
  }
#line 1414
  if (__cil_tmp5) {
#line 1415
    return (-1);
  }
#line 1417
  com->len = ms->len - 2UL;
#line 1418
  if (com->len > 0UL) {
    {
#line 1419
    tmp = jas_malloc(com->len);
#line 1419
    com->data = (unsigned char *)tmp;
    }
#line 1419
    if (! com->data) {
#line 1420
      return (-1);
    }
    {
#line 1422
    __cil_tmp7 = jas_stream_read(in, (void *)com->data, (int )com->len);
    }
#line 1422
    if (__cil_tmp7 != (int )com->len) {
#line 1423
      return (-1);
    }
  } else {
#line 1426
    com->data = (unsigned char *)0;
  }
#line 1428
  return (0);
}
}
#line 1431 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_com_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 
  jpc_com_t *com ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 1433
  com = & ms->parms.com;
#line 1436
  cstate = (jpc_cstate_t *)0;
#line 1438
  __cil_tmp5 = jpc_putuint16(out, com->regid);
  }
#line 1438
  if (__cil_tmp5) {
#line 1439
    return (-1);
  }
  {
#line 1441
  __cil_tmp6 = jas_stream_write(out, (void const   *)com->data, (int )com->len);
  }
#line 1441
  if (__cil_tmp6 != (int )com->len) {
#line 1442
    return (-1);
  }
#line 1444
  return (0);
}
}
#line 1447 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_com_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  jpc_com_t *com ;
  unsigned int i ;
  int printable ;
  unsigned short const   **__cil_tmp6 ;

  {
  {
#line 1449
  com = & ms->parms.com;
#line 1452
  fprintf(out, "regid = %d;\n", com->regid);
#line 1453
  printable = 1;
#line 1454
  i = 0U;
  }
  {
#line 1454
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1454
    if (! ((unsigned long )i < com->len)) {
#line 1454
      goto while_break;
    }
    {
#line 1455
    __cil_tmp6 = __ctype_b_loc();
    }
#line 1455
    if (! ((int )*(*__cil_tmp6 + (int )*(com->data + i)) & 16384)) {
#line 1456
      printable = 0;
#line 1457
      goto while_break;
    }
#line 1454
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1460
  if (printable) {
    {
#line 1461
    fprintf(out, "data = ");
#line 1462
    fwrite((void const   *)com->data, sizeof(char ), com->len, out);
#line 1463
    fprintf(out, "\n");
    }
  }
#line 1465
  return (0);
}
}
#line 1472 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static void jpc_unk_destroyparms(jpc_ms_t *ms ) 
{ 
  jpc_unk_t *unk ;

  {
#line 1474
  unk = & ms->parms.unk;
#line 1475
  if (unk->data) {
    {
#line 1476
    jas_free((void *)unk->data);
    }
  }
#line 1479
  return;
}
}
#line 1480 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_unk_getparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *in ) 
{ 
  jpc_unk_t *unk ;
  int __cil_tmp6 ;
  void *tmp ;

  {
#line 1482
  unk = & ms->parms.unk;
#line 1485
  cstate = (jpc_cstate_t *)0;
#line 1487
  if (ms->len > 0UL) {
    {
#line 1488
    tmp = jas_alloc2(ms->len, sizeof(unsigned char ));
#line 1488
    unk->data = (unsigned char *)tmp;
    }
#line 1488
    if (! unk->data) {
#line 1489
      return (-1);
    }
    {
#line 1491
    __cil_tmp6 = jas_stream_read(in, (void *)((char *)unk->data), (int )ms->len);
    }
#line 1491
    if (__cil_tmp6 != (int )ms->len) {
      {
#line 1492
      jas_free((void *)unk->data);
      }
#line 1493
      return (-1);
    }
#line 1495
    unk->len = ms->len;
  } else {
#line 1497
    unk->data = (unsigned char *)0;
#line 1498
    unk->len = (uint_fast16_t )0;
  }
#line 1500
  return (0);
}
}
#line 1503 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_unk_putparms(jpc_ms_t *ms , jpc_cstate_t *cstate , jas_stream_t *out ) 
{ 


  {
#line 1506
  cstate = (jpc_cstate_t *)0;
#line 1507
  ms = (jpc_ms_t *)0;
#line 1508
  out = (jas_stream_t *)0;
#line 1512
  return (-1);
}
}
#line 1515 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static int jpc_unk_dumpparms(jpc_ms_t *ms , FILE *out ) 
{ 
  unsigned int i ;
  jpc_unk_t *unk ;

  {
#line 1518
  unk = & ms->parms.unk;
#line 1519
  i = 0U;
  {
#line 1519
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1519
    if (! ((unsigned long )i < unk->len)) {
#line 1519
      goto while_break;
    }
    {
#line 1520
    fprintf(out, "%02x ", (int )*(unk->data + i));
#line 1519
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1522
  return (0);
}
}
#line 1529 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_getuint8(jas_stream_t *in , uint_fast8_t *val ) 
{ 
  int c ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1532
  if (! (in->flags_ & 7)) {
#line 1532
    if (in->rwlimit_ >= 0L) {
#line 1532
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1532
        in->flags_ |= 4;
#line 1532
        tmp___0 = -1;
      } else {
#line 1532
        goto _L___10;
      }
    } else {
      _L___10: /* CIL Label */ 
#line 1532
      (in->cnt_) --;
#line 1532
      if (in->cnt_ < 0) {
        {
#line 1532
        __cil_tmp4 = jas_stream_fillbuf(in, 1);
#line 1532
        tmp = __cil_tmp4;
        }
      } else {
#line 1532
        __cil_tmp5 = in->ptr_;
#line 1532
        (in->ptr_) ++;
#line 1532
        (in->rwcnt_) ++;
#line 1532
        tmp = (int )*__cil_tmp5;
      }
#line 1532
      tmp___0 = tmp;
    }
#line 1532
    tmp___1 = tmp___0;
  } else {
#line 1532
    tmp___1 = -1;
  }
#line 1532
  c = tmp___1;
#line 1532
  if (c == -1) {
#line 1533
    return (-1);
  }
#line 1535
  if (val) {
#line 1536
    *val = (uint_fast8_t )c;
  }
#line 1538
  return (0);
}
}
#line 1541 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_putuint8(jas_stream_t *out , uint_fast8_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1543
  if (! (out->flags_ & 7)) {
#line 1543
    if (out->rwlimit_ >= 0L) {
#line 1543
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1543
        out->flags_ |= 4;
#line 1543
        tmp___0 = -1;
      } else {
#line 1543
        goto _L___10;
      }
    } else {
      _L___10: /* CIL Label */ 
#line 1543
      (out->cnt_) --;
#line 1543
      out->bufmode_ |= 32;
#line 1543
      if (out->cnt_ < 0) {
        {
#line 1543
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )((int )val & 255)));
#line 1543
        tmp = __cil_tmp3;
        }
      } else {
#line 1543
        __cil_tmp4 = out->ptr_;
#line 1543
        (out->ptr_) ++;
#line 1543
        *__cil_tmp4 = (unsigned char )((int )val & 255);
#line 1543
        (out->rwcnt_) ++;
#line 1543
        tmp = (int )*__cil_tmp4;
      }
#line 1543
      tmp___0 = tmp;
    }
#line 1543
    tmp___1 = tmp___0;
  } else {
#line 1543
    tmp___1 = -1;
  }
#line 1543
  if (tmp___1 == -1) {
#line 1544
    return (-1);
  }
#line 1546
  return (0);
}
}
#line 1549 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_getuint16(jas_stream_t *in , uint_fast16_t *val ) 
{ 
  uint_fast16_t v ;
  int c ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 1553
  if (! (in->flags_ & 7)) {
#line 1553
    if (in->rwlimit_ >= 0L) {
#line 1553
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1553
        in->flags_ |= 4;
#line 1553
        tmp___0 = -1;
      } else {
#line 1553
        goto _L___10;
      }
    } else {
      _L___10: /* CIL Label */ 
#line 1553
      (in->cnt_) --;
#line 1553
      if (in->cnt_ < 0) {
        {
#line 1553
        __cil_tmp5 = jas_stream_fillbuf(in, 1);
#line 1553
        tmp = __cil_tmp5;
        }
      } else {
#line 1553
        __cil_tmp6 = in->ptr_;
#line 1553
        (in->ptr_) ++;
#line 1553
        (in->rwcnt_) ++;
#line 1553
        tmp = (int )*__cil_tmp6;
      }
#line 1553
      tmp___0 = tmp;
    }
#line 1553
    tmp___1 = tmp___0;
  } else {
#line 1553
    tmp___1 = -1;
  }
#line 1553
  c = tmp___1;
#line 1553
  if (c == -1) {
#line 1554
    return (-1);
  }
#line 1556
  v = (uint_fast16_t )c;
#line 1557
  if (! (in->flags_ & 7)) {
#line 1557
    if (in->rwlimit_ >= 0L) {
#line 1557
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1557
        in->flags_ |= 4;
#line 1557
        tmp___3 = -1;
      } else {
#line 1557
        goto _L___11;
      }
    } else {
      _L___11: /* CIL Label */ 
#line 1557
      (in->cnt_) --;
#line 1557
      if (in->cnt_ < 0) {
        {
#line 1557
        __cil_tmp10 = jas_stream_fillbuf(in, 1);
#line 1557
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 1557
        __cil_tmp11 = in->ptr_;
#line 1557
        (in->ptr_) ++;
#line 1557
        (in->rwcnt_) ++;
#line 1557
        tmp___2 = (int )*__cil_tmp11;
      }
#line 1557
      tmp___3 = tmp___2;
    }
#line 1557
    tmp___4 = tmp___3;
  } else {
#line 1557
    tmp___4 = -1;
  }
#line 1557
  c = tmp___4;
#line 1557
  if (c == -1) {
#line 1558
    return (-1);
  }
#line 1560
  v = (v << 8) | (unsigned long )c;
#line 1561
  if (val) {
#line 1562
    *val = v;
  }
#line 1564
  return (0);
}
}
#line 1567 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_putuint16(jas_stream_t *out , uint_fast16_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 1569
  if (! (out->flags_ & 7)) {
#line 1569
    if (out->rwlimit_ >= 0L) {
#line 1569
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1569
        out->flags_ |= 4;
#line 1569
        tmp___3 = -1;
      } else {
#line 1569
        goto _L___10;
      }
    } else {
      _L___10: /* CIL Label */ 
#line 1569
      (out->cnt_) --;
#line 1569
      out->bufmode_ |= 32;
#line 1569
      if (out->cnt_ < 0) {
        {
#line 1569
        __cil_tmp8 = jas_stream_flushbuf(out, (int )((unsigned char )(val & 255UL)));
#line 1569
        tmp___2 = __cil_tmp8;
        }
      } else {
#line 1569
        __cil_tmp9 = out->ptr_;
#line 1569
        (out->ptr_) ++;
#line 1569
        *__cil_tmp9 = (unsigned char )(val & 255UL);
#line 1569
        (out->rwcnt_) ++;
#line 1569
        tmp___2 = (int )*__cil_tmp9;
      }
#line 1569
      tmp___3 = tmp___2;
    }
#line 1569
    tmp___4 = tmp___3;
  } else {
#line 1569
    tmp___4 = -1;
  }
#line 1569
  if (! (out->flags_ & 7)) {
#line 1569
    if (out->rwlimit_ >= 0L) {
#line 1569
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1569
        out->flags_ |= 4;
#line 1569
        tmp___0 = -1;
      } else {
#line 1569
        goto _L___11;
      }
    } else {
      _L___11: /* CIL Label */ 
#line 1569
      (out->cnt_) --;
#line 1569
      out->bufmode_ |= 32;
#line 1569
      if (out->cnt_ < 0) {
        {
#line 1569
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 8) & 255UL)));
#line 1569
        tmp = __cil_tmp3;
        }
      } else {
#line 1569
        __cil_tmp4 = out->ptr_;
#line 1569
        (out->ptr_) ++;
#line 1569
        *__cil_tmp4 = (unsigned char )((val >> 8) & 255UL);
#line 1569
        (out->rwcnt_) ++;
#line 1569
        tmp = (int )*__cil_tmp4;
      }
#line 1569
      tmp___0 = tmp;
    }
#line 1569
    tmp___1 = tmp___0;
  } else {
#line 1569
    tmp___1 = -1;
  }
#line 1569
  if (tmp___1 == -1) {
#line 1571
    return (-1);
  } else
#line 1569
  if (tmp___4 == -1) {
#line 1571
    return (-1);
  }
#line 1573
  return (0);
}
}
#line 1576 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_getuint32(jas_stream_t *in , uint_fast32_t *val ) 
{ 
  uint_fast32_t v ;
  int c ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp20 ;
  unsigned char *__cil_tmp21 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;

  {
#line 1580
  if (! (in->flags_ & 7)) {
#line 1580
    if (in->rwlimit_ >= 0L) {
#line 1580
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1580
        in->flags_ |= 4;
#line 1580
        tmp___0 = -1;
      } else {
#line 1580
        goto _L___10;
      }
    } else {
      _L___10: /* CIL Label */ 
#line 1580
      (in->cnt_) --;
#line 1580
      if (in->cnt_ < 0) {
        {
#line 1580
        __cil_tmp5 = jas_stream_fillbuf(in, 1);
#line 1580
        tmp = __cil_tmp5;
        }
      } else {
#line 1580
        __cil_tmp6 = in->ptr_;
#line 1580
        (in->ptr_) ++;
#line 1580
        (in->rwcnt_) ++;
#line 1580
        tmp = (int )*__cil_tmp6;
      }
#line 1580
      tmp___0 = tmp;
    }
#line 1580
    tmp___1 = tmp___0;
  } else {
#line 1580
    tmp___1 = -1;
  }
#line 1580
  c = tmp___1;
#line 1580
  if (c == -1) {
#line 1581
    return (-1);
  }
#line 1583
  v = (uint_fast32_t )c;
#line 1584
  if (! (in->flags_ & 7)) {
#line 1584
    if (in->rwlimit_ >= 0L) {
#line 1584
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1584
        in->flags_ |= 4;
#line 1584
        tmp___3 = -1;
      } else {
#line 1584
        goto _L___11;
      }
    } else {
      _L___11: /* CIL Label */ 
#line 1584
      (in->cnt_) --;
#line 1584
      if (in->cnt_ < 0) {
        {
#line 1584
        __cil_tmp10 = jas_stream_fillbuf(in, 1);
#line 1584
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 1584
        __cil_tmp11 = in->ptr_;
#line 1584
        (in->ptr_) ++;
#line 1584
        (in->rwcnt_) ++;
#line 1584
        tmp___2 = (int )*__cil_tmp11;
      }
#line 1584
      tmp___3 = tmp___2;
    }
#line 1584
    tmp___4 = tmp___3;
  } else {
#line 1584
    tmp___4 = -1;
  }
#line 1584
  c = tmp___4;
#line 1584
  if (c == -1) {
#line 1585
    return (-1);
  }
#line 1587
  v = (v << 8) | (unsigned long )c;
#line 1588
  if (! (in->flags_ & 7)) {
#line 1588
    if (in->rwlimit_ >= 0L) {
#line 1588
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1588
        in->flags_ |= 4;
#line 1588
        tmp___6 = -1;
      } else {
#line 1588
        goto _L___12;
      }
    } else {
      _L___12: /* CIL Label */ 
#line 1588
      (in->cnt_) --;
#line 1588
      if (in->cnt_ < 0) {
        {
#line 1588
        __cil_tmp15 = jas_stream_fillbuf(in, 1);
#line 1588
        tmp___5 = __cil_tmp15;
        }
      } else {
#line 1588
        __cil_tmp16 = in->ptr_;
#line 1588
        (in->ptr_) ++;
#line 1588
        (in->rwcnt_) ++;
#line 1588
        tmp___5 = (int )*__cil_tmp16;
      }
#line 1588
      tmp___6 = tmp___5;
    }
#line 1588
    tmp___7 = tmp___6;
  } else {
#line 1588
    tmp___7 = -1;
  }
#line 1588
  c = tmp___7;
#line 1588
  if (c == -1) {
#line 1589
    return (-1);
  }
#line 1591
  v = (v << 8) | (unsigned long )c;
#line 1592
  if (! (in->flags_ & 7)) {
#line 1592
    if (in->rwlimit_ >= 0L) {
#line 1592
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1592
        in->flags_ |= 4;
#line 1592
        tmp___9 = -1;
      } else {
#line 1592
        goto _L___13;
      }
    } else {
      _L___13: /* CIL Label */ 
#line 1592
      (in->cnt_) --;
#line 1592
      if (in->cnt_ < 0) {
        {
#line 1592
        __cil_tmp20 = jas_stream_fillbuf(in, 1);
#line 1592
        tmp___8 = __cil_tmp20;
        }
      } else {
#line 1592
        __cil_tmp21 = in->ptr_;
#line 1592
        (in->ptr_) ++;
#line 1592
        (in->rwcnt_) ++;
#line 1592
        tmp___8 = (int )*__cil_tmp21;
      }
#line 1592
      tmp___9 = tmp___8;
    }
#line 1592
    tmp___10 = tmp___9;
  } else {
#line 1592
    tmp___10 = -1;
  }
#line 1592
  c = tmp___10;
#line 1592
  if (c == -1) {
#line 1593
    return (-1);
  }
#line 1595
  v = (v << 8) | (unsigned long )c;
#line 1596
  if (val) {
#line 1597
    *val = v;
  }
#line 1599
  return (0);
}
}
#line 1602 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_putuint32(jas_stream_t *out , uint_fast32_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp13 ;
  unsigned char *__cil_tmp14 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp18 ;
  unsigned char *__cil_tmp19 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;

  {
#line 1604
  if (! (out->flags_ & 7)) {
#line 1604
    if (out->rwlimit_ >= 0L) {
#line 1604
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1604
        out->flags_ |= 4;
#line 1604
        tmp___9 = -1;
      } else {
#line 1604
        goto _L___10;
      }
    } else {
      _L___10: /* CIL Label */ 
#line 1604
      (out->cnt_) --;
#line 1604
      out->bufmode_ |= 32;
#line 1604
      if (out->cnt_ < 0) {
        {
#line 1604
        __cil_tmp18 = jas_stream_flushbuf(out, (int )((unsigned char )(val & 255UL)));
#line 1604
        tmp___8 = __cil_tmp18;
        }
      } else {
#line 1604
        __cil_tmp19 = out->ptr_;
#line 1604
        (out->ptr_) ++;
#line 1604
        *__cil_tmp19 = (unsigned char )(val & 255UL);
#line 1604
        (out->rwcnt_) ++;
#line 1604
        tmp___8 = (int )*__cil_tmp19;
      }
#line 1604
      tmp___9 = tmp___8;
    }
#line 1604
    tmp___10 = tmp___9;
  } else {
#line 1604
    tmp___10 = -1;
  }
#line 1604
  if (! (out->flags_ & 7)) {
#line 1604
    if (out->rwlimit_ >= 0L) {
#line 1604
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1604
        out->flags_ |= 4;
#line 1604
        tmp___6 = -1;
      } else {
#line 1604
        goto _L___11;
      }
    } else {
      _L___11: /* CIL Label */ 
#line 1604
      (out->cnt_) --;
#line 1604
      out->bufmode_ |= 32;
#line 1604
      if (out->cnt_ < 0) {
        {
#line 1604
        __cil_tmp13 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 8) & 255UL)));
#line 1604
        tmp___5 = __cil_tmp13;
        }
      } else {
#line 1604
        __cil_tmp14 = out->ptr_;
#line 1604
        (out->ptr_) ++;
#line 1604
        *__cil_tmp14 = (unsigned char )((val >> 8) & 255UL);
#line 1604
        (out->rwcnt_) ++;
#line 1604
        tmp___5 = (int )*__cil_tmp14;
      }
#line 1604
      tmp___6 = tmp___5;
    }
#line 1604
    tmp___7 = tmp___6;
  } else {
#line 1604
    tmp___7 = -1;
  }
#line 1604
  if (! (out->flags_ & 7)) {
#line 1604
    if (out->rwlimit_ >= 0L) {
#line 1604
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1604
        out->flags_ |= 4;
#line 1604
        tmp___3 = -1;
      } else {
#line 1604
        goto _L___12;
      }
    } else {
      _L___12: /* CIL Label */ 
#line 1604
      (out->cnt_) --;
#line 1604
      out->bufmode_ |= 32;
#line 1604
      if (out->cnt_ < 0) {
        {
#line 1604
        __cil_tmp8 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 16) & 255UL)));
#line 1604
        tmp___2 = __cil_tmp8;
        }
      } else {
#line 1604
        __cil_tmp9 = out->ptr_;
#line 1604
        (out->ptr_) ++;
#line 1604
        *__cil_tmp9 = (unsigned char )((val >> 16) & 255UL);
#line 1604
        (out->rwcnt_) ++;
#line 1604
        tmp___2 = (int )*__cil_tmp9;
      }
#line 1604
      tmp___3 = tmp___2;
    }
#line 1604
    tmp___4 = tmp___3;
  } else {
#line 1604
    tmp___4 = -1;
  }
#line 1604
  if (! (out->flags_ & 7)) {
#line 1604
    if (out->rwlimit_ >= 0L) {
#line 1604
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1604
        out->flags_ |= 4;
#line 1604
        tmp___0 = -1;
      } else {
#line 1604
        goto _L___13;
      }
    } else {
      _L___13: /* CIL Label */ 
#line 1604
      (out->cnt_) --;
#line 1604
      out->bufmode_ |= 32;
#line 1604
      if (out->cnt_ < 0) {
        {
#line 1604
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 24) & 255UL)));
#line 1604
        tmp = __cil_tmp3;
        }
      } else {
#line 1604
        __cil_tmp4 = out->ptr_;
#line 1604
        (out->ptr_) ++;
#line 1604
        *__cil_tmp4 = (unsigned char )((val >> 24) & 255UL);
#line 1604
        (out->rwcnt_) ++;
#line 1604
        tmp = (int )*__cil_tmp4;
      }
#line 1604
      tmp___0 = tmp;
    }
#line 1604
    tmp___1 = tmp___0;
  } else {
#line 1604
    tmp___1 = -1;
  }
#line 1604
  if (tmp___1 == -1) {
#line 1608
    return (-1);
  } else
#line 1604
  if (tmp___4 == -1) {
#line 1608
    return (-1);
  } else
#line 1604
  if (tmp___7 == -1) {
#line 1608
    return (-1);
  } else
#line 1604
  if (tmp___10 == -1) {
#line 1608
    return (-1);
  }
#line 1610
  return (0);
}
}
#line 1617 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
static jpc_mstabent_t *jpc_mstab_lookup(int id ) 
{ 
  jpc_mstabent_t *mstabent ;

  {
#line 1620
  mstabent = jpc_mstab;
  {
#line 1620
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1621
    if (mstabent->id == id) {
#line 1622
      return (mstabent);
    } else
#line 1621
    if (mstabent->id < 0) {
#line 1622
      return (mstabent);
    }
#line 1620
    mstabent ++;
  }
  while_break: /* CIL Label */ ;
  }

#line 1626
  return ((jpc_mstabent_t *)0);
}
}
#line 1629 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_validate(jas_stream_t *in ) 
{ 
  int n ;
  int i ;
  unsigned char buf[2] ;
  int __cil_tmp7 ;

  {
  {
#line 1637
  n = jas_stream_read(in, (void *)((char *)(buf)), 2);
  }
#line 1637
  if (n < 0) {
#line 1638
    return (-1);
  }
#line 1640
  i = n - 1;
  {
#line 1640
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1640
    if (! (i >= 0)) {
#line 1640
      goto while_break;
    }
    {
#line 1641
    __cil_tmp7 = jas_stream_ungetc(in, (int )buf[i]);
    }
#line 1641
    if (__cil_tmp7 == -1) {
#line 1642
      return (-1);
    }
#line 1640
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1645
  if (n < 2) {
#line 1646
    return (-1);
  }
#line 1648
  if ((int )buf[0] == 65359 >> 8) {
#line 1648
    if ((int )buf[1] == 79) {
#line 1649
      return (0);
    }
  }
#line 1651
  return (-1);
}
}
#line 1654 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_getdata(jas_stream_t *in , jas_stream_t *out , long len ) 
{ 
  int __cil_tmp4 ;

  {
  {
#line 1656
  __cil_tmp4 = jas_stream_copy(out, in, (int )len);
  }
#line 1656
  return (__cil_tmp4);
}
}
#line 1659 "/root/patron-new/new_2/src/libjasper/jpc/jpc_cs.c"
int jpc_putdata(jas_stream_t *out , jas_stream_t *in , long len ) 
{ 
  int __cil_tmp4 ;

  {
  {
#line 1661
  __cil_tmp4 = jas_stream_copy(out, in, (int )len);
  }
#line 1661
  return (__cil_tmp4);
}
}
#line 88 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
static jpc_bitstream_t *jpc_bitstream_alloc(void) ;
#line 95 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
jpc_bitstream_t *jpc_bitstream_sopen(jas_stream_t *stream , char *mode ) 
{ 
  jpc_bitstream_t *bitstream ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 106
  bitstream = jpc_bitstream_alloc();
  }
#line 106
  if (! bitstream) {
#line 107
    return ((jpc_bitstream_t *)0);
  }
#line 112
  bitstream->flags_ = 1;
#line 114
  bitstream->stream_ = stream;
#line 115
  if ((int )*(mode + 0) == 119) {
#line 115
    tmp___0 = 2;
  } else {
#line 115
    tmp___0 = 1;
  }
#line 115
  bitstream->openmode_ = tmp___0;
#line 119
  if (bitstream->openmode_ == 1) {
#line 119
    tmp___1 = 0;
  } else {
#line 119
    tmp___1 = 8;
  }
#line 119
  bitstream->cnt_ = tmp___1;
#line 120
  bitstream->buf_ = (uint_fast16_t )0;
#line 122
  return (bitstream);
}
}
#line 126 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_close(jpc_bitstream_t *bitstream ) 
{ 
  int ret ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;

  {
  {
#line 128
  ret = 0;
#line 132
  __cil_tmp3 = jpc_bitstream_align(bitstream);
  }
#line 132
  if (__cil_tmp3) {
#line 133
    ret = -1;
  }
#line 137
  if (bitstream->stream_) {
#line 137
    if (! (bitstream->flags_ & 1)) {
      {
#line 138
      __cil_tmp4 = jas_stream_close(bitstream->stream_);
      }
#line 138
      if (__cil_tmp4) {
#line 139
        ret = -1;
      }
#line 141
      bitstream->stream_ = (jas_stream_t *)0;
    }
  }
  {
#line 144
  jas_free((void *)bitstream);
  }
#line 145
  return (ret);
}
}
#line 149 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
static jpc_bitstream_t *jpc_bitstream_alloc(void) 
{ 
  jpc_bitstream_t *bitstream ;
  void *tmp ;

  {
  {
#line 154
  tmp = jas_malloc(sizeof(jpc_bitstream_t ));
#line 154
  bitstream = (jpc_bitstream_t *)tmp;
  }
#line 154
  if (! bitstream) {
#line 155
    return ((jpc_bitstream_t *)0);
  }
#line 158
  bitstream->stream_ = (jas_stream_t *)0;
#line 159
  bitstream->cnt_ = 0;
#line 160
  bitstream->flags_ = 0;
#line 161
  bitstream->openmode_ = 0;
#line 163
  return (bitstream);
}
}
#line 171 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_getbit_func(jpc_bitstream_t *bitstream ) 
{ 
  int ret ;
  int __cil_tmp4 ;
  int tmp___0 ;

  {
#line 175
  (bitstream->cnt_) --;
#line 175
  if (bitstream->cnt_ >= 0) {
#line 175
    tmp___0 = (int )((bitstream->buf_ >> bitstream->cnt_) & 1UL);
  } else {
    {
#line 175
    __cil_tmp4 = jpc_bitstream_fillbuf(bitstream);
#line 175
    tmp___0 = __cil_tmp4;
    }
  }
#line 175
  ret = tmp___0;
#line 177
  return (ret);
}
}
#line 181 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_putbit_func(jpc_bitstream_t *bitstream , int b ) 
{ 
  int ret ;
  int tmp___0 ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;

  {
#line 185
  (bitstream->cnt_) --;
#line 185
  if (bitstream->cnt_ < 0) {
#line 185
    if (! ((bitstream->stream_)->flags_ & 7)) {
#line 185
      if ((bitstream->stream_)->rwlimit_ >= 0L) {
#line 185
        if ((bitstream->stream_)->rwcnt_ >= (bitstream->stream_)->rwlimit_) {
#line 185
          (bitstream->stream_)->flags_ |= 4;
#line 185
          tmp___2 = -1;
        } else {
#line 185
          goto _L___10;
        }
      } else {
        _L___10: /* CIL Label */ 
#line 185
        ((bitstream->stream_)->cnt_) --;
#line 185
        (bitstream->stream_)->bufmode_ |= 32;
#line 185
        if ((bitstream->stream_)->cnt_ < 0) {
          {
#line 185
          __cil_tmp6 = jas_stream_flushbuf(bitstream->stream_, (int )((unsigned char )(bitstream->buf_ >> 8)));
#line 185
          tmp___1 = __cil_tmp6;
          }
        } else {
#line 185
          __cil_tmp7 = (bitstream->stream_)->ptr_;
#line 185
          ((bitstream->stream_)->ptr_) ++;
#line 185
          *__cil_tmp7 = (unsigned char )(bitstream->buf_ >> 8);
#line 185
          ((bitstream->stream_)->rwcnt_) ++;
#line 185
          tmp___1 = (int )*__cil_tmp7;
        }
#line 185
        tmp___2 = tmp___1;
      }
#line 185
      tmp___3 = tmp___2;
    } else {
#line 185
      tmp___3 = -1;
    }
#line 185
    if (tmp___3 == -1) {
#line 185
      tmp___4 = -1;
    } else {
#line 185
      tmp___4 = b & 1;
    }
#line 185
    bitstream->buf_ |= (unsigned long )((b & 1) << bitstream->cnt_);
#line 185
    if (bitstream->buf_ == 65280UL) {
#line 185
      tmp___0 = 6;
    } else {
#line 185
      tmp___0 = 7;
    }
#line 185
    bitstream->cnt_ = tmp___0;
#line 185
    bitstream->buf_ = (bitstream->buf_ << 8) & 65535UL;
#line 185
    tmp___5 = tmp___4;
  } else {
#line 185
    bitstream->buf_ |= (unsigned long )((b & 1) << bitstream->cnt_);
#line 185
    tmp___5 = b & 1;
  }
#line 185
  ret = tmp___5;
#line 187
  return (ret);
}
}
#line 191 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
long jpc_bitstream_getbits(jpc_bitstream_t *bitstream , int n ) 
{ 
  long v ;
  int u ;
  int __cil_tmp7 ;
  int tmp___1 ;

  {
#line 201
  v = 0L;
  {
#line 202
  while (1) {
    while_continue: /* CIL Label */ ;
#line 202
    n --;
#line 202
    if (! (n >= 0)) {
#line 202
      goto while_break;
    }
#line 203
    (bitstream->cnt_) --;
#line 203
    if (bitstream->cnt_ >= 0) {
#line 203
      tmp___1 = (int )((bitstream->buf_ >> bitstream->cnt_) & 1UL);
    } else {
      {
#line 203
      __cil_tmp7 = jpc_bitstream_fillbuf(bitstream);
#line 203
      tmp___1 = __cil_tmp7;
      }
    }
#line 203
    u = tmp___1;
#line 203
    if (u < 0) {
#line 204
      return (-1L);
    }
#line 206
    v = (v << 1) | (long )u;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 208
  return (v);
}
}
#line 212 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_putbits(jpc_bitstream_t *bitstream , int n , long v ) 
{ 
  int m ;
  int tmp___2 ;
  int __cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  long tmp___6 ;
  long tmp___7 ;

  {
#line 223
  m = n - 1;
  {
#line 224
  while (1) {
    while_continue: /* CIL Label */ ;
#line 224
    n --;
#line 224
    if (! (n >= 0)) {
#line 224
      goto while_break;
    }
#line 225
    (bitstream->cnt_) --;
#line 225
    if (bitstream->cnt_ < 0) {
#line 225
      if (! ((bitstream->stream_)->flags_ & 7)) {
#line 225
        if ((bitstream->stream_)->rwlimit_ >= 0L) {
#line 225
          if ((bitstream->stream_)->rwcnt_ >= (bitstream->stream_)->rwlimit_) {
#line 225
            (bitstream->stream_)->flags_ |= 4;
#line 225
            tmp___4 = -1;
          } else {
#line 225
            goto _L___10;
          }
        } else {
          _L___10: /* CIL Label */ 
#line 225
          ((bitstream->stream_)->cnt_) --;
#line 225
          (bitstream->stream_)->bufmode_ |= 32;
#line 225
          if ((bitstream->stream_)->cnt_ < 0) {
            {
#line 225
            __cil_tmp9 = jas_stream_flushbuf(bitstream->stream_, (int )((unsigned char )(bitstream->buf_ >> 8)));
#line 225
            tmp___3 = __cil_tmp9;
            }
          } else {
#line 225
            __cil_tmp10 = (bitstream->stream_)->ptr_;
#line 225
            ((bitstream->stream_)->ptr_) ++;
#line 225
            *__cil_tmp10 = (unsigned char )(bitstream->buf_ >> 8);
#line 225
            ((bitstream->stream_)->rwcnt_) ++;
#line 225
            tmp___3 = (int )*__cil_tmp10;
          }
#line 225
          tmp___4 = tmp___3;
        }
#line 225
        tmp___5 = tmp___4;
      } else {
#line 225
        tmp___5 = -1;
      }
#line 225
      if (tmp___5 == -1) {
#line 225
        tmp___6 = -1L;
      } else {
#line 225
        tmp___6 = ((v >> m) & 1L) & 1L;
      }
#line 225
      bitstream->buf_ |= (unsigned long )((((v >> m) & 1L) & 1L) << bitstream->cnt_);
#line 225
      if (bitstream->buf_ == 65280UL) {
#line 225
        tmp___2 = 6;
      } else {
#line 225
        tmp___2 = 7;
      }
#line 225
      bitstream->cnt_ = tmp___2;
#line 225
      bitstream->buf_ = (bitstream->buf_ << 8) & 65535UL;
#line 225
      tmp___7 = tmp___6;
    } else {
#line 225
      bitstream->buf_ |= (unsigned long )((((v >> m) & 1L) & 1L) << bitstream->cnt_);
#line 225
      tmp___7 = ((v >> m) & 1L) & 1L;
    }
#line 225
    if (tmp___7 == -1L) {
#line 226
      return (-1);
    }
#line 228
    v <<= 1;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 230
  return (0);
}
}
#line 238 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_fillbuf(jpc_bitstream_t *bitstream ) 
{ 
  int c ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 245
  if (bitstream->flags_ & 4) {
#line 246
    bitstream->cnt_ = 0;
#line 247
    return (-1);
  }
#line 250
  if (bitstream->flags_ & 2) {
#line 251
    bitstream->buf_ = (uint_fast16_t )127;
#line 252
    bitstream->cnt_ = 7;
#line 253
    return (1);
  }
#line 256
  bitstream->buf_ = (bitstream->buf_ << 8) & 65535UL;
#line 257
  if (! ((bitstream->stream_)->flags_ & 7)) {
#line 257
    if ((bitstream->stream_)->rwlimit_ >= 0L) {
#line 257
      if ((bitstream->stream_)->rwcnt_ >= (bitstream->stream_)->rwlimit_) {
#line 257
        (bitstream->stream_)->flags_ |= 4;
#line 257
        tmp___2 = -1;
      } else {
#line 257
        goto _L___10;
      }
    } else {
      _L___10: /* CIL Label */ 
#line 257
      ((bitstream->stream_)->cnt_) --;
#line 257
      if ((bitstream->stream_)->cnt_ < 0) {
        {
#line 257
        __cil_tmp5 = jas_stream_fillbuf(bitstream->stream_, 1);
#line 257
        tmp___1 = __cil_tmp5;
        }
      } else {
#line 257
        __cil_tmp6 = (bitstream->stream_)->ptr_;
#line 257
        ((bitstream->stream_)->ptr_) ++;
#line 257
        ((bitstream->stream_)->rwcnt_) ++;
#line 257
        tmp___1 = (int )*__cil_tmp6;
      }
#line 257
      tmp___2 = tmp___1;
    }
#line 257
    tmp___3 = tmp___2;
  } else {
#line 257
    tmp___3 = -1;
  }
#line 257
  c = tmp___3;
#line 257
  if (c == -1) {
#line 258
    bitstream->flags_ |= 2;
#line 259
    return (1);
  }
#line 261
  if (bitstream->buf_ == 65280UL) {
#line 261
    tmp___4 = 6;
  } else {
#line 261
    tmp___4 = 7;
  }
#line 261
  bitstream->cnt_ = tmp___4;
#line 262
  bitstream->buf_ |= (unsigned long )(c & ((1 << (bitstream->cnt_ + 1)) - 1));
#line 263
  return ((int )((bitstream->buf_ >> bitstream->cnt_) & 1UL));
}
}
#line 273 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_needalign(jpc_bitstream_t *bitstream ) 
{ 


  {
#line 275
  if (bitstream->openmode_ & 1) {
#line 280
    if (bitstream->cnt_ < 8) {
#line 280
      if (bitstream->cnt_ > 0) {
#line 282
        return (1);
      } else {
#line 280
        goto _L;
      }
    } else
    _L: 
#line 280
    if (((bitstream->buf_ >> 8) & 255UL) == 255UL) {
#line 282
      return (1);
    }
  } else
#line 284
  if (bitstream->openmode_ & 2) {
#line 289
    if (bitstream->cnt_ < 8) {
#line 289
      if (bitstream->cnt_ >= 0) {
#line 291
        return (1);
      } else {
#line 289
        goto _L___26;
      }
    } else
    _L___26: 
#line 289
    if (((bitstream->buf_ >> 8) & 255UL) == 255UL) {
#line 291
      return (1);
    }
  } else {
#line 296
    return (-1);
  }
#line 298
  return (0);
}
}
#line 302 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_pending(jpc_bitstream_t *bitstream ) 
{ 


  {
#line 304
  if (bitstream->openmode_ & 2) {
#line 308
    if (bitstream->cnt_ < 8) {
#line 309
      return (1);
    }
#line 319
    return (0);
  } else {
#line 323
    return (-1);
  }
}
}
#line 328 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_align(jpc_bitstream_t *bitstream ) 
{ 
  int ret ;

  {
#line 331
  if (bitstream->openmode_ & 1) {
    {
#line 332
    ret = jpc_bitstream_inalign(bitstream, 0, 0);
    }
  } else
#line 333
  if (bitstream->openmode_ & 2) {
    {
#line 334
    ret = jpc_bitstream_outalign(bitstream, 0);
    }
  } else {
    {
#line 336
    abort();
    }
  }
#line 338
  return (ret);
}
}
#line 342 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_inalign(jpc_bitstream_t *bitstream , int fillmask , int filldata ) 
{ 
  int n ;
  int v ;
  int u ;
  int numfill ;
  int m ;
  int tmp ;
  long __cil_tmp10 ;
  long __cil_tmp11 ;

  {
#line 351
  numfill = 7;
#line 352
  m = 0;
#line 353
  v = 0;
#line 354
  if (bitstream->cnt_ > 0) {
#line 355
    n = bitstream->cnt_;
  } else
#line 356
  if (! bitstream->cnt_) {
#line 357
    if ((bitstream->buf_ & 255UL) == 255UL) {
#line 357
      tmp = 7;
    } else {
#line 357
      tmp = 0;
    }
#line 357
    n = tmp;
  } else {
#line 359
    n = 0;
  }
#line 361
  if (n > 0) {
    {
#line 362
    __cil_tmp10 = jpc_bitstream_getbits(bitstream, n);
#line 362
    u = (int )__cil_tmp10;
    }
#line 362
    if (u < 0) {
#line 363
      return (-1);
    }
#line 365
    m += n;
#line 366
    v = (v << n) | u;
  }
#line 368
  if ((bitstream->buf_ & 255UL) == 255UL) {
    {
#line 369
    __cil_tmp11 = jpc_bitstream_getbits(bitstream, 7);
#line 369
    u = (int )__cil_tmp11;
    }
#line 369
    if (u < 0) {
#line 370
      return (-1);
    }
#line 372
    v = (v << 7) | u;
#line 373
    m += 7;
  }
#line 375
  if (m > numfill) {
#line 376
    v >>= m - numfill;
  } else {
#line 378
    filldata >>= numfill - m;
#line 379
    fillmask >>= numfill - m;
  }
#line 381
  if ((~ (v ^ filldata) & fillmask) != fillmask) {
#line 383
    return (1);
  }
#line 386
  return (0);
}
}
#line 390 "/root/patron-new/new_2/src/libjasper/jpc/jpc_bs.c"
int jpc_bitstream_outalign(jpc_bitstream_t *bitstream , int filldata ) 
{ 
  int n ;
  int v ;
  int __cil_tmp7 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;

  {
#line 404
  if (! bitstream->cnt_) {
#line 405
    if ((bitstream->buf_ & 255UL) == 255UL) {
#line 406
      n = 7;
#line 407
      v = filldata;
    } else {
#line 409
      n = 0;
#line 410
      v = 0;
    }
  } else
#line 412
  if (bitstream->cnt_ > 0) {
#line 412
    if (bitstream->cnt_ < 8) {
#line 413
      n = bitstream->cnt_;
#line 414
      v = filldata >> (7 - n);
    } else {
#line 416
      n = 0;
#line 417
      v = 0;
#line 418
      return (0);
    }
  } else {
#line 416
    n = 0;
#line 417
    v = 0;
#line 418
    return (0);
  }
#line 422
  if (n > 0) {
    {
#line 423
    __cil_tmp7 = jpc_bitstream_putbits(bitstream, n, (long )v);
    }
#line 423
    if (__cil_tmp7) {
#line 424
      return (-1);
    }
  }
#line 427
  if (bitstream->cnt_ < 8) {
#line 432
    if (! ((bitstream->stream_)->flags_ & 7)) {
#line 432
      if ((bitstream->stream_)->rwlimit_ >= 0L) {
#line 432
        if ((bitstream->stream_)->rwcnt_ >= (bitstream->stream_)->rwlimit_) {
#line 432
          (bitstream->stream_)->flags_ |= 4;
#line 432
          tmp___4 = -1;
        } else {
#line 432
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 432
        ((bitstream->stream_)->cnt_) --;
#line 432
        (bitstream->stream_)->bufmode_ |= 32;
#line 432
        if ((bitstream->stream_)->cnt_ < 0) {
          {
#line 432
          __cil_tmp10 = jas_stream_flushbuf(bitstream->stream_, (int )((unsigned char )(bitstream->buf_ & 255UL)));
#line 432
          tmp___3 = __cil_tmp10;
          }
        } else {
#line 432
          __cil_tmp11 = (bitstream->stream_)->ptr_;
#line 432
          ((bitstream->stream_)->ptr_) ++;
#line 432
          *__cil_tmp11 = (unsigned char )(bitstream->buf_ & 255UL);
#line 432
          ((bitstream->stream_)->rwcnt_) ++;
#line 432
          tmp___3 = (int )*__cil_tmp11;
        }
#line 432
        tmp___4 = tmp___3;
      }
#line 432
      tmp___5 = tmp___4;
    } else {
#line 432
      tmp___5 = -1;
    }
#line 432
    if (tmp___5 == -1) {
#line 433
      return (-1);
    }
#line 435
    bitstream->cnt_ = 8;
#line 436
    bitstream->buf_ = (bitstream->buf_ << 8) & 65535UL;
  }
#line 439
  return (0);
}
}
#line 287 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.h"
jp2_box_t *jp2_box_create(int type ) ;
#line 288
void jp2_box_destroy(jp2_box_t *box ) ;
#line 289
jp2_box_t *jp2_box_get(jas_stream_t *in ) ;
#line 290
int jp2_box_put(jp2_box_t *box , jas_stream_t *out ) ;
#line 301
jp2_cdefchan_t *jp2_cdef_lookup(jp2_cdef_t *cdef , int channo ) ;
#line 82 "/root/patron-new/new_2/src/libjasper/jp2/jp2_enc.c"
static uint_fast32_t jp2_gettypeasoc(int colorspace , int ctype ) ;
#line 83
static int clrspctojp2(jas_clrspc_t clrspc ) ;
#line 89 "/root/patron-new/new_2/src/libjasper/jp2/jp2_enc.c"
int jp2_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) 
{ 
  jp2_box_t *box ;
  jp2_ftyp_t *ftyp ;
  jp2_ihdr_t *ihdr ;
  jas_stream_t *tmpstream ;
  int allcmptssame ;
  jp2_bpcc_t *bpcc ;
  long len ;
  uint_fast16_t cmptno ;
  jp2_colr_t *colr ;
  char buf[4096] ;
  uint_fast32_t overhead ;
  jp2_cdefchan_t *cdefchanent ;
  jp2_cdef_t *cdef ;
  int i ;
  uint_fast32_t typeasoc ;
  jas_iccprof_t *iccprof ;
  jas_stream_t *iccstream ;
  int pos ;
  int needcdef ;
  int prec ;
  int sgnd ;
  int __cil_tmp26 ;
  int __cil_tmp28 ;
  int tmp ;
  int __cil_tmp32 ;
  int __cil_tmp35 ;
  int __cil_tmp37 ;
  int __cil_tmp42 ;
  long __cil_tmp43 ;
  int __cil_tmp46 ;
  int __cil_tmp47 ;
  int __cil_tmp51 ;
  int tmp___3 ;
  int __cil_tmp55 ;
  int __cil_tmp56 ;
  int __cil_tmp58 ;
  char *tmp___4 ;
  int __cil_tmp60 ;
  void *tmp___5 ;
  void *tmp___6 ;
  void *tmp___7 ;

  {
#line 113
  box = (jp2_box_t *)0;
#line 114
  tmpstream = (jas_stream_t *)0;
#line 116
  allcmptssame = 1;
#line 117
  sgnd = (*(image->cmpts_ + 0))->sgnd_;
#line 118
  prec = (*(image->cmpts_ + 0))->prec_;
#line 119
  i = 1;
  {
#line 119
  while (1) {
    while_continue: /* CIL Label */ ;

#line 119
    if (! (i < image->numcmpts_)) {
#line 119
      goto while_break;
    }
#line 120
    if ((*(image->cmpts_ + i))->sgnd_ != sgnd) {
#line 122
      allcmptssame = 0;
#line 123
      goto while_break;
    } else
#line 120
    if ((*(image->cmpts_ + i))->prec_ != prec) {
#line 122
      allcmptssame = 0;
#line 123
      goto while_break;
    }
#line 119
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
  {
#line 129
  box = jp2_box_create(1783636000);
  }
#line 129
  if (! box) {
#line 130
    goto error;
  }
  {
#line 132
  box->data.jp.magic = (uint_fast32_t )218793738;
#line 133
  __cil_tmp26 = jp2_box_put(box, out);
  }
#line 133
  if (__cil_tmp26) {
#line 134
    goto error;
  }
  {
#line 136
  jp2_box_destroy(box);
#line 137
  box = (jp2_box_t *)0;
#line 141
  box = jp2_box_create(1718909296);
  }
#line 141
  if (! box) {
#line 142
    goto error;
  }
  {
#line 144
  ftyp = & box->data.ftyp;
#line 145
  ftyp->majver = (uint_fast32_t )1785737760;
#line 146
  ftyp->minver = (uint_fast32_t )0;
#line 147
  ftyp->numcompatcodes = (uint_fast32_t )1;
#line 148
  ftyp->compatcodes[0] = (uint_fast32_t )1785737760;
#line 149
  __cil_tmp28 = jp2_box_put(box, out);
  }
#line 149
  if (__cil_tmp28) {
#line 150
    goto error;
  }
  {
#line 152
  jp2_box_destroy(box);
#line 153
  box = (jp2_box_t *)0;
#line 162
  tmpstream = jas_stream_memopen((char *)0, 0);
  }
#line 162
  if (! tmpstream) {
#line 163
    goto error;
  }
  {
#line 168
  box = jp2_box_create(1768449138);
  }
#line 168
  if (! box) {
#line 169
    goto error;
  }
#line 171
  ihdr = & box->data.ihdr;
#line 172
  ihdr->width = (uint_fast32_t )(image->brx_ - image->tlx_);
#line 173
  ihdr->height = (uint_fast32_t )(image->bry_ - image->tly_);
#line 174
  ihdr->numcmpts = (uint_fast16_t )image->numcmpts_;
#line 175
  if (allcmptssame) {
#line 175
    tmp = (((*(image->cmpts_ + 0))->prec_ - 1) & 127) | (((*(image->cmpts_ + 0))->sgnd_ & 1) << 7);
  } else {
#line 175
    tmp = 255;
  }
  {
#line 175
  ihdr->bpc = (uint_fast8_t )tmp;
#line 177
  ihdr->comptype = (uint_fast8_t )7;
#line 178
  ihdr->csunk = (uint_fast8_t )0;
#line 179
  ihdr->ipr = (uint_fast8_t )0;
#line 180
  __cil_tmp32 = jp2_box_put(box, tmpstream);
  }
#line 180
  if (__cil_tmp32) {
#line 181
    goto error;
  }
  {
#line 183
  jp2_box_destroy(box);
#line 184
  box = (jp2_box_t *)0;
  }
#line 188
  if (! allcmptssame) {
    {
#line 189
    box = jp2_box_create(1651532643);
    }
#line 189
    if (! box) {
#line 190
      goto error;
    }
    {
#line 192
    bpcc = & box->data.bpcc;
#line 193
    bpcc->numcmpts = (uint_fast16_t )image->numcmpts_;
#line 194
    tmp___5 = jas_alloc2(bpcc->numcmpts, sizeof(uint_fast8_t ));
#line 194
    bpcc->bpcs = (uint_fast8_t *)tmp___5;
    }
#line 194
    if (! bpcc->bpcs) {
#line 196
      goto error;
    }
#line 198
    cmptno = (uint_fast16_t )0;
    {
#line 198
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 198
      if (! (cmptno < bpcc->numcmpts)) {
#line 198
        goto while_break___0;
      }
#line 199
      *(bpcc->bpcs + cmptno) = (uint_fast8_t )((((*(image->cmpts_ + cmptno))->prec_ - 1) & 127) | (((*(image->cmpts_ + cmptno))->sgnd_ & 1) << 7));
#line 198
      cmptno ++;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 202
    __cil_tmp35 = jp2_box_put(box, tmpstream);
    }
#line 202
    if (__cil_tmp35) {
#line 203
      goto error;
    }
    {
#line 205
    jp2_box_destroy(box);
#line 206
    box = (jp2_box_t *)0;
    }
  }
  {
#line 211
  box = jp2_box_create(1668246642);
  }
#line 211
  if (! box) {
#line 212
    goto error;
  }
#line 214
  colr = & box->data.colr;
#line 218
  if (image->clrspc_ == ((3 << 8) | 1)) {
#line 218
    goto case_exp;
  }
#line 218
  if (image->clrspc_ == ((5 << 8) | 1)) {
#line 218
    goto case_exp;
  }
#line 218
  if (image->clrspc_ == ((4 << 8) | 1)) {
#line 218
    goto case_exp;
  }
#line 224
  goto switch_default;
  case_exp: 
  {
#line 219
  colr->method = (uint_fast8_t )1;
#line 220
  __cil_tmp37 = clrspctojp2(image->clrspc_);
#line 220
  colr->csid = (uint_fast32_t )__cil_tmp37;
#line 221
  colr->pri = (uint_fast8_t )0;
#line 222
  colr->approx = (uint_fast8_t )0;
  }
#line 223
  goto switch_break;
  switch_default: 
  {
#line 225
  colr->method = (uint_fast8_t )2;
#line 226
  colr->pri = (uint_fast8_t )0;
#line 227
  colr->approx = (uint_fast8_t )0;
#line 228
  iccprof = jas_iccprof_createfromcmprof(image->cmprof_);
#line 230
  iccstream = jas_stream_memopen((char *)0, 0);
#line 232
  __cil_tmp42 = jas_iccprof_save(iccprof, iccstream);
  }
#line 232
  if (__cil_tmp42) {
    {
#line 233
    abort();
    }
  }
  {
#line 234
  __cil_tmp43 = jas_stream_tell(iccstream);
#line 234
  pos = (int )__cil_tmp43;
  }
#line 234
  if (pos < 0) {
    {
#line 235
    abort();
    }
  }
  {
#line 236
  colr->iccplen = pos;
#line 237
  tmp___6 = jas_malloc((size_t )pos);
#line 237
  colr->iccp = (uint_fast8_t *)tmp___6;
#line 239
  jas_stream_rewind(iccstream);
#line 240
  __cil_tmp46 = jas_stream_read(iccstream, (void *)colr->iccp, colr->iccplen);
  }
#line 240
  if (__cil_tmp46 != colr->iccplen) {
    {
#line 241
    abort();
    }
  }
  {
#line 242
  jas_stream_close(iccstream);
#line 243
  jas_iccprof_destroy(iccprof);
  }
#line 244
  goto switch_break;
  switch_break: 
  {
#line 246
  __cil_tmp47 = jp2_box_put(box, tmpstream);
  }
#line 246
  if (__cil_tmp47) {
#line 247
    goto error;
  }
  {
#line 249
  jp2_box_destroy(box);
#line 250
  box = (jp2_box_t *)0;
#line 252
  needcdef = 1;
  }
#line 254
  if (image->clrspc_ >> 8 == 4) {
#line 254
    goto case_4;
  }
#line 263
  if (image->clrspc_ >> 8 == 5) {
#line 263
    goto case_5;
  }
#line 272
  if (image->clrspc_ >> 8 == 3) {
#line 272
    goto case_3;
  }
#line 277
  goto switch_default___0;
  case_4: 
#line 255
  if ((*(image->cmpts_ + 0))->type_ == 0L) {
#line 255
    if ((*(image->cmpts_ + 1))->type_ == 1L) {
#line 255
      if ((*(image->cmpts_ + 2))->type_ == 2L) {
#line 261
        needcdef = 0;
      }
    }
  }
#line 262
  goto switch_break___0;
  case_5: 
#line 264
  if ((*(image->cmpts_ + 0))->type_ == 0L) {
#line 264
    if ((*(image->cmpts_ + 1))->type_ == 1L) {
#line 264
      if ((*(image->cmpts_ + 2))->type_ == 2L) {
#line 270
        needcdef = 0;
      }
    }
  }
#line 271
  goto switch_break___0;
  case_3: 
#line 273
  if ((*(image->cmpts_ + 0))->type_ == 0L) {
#line 275
    needcdef = 0;
  }
#line 276
  goto switch_break___0;
  switch_default___0: 
  {
#line 278
  abort();
  }
#line 279
  goto switch_break___0;
  switch_break___0: ;
#line 282
  if (needcdef) {
    {
#line 283
    box = jp2_box_create(1667523942);
    }
#line 283
    if (! box) {
#line 284
      goto error;
    }
    {
#line 286
    cdef = & box->data.cdef;
#line 287
    cdef->numchans = (uint_fast16_t )image->numcmpts_;
#line 288
    tmp___7 = jas_alloc2(cdef->numchans, sizeof(jp2_cdefchan_t ));
#line 288
    cdef->ents = (jp2_cdefchan_t *)tmp___7;
#line 289
    i = 0;
    }
    {
#line 289
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 289
      if (! (i < image->numcmpts_)) {
#line 289
        goto while_break___1;
      }
      {
#line 290
      cdefchanent = cdef->ents + i;
#line 291
      cdefchanent->channo = (uint_fast16_t )i;
#line 292
      typeasoc = jp2_gettypeasoc(image->clrspc_, (int )(*(image->cmpts_ + i))->type_);
#line 293
      cdefchanent->type = typeasoc >> 16;
#line 294
      cdefchanent->assoc = typeasoc & 32767UL;
#line 289
      i ++;
      }
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
    {
#line 296
    __cil_tmp51 = jp2_box_put(box, tmpstream);
    }
#line 296
    if (__cil_tmp51) {
#line 297
      goto error;
    }
    {
#line 299
    jp2_box_destroy(box);
#line 300
    box = (jp2_box_t *)0;
    }
  }
  {
#line 305
  len = jas_stream_tell(tmpstream);
#line 306
  jas_stream_rewind(tmpstream);
#line 312
  box = jp2_box_create(1785737832);
  }
#line 312
  if (! box) {
#line 313
    goto error;
  }
  {
#line 315
  tmp___3 = 8;
#line 315
  box->len = (uint_fast32_t )(len + (long )tmp___3);
#line 316
  __cil_tmp55 = jp2_box_put(box, out);
  }
#line 316
  if (__cil_tmp55) {
#line 317
    goto error;
  }
  {
#line 319
  jp2_box_destroy(box);
#line 320
  box = (jp2_box_t *)0;
#line 322
  __cil_tmp56 = jas_stream_copy(out, tmpstream, (int )len);
  }
#line 322
  if (__cil_tmp56) {
#line 323
    goto error;
  }
  {
#line 326
  jas_stream_close(tmpstream);
#line 327
  tmpstream = (jas_stream_t *)0;
#line 333
  box = jp2_box_create(1785737827);
  }
#line 333
  if (! box) {
#line 334
    goto error;
  }
  {
#line 336
  box->len = (uint_fast32_t )0;
#line 337
  __cil_tmp58 = jp2_box_put(box, out);
  }
#line 337
  if (__cil_tmp58) {
#line 338
    goto error;
  }
  {
#line 340
  jp2_box_destroy(box);
#line 341
  box = (jp2_box_t *)0;
#line 345
  overhead = (uint_fast32_t )out->rwcnt_;
  }
#line 346
  if (optstr) {
#line 346
    tmp___4 = optstr;
  } else {
#line 346
    tmp___4 = (char *)"\220";
  }
  {
#line 346
  sprintf(buf, "%s\n_jp2overhead=%lu\n", (int )tmp___4, overhead);
#line 349
  __cil_tmp60 = jpc_encode(image, out, buf);
  }
#line 349
  if (__cil_tmp60) {
#line 350
    goto error;
  }
#line 353
  return (0);
  error: 
#line 357
  if (box) {
    {
#line 358
    jp2_box_destroy(box);
    }
  }
#line 360
  if (tmpstream) {
    {
#line 361
    jas_stream_close(tmpstream);
    }
  }
#line 363
  return (-1);
}
}
#line 366 "/root/patron-new/new_2/src/libjasper/jp2/jp2_enc.c"
static uint_fast32_t jp2_gettypeasoc(int colorspace , int ctype ) 
{ 
  int type ;
  int asoc ;

  {
#line 371
  if (ctype & 32768) {
#line 372
    type = 1;
#line 373
    asoc = 0;
#line 374
    goto done;
  }
#line 377
  type = 65535;
#line 378
  asoc = 65535;
#line 380
  if (colorspace >> 8 == 4) {
#line 380
    goto case_4;
  }
#line 382
  if (colorspace >> 8 == 0) {
#line 382
    goto case_0;
  }
#line 386
  if (colorspace >> 8 == 1) {
#line 386
    goto case_1;
  }
#line 390
  if (colorspace >> 8 == 2) {
#line 390
    goto case_2;
  }
#line 396
  if (colorspace >> 8 == 5) {
#line 396
    goto case_5;
  }
#line 398
  if (colorspace >> 8 == 0) {
#line 398
    goto case_0___0;
  }
#line 402
  if (colorspace >> 8 == 1) {
#line 402
    goto case_1___0;
  }
#line 406
  if (colorspace >> 8 == 2) {
#line 406
    goto case_2___0;
  }
#line 412
  if (colorspace >> 8 == 3) {
#line 412
    goto case_3;
  }
#line 379
  goto switch_break;
  case_4: 
#line 382
  if ((ctype & 32767) == 0) {
#line 382
    goto case_0;
  }
#line 386
  if ((ctype & 32767) == 1) {
#line 386
    goto case_1;
  }
#line 390
  if ((ctype & 32767) == 2) {
#line 390
    goto case_2;
  }
#line 381
  goto switch_break___0;
  case_0: 
#line 383
  type = 0;
#line 384
  asoc = 1;
#line 385
  goto switch_break___0;
  case_1: 
#line 387
  type = 0;
#line 388
  asoc = 2;
#line 389
  goto switch_break___0;
  case_2: 
#line 391
  type = 0;
#line 392
  asoc = 3;
#line 393
  goto switch_break___0;
  switch_break___0: ;
#line 395
  goto switch_break;
  case_5: 
#line 398
  if ((ctype & 32767) == 0) {
#line 398
    goto case_0___0;
  }
#line 402
  if ((ctype & 32767) == 1) {
#line 402
    goto case_1___0;
  }
#line 406
  if ((ctype & 32767) == 2) {
#line 406
    goto case_2___0;
  }
#line 397
  goto switch_break___1;
  case_0___0: 
#line 399
  type = 0;
#line 400
  asoc = 1;
#line 401
  goto switch_break___1;
  case_1___0: 
#line 403
  type = 0;
#line 404
  asoc = 2;
#line 405
  goto switch_break___1;
  case_2___0: 
#line 407
  type = 0;
#line 408
  asoc = 3;
#line 409
  goto switch_break___1;
  switch_break___1: ;
#line 411
  goto switch_break;
  case_3: 
#line 413
  type = 0;
#line 414
  asoc = 1;
#line 415
  goto switch_break;
  switch_break: ;
  done: 
#line 419
  return ((uint_fast32_t )((type << 16) | asoc));
}
}
#line 422 "/root/patron-new/new_2/src/libjasper/jp2/jp2_enc.c"
static int clrspctojp2(jas_clrspc_t clrspc ) 
{ 


  {
#line 425
  if (clrspc == ((4 << 8) | 1)) {
#line 425
    goto case_exp;
  }
#line 427
  if (clrspc == ((5 << 8) | 1)) {
#line 427
    goto case_exp___0;
  }
#line 429
  if (clrspc == ((3 << 8) | 1)) {
#line 429
    goto case_exp___1;
  }
#line 431
  goto switch_default;
  case_exp: 
#line 426
  return (16);
  case_exp___0: 
#line 428
  return (18);
  case_exp___1: 
#line 430
  return (17);
  switch_default: 
  {
#line 432
  abort();
  }
#line 433
  goto switch_break;
  switch_break: ;
#line 436
  return (0);
}
}
#line 86 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.c"
static jp2_dec_t *jp2_dec_create(void) ;
#line 87
static void jp2_dec_destroy(jp2_dec_t *dec ) ;
#line 88
static int jp2_getcs(jp2_colr_t *colr ) ;
#line 89
static int fromiccpcs(int cs ) ;
#line 90
static int jp2_getct(int colorspace , int type , int assoc ) ;
#line 96 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.c"
jas_image_t *jp2_decode(jas_stream_t *in , char *optstr ) 
{ 
  jp2_box_t *box ;
  int found ;
  jas_image_t *image ;
  jp2_dec_t *dec ;
  int samedtype ;
  int dtype ;
  unsigned int i ;
  jp2_cmap_t *cmapd ;
  jp2_pclr_t *pclrd ;
  jp2_cdef_t *cdefd ;
  unsigned int channo ;
  int newcmptno ;
  int_fast32_t *lutents ;
  jp2_cmapent_t *cmapent ;
  jas_icchdr_t icchdr ;
  jas_iccprof_t *iccprof ;
  int __cil_tmp23 ;
  uint_fast16_t tmp___0 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;
  void *tmp___1 ;
  void *tmp___2 ;

  {
  {
#line 119
  dec = (jp2_dec_t *)0;
#line 120
  box = (jp2_box_t *)0;
#line 121
  image = (jas_image_t *)0;
#line 123
  dec = jp2_dec_create();
  }
#line 123
  if (! dec) {
#line 124
    goto error;
  }
  {
#line 128
  box = jp2_box_get(in);
  }
#line 128
  if (! box) {
    {
#line 129
    jas_eprintf("error: cannot get box\n");
    }
#line 130
    goto error;
  }
#line 132
  if (box->type != 1783636000UL) {
    {
#line 133
    jas_eprintf("error: expecting signature box\n");
    }
#line 134
    goto error;
  }
#line 136
  if (box->data.jp.magic != 218793738UL) {
    {
#line 137
    jas_eprintf("incorrect magic number\n");
    }
#line 138
    goto error;
  }
  {
#line 140
  jp2_box_destroy(box);
#line 141
  box = (jp2_box_t *)0;
#line 144
  box = jp2_box_get(in);
  }
#line 144
  if (! box) {
#line 145
    goto error;
  }
#line 147
  if (box->type != 1718909296UL) {
    {
#line 148
    jas_eprintf("expecting file type box\n\220");
    }
#line 149
    goto error;
  }
  {
#line 151
  jp2_box_destroy(box);
#line 152
  box = (jp2_box_t *)0;
#line 155
  found = 0;
  }
  {
#line 156
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 156
    box = jp2_box_get(in);
    }
#line 156
    if (! box) {
#line 156
      goto while_break;
    }
    {
#line 157
    __cil_tmp23 = jas_getdbglevel();
    }
#line 157
    if (__cil_tmp23 >= 1) {
      {
#line 158
      jas_eprintf("box type %s\n", (box->info)->name);
      }
    }
#line 161
    if (box->type == 1785737827UL) {
#line 161
      goto case_1785737827;
    }
#line 164
    if (box->type == 1768449138UL) {
#line 164
      goto case_1768449138;
    }
#line 170
    if (box->type == 1651532643UL) {
#line 170
      goto case_1651532643;
    }
#line 176
    if (box->type == 1667523942UL) {
#line 176
      goto case_1667523942;
    }
#line 182
    if (box->type == 1885564018UL) {
#line 182
      goto case_1885564018;
    }
#line 188
    if (box->type == 1668112752UL) {
#line 188
      goto case_1668112752;
    }
#line 194
    if (box->type == 1668246642UL) {
#line 194
      goto case_1668246642;
    }
#line 160
    goto switch_break;
    case_1785737827: 
#line 162
    found = 1;
#line 163
    goto switch_break;
    case_1768449138: 
#line 165
    if (! dec->ihdr) {
#line 166
      dec->ihdr = box;
#line 167
      box = (jp2_box_t *)0;
    }
#line 169
    goto switch_break;
    case_1651532643: 
#line 171
    if (! dec->bpcc) {
#line 172
      dec->bpcc = box;
#line 173
      box = (jp2_box_t *)0;
    }
#line 175
    goto switch_break;
    case_1667523942: 
#line 177
    if (! dec->cdef) {
#line 178
      dec->cdef = box;
#line 179
      box = (jp2_box_t *)0;
    }
#line 181
    goto switch_break;
    case_1885564018: 
#line 183
    if (! dec->pclr) {
#line 184
      dec->pclr = box;
#line 185
      box = (jp2_box_t *)0;
    }
#line 187
    goto switch_break;
    case_1668112752: 
#line 189
    if (! dec->cmap) {
#line 190
      dec->cmap = box;
#line 191
      box = (jp2_box_t *)0;
    }
#line 193
    goto switch_break;
    case_1668246642: 
#line 195
    if (! dec->colr) {
#line 196
      dec->colr = box;
#line 197
      box = (jp2_box_t *)0;
    }
#line 199
    goto switch_break;
    switch_break: ;
#line 201
    if (box) {
      {
#line 202
      jp2_box_destroy(box);
#line 203
      box = (jp2_box_t *)0;
      }
    }
#line 205
    if (found) {
#line 206
      goto while_break;
    }
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break: ;
#line 210
  if (! found) {
    {
#line 211
    jas_eprintf("error: no code stream found\n");
    }
#line 212
    goto error;
  }
  {
#line 215
  dec->image = jpc_decode(in, optstr);
  }
#line 215
  if (! dec->image) {
    {
#line 216
    jas_eprintf("error: cannot decode code stream\n");
    }
#line 217
    goto error;
  }
#line 221
  if (! dec->ihdr) {
    {
#line 222
    jas_eprintf("error: missing IHDR box\n\220");
    }
#line 223
    goto error;
  }
#line 228
  if ((dec->ihdr)->data.ihdr.numcmpts != (unsigned long )((unsigned int )(dec->image)->numcmpts_)) {
    {
#line 229
    jas_eprintf("warning: number of components mismatch\n");
    }
  }
#line 233
  if (! (dec->image)->numcmpts_) {
    {
#line 234
    jas_eprintf("error: no components\n");
    }
#line 235
    goto error;
  }
#line 239
  samedtype = 1;
#line 240
  dtype = (((*((dec->image)->cmpts_ + 0))->sgnd_ & 1) << 7) | ((*((dec->image)->cmpts_ + 0))->prec_ & 127);
#line 241
  i = 1U;
  {
#line 241
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 241
    if (! (i < (unsigned int )(dec->image)->numcmpts_)) {
#line 241
      goto while_break___0;
    }
#line 242
    if (((((*((dec->image)->cmpts_ + i))->sgnd_ & 1) << 7) | ((*((dec->image)->cmpts_ + i))->prec_ & 127)) != dtype) {
#line 243
      samedtype = 0;
#line 244
      goto while_break___0;
    }
#line 241
    i ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___0: ;
#line 250
  if (samedtype) {
#line 250
    if ((int )(dec->ihdr)->data.ihdr.bpc != ((((dtype >> 7) & 1) << 7) | ((dtype & 127) - 1))) {
      {
#line 252
      jas_eprintf("warning: component data type mismatch\n");
      }
    } else {
#line 250
      goto _L;
    }
  } else
  _L: 
#line 250
  if (! samedtype) {
#line 250
    if ((int )(dec->ihdr)->data.ihdr.bpc != 255) {
      {
#line 252
      jas_eprintf("warning: component data type mismatch\n");
      }
    }
  }
#line 256
  if ((int )(dec->ihdr)->data.ihdr.comptype != 7) {
    {
#line 257
    jas_eprintf("error: unsupported compression type\n");
    }
#line 258
    goto error;
  }
#line 261
  if (dec->bpcc) {
#line 264
    if ((dec->bpcc)->data.bpcc.numcmpts != (unsigned long )((unsigned int )(dec->image)->numcmpts_)) {
      {
#line 266
      jas_eprintf("warning: number of components mismatch\n");
      }
    }
#line 270
    if (! samedtype) {
#line 271
      i = 0U;
      {
#line 271
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 271
        if (! (i < (unsigned int )(dec->image)->numcmpts_)) {
#line 271
          goto while_break___1;
        }
#line 272
        if (((((*((dec->image)->cmpts_ + i))->sgnd_ & 1) << 7) | ((*((dec->image)->cmpts_ + i))->prec_ & 127)) != (((((int )*((dec->bpcc)->data.bpcc.bpcs + i) >> 7) & 1) << 7) | ((((int )*((dec->bpcc)->data.bpcc.bpcs + i) & 127) + 1) & 127))) {
          {
#line 273
          jas_eprintf("warning: component data type mismatch\n");
          }
        }
#line 271
        i ++;
      }
      while_break___12: /* CIL Label */ ;
      }
      while_break___1: ;
    } else {
      {
#line 277
      jas_eprintf("warning: superfluous BPCC box\n");
      }
    }
  }
#line 282
  if (! dec->colr) {
    {
#line 283
    jas_eprintf("error: no COLR box\n");
    }
#line 284
    goto error;
  }
#line 288
  if ((int )(dec->colr)->data.colr.method == 1) {
#line 288
    goto case_1;
  }
#line 291
  if ((int )(dec->colr)->data.colr.method == 2) {
#line 291
    goto case_2;
  }
#line 287
  goto switch_break___0;
  case_1: 
  {
#line 289
  (dec->image)->clrspc_ = jp2_getcs(& (dec->colr)->data.colr);
  }
#line 290
  goto switch_break___0;
  case_2: 
  {
#line 292
  iccprof = jas_iccprof_createfrombuf((dec->colr)->data.colr.iccp, (dec->colr)->data.colr.iccplen);
  }
#line 294
  if (! iccprof) {
    {
#line 295
    jas_eprintf("error: failed to parse ICC profile\n");
    }
#line 296
    goto error;
  }
  {
#line 298
  jas_iccprof_gethdr(iccprof, & icchdr);
#line 299
  jas_eprintf("ICC Profile CS %08x\n", icchdr.colorspc);
#line 300
  (dec->image)->clrspc_ = fromiccpcs((int )icchdr.colorspc);
#line 301
  (dec->image)->cmprof_ = jas_cmprof_createfromiccprof(iccprof);
#line 303
  jas_iccprof_destroy(iccprof);
  }
#line 304
  goto switch_break___0;
  switch_break___0: ;
#line 308
  if (dec->cmap) {
#line 308
    if (! dec->pclr) {
      {
#line 309
      jas_eprintf("warning: missing PCLR box or superfluous CMAP box\n");
#line 310
      jp2_box_destroy(dec->cmap);
#line 311
      dec->cmap = (jp2_box_t *)0;
      }
    }
  }
#line 315
  if (! dec->cmap) {
#line 315
    if (dec->pclr) {
      {
#line 316
      jas_eprintf("warning: missing CMAP box or superfluous PCLR box\n");
#line 317
      jp2_box_destroy(dec->pclr);
#line 318
      dec->pclr = (jp2_box_t *)0;
      }
    }
  }
#line 323
  if (dec->cmap) {
#line 323
    tmp___0 = (dec->cmap)->data.cmap.numchans;
  } else {
#line 323
    tmp___0 = (unsigned long )((unsigned int )(dec->image)->numcmpts_);
  }
#line 323
  dec->numchans = tmp___0;
#line 326
  if (dec->cmap) {
#line 327
    i = 0U;
    {
#line 327
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 327
      if (! ((unsigned long )i < dec->numchans)) {
#line 327
        goto while_break___2;
      }
#line 329
      if (((dec->cmap)->data.cmap.ents + i)->cmptno >= (unsigned long )((unsigned int )(dec->image)->numcmpts_)) {
        {
#line 330
        jas_eprintf("error: invalid component number in CMAP box\n");
        }
#line 331
        goto error;
      }
#line 334
      if ((int )((dec->cmap)->data.cmap.ents + i)->pcol >= (int )(dec->pclr)->data.pclr.numchans) {
        {
#line 335
        jas_eprintf("error: invalid CMAP LUT index\n");
        }
#line 336
        goto error;
      }
#line 327
      i ++;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___2: ;
  }
  {
#line 342
  tmp___1 = jas_alloc2(dec->numchans, sizeof(uint_fast16_t ));
#line 342
  dec->chantocmptlut = (uint_fast16_t *)tmp___1;
  }
#line 342
  if (! dec->chantocmptlut) {
    {
#line 343
    jas_eprintf("error: no memory\n");
    }
#line 344
    goto error;
  }
#line 347
  if (! dec->cmap) {
#line 348
    i = 0U;
    {
#line 348
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 348
      if (! ((unsigned long )i < dec->numchans)) {
#line 348
        goto while_break___3;
      }
#line 349
      *(dec->chantocmptlut + i) = (uint_fast16_t )i;
#line 348
      i ++;
    }
    while_break___14: /* CIL Label */ ;
    }
    while_break___3: ;
  } else {
#line 352
    cmapd = & (dec->cmap)->data.cmap;
#line 353
    pclrd = & (dec->pclr)->data.pclr;
#line 354
    cdefd = & (dec->cdef)->data.cdef;
#line 355
    channo = 0U;
    {
#line 355
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 355
      if (! ((unsigned long )channo < cmapd->numchans)) {
#line 355
        goto while_break___4;
      }
#line 356
      cmapent = cmapd->ents + channo;
#line 357
      if ((int )cmapent->map == 0) {
#line 358
        *(dec->chantocmptlut + channo) = (uint_fast16_t )channo;
      } else
#line 359
      if ((int )cmapent->map == 1) {
        {
#line 360
        tmp___2 = jas_alloc2(pclrd->numlutents, sizeof(int_fast32_t ));
#line 360
        lutents = (int_fast32_t *)tmp___2;
#line 361
        i = 0U;
        }
        {
#line 361
        while (1) {
          while_continue___5: /* CIL Label */ ;

#line 361
          if (! ((unsigned long )i < pclrd->numlutents)) {
#line 361
            goto while_break___5;
          }
#line 362
          *(lutents + i) = *(pclrd->lutdata + ((unsigned int )cmapent->pcol + i * (unsigned int )pclrd->numchans));
#line 361
          i ++;
        }
        while_break___16: /* CIL Label */ ;
        }
        while_break___5: 
        {
#line 364
        newcmptno = (dec->image)->numcmpts_;
#line 365
        jas_image_depalettize(dec->image, (int )cmapent->cmptno, (int )pclrd->numlutents,
                              lutents, ((((int )*(pclrd->bpc + (int )cmapent->pcol) >> 7) & 1) << 7) | ((((int )*(pclrd->bpc + (int )cmapent->pcol) & 127) + 1) & 127),
                              newcmptno);
#line 366
        *(dec->chantocmptlut + channo) = (uint_fast16_t )newcmptno;
#line 367
        jas_free((void *)lutents);
        }
      }
#line 355
      channo ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___4: ;
  }
#line 385
  i = 0U;
  {
#line 385
  while (1) {
    while_continue___6: /* CIL Label */ ;

#line 385
    if (! (i < (unsigned int )(dec->image)->numcmpts_)) {
#line 385
      goto while_break___6;
    }
#line 386
    (*((dec->image)->cmpts_ + i))->type_ = (jas_image_cmpttype_t )65536;
#line 385
    i ++;
  }
  while_break___17: /* CIL Label */ ;
  }
  while_break___6: ;
#line 390
  if (dec->cdef) {
#line 391
    i = 0U;
    {
#line 391
    while (1) {
      while_continue___7: /* CIL Label */ ;

#line 391
      if (! ((unsigned long )i < dec->numchans)) {
#line 391
        goto while_break___7;
      }
#line 393
      if (((dec->cdef)->data.cdef.ents + i)->channo >= dec->numchans) {
        {
#line 394
        jas_eprintf("error: invalid channel number in CDEF box\n");
        }
#line 395
        goto error;
      }
      {
#line 397
      __cil_tmp33 = jp2_getct((dec->image)->clrspc_, (int )((dec->cdef)->data.cdef.ents + i)->type,
                              (int )((dec->cdef)->data.cdef.ents + i)->assoc);
#line 397
      (*((dec->image)->cmpts_ + *(dec->chantocmptlut + ((dec->cdef)->data.cdef.ents + i)->channo)))->type_ = (jas_image_cmpttype_t )__cil_tmp33;
#line 391
      i ++;
      }
    }
    while_break___18: /* CIL Label */ ;
    }
    while_break___7: ;
  } else {
#line 403
    i = 0U;
    {
#line 403
    while (1) {
      while_continue___8: /* CIL Label */ ;

#line 403
      if (! ((unsigned long )i < dec->numchans)) {
#line 403
        goto while_break___8;
      }
      {
#line 404
      __cil_tmp34 = jp2_getct((dec->image)->clrspc_, 0, (int )(i + 1U));
#line 404
      (*((dec->image)->cmpts_ + *(dec->chantocmptlut + i)))->type_ = (jas_image_cmpttype_t )__cil_tmp34;
#line 403
      i ++;
      }
    }
    while_break___19: /* CIL Label */ ;
    }
    while_break___8: ;
  }
#line 410
  i = (unsigned int )(dec->image)->numcmpts_;
  {
#line 410
  while (1) {
    while_continue___9: /* CIL Label */ ;

#line 410
    if (! (i > 0U)) {
#line 410
      goto while_break___9;
    }
#line 411
    if ((*((dec->image)->cmpts_ + (i - 1U)))->type_ == 65536L) {
      {
#line 412
      jas_image_delcmpt(dec->image, (int )(i - 1U));
      }
    }
#line 410
    i --;
  }
  while_break___20: /* CIL Label */ ;
  }
  while_break___9: ;
#line 417
  if (! (dec->image)->numcmpts_) {
    {
#line 418
    jas_eprintf("error: no components\n");
    }
#line 419
    goto error;
  }
  {
#line 426
  image = dec->image;
#line 427
  dec->image = (jas_image_t *)0;
#line 429
  jp2_dec_destroy(dec);
  }
#line 431
  return (image);
  error: 
#line 434
  if (box) {
    {
#line 435
    jp2_box_destroy(box);
    }
  }
#line 437
  if (dec) {
    {
#line 438
    jp2_dec_destroy(dec);
    }
  }
#line 440
  return ((jas_image_t *)0);
}
}
#line 443 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.c"
int jp2_validate(jas_stream_t *in ) 
{ 
  char buf[16] ;
  int i ;
  int n ;
  int tmp___1 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int tmp___2 ;

  {
  {
#line 457
  tmp___1 = 16;
#line 457
  __cil_tmp8 = jas_stream_read(in, (void *)(buf), tmp___1);
#line 457
  n = __cil_tmp8;
  }
#line 457
  if (n < 0) {
#line 458
    return (-1);
  }
#line 463
  i = n - 1;
  {
#line 463
  while (1) {
    while_continue: /* CIL Label */ ;

#line 463
    if (! (i >= 0)) {
#line 463
      goto while_break;
    }
    {
#line 464
    __cil_tmp9 = jas_stream_ungetc(in, (int )buf[i]);
    }
#line 464
    if (__cil_tmp9 == -1) {
#line 465
      return (-1);
    }
#line 463
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 470
  tmp___2 = 16;
#line 470
  if (n < tmp___2) {
#line 471
    return (-1);
  }
#line 475
  if ((((((int )buf[4] << 24) | ((int )buf[5] << 16)) | ((int )buf[6] << 8)) | (int )buf[7]) != 1783636000) {
#line 478
    return (-1);
  }
#line 481
  return (0);
}
}
#line 484 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.c"
static jp2_dec_t *jp2_dec_create(void) 
{ 
  jp2_dec_t *dec ;
  void *tmp ;

  {
  {
#line 488
  tmp = jas_malloc(sizeof(jp2_dec_t ));
#line 488
  dec = (jp2_dec_t *)tmp;
  }
#line 488
  if (! dec) {
#line 489
    return ((jp2_dec_t *)0);
  }
#line 491
  dec->ihdr = (jp2_box_t *)0;
#line 492
  dec->bpcc = (jp2_box_t *)0;
#line 493
  dec->cdef = (jp2_box_t *)0;
#line 494
  dec->pclr = (jp2_box_t *)0;
#line 495
  dec->image = (jas_image_t *)0;
#line 496
  dec->chantocmptlut = (uint_fast16_t *)0;
#line 497
  dec->cmap = (jp2_box_t *)0;
#line 498
  dec->colr = (jp2_box_t *)0;
#line 499
  return (dec);
}
}
#line 502 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.c"
static void jp2_dec_destroy(jp2_dec_t *dec ) 
{ 


  {
#line 504
  if (dec->ihdr) {
    {
#line 505
    jp2_box_destroy(dec->ihdr);
    }
  }
#line 507
  if (dec->bpcc) {
    {
#line 508
    jp2_box_destroy(dec->bpcc);
    }
  }
#line 510
  if (dec->cdef) {
    {
#line 511
    jp2_box_destroy(dec->cdef);
    }
  }
#line 513
  if (dec->pclr) {
    {
#line 514
    jp2_box_destroy(dec->pclr);
    }
  }
#line 516
  if (dec->image) {
    {
#line 517
    jas_image_destroy(dec->image);
    }
  }
#line 519
  if (dec->cmap) {
    {
#line 520
    jp2_box_destroy(dec->cmap);
    }
  }
#line 522
  if (dec->colr) {
    {
#line 523
    jp2_box_destroy(dec->colr);
    }
  }
#line 525
  if (dec->chantocmptlut) {
    {
#line 526
    jas_free((void *)dec->chantocmptlut);
    }
  }
  {
#line 528
  jas_free((void *)dec);
  }
#line 530
  return;
}
}
#line 531 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.c"
static int jp2_getct(int colorspace , int type , int assoc ) 
{ 


  {
#line 533
  if (type == 1) {
#line 533
    if (assoc == 0) {
#line 534
      return (32768);
    }
  }
#line 536
  if (type == 0) {
#line 536
    if (assoc >= 1) {
#line 536
      if (assoc <= 65534) {
#line 538
        if (colorspace == 4) {
#line 538
          goto case_4;
        }
#line 540
        if (colorspace == 1) {
#line 540
          goto case_1;
        }
#line 543
        if (colorspace == 2) {
#line 543
          goto case_2;
        }
#line 546
        if (colorspace == 3) {
#line 546
          goto case_3;
        }
#line 551
        if (colorspace == 5) {
#line 551
          goto case_5;
        }
#line 553
        if (colorspace == 1) {
#line 553
          goto case_1___0;
        }
#line 556
        if (colorspace == 2) {
#line 556
          goto case_2___0;
        }
#line 559
        if (colorspace == 3) {
#line 559
          goto case_3___0;
        }
#line 564
        if (colorspace == 3) {
#line 564
          goto case_3___1;
        }
#line 566
        if (colorspace == 1) {
#line 566
          goto case_1___1;
        }
#line 571
        goto switch_default;
        case_4: 
#line 540
        if (assoc == 1) {
#line 540
          goto case_1;
        }
#line 543
        if (assoc == 2) {
#line 543
          goto case_2;
        }
#line 546
        if (assoc == 3) {
#line 546
          goto case_3;
        }
#line 539
        goto switch_break___0;
        case_1: 
#line 541
        return (0);
#line 542
        goto switch_break___0;
        case_2: 
#line 544
        return (1);
#line 545
        goto switch_break___0;
        case_3: 
#line 547
        return (2);
#line 548
        goto switch_break___0;
        switch_break___0: ;
#line 550
        goto switch_break;
        case_5: 
#line 553
        if (assoc == 1) {
#line 553
          goto case_1___0;
        }
#line 556
        if (assoc == 2) {
#line 556
          goto case_2___0;
        }
#line 559
        if (assoc == 3) {
#line 559
          goto case_3___0;
        }
#line 552
        goto switch_break___1;
        case_1___0: 
#line 554
        return (0);
#line 555
        goto switch_break___1;
        case_2___0: 
#line 557
        return (1);
#line 558
        goto switch_break___1;
        case_3___0: 
#line 560
        return (2);
#line 561
        goto switch_break___1;
        switch_break___1: ;
#line 563
        goto switch_break;
        case_3___1: 
#line 566
        if (assoc == 1) {
#line 566
          goto case_1___1;
        }
#line 565
        goto switch_break___2;
        case_1___1: 
#line 567
        return (0);
#line 568
        goto switch_break___2;
        switch_break___2: ;
#line 570
        goto switch_break;
        switch_default: 
#line 572
        return ((assoc - 1) & 32767);
#line 573
        goto switch_break;
        switch_break: ;
      }
    }
  }
#line 576
  return (65536);
}
}
#line 579 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.c"
static int jp2_getcs(jp2_colr_t *colr ) 
{ 


  {
#line 581
  if ((int )colr->method == 1) {
#line 583
    if (colr->csid == 16UL) {
#line 583
      goto case_16;
    }
#line 586
    if (colr->csid == 18UL) {
#line 586
      goto case_18;
    }
#line 589
    if (colr->csid == 17UL) {
#line 589
      goto case_17;
    }
#line 582
    goto switch_break;
    case_16: 
#line 584
    return ((4 << 8) | 1);
#line 585
    goto switch_break;
    case_18: 
#line 587
    return ((5 << 8) | 1);
#line 588
    goto switch_break;
    case_17: 
#line 590
    return ((3 << 8) | 1);
#line 591
    goto switch_break;
    switch_break: ;
  }
#line 594
  return (16384);
}
}
#line 597 "/root/patron-new/new_2/src/libjasper/jp2/jp2_dec.c"
static int fromiccpcs(int cs ) 
{ 


  {
#line 600
  if (cs == 1380401696) {
#line 600
    goto case_1380401696;
  }
#line 603
  if (cs == 1497588338) {
#line 603
    goto case_1497588338;
  }
#line 606
  if (cs == 1196573017) {
#line 606
    goto case_1196573017;
  }
#line 599
  goto switch_break;
  case_1380401696: 
#line 601
  return (4 << 8);
#line 602
  goto switch_break;
  case_1497588338: 
#line 604
  return (5 << 8);
#line 605
  goto switch_break;
  case_1196573017: 
#line 607
  return (3 << 8);
#line 608
  goto switch_break;
  switch_break: ;
#line 610
  return (16384);
}
}
#line 89 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
jp2_boxinfo_t *jp2_boxinfolookup(int type ) ;
#line 91
static int jp2_getuint8(jas_stream_t *in , uint_fast8_t *val ) ;
#line 92
static int jp2_getuint16(jas_stream_t *in , uint_fast16_t *val ) ;
#line 93
static int jp2_getuint32(jas_stream_t *in , uint_fast32_t *val ) ;
#line 94
static int jp2_getuint64(jas_stream_t *in , uint_fast64_t *val ) ;
#line 95
static int jp2_putuint8(jas_stream_t *out , uint_fast8_t val ) ;
#line 96
static int jp2_putuint16(jas_stream_t *out , uint_fast16_t val ) ;
#line 97
static int jp2_putuint32(jas_stream_t *out , uint_fast32_t val ) ;
#line 98
static int jp2_putuint64(jas_stream_t *out , uint_fast64_t val ) ;
#line 100
static int jp2_getint(jas_stream_t *in , int s , int n , int_fast32_t *val ) ;
#line 103
void jp2_box_dump(jp2_box_t *box , FILE *out ) ;
#line 105
static int jp2_jp_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 106
static int jp2_jp_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 107
static int jp2_ftyp_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 108
static int jp2_ftyp_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 109
static int jp2_ihdr_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 110
static int jp2_ihdr_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 111
static void jp2_bpcc_destroy(jp2_box_t *box ) ;
#line 112
static int jp2_bpcc_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 113
static int jp2_bpcc_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 114
static int jp2_colr_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 115
static int jp2_colr_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 116
static void jp2_colr_dumpdata(jp2_box_t *box , FILE *out ) ;
#line 117
static void jp2_colr_destroy(jp2_box_t *box ) ;
#line 118
static void jp2_cdef_destroy(jp2_box_t *box ) ;
#line 119
static int jp2_cdef_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 120
static int jp2_cdef_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 121
static void jp2_cdef_dumpdata(jp2_box_t *box , FILE *out ) ;
#line 122
static void jp2_cmap_destroy(jp2_box_t *box ) ;
#line 123
static int jp2_cmap_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 124
static int jp2_cmap_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 125
static void jp2_cmap_dumpdata(jp2_box_t *box , FILE *out ) ;
#line 126
static void jp2_pclr_destroy(jp2_box_t *box ) ;
#line 127
static int jp2_pclr_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 128
static int jp2_pclr_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 129
static void jp2_pclr_dumpdata(jp2_box_t *box , FILE *out ) ;
#line 135 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
jp2_boxinfo_t jp2_boxinfos[20]  = 
#line 135
  {      {1783636000, (char *)"JP", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0,
                                    & jp2_jp_getdata, & jp2_jp_putdata, (void (*)(jp2_box_t * ,
                                                                                  FILE * ))0}}, 
        {1718909296,
      (char *)"FTYP", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, & jp2_ftyp_getdata,
                          & jp2_ftyp_putdata, (void (*)(jp2_box_t * , FILE * ))0}}, 
        {1785737832,
      (char *)"JP2H", 1, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1768449138,
      (char *)"IHDR", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, & jp2_ihdr_getdata,
                          & jp2_ihdr_putdata, (void (*)(jp2_box_t * , FILE * ))0}}, 
        {1651532643,
      (char *)"BPCC", 0, {(void (*)(jp2_box_t * ))0, & jp2_bpcc_destroy, & jp2_bpcc_getdata,
                          & jp2_bpcc_putdata, (void (*)(jp2_box_t * , FILE * ))0}}, 
        {1668246642,
      (char *)"COLR", 0, {(void (*)(jp2_box_t * ))0, & jp2_colr_destroy, & jp2_colr_getdata,
                          & jp2_colr_putdata, & jp2_colr_dumpdata}}, 
        {1885564018, (char *)"PCLR", 0, {(void (*)(jp2_box_t * ))0, & jp2_pclr_destroy,
                                      & jp2_pclr_getdata, & jp2_pclr_putdata, & jp2_pclr_dumpdata}}, 
        {1668112752,
      (char *)"CMAP", 0, {(void (*)(jp2_box_t * ))0, & jp2_cmap_destroy, & jp2_cmap_getdata,
                          & jp2_cmap_putdata, & jp2_cmap_dumpdata}}, 
        {1667523942, (char *)"CDEF", 0, {(void (*)(jp2_box_t * ))0, & jp2_cdef_destroy,
                                      & jp2_cdef_getdata, & jp2_cdef_putdata, & jp2_cdef_dumpdata}}, 
        {1919251232,
      (char *)"RES", 1, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                        jas_stream_t * ))0,
                         (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                              FILE * ))0}}, 
        {1919251299,
      (char *)"RESC", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1919251300,
      (char *)"RESD", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1785737827,
      (char *)"JP2C", 2, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1785737833,
      (char *)"JP2I", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {2020437024,
      (char *)"XML", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                        jas_stream_t * ))0,
                         (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                              FILE * ))0}}, 
        {1970628964,
      (char *)"UUID", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1969843814,
      (char *)"UINF", 1, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1969451892,
      (char *)"ULST", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1970433056,
      (char *)"URL", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                        jas_stream_t * ))0,
                         (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                              FILE * ))0}}, 
        {0,
      (char *)0, 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                    jas_stream_t * ))0,
                     (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                          FILE * ))0}}};
#line 177 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
jp2_boxinfo_t jp2_boxinfo_unk  =    {0, (char *)"Unknown", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0,
                              (int (*)(jp2_box_t * , jas_stream_t * ))0, (int (*)(jp2_box_t * ,
                                                                                  jas_stream_t * ))0,
                              (void (*)(jp2_box_t * , FILE * ))0}};
#line 185 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
jp2_box_t *jp2_box_create(int type ) 
{ 
  jp2_box_t *box ;
  jp2_boxinfo_t *boxinfo ;
  void *tmp ;

  {
  {
#line 190
  tmp = jas_malloc(sizeof(jp2_box_t ));
#line 190
  box = (jp2_box_t *)tmp;
  }
#line 190
  if (! box) {
#line 191
    return ((jp2_box_t *)0);
  }
  {
#line 193
  memset((void *)box, 0, sizeof(jp2_box_t ));
#line 194
  box->type = (uint_fast32_t )type;
#line 195
  box->len = (uint_fast32_t )0;
#line 196
  boxinfo = jp2_boxinfolookup(type);
  }
#line 196
  if (! boxinfo) {
#line 197
    return ((jp2_box_t *)0);
  }
#line 199
  box->info = boxinfo;
#line 200
  box->ops = & boxinfo->ops;
#line 201
  return (box);
}
}
#line 208 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
void jp2_box_destroy(jp2_box_t *box ) 
{ 


  {
#line 210
  if ((box->ops)->destroy) {
    {
#line 211
    (*((box->ops)->destroy))(box);
    }
  }
  {
#line 213
  jas_free((void *)box);
  }
#line 215
  return;
}
}
#line 216 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static void jp2_bpcc_destroy(jp2_box_t *box ) 
{ 
  jp2_bpcc_t *bpcc ;

  {
#line 218
  bpcc = & box->data.bpcc;
#line 219
  if (bpcc->bpcs) {
    {
#line 220
    jas_free((void *)bpcc->bpcs);
#line 221
    bpcc->bpcs = (uint_fast8_t *)0;
    }
  }
#line 224
  return;
}
}
#line 225 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static void jp2_cdef_destroy(jp2_box_t *box ) 
{ 
  jp2_cdef_t *cdef ;

  {
#line 227
  cdef = & box->data.cdef;
#line 228
  if (cdef->ents) {
    {
#line 229
    jas_free((void *)cdef->ents);
#line 230
    cdef->ents = (jp2_cdefchan_t *)0;
    }
  }
#line 233
  return;
}
}
#line 238 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
jp2_box_t *jp2_box_get(jas_stream_t *in ) 
{ 
  jp2_box_t *box ;
  jp2_boxinfo_t *boxinfo ;
  jas_stream_t *tmpstream ;
  uint_fast32_t len ;
  uint_fast64_t extlen ;
  int dataflag ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp12 ;
  int tmp ;
  int tmp___0 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  void *tmp___1 ;

  {
  {
#line 247
  box = (jp2_box_t *)0;
#line 248
  tmpstream = (jas_stream_t *)0;
#line 250
  tmp___1 = jas_malloc(sizeof(jp2_box_t ));
#line 250
  box = (jp2_box_t *)tmp___1;
  }
#line 250
  if (! box) {
#line 251
    goto error;
  }
  {
#line 253
  box->ops = & jp2_boxinfo_unk.ops;
#line 254
  __cil_tmp10 = jp2_getuint32(in, & box->type);
#line 254
  __cil_tmp9 = jp2_getuint32(in, & len);
  }
#line 254
  if (__cil_tmp9) {
#line 255
    goto error;
  } else
#line 254
  if (__cil_tmp10) {
#line 255
    goto error;
  }
  {
#line 257
  boxinfo = jp2_boxinfolookup((int )box->type);
#line 258
  box->info = boxinfo;
#line 259
  box->ops = & boxinfo->ops;
#line 260
  box->len = len;
  }
#line 261
  if (box->len == 1UL) {
    {
#line 262
    __cil_tmp12 = jp2_getuint64(in, & extlen);
    }
#line 262
    if (__cil_tmp12) {
#line 263
      goto error;
    }
#line 265
    if (extlen > 4294967295UL) {
      {
#line 266
      jas_eprintf("warning: cannot handle large 64-bit box length\n");
#line 267
      extlen = 4294967295UL;
      }
    }
#line 269
    box->len = extlen;
#line 270
    tmp = 16;
#line 270
    box->datalen = extlen - (unsigned long )tmp;
  } else {
#line 272
    tmp___0 = 8;
#line 272
    box->datalen = box->len - (unsigned long )tmp___0;
  }
#line 274
  if (box->len != 0UL) {
#line 274
    if (box->len < 8UL) {
#line 275
      goto error;
    }
  }
#line 278
  dataflag = ! ((box->info)->flags & 3);
#line 280
  if (dataflag) {
    {
#line 281
    tmpstream = jas_stream_memopen((char *)0, 0);
    }
#line 281
    if (! tmpstream) {
#line 282
      goto error;
    }
    {
#line 284
    __cil_tmp16 = jas_stream_copy(tmpstream, in, (int )box->datalen);
    }
#line 284
    if (__cil_tmp16) {
      {
#line 285
      jas_eprintf("cannot copy box data\n");
      }
#line 286
      goto error;
    }
    {
#line 288
    jas_stream_rewind(tmpstream);
    }
#line 290
    if ((box->ops)->getdata) {
      {
#line 291
      __cil_tmp17 = (*((box->ops)->getdata))(box, tmpstream);
      }
#line 291
      if (__cil_tmp17) {
        {
#line 292
        jas_eprintf("cannot parse box data\n");
        }
#line 293
        goto error;
      }
    }
    {
#line 296
    jas_stream_close(tmpstream);
    }
  }
  {
#line 299
  __cil_tmp18 = jas_getdbglevel();
  }
#line 299
  if (__cil_tmp18 >= 1) {
    {
#line 300
    jp2_box_dump(box, stderr);
    }
  }
#line 303
  return (box);
  error: 
#line 306
  if (box) {
    {
#line 307
    jp2_box_destroy(box);
    }
  }
#line 309
  if (tmpstream) {
    {
#line 310
    jas_stream_close(tmpstream);
    }
  }
#line 312
  return ((jp2_box_t *)0);
}
}
#line 315 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
void jp2_box_dump(jp2_box_t *box , FILE *out ) 
{ 
  jp2_boxinfo_t *boxinfo ;

  {
  {
#line 318
  boxinfo = jp2_boxinfolookup((int )box->type);
#line 321
  fprintf(out, "JP2 box: ");
#line 322
  fprintf(out, "type=%c%s%c (0x%08x); length=%d\n\221", '\"', boxinfo->name, '\"',
          box->type, box->len);
  }
#line 324
  if ((box->ops)->dumpdata) {
    {
#line 325
    (*((box->ops)->dumpdata))(box, out);
    }
  }
#line 328
  return;
}
}
#line 329 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_jp_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_jp_t *jp ;
  int __cil_tmp4 ;

  {
  {
#line 331
  jp = & box->data.jp;
#line 332
  __cil_tmp4 = jp2_getuint32(in, & jp->magic);
  }
#line 332
  if (__cil_tmp4) {
#line 333
    return (-1);
  }
#line 335
  return (0);
}
}
#line 338 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_ftyp_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_ftyp_t *ftyp ;
  unsigned int i ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 340
  ftyp = & box->data.ftyp;
#line 342
  __cil_tmp6 = jp2_getuint32(in, & ftyp->minver);
#line 342
  __cil_tmp5 = jp2_getuint32(in, & ftyp->majver);
  }
#line 342
  if (__cil_tmp5) {
#line 343
    return (-1);
  } else
#line 342
  if (__cil_tmp6) {
#line 343
    return (-1);
  }
#line 345
  ftyp->numcompatcodes = (box->datalen - 8UL) / 4UL;
#line 346
  if (ftyp->numcompatcodes > 32UL) {
#line 347
    return (-1);
  }
#line 349
  i = 0U;
  {
#line 349
  while (1) {
    while_continue: /* CIL Label */ ;

#line 349
    if (! ((unsigned long )i < ftyp->numcompatcodes)) {
#line 349
      goto while_break;
    }
    {
#line 350
    __cil_tmp7 = jp2_getuint32(in, & ftyp->compatcodes[i]);
    }
#line 350
    if (__cil_tmp7) {
#line 351
      return (-1);
    }
#line 349
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 354
  return (0);
}
}
#line 357 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_ihdr_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_ihdr_t *ihdr ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 359
  ihdr = & box->data.ihdr;
#line 360
  __cil_tmp10 = jp2_getuint8(in, & ihdr->ipr);
#line 360
  __cil_tmp9 = jp2_getuint8(in, & ihdr->csunk);
#line 360
  __cil_tmp8 = jp2_getuint8(in, & ihdr->comptype);
#line 360
  __cil_tmp7 = jp2_getuint8(in, & ihdr->bpc);
#line 360
  __cil_tmp6 = jp2_getuint16(in, & ihdr->numcmpts);
#line 360
  __cil_tmp5 = jp2_getuint32(in, & ihdr->width);
#line 360
  __cil_tmp4 = jp2_getuint32(in, & ihdr->height);
  }
#line 360
  if (__cil_tmp4) {
#line 364
    return (-1);
  } else
#line 360
  if (__cil_tmp5) {
#line 364
    return (-1);
  } else
#line 360
  if (__cil_tmp6) {
#line 364
    return (-1);
  } else
#line 360
  if (__cil_tmp7) {
#line 364
    return (-1);
  } else
#line 360
  if (__cil_tmp8) {
#line 364
    return (-1);
  } else
#line 360
  if (__cil_tmp9) {
#line 364
    return (-1);
  } else
#line 360
  if (__cil_tmp10) {
#line 364
    return (-1);
  }
#line 366
  return (0);
}
}
#line 369 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_bpcc_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_bpcc_t *bpcc ;
  unsigned int i ;
  int __cil_tmp6 ;
  void *tmp ;

  {
  {
#line 371
  bpcc = & box->data.bpcc;
#line 373
  bpcc->numcmpts = box->datalen;
#line 374
  tmp = jas_alloc2(bpcc->numcmpts, sizeof(uint_fast8_t ));
#line 374
  bpcc->bpcs = (uint_fast8_t *)tmp;
  }
#line 374
  if (! bpcc->bpcs) {
#line 375
    return (-1);
  }
#line 377
  i = 0U;
  {
#line 377
  while (1) {
    while_continue: /* CIL Label */ ;

#line 377
    if (! ((unsigned long )i < bpcc->numcmpts)) {
#line 377
      goto while_break;
    }
    {
#line 378
    __cil_tmp6 = jp2_getuint8(in, bpcc->bpcs + i);
    }
#line 378
    if (__cil_tmp6) {
#line 379
      return (-1);
    }
#line 377
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 382
  return (0);
}
}
#line 385 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static void jp2_colr_dumpdata(jp2_box_t *box , FILE *out ) 
{ 
  jp2_colr_t *colr ;

  {
  {
#line 387
  colr = & box->data.colr;
#line 388
  fprintf(out, "method=%d; pri=%d; approx=%d\n", (int )colr->method, (int )colr->pri,
          (int )colr->approx);
  }
#line 390
  if ((int )colr->method == 1) {
#line 390
    goto case_1;
  }
#line 393
  if ((int )colr->method == 2) {
#line 393
    goto case_2;
  }
#line 389
  goto switch_break;
  case_1: 
  {
#line 391
  fprintf(out, "csid=%d\n\230\001", (int )colr->csid);
  }
#line 392
  goto switch_break;
  case_2: 
  {
#line 394
  jas_memdump(out, (void *)colr->iccp, (size_t )colr->iccplen);
  }
#line 395
  goto switch_break;
  switch_break: ;
#line 398
  return;
}
}
#line 399 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_colr_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_colr_t *colr ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp9 ;
  void *tmp ;

  {
  {
#line 401
  colr = & box->data.colr;
#line 402
  colr->csid = (uint_fast32_t )0;
#line 403
  colr->iccp = (uint_fast8_t *)0;
#line 404
  colr->iccplen = 0;
#line 406
  __cil_tmp6 = jp2_getuint8(in, & colr->approx);
#line 406
  __cil_tmp5 = jp2_getuint8(in, & colr->pri);
#line 406
  __cil_tmp4 = jp2_getuint8(in, & colr->method);
  }
#line 406
  if (__cil_tmp4) {
#line 408
    return (-1);
  } else
#line 406
  if (__cil_tmp5) {
#line 408
    return (-1);
  } else
#line 406
  if (__cil_tmp6) {
#line 408
    return (-1);
  }
#line 411
  if ((int )colr->method == 1) {
#line 411
    goto case_1;
  }
#line 416
  if ((int )colr->method == 2) {
#line 416
    goto case_2;
  }
#line 410
  goto switch_break;
  case_1: 
  {
#line 412
  __cil_tmp7 = jp2_getuint32(in, & colr->csid);
  }
#line 412
  if (__cil_tmp7) {
#line 413
    return (-1);
  }
#line 415
  goto switch_break;
  case_2: 
  {
#line 417
  colr->iccplen = (int )(box->datalen - 3UL);
#line 418
  tmp = jas_alloc2((size_t )colr->iccplen, sizeof(uint_fast8_t ));
#line 418
  colr->iccp = (uint_fast8_t *)tmp;
  }
#line 418
  if (! colr->iccp) {
#line 419
    return (-1);
  }
  {
#line 421
  __cil_tmp9 = jas_stream_read(in, (void *)colr->iccp, colr->iccplen);
  }
#line 421
  if (__cil_tmp9 != colr->iccplen) {
#line 422
    return (-1);
  }
#line 424
  goto switch_break;
  switch_break: ;
#line 426
  return (0);
}
}
#line 429 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static void jp2_cdef_dumpdata(jp2_box_t *box , FILE *out ) 
{ 
  jp2_cdef_t *cdef ;
  unsigned int i ;

  {
#line 431
  cdef = & box->data.cdef;
#line 433
  i = 0U;
  {
#line 433
  while (1) {
    while_continue: /* CIL Label */ ;

#line 433
    if (! ((unsigned long )i < cdef->numchans)) {
#line 433
      goto while_break;
    }
    {
#line 434
    fprintf(out, "channo=%d; type=%d; assoc=%d\nV", (cdef->ents + i)->channo, (cdef->ents + i)->type,
            (cdef->ents + i)->assoc);
#line 433
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 437
  return;
}
}
#line 439 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static void jp2_colr_destroy(jp2_box_t *box ) 
{ 
  jp2_colr_t *colr ;

  {
#line 441
  colr = & box->data.colr;
#line 442
  if (colr->iccp) {
    {
#line 443
    jas_free((void *)colr->iccp);
    }
  }
#line 446
  return;
}
}
#line 447 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_cdef_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_cdef_t *cdef ;
  jp2_cdefchan_t *chan ;
  unsigned int channo ;
  int __cil_tmp6 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  void *tmp ;

  {
  {
#line 449
  cdef = & box->data.cdef;
#line 452
  __cil_tmp6 = jp2_getuint16(in, & cdef->numchans);
  }
#line 452
  if (__cil_tmp6) {
#line 453
    return (-1);
  }
  {
#line 455
  tmp = jas_alloc2(cdef->numchans, sizeof(jp2_cdefchan_t ));
#line 455
  cdef->ents = (jp2_cdefchan_t *)tmp;
  }
#line 455
  if (! cdef->ents) {
#line 456
    return (-1);
  }
#line 458
  channo = 0U;
  {
#line 458
  while (1) {
    while_continue: /* CIL Label */ ;

#line 458
    if (! ((unsigned long )channo < cdef->numchans)) {
#line 458
      goto while_break;
    }
    {
#line 459
    chan = cdef->ents + channo;
#line 460
    __cil_tmp10 = jp2_getuint16(in, & chan->assoc);
#line 460
    __cil_tmp9 = jp2_getuint16(in, & chan->type);
#line 460
    __cil_tmp8 = jp2_getuint16(in, & chan->channo);
    }
#line 460
    if (__cil_tmp8) {
#line 462
      return (-1);
    } else
#line 460
    if (__cil_tmp9) {
#line 462
      return (-1);
    } else
#line 460
    if (__cil_tmp10) {
#line 462
      return (-1);
    }
#line 458
    channo ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 465
  return (0);
}
}
#line 472 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
int jp2_box_put(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jas_stream_t *tmpstream ;
  int extlen ;
  int dataflag ;
  int __cil_tmp7 ;
  long __cil_tmp8 ;
  int tmp ;
  unsigned long tmp___0 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int tmp___1 ;
  int __cil_tmp15 ;

  {
#line 478
  tmpstream = (jas_stream_t *)0;
#line 480
  dataflag = ! ((box->info)->flags & 3);
#line 482
  if (dataflag) {
    {
#line 483
    tmpstream = jas_stream_memopen((char *)0, 0);
    }
#line 484
    if ((box->ops)->putdata) {
      {
#line 485
      __cil_tmp7 = (*((box->ops)->putdata))(box, tmpstream);
      }
#line 485
      if (__cil_tmp7) {
#line 486
        goto error;
      }
    }
    {
#line 489
    tmp = 8;
#line 489
    __cil_tmp8 = jas_stream_tell(tmpstream);
#line 489
    box->len = (uint_fast32_t )(__cil_tmp8 + (long )tmp);
#line 490
    jas_stream_rewind(tmpstream);
    }
  }
#line 492
  extlen = (box->len >= 1UL << 32) != 0;
#line 493
  if (extlen) {
#line 493
    tmp___0 = 1UL;
  } else {
#line 493
    tmp___0 = box->len;
  }
  {
#line 493
  __cil_tmp11 = jp2_putuint32(out, tmp___0);
  }
#line 493
  if (__cil_tmp11) {
#line 494
    goto error;
  }
  {
#line 496
  __cil_tmp12 = jp2_putuint32(out, box->type);
  }
#line 496
  if (__cil_tmp12) {
#line 497
    goto error;
  }
#line 499
  if (extlen) {
    {
#line 500
    __cil_tmp13 = jp2_putuint64(out, box->len);
    }
#line 500
    if (__cil_tmp13) {
#line 501
      goto error;
    }
  }
#line 505
  if (dataflag) {
    {
#line 506
    tmp___1 = 8;
#line 506
    __cil_tmp15 = jas_stream_copy(out, tmpstream, (int )(box->len - (unsigned long )tmp___1));
    }
#line 506
    if (__cil_tmp15) {
#line 507
      goto error;
    }
    {
#line 509
    jas_stream_close(tmpstream);
    }
  }
#line 512
  return (0);
  error: 
#line 516
  if (tmpstream) {
    {
#line 517
    jas_stream_close(tmpstream);
    }
  }
#line 519
  return (-1);
}
}
#line 522 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_jp_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_jp_t *jp ;
  int __cil_tmp4 ;

  {
  {
#line 524
  jp = & box->data.jp;
#line 525
  __cil_tmp4 = jp2_putuint32(out, jp->magic);
  }
#line 525
  if (__cil_tmp4) {
#line 526
    return (-1);
  }
#line 528
  return (0);
}
}
#line 531 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_ftyp_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_ftyp_t *ftyp ;
  unsigned int i ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 533
  ftyp = & box->data.ftyp;
#line 535
  __cil_tmp6 = jp2_putuint32(out, ftyp->minver);
#line 535
  __cil_tmp5 = jp2_putuint32(out, ftyp->majver);
  }
#line 535
  if (__cil_tmp5) {
#line 536
    return (-1);
  } else
#line 535
  if (__cil_tmp6) {
#line 536
    return (-1);
  }
#line 538
  i = 0U;
  {
#line 538
  while (1) {
    while_continue: /* CIL Label */ ;

#line 538
    if (! ((unsigned long )i < ftyp->numcompatcodes)) {
#line 538
      goto while_break;
    }
    {
#line 539
    __cil_tmp7 = jp2_putuint32(out, ftyp->compatcodes[i]);
    }
#line 539
    if (__cil_tmp7) {
#line 540
      return (-1);
    }
#line 538
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 543
  return (0);
}
}
#line 546 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_ihdr_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_ihdr_t *ihdr ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 548
  ihdr = & box->data.ihdr;
#line 549
  __cil_tmp10 = jp2_putuint8(out, ihdr->ipr);
#line 549
  __cil_tmp9 = jp2_putuint8(out, ihdr->csunk);
#line 549
  __cil_tmp8 = jp2_putuint8(out, ihdr->comptype);
#line 549
  __cil_tmp7 = jp2_putuint8(out, ihdr->bpc);
#line 549
  __cil_tmp6 = jp2_putuint16(out, ihdr->numcmpts);
#line 549
  __cil_tmp5 = jp2_putuint32(out, ihdr->width);
#line 549
  __cil_tmp4 = jp2_putuint32(out, ihdr->height);
  }
#line 549
  if (__cil_tmp4) {
#line 553
    return (-1);
  } else
#line 549
  if (__cil_tmp5) {
#line 553
    return (-1);
  } else
#line 549
  if (__cil_tmp6) {
#line 553
    return (-1);
  } else
#line 549
  if (__cil_tmp7) {
#line 553
    return (-1);
  } else
#line 549
  if (__cil_tmp8) {
#line 553
    return (-1);
  } else
#line 549
  if (__cil_tmp9) {
#line 553
    return (-1);
  } else
#line 549
  if (__cil_tmp10) {
#line 553
    return (-1);
  }
#line 555
  return (0);
}
}
#line 558 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_bpcc_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_bpcc_t *bpcc ;
  unsigned int i ;
  int __cil_tmp5 ;

  {
#line 560
  bpcc = & box->data.bpcc;
#line 562
  i = 0U;
  {
#line 562
  while (1) {
    while_continue: /* CIL Label */ ;

#line 562
    if (! ((unsigned long )i < bpcc->numcmpts)) {
#line 562
      goto while_break;
    }
    {
#line 563
    __cil_tmp5 = jp2_putuint8(out, *(bpcc->bpcs + i));
    }
#line 563
    if (__cil_tmp5) {
#line 564
      return (-1);
    }
#line 562
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 567
  return (0);
}
}
#line 570 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_colr_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_colr_t *colr ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
  {
#line 572
  colr = & box->data.colr;
#line 573
  __cil_tmp6 = jp2_putuint8(out, colr->approx);
#line 573
  __cil_tmp5 = jp2_putuint8(out, colr->pri);
#line 573
  __cil_tmp4 = jp2_putuint8(out, colr->method);
  }
#line 573
  if (__cil_tmp4) {
#line 575
    return (-1);
  } else
#line 573
  if (__cil_tmp5) {
#line 575
    return (-1);
  } else
#line 573
  if (__cil_tmp6) {
#line 575
    return (-1);
  }
#line 578
  if ((int )colr->method == 1) {
#line 578
    goto case_1;
  }
#line 583
  if ((int )colr->method == 2) {
#line 583
    goto case_2;
  }
#line 577
  goto switch_break;
  case_1: 
  {
#line 579
  __cil_tmp7 = jp2_putuint32(out, colr->csid);
  }
#line 579
  if (__cil_tmp7) {
#line 580
    return (-1);
  }
#line 582
  goto switch_break;
  case_2: 
  {
#line 584
  __cil_tmp8 = jas_stream_write(out, (void const   *)colr->iccp, colr->iccplen);
  }
#line 584
  if (__cil_tmp8 != colr->iccplen) {
#line 586
    return (-1);
  }
#line 587
  goto switch_break;
  switch_break: ;
#line 589
  return (0);
}
}
#line 592 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_cdef_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_cdef_t *cdef ;
  unsigned int i ;
  jp2_cdefchan_t *ent ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
  {
#line 594
  cdef = & box->data.cdef;
#line 598
  __cil_tmp6 = jp2_putuint16(out, cdef->numchans);
  }
#line 598
  if (__cil_tmp6) {
#line 599
    return (-1);
  }
#line 602
  i = 0U;
  {
#line 602
  while (1) {
    while_continue: /* CIL Label */ ;

#line 602
    if (! ((unsigned long )i < cdef->numchans)) {
#line 602
      goto while_break;
    }
    {
#line 603
    ent = cdef->ents + i;
#line 604
    __cil_tmp9 = jp2_putuint16(out, ent->assoc);
#line 604
    __cil_tmp8 = jp2_putuint16(out, ent->type);
#line 604
    __cil_tmp7 = jp2_putuint16(out, ent->channo);
    }
#line 604
    if (__cil_tmp7) {
#line 607
      return (-1);
    } else
#line 604
    if (__cil_tmp8) {
#line 607
      return (-1);
    } else
#line 604
    if (__cil_tmp9) {
#line 607
      return (-1);
    }
#line 602
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 610
  return (0);
}
}
#line 617 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_getuint8(jas_stream_t *in , uint_fast8_t *val ) 
{ 
  int c ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 620
  if (! (in->flags_ & 7)) {
#line 620
    if (in->rwlimit_ >= 0L) {
#line 620
      if (in->rwcnt_ >= in->rwlimit_) {
#line 620
        in->flags_ |= 4;
#line 620
        tmp___0 = -1;
      } else {
#line 620
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 620
      (in->cnt_) --;
#line 620
      if (in->cnt_ < 0) {
        {
#line 620
        __cil_tmp4 = jas_stream_fillbuf(in, 1);
#line 620
        tmp = __cil_tmp4;
        }
      } else {
#line 620
        __cil_tmp5 = in->ptr_;
#line 620
        (in->ptr_) ++;
#line 620
        (in->rwcnt_) ++;
#line 620
        tmp = (int )*__cil_tmp5;
      }
#line 620
      tmp___0 = tmp;
    }
#line 620
    tmp___1 = tmp___0;
  } else {
#line 620
    tmp___1 = -1;
  }
#line 620
  c = tmp___1;
#line 620
  if (c == -1) {
#line 621
    return (-1);
  }
#line 623
  if (val) {
#line 624
    *val = (uint_fast8_t )c;
  }
#line 626
  return (0);
}
}
#line 629 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_getuint16(jas_stream_t *in , uint_fast16_t *val ) 
{ 
  uint_fast16_t v ;
  int c ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 633
  if (! (in->flags_ & 7)) {
#line 633
    if (in->rwlimit_ >= 0L) {
#line 633
      if (in->rwcnt_ >= in->rwlimit_) {
#line 633
        in->flags_ |= 4;
#line 633
        tmp___0 = -1;
      } else {
#line 633
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 633
      (in->cnt_) --;
#line 633
      if (in->cnt_ < 0) {
        {
#line 633
        __cil_tmp5 = jas_stream_fillbuf(in, 1);
#line 633
        tmp = __cil_tmp5;
        }
      } else {
#line 633
        __cil_tmp6 = in->ptr_;
#line 633
        (in->ptr_) ++;
#line 633
        (in->rwcnt_) ++;
#line 633
        tmp = (int )*__cil_tmp6;
      }
#line 633
      tmp___0 = tmp;
    }
#line 633
    tmp___1 = tmp___0;
  } else {
#line 633
    tmp___1 = -1;
  }
#line 633
  c = tmp___1;
#line 633
  if (c == -1) {
#line 634
    return (-1);
  }
#line 636
  v = (uint_fast16_t )c;
#line 637
  if (! (in->flags_ & 7)) {
#line 637
    if (in->rwlimit_ >= 0L) {
#line 637
      if (in->rwcnt_ >= in->rwlimit_) {
#line 637
        in->flags_ |= 4;
#line 637
        tmp___3 = -1;
      } else {
#line 637
        goto _L___28;
      }
    } else {
      _L___28: /* CIL Label */ 
#line 637
      (in->cnt_) --;
#line 637
      if (in->cnt_ < 0) {
        {
#line 637
        __cil_tmp10 = jas_stream_fillbuf(in, 1);
#line 637
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 637
        __cil_tmp11 = in->ptr_;
#line 637
        (in->ptr_) ++;
#line 637
        (in->rwcnt_) ++;
#line 637
        tmp___2 = (int )*__cil_tmp11;
      }
#line 637
      tmp___3 = tmp___2;
    }
#line 637
    tmp___4 = tmp___3;
  } else {
#line 637
    tmp___4 = -1;
  }
#line 637
  c = tmp___4;
#line 637
  if (c == -1) {
#line 638
    return (-1);
  }
#line 640
  v = (v << 8) | (unsigned long )c;
#line 641
  if (val) {
#line 642
    *val = v;
  }
#line 644
  return (0);
}
}
#line 647 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_getuint32(jas_stream_t *in , uint_fast32_t *val ) 
{ 
  uint_fast32_t v ;
  int c ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp20 ;
  unsigned char *__cil_tmp21 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;

  {
#line 651
  if (! (in->flags_ & 7)) {
#line 651
    if (in->rwlimit_ >= 0L) {
#line 651
      if (in->rwcnt_ >= in->rwlimit_) {
#line 651
        in->flags_ |= 4;
#line 651
        tmp___0 = -1;
      } else {
#line 651
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 651
      (in->cnt_) --;
#line 651
      if (in->cnt_ < 0) {
        {
#line 651
        __cil_tmp5 = jas_stream_fillbuf(in, 1);
#line 651
        tmp = __cil_tmp5;
        }
      } else {
#line 651
        __cil_tmp6 = in->ptr_;
#line 651
        (in->ptr_) ++;
#line 651
        (in->rwcnt_) ++;
#line 651
        tmp = (int )*__cil_tmp6;
      }
#line 651
      tmp___0 = tmp;
    }
#line 651
    tmp___1 = tmp___0;
  } else {
#line 651
    tmp___1 = -1;
  }
#line 651
  c = tmp___1;
#line 651
  if (c == -1) {
#line 652
    return (-1);
  }
#line 654
  v = (uint_fast32_t )c;
#line 655
  if (! (in->flags_ & 7)) {
#line 655
    if (in->rwlimit_ >= 0L) {
#line 655
      if (in->rwcnt_ >= in->rwlimit_) {
#line 655
        in->flags_ |= 4;
#line 655
        tmp___3 = -1;
      } else {
#line 655
        goto _L___28;
      }
    } else {
      _L___28: /* CIL Label */ 
#line 655
      (in->cnt_) --;
#line 655
      if (in->cnt_ < 0) {
        {
#line 655
        __cil_tmp10 = jas_stream_fillbuf(in, 1);
#line 655
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 655
        __cil_tmp11 = in->ptr_;
#line 655
        (in->ptr_) ++;
#line 655
        (in->rwcnt_) ++;
#line 655
        tmp___2 = (int )*__cil_tmp11;
      }
#line 655
      tmp___3 = tmp___2;
    }
#line 655
    tmp___4 = tmp___3;
  } else {
#line 655
    tmp___4 = -1;
  }
#line 655
  c = tmp___4;
#line 655
  if (c == -1) {
#line 656
    return (-1);
  }
#line 658
  v = (v << 8) | (unsigned long )c;
#line 659
  if (! (in->flags_ & 7)) {
#line 659
    if (in->rwlimit_ >= 0L) {
#line 659
      if (in->rwcnt_ >= in->rwlimit_) {
#line 659
        in->flags_ |= 4;
#line 659
        tmp___6 = -1;
      } else {
#line 659
        goto _L___29;
      }
    } else {
      _L___29: /* CIL Label */ 
#line 659
      (in->cnt_) --;
#line 659
      if (in->cnt_ < 0) {
        {
#line 659
        __cil_tmp15 = jas_stream_fillbuf(in, 1);
#line 659
        tmp___5 = __cil_tmp15;
        }
      } else {
#line 659
        __cil_tmp16 = in->ptr_;
#line 659
        (in->ptr_) ++;
#line 659
        (in->rwcnt_) ++;
#line 659
        tmp___5 = (int )*__cil_tmp16;
      }
#line 659
      tmp___6 = tmp___5;
    }
#line 659
    tmp___7 = tmp___6;
  } else {
#line 659
    tmp___7 = -1;
  }
#line 659
  c = tmp___7;
#line 659
  if (c == -1) {
#line 660
    return (-1);
  }
#line 662
  v = (v << 8) | (unsigned long )c;
#line 663
  if (! (in->flags_ & 7)) {
#line 663
    if (in->rwlimit_ >= 0L) {
#line 663
      if (in->rwcnt_ >= in->rwlimit_) {
#line 663
        in->flags_ |= 4;
#line 663
        tmp___9 = -1;
      } else {
#line 663
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 663
      (in->cnt_) --;
#line 663
      if (in->cnt_ < 0) {
        {
#line 663
        __cil_tmp20 = jas_stream_fillbuf(in, 1);
#line 663
        tmp___8 = __cil_tmp20;
        }
      } else {
#line 663
        __cil_tmp21 = in->ptr_;
#line 663
        (in->ptr_) ++;
#line 663
        (in->rwcnt_) ++;
#line 663
        tmp___8 = (int )*__cil_tmp21;
      }
#line 663
      tmp___9 = tmp___8;
    }
#line 663
    tmp___10 = tmp___9;
  } else {
#line 663
    tmp___10 = -1;
  }
#line 663
  c = tmp___10;
#line 663
  if (c == -1) {
#line 664
    return (-1);
  }
#line 666
  v = (v << 8) | (unsigned long )c;
#line 667
  if (val) {
#line 668
    *val = v;
  }
#line 670
  return (0);
}
}
#line 673 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_getuint64(jas_stream_t *in , uint_fast64_t *val ) 
{ 
  uint_fast64_t tmpval ;
  int i ;
  int c ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 679
  tmpval = (uint_fast64_t )0;
#line 680
  i = 0;
  {
#line 680
  while (1) {
    while_continue: /* CIL Label */ ;

#line 680
    if (! (i < 8)) {
#line 680
      goto while_break;
    }
#line 681
    tmpval <<= 8;
#line 682
    if (! (in->flags_ & 7)) {
#line 682
      if (in->rwlimit_ >= 0L) {
#line 682
        if (in->rwcnt_ >= in->rwlimit_) {
#line 682
          in->flags_ |= 4;
#line 682
          tmp___0 = -1;
        } else {
#line 682
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 682
        (in->cnt_) --;
#line 682
        if (in->cnt_ < 0) {
          {
#line 682
          __cil_tmp6 = jas_stream_fillbuf(in, 1);
#line 682
          tmp = __cil_tmp6;
          }
        } else {
#line 682
          __cil_tmp7 = in->ptr_;
#line 682
          (in->ptr_) ++;
#line 682
          (in->rwcnt_) ++;
#line 682
          tmp = (int )*__cil_tmp7;
        }
#line 682
        tmp___0 = tmp;
      }
#line 682
      tmp___1 = tmp___0;
    } else {
#line 682
      tmp___1 = -1;
    }
#line 682
    c = tmp___1;
#line 682
    if (c == -1) {
#line 683
      return (-1);
    }
#line 685
    tmpval |= (unsigned long )(c & 255);
#line 680
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 687
  *val = tmpval;
#line 689
  return (0);
}
}
#line 696 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_putuint8(jas_stream_t *out , uint_fast8_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 698
  if (! (out->flags_ & 7)) {
#line 698
    if (out->rwlimit_ >= 0L) {
#line 698
      if (out->rwcnt_ >= out->rwlimit_) {
#line 698
        out->flags_ |= 4;
#line 698
        tmp___0 = -1;
      } else {
#line 698
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 698
      (out->cnt_) --;
#line 698
      out->bufmode_ |= 32;
#line 698
      if (out->cnt_ < 0) {
        {
#line 698
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )((int )val & 255)));
#line 698
        tmp = __cil_tmp3;
        }
      } else {
#line 698
        __cil_tmp4 = out->ptr_;
#line 698
        (out->ptr_) ++;
#line 698
        *__cil_tmp4 = (unsigned char )((int )val & 255);
#line 698
        (out->rwcnt_) ++;
#line 698
        tmp = (int )*__cil_tmp4;
      }
#line 698
      tmp___0 = tmp;
    }
#line 698
    tmp___1 = tmp___0;
  } else {
#line 698
    tmp___1 = -1;
  }
#line 698
  if (tmp___1 == -1) {
#line 699
    return (-1);
  }
#line 701
  return (0);
}
}
#line 704 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_putuint16(jas_stream_t *out , uint_fast16_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 706
  if (! (out->flags_ & 7)) {
#line 706
    if (out->rwlimit_ >= 0L) {
#line 706
      if (out->rwcnt_ >= out->rwlimit_) {
#line 706
        out->flags_ |= 4;
#line 706
        tmp___3 = -1;
      } else {
#line 706
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 706
      (out->cnt_) --;
#line 706
      out->bufmode_ |= 32;
#line 706
      if (out->cnt_ < 0) {
        {
#line 706
        __cil_tmp8 = jas_stream_flushbuf(out, (int )((unsigned char )(val & 255UL)));
#line 706
        tmp___2 = __cil_tmp8;
        }
      } else {
#line 706
        __cil_tmp9 = out->ptr_;
#line 706
        (out->ptr_) ++;
#line 706
        *__cil_tmp9 = (unsigned char )(val & 255UL);
#line 706
        (out->rwcnt_) ++;
#line 706
        tmp___2 = (int )*__cil_tmp9;
      }
#line 706
      tmp___3 = tmp___2;
    }
#line 706
    tmp___4 = tmp___3;
  } else {
#line 706
    tmp___4 = -1;
  }
#line 706
  if (! (out->flags_ & 7)) {
#line 706
    if (out->rwlimit_ >= 0L) {
#line 706
      if (out->rwcnt_ >= out->rwlimit_) {
#line 706
        out->flags_ |= 4;
#line 706
        tmp___0 = -1;
      } else {
#line 706
        goto _L___28;
      }
    } else {
      _L___28: /* CIL Label */ 
#line 706
      (out->cnt_) --;
#line 706
      out->bufmode_ |= 32;
#line 706
      if (out->cnt_ < 0) {
        {
#line 706
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 8) & 255UL)));
#line 706
        tmp = __cil_tmp3;
        }
      } else {
#line 706
        __cil_tmp4 = out->ptr_;
#line 706
        (out->ptr_) ++;
#line 706
        *__cil_tmp4 = (unsigned char )((val >> 8) & 255UL);
#line 706
        (out->rwcnt_) ++;
#line 706
        tmp = (int )*__cil_tmp4;
      }
#line 706
      tmp___0 = tmp;
    }
#line 706
    tmp___1 = tmp___0;
  } else {
#line 706
    tmp___1 = -1;
  }
#line 706
  if (tmp___1 == -1) {
#line 708
    return (-1);
  } else
#line 706
  if (tmp___4 == -1) {
#line 708
    return (-1);
  }
#line 710
  return (0);
}
}
#line 713 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_putuint32(jas_stream_t *out , uint_fast32_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp13 ;
  unsigned char *__cil_tmp14 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp18 ;
  unsigned char *__cil_tmp19 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;

  {
#line 715
  if (! (out->flags_ & 7)) {
#line 715
    if (out->rwlimit_ >= 0L) {
#line 715
      if (out->rwcnt_ >= out->rwlimit_) {
#line 715
        out->flags_ |= 4;
#line 715
        tmp___9 = -1;
      } else {
#line 715
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 715
      (out->cnt_) --;
#line 715
      out->bufmode_ |= 32;
#line 715
      if (out->cnt_ < 0) {
        {
#line 715
        __cil_tmp18 = jas_stream_flushbuf(out, (int )((unsigned char )(val & 255UL)));
#line 715
        tmp___8 = __cil_tmp18;
        }
      } else {
#line 715
        __cil_tmp19 = out->ptr_;
#line 715
        (out->ptr_) ++;
#line 715
        *__cil_tmp19 = (unsigned char )(val & 255UL);
#line 715
        (out->rwcnt_) ++;
#line 715
        tmp___8 = (int )*__cil_tmp19;
      }
#line 715
      tmp___9 = tmp___8;
    }
#line 715
    tmp___10 = tmp___9;
  } else {
#line 715
    tmp___10 = -1;
  }
#line 715
  if (! (out->flags_ & 7)) {
#line 715
    if (out->rwlimit_ >= 0L) {
#line 715
      if (out->rwcnt_ >= out->rwlimit_) {
#line 715
        out->flags_ |= 4;
#line 715
        tmp___6 = -1;
      } else {
#line 715
        goto _L___28;
      }
    } else {
      _L___28: /* CIL Label */ 
#line 715
      (out->cnt_) --;
#line 715
      out->bufmode_ |= 32;
#line 715
      if (out->cnt_ < 0) {
        {
#line 715
        __cil_tmp13 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 8) & 255UL)));
#line 715
        tmp___5 = __cil_tmp13;
        }
      } else {
#line 715
        __cil_tmp14 = out->ptr_;
#line 715
        (out->ptr_) ++;
#line 715
        *__cil_tmp14 = (unsigned char )((val >> 8) & 255UL);
#line 715
        (out->rwcnt_) ++;
#line 715
        tmp___5 = (int )*__cil_tmp14;
      }
#line 715
      tmp___6 = tmp___5;
    }
#line 715
    tmp___7 = tmp___6;
  } else {
#line 715
    tmp___7 = -1;
  }
#line 715
  if (! (out->flags_ & 7)) {
#line 715
    if (out->rwlimit_ >= 0L) {
#line 715
      if (out->rwcnt_ >= out->rwlimit_) {
#line 715
        out->flags_ |= 4;
#line 715
        tmp___3 = -1;
      } else {
#line 715
        goto _L___29;
      }
    } else {
      _L___29: /* CIL Label */ 
#line 715
      (out->cnt_) --;
#line 715
      out->bufmode_ |= 32;
#line 715
      if (out->cnt_ < 0) {
        {
#line 715
        __cil_tmp8 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 16) & 255UL)));
#line 715
        tmp___2 = __cil_tmp8;
        }
      } else {
#line 715
        __cil_tmp9 = out->ptr_;
#line 715
        (out->ptr_) ++;
#line 715
        *__cil_tmp9 = (unsigned char )((val >> 16) & 255UL);
#line 715
        (out->rwcnt_) ++;
#line 715
        tmp___2 = (int )*__cil_tmp9;
      }
#line 715
      tmp___3 = tmp___2;
    }
#line 715
    tmp___4 = tmp___3;
  } else {
#line 715
    tmp___4 = -1;
  }
#line 715
  if (! (out->flags_ & 7)) {
#line 715
    if (out->rwlimit_ >= 0L) {
#line 715
      if (out->rwcnt_ >= out->rwlimit_) {
#line 715
        out->flags_ |= 4;
#line 715
        tmp___0 = -1;
      } else {
#line 715
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 715
      (out->cnt_) --;
#line 715
      out->bufmode_ |= 32;
#line 715
      if (out->cnt_ < 0) {
        {
#line 715
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 24) & 255UL)));
#line 715
        tmp = __cil_tmp3;
        }
      } else {
#line 715
        __cil_tmp4 = out->ptr_;
#line 715
        (out->ptr_) ++;
#line 715
        *__cil_tmp4 = (unsigned char )((val >> 24) & 255UL);
#line 715
        (out->rwcnt_) ++;
#line 715
        tmp = (int )*__cil_tmp4;
      }
#line 715
      tmp___0 = tmp;
    }
#line 715
    tmp___1 = tmp___0;
  } else {
#line 715
    tmp___1 = -1;
  }
#line 715
  if (tmp___1 == -1) {
#line 719
    return (-1);
  } else
#line 715
  if (tmp___4 == -1) {
#line 719
    return (-1);
  } else
#line 715
  if (tmp___7 == -1) {
#line 719
    return (-1);
  } else
#line 715
  if (tmp___10 == -1) {
#line 719
    return (-1);
  }
#line 721
  return (0);
}
}
#line 724 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_putuint64(jas_stream_t *out , uint_fast64_t val ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;

  {
  {
#line 726
  __cil_tmp4 = jp2_putuint32(out, val & 4294967295UL);
#line 726
  __cil_tmp3 = jp2_putuint32(out, (val >> 32) & 4294967295UL);
  }
#line 726
  if (__cil_tmp3) {
#line 728
    return (-1);
  } else
#line 726
  if (__cil_tmp4) {
#line 728
    return (-1);
  }
#line 730
  return (0);
}
}
#line 737 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
jp2_boxinfo_t *jp2_boxinfolookup(int type ) 
{ 
  jp2_boxinfo_t *boxinfo ;

  {
#line 740
  boxinfo = jp2_boxinfos;
  {
#line 740
  while (1) {
    while_continue: /* CIL Label */ ;

#line 740
    if (! boxinfo->name) {
#line 740
      goto while_break;
    }
#line 741
    if (boxinfo->type == type) {
#line 742
      return (boxinfo);
    }
#line 740
    boxinfo ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 745
  return (& jp2_boxinfo_unk);
}
}
#line 752 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static void jp2_cmap_destroy(jp2_box_t *box ) 
{ 
  jp2_cmap_t *cmap ;

  {
#line 754
  cmap = & box->data.cmap;
#line 755
  if (cmap->ents) {
    {
#line 756
    jas_free((void *)cmap->ents);
    }
  }
#line 759
  return;
}
}
#line 760 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_cmap_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_cmap_t *cmap ;
  jp2_cmapent_t *ent ;
  unsigned int i ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  void *tmp ;

  {
  {
#line 762
  cmap = & box->data.cmap;
#line 766
  cmap->numchans = box->datalen / 4UL;
#line 767
  tmp = jas_alloc2(cmap->numchans, sizeof(jp2_cmapent_t ));
#line 767
  cmap->ents = (jp2_cmapent_t *)tmp;
  }
#line 767
  if (! cmap->ents) {
#line 768
    return (-1);
  }
#line 770
  i = 0U;
  {
#line 770
  while (1) {
    while_continue: /* CIL Label */ ;

#line 770
    if (! ((unsigned long )i < cmap->numchans)) {
#line 770
      goto while_break;
    }
    {
#line 771
    ent = cmap->ents + i;
#line 772
    __cil_tmp9 = jp2_getuint8(in, & ent->pcol);
#line 772
    __cil_tmp8 = jp2_getuint8(in, & ent->map);
#line 772
    __cil_tmp7 = jp2_getuint16(in, & ent->cmptno);
    }
#line 772
    if (__cil_tmp7) {
#line 775
      return (-1);
    } else
#line 772
    if (__cil_tmp8) {
#line 775
      return (-1);
    } else
#line 772
    if (__cil_tmp9) {
#line 775
      return (-1);
    }
#line 770
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 779
  return (0);
}
}
#line 782 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_cmap_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 


  {
#line 785
  box = (jp2_box_t *)0;
#line 786
  out = (jas_stream_t *)0;
#line 788
  return (-1);
}
}
#line 791 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static void jp2_cmap_dumpdata(jp2_box_t *box , FILE *out ) 
{ 
  jp2_cmap_t *cmap ;
  unsigned int i ;
  jp2_cmapent_t *ent ;

  {
  {
#line 793
  cmap = & box->data.cmap;
#line 796
  fprintf(out, "numchans = %d\n", (int )cmap->numchans);
#line 797
  i = 0U;
  }
  {
#line 797
  while (1) {
    while_continue: /* CIL Label */ ;

#line 797
    if (! ((unsigned long )i < cmap->numchans)) {
#line 797
      goto while_break;
    }
    {
#line 798
    ent = cmap->ents + i;
#line 799
    fprintf(out, "cmptno=%d; map=%d; pcol=%d\n\373PV", (int )ent->cmptno, (int )ent->map,
            (int )ent->pcol);
#line 797
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 801
  return;
}
}
#line 804 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static void jp2_pclr_destroy(jp2_box_t *box ) 
{ 
  jp2_pclr_t *pclr ;

  {
#line 806
  pclr = & box->data.pclr;
#line 807
  if (pclr->lutdata) {
    {
#line 808
    jas_free((void *)pclr->lutdata);
    }
  }
#line 810
  if (pclr->bpc) {
    {
#line 811
    jas_free((void *)pclr->bpc);
    }
  }
#line 814
  return;
}
}
#line 814 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_pclr_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_pclr_t *pclr ;
  int lutsize ;
  unsigned int i ;
  unsigned int j ;
  int_fast32_t x ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  void *tmp ;
  void *tmp___0 ;

  {
  {
#line 816
  pclr = & box->data.pclr;
#line 822
  pclr->lutdata = (int_fast32_t *)0;
#line 824
  __cil_tmp9 = jp2_getuint8(in, & pclr->numchans);
#line 824
  __cil_tmp8 = jp2_getuint16(in, & pclr->numlutents);
  }
#line 824
  if (__cil_tmp8) {
#line 826
    return (-1);
  } else
#line 824
  if (__cil_tmp9) {
#line 826
    return (-1);
  }
  {
#line 828
  lutsize = (int )(pclr->numlutents * (unsigned long )pclr->numchans);
#line 829
  tmp = jas_alloc2((size_t )lutsize, sizeof(int_fast32_t ));
#line 829
  pclr->lutdata = (int_fast32_t *)tmp;
  }
#line 829
  if (! pclr->lutdata) {
#line 830
    return (-1);
  }
  {
#line 832
  tmp___0 = jas_alloc2((size_t )pclr->numchans, sizeof(uint_fast8_t ));
#line 832
  pclr->bpc = (uint_fast8_t *)tmp___0;
  }
#line 832
  if (! pclr->bpc) {
#line 833
    return (-1);
  }
#line 835
  i = 0U;
  {
#line 835
  while (1) {
    while_continue: /* CIL Label */ ;

#line 835
    if (! (i < (unsigned int )pclr->numchans)) {
#line 835
      goto while_break;
    }
    {
#line 836
    __cil_tmp12 = jp2_getuint8(in, pclr->bpc + i);
    }
#line 836
    if (__cil_tmp12) {
#line 837
      return (-1);
    }
#line 835
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
#line 840
  i = 0U;
  {
#line 840
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 840
    if (! ((unsigned long )i < pclr->numlutents)) {
#line 840
      goto while_break___0;
    }
#line 841
    j = 0U;
    {
#line 841
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 841
      if (! (j < (unsigned int )pclr->numchans)) {
#line 841
        goto while_break___1;
      }
      {
#line 842
      __cil_tmp13 = jp2_getint(in, ((int )*(pclr->bpc + j) & 128) != 0, ((int )*(pclr->bpc + j) & 127) + 1,
                               & x);
      }
#line 842
      if (__cil_tmp13) {
#line 844
        return (-1);
      }
#line 846
      *(pclr->lutdata + (i * (unsigned int )pclr->numchans + j)) = x;
#line 841
      j ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
#line 840
    i ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: ;
#line 849
  return (0);
}
}
#line 852 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_pclr_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 


  {
#line 858
  box = (jp2_box_t *)0;
#line 859
  out = (jas_stream_t *)0;
#line 860
  return (-1);
}
}
#line 863 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static void jp2_pclr_dumpdata(jp2_box_t *box , FILE *out ) 
{ 
  jp2_pclr_t *pclr ;
  unsigned int i ;
  int j ;

  {
  {
#line 865
  pclr = & box->data.pclr;
#line 868
  fprintf(out, "numents=%d; numchans=%d\n\230\001", (int )pclr->numlutents, (int )pclr->numchans);
#line 870
  i = 0U;
  }
  {
#line 870
  while (1) {
    while_continue: /* CIL Label */ ;

#line 870
    if (! ((unsigned long )i < pclr->numlutents)) {
#line 870
      goto while_break;
    }
#line 871
    j = 0;
    {
#line 871
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 871
      if (! (j < (int )pclr->numchans)) {
#line 871
        goto while_break___0;
      }
      {
#line 872
      fprintf(out, "LUT[%d][%d]=%d\n", i, j, *(pclr->lutdata + (i * (unsigned int )pclr->numchans + (unsigned int )j)));
#line 871
      j ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 870
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 874
  return;
}
}
#line 877 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
static int jp2_getint(jas_stream_t *in , int s , int n , int_fast32_t *val ) 
{ 
  int c ;
  int i ;
  uint_fast32_t v ;
  int m ;
  int __cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int sb ;

  {
#line 884
  m = (n + 7) / 8;
#line 886
  v = (uint_fast32_t )0;
#line 887
  i = 0;
  {
#line 887
  while (1) {
    while_continue: /* CIL Label */ ;

#line 887
    if (! (i < m)) {
#line 887
      goto while_break;
    }
#line 888
    if (! (in->flags_ & 7)) {
#line 888
      if (in->rwlimit_ >= 0L) {
#line 888
        if (in->rwcnt_ >= in->rwlimit_) {
#line 888
          in->flags_ |= 4;
#line 888
          tmp___0 = -1;
        } else {
#line 888
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 888
        (in->cnt_) --;
#line 888
        if (in->cnt_ < 0) {
          {
#line 888
          __cil_tmp9 = jas_stream_fillbuf(in, 1);
#line 888
          tmp = __cil_tmp9;
          }
        } else {
#line 888
          __cil_tmp10 = in->ptr_;
#line 888
          (in->ptr_) ++;
#line 888
          (in->rwcnt_) ++;
#line 888
          tmp = (int )*__cil_tmp10;
        }
#line 888
        tmp___0 = tmp;
      }
#line 888
      tmp___1 = tmp___0;
    } else {
#line 888
      tmp___1 = -1;
    }
#line 888
    c = tmp___1;
#line 888
    if (c == -1) {
#line 889
      return (-1);
    }
#line 891
    v = (v << 8) | (unsigned long )c;
#line 887
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 893
  v &= (unsigned long )((1 << n) - 1);
#line 894
  if (s) {
#line 896
    sb = (int )(v & (unsigned long )(1 << (8 * m - 1)));
#line 897
    *val = (int_fast32_t )((~ v + 1UL) & (unsigned long )((1 << 8 * m) - 1));
#line 898
    if (sb) {
#line 899
      *val = - *val;
    }
  } else {
#line 902
    *val = (int_fast32_t )v;
  }
#line 905
  return (0);
}
}
#line 908 "/root/patron-new/new_2/src/libjasper/jp2/jp2_cod.c"
jp2_cdefchan_t *jp2_cdef_lookup(jp2_cdef_t *cdef , int channo ) 
{ 
  unsigned int i ;
  jp2_cdefchan_t *cdefent ;

  {
#line 912
  i = 0U;
  {
#line 912
  while (1) {
    while_continue: /* CIL Label */ ;

#line 912
    if (! ((unsigned long )i < cdef->numchans)) {
#line 912
      goto while_break;
    }
#line 913
    cdefent = cdef->ents + i;
#line 914
    if (cdefent->channo == (unsigned long )((unsigned int )channo)) {
#line 915
      return (cdefent);
    }
#line 912
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 918
  return ((jp2_cdefchan_t *)0);
}
}
#line 203 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.h"
int bmp_numcmpts(bmp_info_t *info ) ;
#line 206
bmp_info_t *bmp_info_create(void) ;
#line 209
void bmp_info_destroy(bmp_info_t *info ) ;
#line 212
int bmp_isgrayscalepal(bmp_palent_t *palents , int numpalents ) ;
#line 88 "/root/patron-new/new_2/src/libjasper/bmp/bmp_enc.c"
static int bmp_puthdr(jas_stream_t *out , bmp_hdr_t *hdr ) ;
#line 89
static int bmp_putinfo(jas_stream_t *out , bmp_info_t *info ) ;
#line 90
static int bmp_putdata(jas_stream_t *out , bmp_info_t *info , jas_image_t *image ,
                       int *cmpts ) ;
#line 91
static int bmp_putint16(jas_stream_t *in , int_fast16_t val ) ;
#line 92
static int bmp_putint32(jas_stream_t *out , int_fast32_t val ) ;
#line 98 "/root/patron-new/new_2/src/libjasper/bmp/bmp_enc.c"
int bmp_encode(jas_image_t *image , jas_stream_t *out , char *optstr ) 
{ 
  jas_image_coord_t width ;
  jas_image_coord_t height ;
  int depth ;
  int cmptno ;
  bmp_hdr_t hdr ;
  bmp_info_t *info ;
  int_fast32_t datalen ;
  int numpad ;
  bmp_enc_t encbuf ;
  bmp_enc_t *enc ;
  jas_clrspc_t clrspc ;
  int tmp ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;

  {
#line 109
  enc = & encbuf;
#line 112
  if (optstr) {
    {
#line 113
    jas_eprintf("warning: ignoring BMP encoder options\n");
    }
  }
#line 116
  clrspc = image->clrspc_;
#line 118
  if (clrspc >> 8 == 4) {
#line 118
    goto case_4;
  }
#line 122
  if (clrspc >> 8 == 3) {
#line 122
    goto case_3;
  }
#line 126
  goto switch_default;
  case_4: 
#line 119
  if (clrspc != ((4 << 8) | 1)) {
    {
#line 120
    jas_eprintf("warning: inaccurate color\n");
    }
  }
#line 121
  goto switch_break;
  case_3: 
#line 123
  if (clrspc != ((3 << 8) | 1)) {
    {
#line 124
    jas_eprintf("warning: inaccurate color\n");
    }
  }
#line 125
  goto switch_break;
  switch_default: 
  {
#line 127
  jas_eprintf("error: BMP format does not support color space\n");
  }
#line 128
  return (-1);
#line 129
  goto switch_break;
  switch_break: ;
#line 133
  if (clrspc >> 8 == 4) {
#line 133
    goto case_4___0;
  }
#line 145
  if (clrspc >> 8 == 3) {
#line 145
    goto case_3___0;
  }
#line 153
  goto switch_default___0;
  case_4___0: 
  {
#line 134
  enc->numcmpts = 3;
#line 135
  enc->cmpts[2] = jas_image_getcmptbytype(image, 2);
#line 135
  enc->cmpts[1] = jas_image_getcmptbytype(image, 1);
#line 135
  enc->cmpts[0] = jas_image_getcmptbytype(image, 0);
  }
#line 135
  if (enc->cmpts[0] < 0) {
    {
#line 141
    jas_eprintf("error: missing color component\n");
    }
#line 142
    return (-1);
  } else
#line 135
  if (enc->cmpts[1] < 0) {
    {
#line 141
    jas_eprintf("error: missing color component\n");
    }
#line 142
    return (-1);
  } else
#line 135
  if (enc->cmpts[2] < 0) {
    {
#line 141
    jas_eprintf("error: missing color component\n");
    }
#line 142
    return (-1);
  }
#line 144
  goto switch_break___0;
  case_3___0: 
  {
#line 146
  enc->numcmpts = 1;
#line 147
  enc->cmpts[0] = jas_image_getcmptbytype(image, 0);
  }
#line 147
  if (enc->cmpts[0] < 0) {
    {
#line 149
    jas_eprintf("error: missing color component\n");
    }
#line 150
    return (-1);
  }
#line 152
  goto switch_break___0;
  switch_default___0: 
  {
#line 154
  abort();
  }
#line 155
  goto switch_break___0;
  switch_break___0: 
#line 158
  width = (*(image->cmpts_ + enc->cmpts[0]))->width_;
#line 159
  height = (*(image->cmpts_ + enc->cmpts[0]))->height_;
#line 160
  depth = (*(image->cmpts_ + enc->cmpts[0]))->prec_;
#line 164
  cmptno = 0;
  {
#line 164
  while (1) {
    while_continue: /* CIL Label */ ;

#line 164
    if (! (cmptno < enc->numcmpts)) {
#line 164
      goto while_break;
    }
#line 165
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->width_ != width) {
      {
#line 171
      jas_eprintf("The BMP format cannot be used to represent an image with this geometry.\n\220");
      }
#line 172
      return (-1);
    } else
#line 165
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->height_ != height) {
      {
#line 171
      jas_eprintf("The BMP format cannot be used to represent an image with this geometry.\n\220");
      }
#line 172
      return (-1);
    } else
#line 165
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->prec_ != depth) {
      {
#line 171
      jas_eprintf("The BMP format cannot be used to represent an image with this geometry.\n\220");
      }
#line 172
      return (-1);
    } else
#line 165
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->sgnd_ != 0) {
      {
#line 171
      jas_eprintf("The BMP format cannot be used to represent an image with this geometry.\n\220");
      }
#line 172
      return (-1);
    } else
#line 165
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->tlx_ != 0L) {
      {
#line 171
      jas_eprintf("The BMP format cannot be used to represent an image with this geometry.\n\220");
      }
#line 172
      return (-1);
    } else
#line 165
    if ((*(image->cmpts_ + enc->cmpts[cmptno]))->tly_ != 0L) {
      {
#line 171
      jas_eprintf("The BMP format cannot be used to represent an image with this geometry.\n\220");
      }
#line 172
      return (-1);
    }
#line 164
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 177
  if (depth != 1) {
#line 177
    if (depth != 4) {
#line 177
      if (depth != 8) {
#line 178
        return (-1);
      }
    }
  }
#line 181
  numpad = (int )((width * (long )enc->numcmpts) % 4L);
#line 182
  if (numpad) {
#line 183
    numpad = 4 - numpad;
  }
  {
#line 185
  datalen = ((long )enc->numcmpts * width + (long )numpad) * height;
#line 187
  info = bmp_info_create();
  }
#line 187
  if (! info) {
#line 188
    return (-1);
  }
#line 190
  info->len = (int_fast32_t )40;
#line 191
  info->width = width;
#line 192
  info->height = height;
#line 193
  info->numplanes = (int_fast16_t )1;
#line 194
  info->depth = (int_fast16_t )(enc->numcmpts * depth);
#line 195
  info->enctype = (int_fast32_t )0;
#line 196
  info->siz = datalen;
#line 197
  info->hres = (int_fast32_t )0;
#line 198
  info->vres = (int_fast32_t )0;
#line 199
  if (enc->numcmpts == 1) {
#line 199
    tmp = 256;
  } else {
#line 199
    tmp = 0;
  }
  {
#line 199
  info->numcolors = (int_fast32_t )tmp;
#line 200
  info->mincolors = (int_fast32_t )0;
#line 202
  hdr.magic = (int_fast16_t )19778;
#line 203
  hdr.siz = 54L + datalen;
#line 204
  hdr.off = 54L + info->numcolors * 4L;
#line 207
  __cil_tmp21 = bmp_puthdr(out, & hdr);
  }
#line 207
  if (__cil_tmp21) {
#line 208
    return (-1);
  }
  {
#line 212
  __cil_tmp22 = bmp_putinfo(out, info);
  }
#line 212
  if (__cil_tmp22) {
#line 213
    return (-1);
  }
  {
#line 217
  __cil_tmp23 = bmp_putdata(out, info, image, enc->cmpts);
  }
#line 217
  if (__cil_tmp23) {
#line 218
    return (-1);
  }
  {
#line 221
  bmp_info_destroy(info);
  }
#line 223
  return (0);
}
}
#line 230 "/root/patron-new/new_2/src/libjasper/bmp/bmp_enc.c"
static int bmp_puthdr(jas_stream_t *out , bmp_hdr_t *hdr ) 
{ 
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 233
  __cil_tmp7 = bmp_putint32(out, hdr->off);
#line 233
  __cil_tmp6 = bmp_putint32(out, (int_fast32_t )0);
#line 233
  __cil_tmp5 = bmp_putint32(out, hdr->siz);
#line 233
  __cil_tmp4 = bmp_putint16(out, hdr->magic);
  }
#line 233
  if (__cil_tmp4) {
#line 235
    return (-1);
  } else
#line 233
  if (__cil_tmp5) {
#line 235
    return (-1);
  } else
#line 233
  if (__cil_tmp6) {
#line 235
    return (-1);
  } else
#line 233
  if (__cil_tmp7) {
#line 235
    return (-1);
  }
#line 237
  return (0);
}
}
#line 240 "/root/patron-new/new_2/src/libjasper/bmp/bmp_enc.c"
static int bmp_putinfo(jas_stream_t *out , bmp_info_t *info ) 
{ 
  int i ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp20 ;
  unsigned char *__cil_tmp21 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp25 ;
  unsigned char *__cil_tmp26 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp30 ;
  unsigned char *__cil_tmp31 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;

  {
  {
#line 244
  info->len = (int_fast32_t )40;
#line 245
  __cil_tmp14 = bmp_putint32(out, info->mincolors);
#line 245
  __cil_tmp13 = bmp_putint32(out, info->numcolors);
#line 245
  __cil_tmp12 = bmp_putint32(out, info->vres);
#line 245
  __cil_tmp11 = bmp_putint32(out, info->hres);
#line 245
  __cil_tmp10 = bmp_putint32(out, info->siz);
#line 245
  __cil_tmp9 = bmp_putint32(out, info->enctype);
#line 245
  __cil_tmp8 = bmp_putint16(out, info->depth);
#line 245
  __cil_tmp7 = bmp_putint16(out, info->numplanes);
#line 245
  __cil_tmp6 = bmp_putint32(out, info->height);
#line 245
  __cil_tmp5 = bmp_putint32(out, info->width);
#line 245
  __cil_tmp4 = bmp_putint32(out, info->len);
  }
#line 245
  if (__cil_tmp4) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp5) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp6) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp7) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp8) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp9) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp10) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp11) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp12) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp13) {
#line 256
    return (-1);
  } else
#line 245
  if (__cil_tmp14) {
#line 256
    return (-1);
  }
#line 259
  i = 0;
  {
#line 259
  while (1) {
    while_continue: /* CIL Label */ ;

#line 259
    if (! ((long )i < info->numcolors)) {
#line 259
      goto while_break;
    }
#line 261
    if (! (out->flags_ & 7)) {
#line 261
      if (out->rwlimit_ >= 0L) {
#line 261
        if (out->rwcnt_ >= out->rwlimit_) {
#line 261
          out->flags_ |= 4;
#line 261
          tmp___9 = -1;
        } else {
#line 261
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 261
        (out->cnt_) --;
#line 261
        out->bufmode_ |= 32;
#line 261
        if (out->cnt_ < 0) {
          {
#line 261
          __cil_tmp30 = jas_stream_flushbuf(out, 0);
#line 261
          tmp___8 = __cil_tmp30;
          }
        } else {
#line 261
          __cil_tmp31 = out->ptr_;
#line 261
          (out->ptr_) ++;
#line 261
          *__cil_tmp31 = (unsigned char)0;
#line 261
          (out->rwcnt_) ++;
#line 261
          tmp___8 = (int )*__cil_tmp31;
        }
#line 261
        tmp___9 = tmp___8;
      }
#line 261
      tmp___10 = tmp___9;
    } else {
#line 261
      tmp___10 = -1;
    }
#line 261
    if (! (out->flags_ & 7)) {
#line 261
      if (out->rwlimit_ >= 0L) {
#line 261
        if (out->rwcnt_ >= out->rwlimit_) {
#line 261
          out->flags_ |= 4;
#line 261
          tmp___6 = -1;
        } else {
#line 261
          goto _L___28;
        }
      } else {
        _L___28: /* CIL Label */ 
#line 261
        (out->cnt_) --;
#line 261
        out->bufmode_ |= 32;
#line 261
        if (out->cnt_ < 0) {
          {
#line 261
          __cil_tmp25 = jas_stream_flushbuf(out, (int )((unsigned char )i));
#line 261
          tmp___5 = __cil_tmp25;
          }
        } else {
#line 261
          __cil_tmp26 = out->ptr_;
#line 261
          (out->ptr_) ++;
#line 261
          *__cil_tmp26 = (unsigned char )i;
#line 261
          (out->rwcnt_) ++;
#line 261
          tmp___5 = (int )*__cil_tmp26;
        }
#line 261
        tmp___6 = tmp___5;
      }
#line 261
      tmp___7 = tmp___6;
    } else {
#line 261
      tmp___7 = -1;
    }
#line 261
    if (! (out->flags_ & 7)) {
#line 261
      if (out->rwlimit_ >= 0L) {
#line 261
        if (out->rwcnt_ >= out->rwlimit_) {
#line 261
          out->flags_ |= 4;
#line 261
          tmp___3 = -1;
        } else {
#line 261
          goto _L___29;
        }
      } else {
        _L___29: /* CIL Label */ 
#line 261
        (out->cnt_) --;
#line 261
        out->bufmode_ |= 32;
#line 261
        if (out->cnt_ < 0) {
          {
#line 261
          __cil_tmp20 = jas_stream_flushbuf(out, (int )((unsigned char )i));
#line 261
          tmp___2 = __cil_tmp20;
          }
        } else {
#line 261
          __cil_tmp21 = out->ptr_;
#line 261
          (out->ptr_) ++;
#line 261
          *__cil_tmp21 = (unsigned char )i;
#line 261
          (out->rwcnt_) ++;
#line 261
          tmp___2 = (int )*__cil_tmp21;
        }
#line 261
        tmp___3 = tmp___2;
      }
#line 261
      tmp___4 = tmp___3;
    } else {
#line 261
      tmp___4 = -1;
    }
#line 261
    if (! (out->flags_ & 7)) {
#line 261
      if (out->rwlimit_ >= 0L) {
#line 261
        if (out->rwcnt_ >= out->rwlimit_) {
#line 261
          out->flags_ |= 4;
#line 261
          tmp___0 = -1;
        } else {
#line 261
          goto _L___30;
        }
      } else {
        _L___30: /* CIL Label */ 
#line 261
        (out->cnt_) --;
#line 261
        out->bufmode_ |= 32;
#line 261
        if (out->cnt_ < 0) {
          {
#line 261
          __cil_tmp15 = jas_stream_flushbuf(out, (int )((unsigned char )i));
#line 261
          tmp = __cil_tmp15;
          }
        } else {
#line 261
          __cil_tmp16 = out->ptr_;
#line 261
          (out->ptr_) ++;
#line 261
          *__cil_tmp16 = (unsigned char )i;
#line 261
          (out->rwcnt_) ++;
#line 261
          tmp = (int )*__cil_tmp16;
        }
#line 261
        tmp___0 = tmp;
      }
#line 261
      tmp___1 = tmp___0;
    } else {
#line 261
      tmp___1 = -1;
    }
#line 261
    if (tmp___1 == -1) {
#line 266
      return (-1);
    } else
#line 261
    if (tmp___4 == -1) {
#line 266
      return (-1);
    } else
#line 261
    if (tmp___7 == -1) {
#line 266
      return (-1);
    } else
#line 261
    if (tmp___10 == -1) {
#line 266
      return (-1);
    }
#line 259
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 270
  return (0);
}
}
#line 273 "/root/patron-new/new_2/src/libjasper/bmp/bmp_enc.c"
static int bmp_putdata(jas_stream_t *out , bmp_info_t *info , jas_image_t *image ,
                       int *cmpts ) 
{ 
  int i ;
  int j ;
  jas_matrix_t *bufs[3] ;
  int numpad ;
  unsigned char red ;
  unsigned char grn ;
  unsigned char blu ;
  int ret ;
  int numcmpts ;
  int v ;
  int cmptno ;
  int tmp ;
  int __cil_tmp18 ;
  jas_seqent_t tmp___0 ;
  jas_seqent_t tmp___1 ;
  jas_seqent_t tmp___2 ;
  int __cil_tmp22 ;
  unsigned char *__cil_tmp23 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int __cil_tmp27 ;
  unsigned char *__cil_tmp28 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int __cil_tmp32 ;
  unsigned char *__cil_tmp33 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  jas_seqent_t tmp___12 ;
  int __cil_tmp38 ;
  unsigned char *__cil_tmp39 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int __cil_tmp43 ;
  unsigned char *__cil_tmp44 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;

  {
#line 288
  if (info->depth == 24L) {
#line 288
    tmp = 3;
  } else {
#line 288
    tmp = 1;
  }
#line 288
  numcmpts = tmp;
#line 291
  if (info->numcolors > 0L) {
#line 291
    if (numcmpts == 3) {
      {
#line 292
      jas_eprintf("no palettized image support for BMP format\n\373PV");
      }
#line 293
      return (-1);
    }
  }
#line 296
  ret = 0;
#line 297
  i = 0;
  {
#line 297
  while (1) {
    while_continue: /* CIL Label */ ;

#line 297
    if (! (i < numcmpts)) {
#line 297
      goto while_break;
    }
#line 298
    bufs[i] = (jas_matrix_t *)0;
#line 297
    i ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break: 
#line 302
  i = 0;
  {
#line 302
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 302
    if (! (i < numcmpts)) {
#line 302
      goto while_break___0;
    }
    {
#line 303
    bufs[i] = jas_matrix_create(1, (int )info->width);
    }
#line 303
    if (! bufs[i]) {
#line 304
      ret = -1;
#line 305
      goto bmp_putdata_done;
    }
#line 302
    i ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___0: 
#line 310
  numpad = (int )(((long )numcmpts * info->width) % 4L);
#line 311
  if (numpad) {
#line 312
    numpad = 4 - numpad;
  }
#line 316
  i = (int )(info->height - 1L);
  {
#line 316
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 316
    if (! (i >= 0)) {
#line 316
      goto while_break___1;
    }
#line 317
    cmptno = 0;
    {
#line 317
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 317
      if (! (cmptno < numcmpts)) {
#line 317
        goto while_break___2;
      }
      {
#line 318
      __cil_tmp18 = jas_image_readcmpt(image, cmptno, (jas_image_coord_t )0, (jas_image_coord_t )i,
                                       info->width, (jas_image_coord_t )1, bufs[*(cmpts + cmptno)]);
      }
#line 318
      if (__cil_tmp18) {
#line 320
        ret = -1;
#line 321
        goto bmp_putdata_done;
      }
#line 317
      cmptno ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___2: 
#line 324
    j = 0;
    {
#line 324
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 324
      if (! ((long )j < info->width)) {
#line 324
        goto while_break___3;
      }
#line 325
      if (numcmpts == 3) {
#line 326
        if ((bufs[0])->numrows_ == 1L) {
#line 326
          tmp___0 = *(*((bufs[0])->rows_ + 0) + j);
        } else {
#line 326
          tmp___0 = *(*((bufs[0])->rows_ + j) + 0);
        }
#line 326
        red = (unsigned char )tmp___0;
#line 327
        if ((bufs[1])->numrows_ == 1L) {
#line 327
          tmp___1 = *(*((bufs[1])->rows_ + 0) + j);
        } else {
#line 327
          tmp___1 = *(*((bufs[1])->rows_ + j) + 0);
        }
#line 327
        grn = (unsigned char )tmp___1;
#line 328
        if ((bufs[2])->numrows_ == 1L) {
#line 328
          tmp___2 = *(*((bufs[2])->rows_ + 0) + j);
        } else {
#line 328
          tmp___2 = *(*((bufs[2])->rows_ + j) + 0);
        }
#line 328
        blu = (unsigned char )tmp___2;
#line 329
        if (! (out->flags_ & 7)) {
#line 329
          if (out->rwlimit_ >= 0L) {
#line 329
            if (out->rwcnt_ >= out->rwlimit_) {
#line 329
              out->flags_ |= 4;
#line 329
              tmp___10 = -1;
            } else {
#line 329
              goto _L___27;
            }
          } else {
            _L___27: /* CIL Label */ 
#line 329
            (out->cnt_) --;
#line 329
            out->bufmode_ |= 32;
#line 329
            if (out->cnt_ < 0) {
              {
#line 329
              __cil_tmp32 = jas_stream_flushbuf(out, (int )red);
#line 329
              tmp___9 = __cil_tmp32;
              }
            } else {
#line 329
              __cil_tmp33 = out->ptr_;
#line 329
              (out->ptr_) ++;
#line 329
              *__cil_tmp33 = red;
#line 329
              (out->rwcnt_) ++;
#line 329
              tmp___9 = (int )*__cil_tmp33;
            }
#line 329
            tmp___10 = tmp___9;
          }
#line 329
          tmp___11 = tmp___10;
        } else {
#line 329
          tmp___11 = -1;
        }
#line 329
        if (! (out->flags_ & 7)) {
#line 329
          if (out->rwlimit_ >= 0L) {
#line 329
            if (out->rwcnt_ >= out->rwlimit_) {
#line 329
              out->flags_ |= 4;
#line 329
              tmp___7 = -1;
            } else {
#line 329
              goto _L___28;
            }
          } else {
            _L___28: /* CIL Label */ 
#line 329
            (out->cnt_) --;
#line 329
            out->bufmode_ |= 32;
#line 329
            if (out->cnt_ < 0) {
              {
#line 329
              __cil_tmp27 = jas_stream_flushbuf(out, (int )grn);
#line 329
              tmp___6 = __cil_tmp27;
              }
            } else {
#line 329
              __cil_tmp28 = out->ptr_;
#line 329
              (out->ptr_) ++;
#line 329
              *__cil_tmp28 = grn;
#line 329
              (out->rwcnt_) ++;
#line 329
              tmp___6 = (int )*__cil_tmp28;
            }
#line 329
            tmp___7 = tmp___6;
          }
#line 329
          tmp___8 = tmp___7;
        } else {
#line 329
          tmp___8 = -1;
        }
#line 329
        if (! (out->flags_ & 7)) {
#line 329
          if (out->rwlimit_ >= 0L) {
#line 329
            if (out->rwcnt_ >= out->rwlimit_) {
#line 329
              out->flags_ |= 4;
#line 329
              tmp___4 = -1;
            } else {
#line 329
              goto _L___29;
            }
          } else {
            _L___29: /* CIL Label */ 
#line 329
            (out->cnt_) --;
#line 329
            out->bufmode_ |= 32;
#line 329
            if (out->cnt_ < 0) {
              {
#line 329
              __cil_tmp22 = jas_stream_flushbuf(out, (int )blu);
#line 329
              tmp___3 = __cil_tmp22;
              }
            } else {
#line 329
              __cil_tmp23 = out->ptr_;
#line 329
              (out->ptr_) ++;
#line 329
              *__cil_tmp23 = blu;
#line 329
              (out->rwcnt_) ++;
#line 329
              tmp___3 = (int )*__cil_tmp23;
            }
#line 329
            tmp___4 = tmp___3;
          }
#line 329
          tmp___5 = tmp___4;
        } else {
#line 329
          tmp___5 = -1;
        }
#line 329
        if (tmp___5 == -1) {
#line 332
          ret = -1;
#line 333
          goto bmp_putdata_done;
        } else
#line 329
        if (tmp___8 == -1) {
#line 332
          ret = -1;
#line 333
          goto bmp_putdata_done;
        } else
#line 329
        if (tmp___11 == -1) {
#line 332
          ret = -1;
#line 333
          goto bmp_putdata_done;
        }
      } else
#line 335
      if (numcmpts == 1) {
#line 336
        if ((bufs[*(cmpts + 0)])->numrows_ == 1L) {
#line 336
          tmp___12 = *(*((bufs[*(cmpts + 0)])->rows_ + 0) + j);
        } else {
#line 336
          tmp___12 = *(*((bufs[*(cmpts + 0)])->rows_ + j) + 0);
        }
#line 336
        v = (int )tmp___12;
#line 337
        if (! (out->flags_ & 7)) {
#line 337
          if (out->rwlimit_ >= 0L) {
#line 337
            if (out->rwcnt_ >= out->rwlimit_) {
#line 337
              out->flags_ |= 4;
#line 337
              tmp___14 = -1;
            } else {
#line 337
              goto _L___30;
            }
          } else {
            _L___30: /* CIL Label */ 
#line 337
            (out->cnt_) --;
#line 337
            out->bufmode_ |= 32;
#line 337
            if (out->cnt_ < 0) {
              {
#line 337
              __cil_tmp38 = jas_stream_flushbuf(out, (int )((unsigned char )v));
#line 337
              tmp___13 = __cil_tmp38;
              }
            } else {
#line 337
              __cil_tmp39 = out->ptr_;
#line 337
              (out->ptr_) ++;
#line 337
              *__cil_tmp39 = (unsigned char )v;
#line 337
              (out->rwcnt_) ++;
#line 337
              tmp___13 = (int )*__cil_tmp39;
            }
#line 337
            tmp___14 = tmp___13;
          }
#line 337
          tmp___15 = tmp___14;
        } else {
#line 337
          tmp___15 = -1;
        }
#line 337
        if (tmp___15 == -1) {
#line 338
          ret = -1;
#line 339
          goto bmp_putdata_done;
        }
      } else {
        {
#line 342
        abort();
        }
      }
#line 324
      j ++;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___3: 
#line 345
    j = numpad;
    {
#line 345
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 345
      if (! (j > 0)) {
#line 345
        goto while_break___4;
      }
#line 346
      if (! (out->flags_ & 7)) {
#line 346
        if (out->rwlimit_ >= 0L) {
#line 346
          if (out->rwcnt_ >= out->rwlimit_) {
#line 346
            out->flags_ |= 4;
#line 346
            tmp___17 = -1;
          } else {
#line 346
            goto _L___31;
          }
        } else {
          _L___31: /* CIL Label */ 
#line 346
          (out->cnt_) --;
#line 346
          out->bufmode_ |= 32;
#line 346
          if (out->cnt_ < 0) {
            {
#line 346
            __cil_tmp43 = jas_stream_flushbuf(out, 0);
#line 346
            tmp___16 = __cil_tmp43;
            }
          } else {
#line 346
            __cil_tmp44 = out->ptr_;
#line 346
            (out->ptr_) ++;
#line 346
            *__cil_tmp44 = (unsigned char)0;
#line 346
            (out->rwcnt_) ++;
#line 346
            tmp___16 = (int )*__cil_tmp44;
          }
#line 346
          tmp___17 = tmp___16;
        }
#line 346
        tmp___18 = tmp___17;
      } else {
#line 346
        tmp___18 = -1;
      }
#line 346
      if (tmp___18 == -1) {
#line 347
        ret = -1;
#line 348
        goto bmp_putdata_done;
      }
#line 345
      j --;
    }
    while_break___11: /* CIL Label */ ;
    }
    while_break___4: 
#line 316
    i --;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___1: ;
  bmp_putdata_done: 
#line 355
  i = 0;
  {
#line 355
  while (1) {
    while_continue___5: /* CIL Label */ ;

#line 355
    if (! (i < numcmpts)) {
#line 355
      goto while_break___5;
    }
#line 356
    if (bufs[i]) {
      {
#line 357
      jas_matrix_destroy(bufs[i]);
      }
    }
#line 355
    i ++;
  }
  while_break___12: /* CIL Label */ ;
  }
  while_break___5: ;
#line 361
  return (ret);
}
}
#line 368 "/root/patron-new/new_2/src/libjasper/bmp/bmp_enc.c"
static int bmp_putint16(jas_stream_t *in , int_fast16_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 370
  if (! (in->flags_ & 7)) {
#line 370
    if (in->rwlimit_ >= 0L) {
#line 370
      if (in->rwcnt_ >= in->rwlimit_) {
#line 370
        in->flags_ |= 4;
#line 370
        tmp___3 = -1;
      } else {
#line 370
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 370
      (in->cnt_) --;
#line 370
      in->bufmode_ |= 32;
#line 370
      if (in->cnt_ < 0) {
        {
#line 370
        __cil_tmp8 = jas_stream_flushbuf(in, (int )((unsigned char )((val >> 8) & 255L)));
#line 370
        tmp___2 = __cil_tmp8;
        }
      } else {
#line 370
        __cil_tmp9 = in->ptr_;
#line 370
        (in->ptr_) ++;
#line 370
        *__cil_tmp9 = (unsigned char )((val >> 8) & 255L);
#line 370
        (in->rwcnt_) ++;
#line 370
        tmp___2 = (int )*__cil_tmp9;
      }
#line 370
      tmp___3 = tmp___2;
    }
#line 370
    tmp___4 = tmp___3;
  } else {
#line 370
    tmp___4 = -1;
  }
#line 370
  if (! (in->flags_ & 7)) {
#line 370
    if (in->rwlimit_ >= 0L) {
#line 370
      if (in->rwcnt_ >= in->rwlimit_) {
#line 370
        in->flags_ |= 4;
#line 370
        tmp___0 = -1;
      } else {
#line 370
        goto _L___28;
      }
    } else {
      _L___28: /* CIL Label */ 
#line 370
      (in->cnt_) --;
#line 370
      in->bufmode_ |= 32;
#line 370
      if (in->cnt_ < 0) {
        {
#line 370
        __cil_tmp3 = jas_stream_flushbuf(in, (int )((unsigned char )(val & 255L)));
#line 370
        tmp = __cil_tmp3;
        }
      } else {
#line 370
        __cil_tmp4 = in->ptr_;
#line 370
        (in->ptr_) ++;
#line 370
        *__cil_tmp4 = (unsigned char )(val & 255L);
#line 370
        (in->rwcnt_) ++;
#line 370
        tmp = (int )*__cil_tmp4;
      }
#line 370
      tmp___0 = tmp;
    }
#line 370
    tmp___1 = tmp___0;
  } else {
#line 370
    tmp___1 = -1;
  }
#line 370
  if (tmp___1 == -1) {
#line 372
    return (-1);
  } else
#line 370
  if (tmp___4 == -1) {
#line 372
    return (-1);
  }
#line 374
  return (0);
}
}
#line 377 "/root/patron-new/new_2/src/libjasper/bmp/bmp_enc.c"
static int bmp_putint32(jas_stream_t *out , int_fast32_t val ) 
{ 
  int n ;
  int_fast32_t v ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 384
  v = val;
#line 385
  n = 4;
  {
#line 385
  while (1) {
    while_continue: /* CIL Label */ ;

#line 386
    if (! (out->flags_ & 7)) {
#line 386
      if (out->rwlimit_ >= 0L) {
#line 386
        if (out->rwcnt_ >= out->rwlimit_) {
#line 386
          out->flags_ |= 4;
#line 386
          tmp___1 = -1;
        } else {
#line 386
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 386
        (out->cnt_) --;
#line 386
        out->bufmode_ |= 32;
#line 386
        if (out->cnt_ < 0) {
          {
#line 386
          __cil_tmp6 = jas_stream_flushbuf(out, (int )((unsigned char )(v & 255L)));
#line 386
          tmp___0 = __cil_tmp6;
          }
        } else {
#line 386
          __cil_tmp7 = out->ptr_;
#line 386
          (out->ptr_) ++;
#line 386
          *__cil_tmp7 = (unsigned char )(v & 255L);
#line 386
          (out->rwcnt_) ++;
#line 386
          tmp___0 = (int )*__cil_tmp7;
        }
#line 386
        tmp___1 = tmp___0;
      }
#line 386
      tmp___2 = tmp___1;
    } else {
#line 386
      tmp___2 = -1;
    }
#line 386
    if (tmp___2 == -1) {
#line 387
      return (-1);
    }
#line 389
    n --;
#line 389
    if (n <= 0) {
#line 390
      goto while_break;
    }
#line 392
    v >>= 8;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 394
  return (0);
}
}
#line 87 "/root/patron-new/new_2/src/libjasper/bmp/bmp_dec.c"
static int bmp_gethdr(jas_stream_t *in , bmp_hdr_t *hdr ) ;
#line 88
static bmp_info_t *bmp_getinfo(jas_stream_t *in ) ;
#line 89
static int bmp_getdata(jas_stream_t *in , bmp_info_t *info , jas_image_t *image ) ;
#line 90
static int bmp_getint16(jas_stream_t *in , int_fast16_t *val ) ;
#line 91
static int bmp_getint32(jas_stream_t *in , int_fast32_t *val ) ;
#line 92
static int bmp_gobble(jas_stream_t *in , long n ) ;
#line 98 "/root/patron-new/new_2/src/libjasper/bmp/bmp_dec.c"
jas_image_t *bmp_decode(jas_stream_t *in , char *optstr ) 
{ 
  jas_image_t *image ;
  bmp_hdr_t hdr ;
  bmp_info_t *info ;
  uint_fast16_t cmptno ;
  jas_image_cmptparm_t cmptparms[3] ;
  jas_image_cmptparm_t *cmptparm ;
  uint_fast16_t numcmpts ;
  long n ;
  int __cil_tmp11 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp16 ;

  {
#line 109
  if (optstr) {
    {
#line 110
    jas_eprintf("warning: ignoring BMP decoder options\n");
    }
  }
  {
#line 113
  jas_eprintf("THE BMP FORMAT IS NOT FULLY SUPPORTED!\nTHAT IS, THE JASPER SOFTWARE CANNOT DECODE ALL TYPES OF BMP DATA.\nIF YOU HAVE ANY PROBLEMS, PLEASE TRY CONVERTING YOUR IMAGE DATA\nTO THE PNM FORMAT, AND USING THIS FORMAT INSTEAD.\n");
#line 121
  __cil_tmp11 = bmp_gethdr(in, & hdr);
  }
#line 121
  if (__cil_tmp11) {
    {
#line 122
    jas_eprintf("cannot get header\n");
    }
#line 123
    return ((jas_image_t *)0);
  }
  {
#line 127
  info = bmp_getinfo(in);
  }
#line 127
  if (! info) {
    {
#line 128
    jas_eprintf("cannot get info\n\220");
    }
#line 129
    return ((jas_image_t *)0);
  }
#line 133
  if (hdr.magic == 19778L) {
#line 133
    if (! hdr.reserved1) {
#line 133
      if (! hdr.reserved2) {
#line 133
        if (info->numplanes == 1L) {
#line 133
          if (info->depth == 8L) {
#line 133
            goto _L___27;
          } else
#line 133
          if (info->depth == 24L) {
            _L___27: /* CIL Label */ 
#line 133
            if (! (info->enctype == 0L)) {
              {
#line 134
              jas_eprintf("error: unsupported BMP encoding\n\220");
#line 135
              bmp_info_destroy(info);
              }
#line 136
              return ((jas_image_t *)0);
            }
          } else {
            {
#line 134
            jas_eprintf("error: unsupported BMP encoding\n\220");
#line 135
            bmp_info_destroy(info);
            }
#line 136
            return ((jas_image_t *)0);
          }
        } else {
          {
#line 134
          jas_eprintf("error: unsupported BMP encoding\n\220");
#line 135
          bmp_info_destroy(info);
          }
#line 136
          return ((jas_image_t *)0);
        }
      } else {
        {
#line 134
        jas_eprintf("error: unsupported BMP encoding\n\220");
#line 135
        bmp_info_destroy(info);
        }
#line 136
        return ((jas_image_t *)0);
      }
    } else {
      {
#line 134
      jas_eprintf("error: unsupported BMP encoding\n\220");
#line 135
      bmp_info_destroy(info);
      }
#line 136
      return ((jas_image_t *)0);
    }
  } else {
    {
#line 134
    jas_eprintf("error: unsupported BMP encoding\n\220");
#line 135
    bmp_info_destroy(info);
    }
#line 136
    return ((jas_image_t *)0);
  }
#line 141
  n = hdr.off - (54L + info->numcolors * 4L);
#line 141
  if (n < 0L) {
    {
#line 142
    jas_eprintf("error: possibly bad bitmap offset?\n");
    }
#line 143
    return ((jas_image_t *)0);
  }
#line 145
  if (n > 0L) {
    {
#line 146
    jas_eprintf("skipping unknown data in BMP file\n");
#line 147
    __cil_tmp13 = bmp_gobble(in, n);
    }
#line 147
    if (__cil_tmp13) {
      {
#line 148
      bmp_info_destroy(info);
      }
#line 149
      return ((jas_image_t *)0);
    }
  }
  {
#line 154
  __cil_tmp14 = bmp_numcmpts(info);
#line 154
  numcmpts = (uint_fast16_t )__cil_tmp14;
#line 156
  cmptparm = cmptparms;
#line 156
  cmptno = (uint_fast16_t )0;
  }
  {
#line 156
  while (1) {
    while_continue: /* CIL Label */ ;

#line 156
    if (! (cmptno < numcmpts)) {
#line 156
      goto while_break;
    }
#line 158
    cmptparm->tlx = (jas_image_coord_t )0;
#line 159
    cmptparm->tly = (jas_image_coord_t )0;
#line 160
    cmptparm->hstep = (jas_image_coord_t )1;
#line 161
    cmptparm->vstep = (jas_image_coord_t )1;
#line 162
    cmptparm->width = info->width;
#line 163
    cmptparm->height = info->height;
#line 164
    cmptparm->prec = 8;
#line 165
    cmptparm->sgnd = 0;
#line 156
    cmptparm ++;
#line 156
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 169
  image = jas_image_create((int )numcmpts, cmptparms, 16384);
  }
#line 169
  if (! image) {
    {
#line 171
    bmp_info_destroy(info);
    }
#line 172
    return ((jas_image_t *)0);
  }
#line 175
  if (numcmpts == 3UL) {
#line 176
    image->clrspc_ = (4 << 8) | 1;
#line 177
    (*(image->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
#line 179
    (*(image->cmpts_ + 1))->type_ = (jas_image_cmpttype_t )1;
#line 181
    (*(image->cmpts_ + 2))->type_ = (jas_image_cmpttype_t )2;
  } else {
#line 184
    image->clrspc_ = (3 << 8) | 1;
#line 185
    (*(image->cmpts_ + 0))->type_ = (jas_image_cmpttype_t )0;
  }
  {
#line 190
  __cil_tmp16 = bmp_getdata(in, info, image);
  }
#line 190
  if (__cil_tmp16) {
    {
#line 191
    bmp_info_destroy(info);
#line 192
    jas_image_destroy(image);
    }
#line 193
    return ((jas_image_t *)0);
  }
  {
#line 196
  bmp_info_destroy(info);
  }
#line 198
  return (image);
}
}
#line 201 "/root/patron-new/new_2/src/libjasper/bmp/bmp_dec.c"
int bmp_validate(jas_stream_t *in ) 
{ 
  int n ;
  int i ;
  unsigned char buf[2] ;
  int __cil_tmp7 ;

  {
  {
#line 210
  n = jas_stream_read(in, (void *)((char *)(buf)), 2);
  }
#line 210
  if (n < 0) {
#line 211
    return (-1);
  }
#line 214
  i = n - 1;
  {
#line 214
  while (1) {
    while_continue: /* CIL Label */ ;

#line 214
    if (! (i >= 0)) {
#line 214
      goto while_break;
    }
    {
#line 215
    __cil_tmp7 = jas_stream_ungetc(in, (int )buf[i]);
    }
#line 215
    if (__cil_tmp7 == -1) {
#line 216
      return (-1);
    }
#line 214
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 220
  if (n < 2) {
#line 221
    return (-1);
  }
#line 224
  if ((int )buf[0] == 66) {
#line 224
    if ((int )buf[1] == 19778 >> 8) {
#line 225
      return (0);
    }
  }
#line 227
  return (-1);
}
}
#line 234 "/root/patron-new/new_2/src/libjasper/bmp/bmp_dec.c"
static int bmp_gethdr(jas_stream_t *in , bmp_hdr_t *hdr ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 236
  __cil_tmp7 = bmp_getint32(in, & hdr->off);
#line 236
  __cil_tmp6 = bmp_getint16(in, & hdr->reserved2);
#line 236
  __cil_tmp5 = bmp_getint16(in, & hdr->reserved1);
#line 236
  __cil_tmp4 = bmp_getint32(in, & hdr->siz);
#line 236
  __cil_tmp3 = bmp_getint16(in, & hdr->magic);
  }
#line 236
  if (__cil_tmp3) {
#line 239
    return (-1);
  } else
#line 236
  if (hdr->magic != 19778L) {
#line 239
    return (-1);
  } else
#line 236
  if (__cil_tmp4) {
#line 239
    return (-1);
  } else
#line 236
  if (__cil_tmp5) {
#line 239
    return (-1);
  } else
#line 236
  if (__cil_tmp6) {
#line 239
    return (-1);
  } else
#line 236
  if (__cil_tmp7) {
#line 239
    return (-1);
  }
#line 241
  return (0);
}
}
#line 244 "/root/patron-new/new_2/src/libjasper/bmp/bmp_dec.c"
static bmp_info_t *bmp_getinfo(jas_stream_t *in ) 
{ 
  bmp_info_t *info ;
  int i ;
  bmp_palent_t *palent ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp18 ;
  unsigned char *__cil_tmp19 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp23 ;
  unsigned char *__cil_tmp24 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp28 ;
  unsigned char *__cil_tmp29 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp33 ;
  unsigned char *__cil_tmp34 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  void *tmp___11 ;

  {
  {
#line 250
  info = bmp_info_create();
  }
#line 250
  if (! info) {
#line 251
    return ((bmp_info_t *)0);
  }
  {
#line 254
  __cil_tmp16 = bmp_getint32(in, & info->mincolors);
#line 254
  __cil_tmp15 = bmp_getint32(in, & info->numcolors);
#line 254
  __cil_tmp14 = bmp_getint32(in, & info->vres);
#line 254
  __cil_tmp13 = bmp_getint32(in, & info->hres);
#line 254
  __cil_tmp12 = bmp_getint32(in, & info->siz);
#line 254
  __cil_tmp11 = bmp_getint32(in, & info->enctype);
#line 254
  __cil_tmp10 = bmp_getint16(in, & info->depth);
#line 254
  __cil_tmp9 = bmp_getint16(in, & info->numplanes);
#line 254
  __cil_tmp8 = bmp_getint32(in, & info->height);
#line 254
  __cil_tmp7 = bmp_getint32(in, & info->width);
#line 254
  __cil_tmp6 = bmp_getint32(in, & info->len);
  }
#line 254
  if (__cil_tmp6) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (info->len != 40L) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp7) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp8) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp9) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp10) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp11) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp12) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp13) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp14) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp15) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  } else
#line 254
  if (__cil_tmp16) {
    {
#line 262
    bmp_info_destroy(info);
    }
#line 263
    return ((bmp_info_t *)0);
  }
#line 266
  if (info->height < 0L) {
#line 267
    info->topdown = (int_fast8_t )1;
#line 268
    info->height = - info->height;
  } else {
#line 270
    info->topdown = (int_fast8_t )0;
  }
#line 273
  if (info->width <= 0L) {
    {
#line 275
    bmp_info_destroy(info);
    }
#line 276
    return ((bmp_info_t *)0);
  } else
#line 273
  if (info->height <= 0L) {
    {
#line 275
    bmp_info_destroy(info);
    }
#line 276
    return ((bmp_info_t *)0);
  } else
#line 273
  if (info->numplanes <= 0L) {
    {
#line 275
    bmp_info_destroy(info);
    }
#line 276
    return ((bmp_info_t *)0);
  } else
#line 273
  if (info->depth <= 0L) {
    {
#line 275
    bmp_info_destroy(info);
    }
#line 276
    return ((bmp_info_t *)0);
  } else
#line 273
  if (info->numcolors < 0L) {
    {
#line 275
    bmp_info_destroy(info);
    }
#line 276
    return ((bmp_info_t *)0);
  } else
#line 273
  if (info->mincolors < 0L) {
    {
#line 275
    bmp_info_destroy(info);
    }
#line 276
    return ((bmp_info_t *)0);
  }
#line 279
  if (info->enctype != 0L) {
    {
#line 280
    jas_eprintf("unsupported BMP encoding\n");
#line 281
    bmp_info_destroy(info);
    }
#line 282
    return ((bmp_info_t *)0);
  }
#line 285
  if (info->numcolors > 0L) {
    {
#line 286
    tmp___11 = jas_alloc2((size_t )info->numcolors, sizeof(bmp_palent_t ));
#line 286
    info->palents = (bmp_palent_t *)tmp___11;
    }
#line 286
    if (! info->palents) {
      {
#line 288
      bmp_info_destroy(info);
      }
#line 289
      return ((bmp_info_t *)0);
    }
  } else {
#line 292
    info->palents = (bmp_palent_t *)0;
  }
#line 295
  i = 0;
  {
#line 295
  while (1) {
    while_continue: /* CIL Label */ ;

#line 295
    if (! ((long )i < info->numcolors)) {
#line 295
      goto while_break;
    }
#line 296
    palent = info->palents + i;
#line 297
    if (! (in->flags_ & 7)) {
#line 297
      if (in->rwlimit_ >= 0L) {
#line 297
        if (in->rwcnt_ >= in->rwlimit_) {
#line 297
          in->flags_ |= 4;
#line 297
          tmp___9 = -1;
        } else {
#line 297
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 297
        (in->cnt_) --;
#line 297
        if (in->cnt_ < 0) {
          {
#line 297
          __cil_tmp33 = jas_stream_fillbuf(in, 1);
#line 297
          tmp___8 = __cil_tmp33;
          }
        } else {
#line 297
          __cil_tmp34 = in->ptr_;
#line 297
          (in->ptr_) ++;
#line 297
          (in->rwcnt_) ++;
#line 297
          tmp___8 = (int )*__cil_tmp34;
        }
#line 297
        tmp___9 = tmp___8;
      }
#line 297
      tmp___10 = tmp___9;
    } else {
#line 297
      tmp___10 = -1;
    }
#line 297
    palent->res = (int_fast16_t )tmp___10;
#line 297
    if (! (in->flags_ & 7)) {
#line 297
      if (in->rwlimit_ >= 0L) {
#line 297
        if (in->rwcnt_ >= in->rwlimit_) {
#line 297
          in->flags_ |= 4;
#line 297
          tmp___6 = -1;
        } else {
#line 297
          goto _L___28;
        }
      } else {
        _L___28: /* CIL Label */ 
#line 297
        (in->cnt_) --;
#line 297
        if (in->cnt_ < 0) {
          {
#line 297
          __cil_tmp28 = jas_stream_fillbuf(in, 1);
#line 297
          tmp___5 = __cil_tmp28;
          }
        } else {
#line 297
          __cil_tmp29 = in->ptr_;
#line 297
          (in->ptr_) ++;
#line 297
          (in->rwcnt_) ++;
#line 297
          tmp___5 = (int )*__cil_tmp29;
        }
#line 297
        tmp___6 = tmp___5;
      }
#line 297
      tmp___7 = tmp___6;
    } else {
#line 297
      tmp___7 = -1;
    }
#line 297
    palent->red = (int_fast16_t )tmp___7;
#line 297
    if (! (in->flags_ & 7)) {
#line 297
      if (in->rwlimit_ >= 0L) {
#line 297
        if (in->rwcnt_ >= in->rwlimit_) {
#line 297
          in->flags_ |= 4;
#line 297
          tmp___3 = -1;
        } else {
#line 297
          goto _L___29;
        }
      } else {
        _L___29: /* CIL Label */ 
#line 297
        (in->cnt_) --;
#line 297
        if (in->cnt_ < 0) {
          {
#line 297
          __cil_tmp23 = jas_stream_fillbuf(in, 1);
#line 297
          tmp___2 = __cil_tmp23;
          }
        } else {
#line 297
          __cil_tmp24 = in->ptr_;
#line 297
          (in->ptr_) ++;
#line 297
          (in->rwcnt_) ++;
#line 297
          tmp___2 = (int )*__cil_tmp24;
        }
#line 297
        tmp___3 = tmp___2;
      }
#line 297
      tmp___4 = tmp___3;
    } else {
#line 297
      tmp___4 = -1;
    }
#line 297
    palent->grn = (int_fast16_t )tmp___4;
#line 297
    if (! (in->flags_ & 7)) {
#line 297
      if (in->rwlimit_ >= 0L) {
#line 297
        if (in->rwcnt_ >= in->rwlimit_) {
#line 297
          in->flags_ |= 4;
#line 297
          tmp___0 = -1;
        } else {
#line 297
          goto _L___30;
        }
      } else {
        _L___30: /* CIL Label */ 
#line 297
        (in->cnt_) --;
#line 297
        if (in->cnt_ < 0) {
          {
#line 297
          __cil_tmp18 = jas_stream_fillbuf(in, 1);
#line 297
          tmp = __cil_tmp18;
          }
        } else {
#line 297
          __cil_tmp19 = in->ptr_;
#line 297
          (in->ptr_) ++;
#line 297
          (in->rwcnt_) ++;
#line 297
          tmp = (int )*__cil_tmp19;
        }
#line 297
        tmp___0 = tmp;
      }
#line 297
      tmp___1 = tmp___0;
    } else {
#line 297
      tmp___1 = -1;
    }
#line 297
    palent->blu = (int_fast16_t )tmp___1;
#line 297
    if (palent->blu == -1L) {
      {
#line 301
      bmp_info_destroy(info);
      }
#line 302
      return ((bmp_info_t *)0);
    } else
#line 297
    if (palent->grn == -1L) {
      {
#line 301
      bmp_info_destroy(info);
      }
#line 302
      return ((bmp_info_t *)0);
    } else
#line 297
    if (palent->red == -1L) {
      {
#line 301
      bmp_info_destroy(info);
      }
#line 302
      return ((bmp_info_t *)0);
    } else
#line 297
    if (palent->res == -1L) {
      {
#line 301
      bmp_info_destroy(info);
      }
#line 302
      return ((bmp_info_t *)0);
    }
#line 295
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 306
  return (info);
}
}
#line 309 "/root/patron-new/new_2/src/libjasper/bmp/bmp_dec.c"
static int bmp_getdata(jas_stream_t *in , bmp_info_t *info , jas_image_t *image ) 
{ 
  int i ;
  int j ;
  int y ;
  jas_matrix_t *cmpts[3] ;
  int numpad ;
  int red ;
  int grn ;
  int blu ;
  int ret ;
  int numcmpts ;
  int cmptno ;
  int ind ;
  bmp_palent_t *palent ;
  int mxind ;
  int haspal ;
  int __cil_tmp23 ;
  unsigned char *__cil_tmp24 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int __cil_tmp28 ;
  unsigned char *__cil_tmp29 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int __cil_tmp33 ;
  unsigned char *__cil_tmp34 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int __cil_tmp38 ;
  unsigned char *__cil_tmp39 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  jas_seqent_t tmp___13 ;
  jas_seqent_t tmp___14 ;
  jas_seqent_t tmp___15 ;
  jas_seqent_t tmp___16 ;
  int __cil_tmp47 ;
  unsigned char *__cil_tmp48 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  long tmp___20 ;
  int __cil_tmp53 ;

  {
  {
#line 330
  numcmpts = bmp_numcmpts(info);
#line 331
  haspal = info->depth == 8L;
#line 333
  ret = 0;
#line 334
  i = 0;
  }
  {
#line 334
  while (1) {
    while_continue: /* CIL Label */ ;

#line 334
    if (! (i < numcmpts)) {
#line 334
      goto while_break;
    }
#line 335
    cmpts[i] = (jas_matrix_t *)0;
#line 334
    i ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break: 
#line 339
  i = 0;
  {
#line 339
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 339
    if (! (i < numcmpts)) {
#line 339
      goto while_break___0;
    }
    {
#line 340
    cmpts[i] = jas_matrix_create(1, (int )info->width);
    }
#line 340
    if (! cmpts[i]) {
#line 341
      ret = -1;
#line 342
      goto bmp_getdata_done;
    }
#line 339
    i ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___0: 
#line 347
  numpad = (int )(((long )numcmpts * info->width) % 4L);
#line 348
  if (numpad) {
#line 349
    numpad = 4 - numpad;
  }
#line 352
  mxind = (1 << info->depth) - 1;
#line 353
  i = 0;
  {
#line 353
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 353
    if (! ((long )i < info->height)) {
#line 353
      goto while_break___1;
    }
#line 354
    j = 0;
    {
#line 354
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 354
      if (! ((long )j < info->width)) {
#line 354
        goto while_break___2;
      }
#line 355
      if (haspal) {
#line 356
        if (! (in->flags_ & 7)) {
#line 356
          if (in->rwlimit_ >= 0L) {
#line 356
            if (in->rwcnt_ >= in->rwlimit_) {
#line 356
              in->flags_ |= 4;
#line 356
              tmp___2 = -1;
            } else {
#line 356
              goto _L___27;
            }
          } else {
            _L___27: /* CIL Label */ 
#line 356
            (in->cnt_) --;
#line 356
            if (in->cnt_ < 0) {
              {
#line 356
              __cil_tmp23 = jas_stream_fillbuf(in, 1);
#line 356
              tmp___1 = __cil_tmp23;
              }
            } else {
#line 356
              __cil_tmp24 = in->ptr_;
#line 356
              (in->ptr_) ++;
#line 356
              (in->rwcnt_) ++;
#line 356
              tmp___1 = (int )*__cil_tmp24;
            }
#line 356
            tmp___2 = tmp___1;
          }
#line 356
          tmp___3 = tmp___2;
        } else {
#line 356
          tmp___3 = -1;
        }
#line 356
        ind = tmp___3;
#line 356
        if (ind == -1) {
#line 357
          ret = -1;
#line 358
          goto bmp_getdata_done;
        }
#line 360
        if (ind > mxind) {
#line 361
          ret = -1;
#line 362
          goto bmp_getdata_done;
        }
#line 364
        if ((long )ind < info->numcolors) {
#line 365
          palent = info->palents + ind;
#line 366
          red = (int )palent->red;
#line 367
          grn = (int )palent->grn;
#line 368
          blu = (int )palent->blu;
        } else {
#line 370
          red = ind;
#line 371
          grn = ind;
#line 372
          blu = ind;
        }
      } else {
#line 375
        if (! (in->flags_ & 7)) {
#line 375
          if (in->rwlimit_ >= 0L) {
#line 375
            if (in->rwcnt_ >= in->rwlimit_) {
#line 375
              in->flags_ |= 4;
#line 375
              tmp___11 = -1;
            } else {
#line 375
              goto _L___28;
            }
          } else {
            _L___28: /* CIL Label */ 
#line 375
            (in->cnt_) --;
#line 375
            if (in->cnt_ < 0) {
              {
#line 375
              __cil_tmp38 = jas_stream_fillbuf(in, 1);
#line 375
              tmp___10 = __cil_tmp38;
              }
            } else {
#line 375
              __cil_tmp39 = in->ptr_;
#line 375
              (in->ptr_) ++;
#line 375
              (in->rwcnt_) ++;
#line 375
              tmp___10 = (int )*__cil_tmp39;
            }
#line 375
            tmp___11 = tmp___10;
          }
#line 375
          tmp___12 = tmp___11;
        } else {
#line 375
          tmp___12 = -1;
        }
#line 375
        red = tmp___12;
#line 375
        if (! (in->flags_ & 7)) {
#line 375
          if (in->rwlimit_ >= 0L) {
#line 375
            if (in->rwcnt_ >= in->rwlimit_) {
#line 375
              in->flags_ |= 4;
#line 375
              tmp___8 = -1;
            } else {
#line 375
              goto _L___29;
            }
          } else {
            _L___29: /* CIL Label */ 
#line 375
            (in->cnt_) --;
#line 375
            if (in->cnt_ < 0) {
              {
#line 375
              __cil_tmp33 = jas_stream_fillbuf(in, 1);
#line 375
              tmp___7 = __cil_tmp33;
              }
            } else {
#line 375
              __cil_tmp34 = in->ptr_;
#line 375
              (in->ptr_) ++;
#line 375
              (in->rwcnt_) ++;
#line 375
              tmp___7 = (int )*__cil_tmp34;
            }
#line 375
            tmp___8 = tmp___7;
          }
#line 375
          tmp___9 = tmp___8;
        } else {
#line 375
          tmp___9 = -1;
        }
#line 375
        grn = tmp___9;
#line 375
        if (! (in->flags_ & 7)) {
#line 375
          if (in->rwlimit_ >= 0L) {
#line 375
            if (in->rwcnt_ >= in->rwlimit_) {
#line 375
              in->flags_ |= 4;
#line 375
              tmp___5 = -1;
            } else {
#line 375
              goto _L___30;
            }
          } else {
            _L___30: /* CIL Label */ 
#line 375
            (in->cnt_) --;
#line 375
            if (in->cnt_ < 0) {
              {
#line 375
              __cil_tmp28 = jas_stream_fillbuf(in, 1);
#line 375
              tmp___4 = __cil_tmp28;
              }
            } else {
#line 375
              __cil_tmp29 = in->ptr_;
#line 375
              (in->ptr_) ++;
#line 375
              (in->rwcnt_) ++;
#line 375
              tmp___4 = (int )*__cil_tmp29;
            }
#line 375
            tmp___5 = tmp___4;
          }
#line 375
          tmp___6 = tmp___5;
        } else {
#line 375
          tmp___6 = -1;
        }
#line 375
        blu = tmp___6;
#line 375
        if (blu == -1) {
#line 378
          ret = -1;
#line 379
          goto bmp_getdata_done;
        } else
#line 375
        if (grn == -1) {
#line 378
          ret = -1;
#line 379
          goto bmp_getdata_done;
        } else
#line 375
        if (red == -1) {
#line 378
          ret = -1;
#line 379
          goto bmp_getdata_done;
        }
      }
#line 382
      if (numcmpts == 3) {
#line 383
        if ((cmpts[0])->numrows_ == 1L) {
#line 383
          *(*((cmpts[0])->rows_ + 0) + j) = (jas_seqent_t )red;
#line 383
          tmp___13 = *(*((cmpts[0])->rows_ + 0) + j);
        } else {
#line 383
          *(*((cmpts[0])->rows_ + j) + 0) = (jas_seqent_t )red;
#line 383
          tmp___13 = *(*((cmpts[0])->rows_ + j) + 0);
        }
#line 384
        if ((cmpts[1])->numrows_ == 1L) {
#line 384
          *(*((cmpts[1])->rows_ + 0) + j) = (jas_seqent_t )grn;
#line 384
          tmp___14 = *(*((cmpts[1])->rows_ + 0) + j);
        } else {
#line 384
          *(*((cmpts[1])->rows_ + j) + 0) = (jas_seqent_t )grn;
#line 384
          tmp___14 = *(*((cmpts[1])->rows_ + j) + 0);
        }
#line 385
        if ((cmpts[2])->numrows_ == 1L) {
#line 385
          *(*((cmpts[2])->rows_ + 0) + j) = (jas_seqent_t )blu;
#line 385
          tmp___15 = *(*((cmpts[2])->rows_ + 0) + j);
        } else {
#line 385
          *(*((cmpts[2])->rows_ + j) + 0) = (jas_seqent_t )blu;
#line 385
          tmp___15 = *(*((cmpts[2])->rows_ + j) + 0);
        }
      } else
#line 387
      if ((cmpts[0])->numrows_ == 1L) {
#line 387
        *(*((cmpts[0])->rows_ + 0) + j) = (jas_seqent_t )red;
#line 387
        tmp___16 = *(*((cmpts[0])->rows_ + 0) + j);
      } else {
#line 387
        *(*((cmpts[0])->rows_ + j) + 0) = (jas_seqent_t )red;
#line 387
        tmp___16 = *(*((cmpts[0])->rows_ + j) + 0);
      }
#line 354
      j ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___2: 
#line 390
    j = numpad;
    {
#line 390
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 390
      if (! (j > 0)) {
#line 390
        goto while_break___3;
      }
#line 391
      if (! (in->flags_ & 7)) {
#line 391
        if (in->rwlimit_ >= 0L) {
#line 391
          if (in->rwcnt_ >= in->rwlimit_) {
#line 391
            in->flags_ |= 4;
#line 391
            tmp___18 = -1;
          } else {
#line 391
            goto _L___31;
          }
        } else {
          _L___31: /* CIL Label */ 
#line 391
          (in->cnt_) --;
#line 391
          if (in->cnt_ < 0) {
            {
#line 391
            __cil_tmp47 = jas_stream_fillbuf(in, 1);
#line 391
            tmp___17 = __cil_tmp47;
            }
          } else {
#line 391
            __cil_tmp48 = in->ptr_;
#line 391
            (in->ptr_) ++;
#line 391
            (in->rwcnt_) ++;
#line 391
            tmp___17 = (int )*__cil_tmp48;
          }
#line 391
          tmp___18 = tmp___17;
        }
#line 391
        tmp___19 = tmp___18;
      } else {
#line 391
        tmp___19 = -1;
      }
#line 391
      if (tmp___19 == -1) {
#line 392
        ret = -1;
#line 393
        goto bmp_getdata_done;
      }
#line 390
      j --;
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___3: 
#line 396
    cmptno = 0;
    {
#line 396
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 396
      if (! (cmptno < numcmpts)) {
#line 396
        goto while_break___4;
      }
#line 397
      if ((int )info->topdown) {
#line 397
        tmp___20 = (long )i;
      } else {
#line 397
        tmp___20 = (info->height - 1L) - (long )i;
      }
      {
#line 397
      y = (int )tmp___20;
#line 398
      __cil_tmp53 = jas_image_writecmpt(image, cmptno, (jas_image_coord_t )0, (jas_image_coord_t )y,
                                        info->width, (jas_image_coord_t )1, cmpts[cmptno]);
      }
#line 398
      if (__cil_tmp53) {
#line 400
        ret = -1;
#line 401
        goto bmp_getdata_done;
      }
#line 396
      cmptno ++;
    }
    while_break___11: /* CIL Label */ ;
    }
    while_break___4: 
#line 353
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___1: ;
  bmp_getdata_done: 
#line 408
  i = 0;
  {
#line 408
  while (1) {
    while_continue___5: /* CIL Label */ ;

#line 408
    if (! (i < numcmpts)) {
#line 408
      goto while_break___5;
    }
#line 409
    if (cmpts[i]) {
      {
#line 410
      jas_matrix_destroy(cmpts[i]);
      }
    }
#line 408
    i ++;
  }
  while_break___12: /* CIL Label */ ;
  }
  while_break___5: ;
#line 414
  return (ret);
}
}
#line 421 "/root/patron-new/new_2/src/libjasper/bmp/bmp_dec.c"
static int bmp_getint16(jas_stream_t *in , int_fast16_t *val ) 
{ 
  int lo ;
  int hi ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 425
  if (! (in->flags_ & 7)) {
#line 425
    if (in->rwlimit_ >= 0L) {
#line 425
      if (in->rwcnt_ >= in->rwlimit_) {
#line 425
        in->flags_ |= 4;
#line 425
        tmp___3 = -1;
      } else {
#line 425
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 425
      (in->cnt_) --;
#line 425
      if (in->cnt_ < 0) {
        {
#line 425
        __cil_tmp10 = jas_stream_fillbuf(in, 1);
#line 425
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 425
        __cil_tmp11 = in->ptr_;
#line 425
        (in->ptr_) ++;
#line 425
        (in->rwcnt_) ++;
#line 425
        tmp___2 = (int )*__cil_tmp11;
      }
#line 425
      tmp___3 = tmp___2;
    }
#line 425
    tmp___4 = tmp___3;
  } else {
#line 425
    tmp___4 = -1;
  }
#line 425
  hi = tmp___4;
#line 425
  if (! (in->flags_ & 7)) {
#line 425
    if (in->rwlimit_ >= 0L) {
#line 425
      if (in->rwcnt_ >= in->rwlimit_) {
#line 425
        in->flags_ |= 4;
#line 425
        tmp___0 = -1;
      } else {
#line 425
        goto _L___28;
      }
    } else {
      _L___28: /* CIL Label */ 
#line 425
      (in->cnt_) --;
#line 425
      if (in->cnt_ < 0) {
        {
#line 425
        __cil_tmp5 = jas_stream_fillbuf(in, 1);
#line 425
        tmp = __cil_tmp5;
        }
      } else {
#line 425
        __cil_tmp6 = in->ptr_;
#line 425
        (in->ptr_) ++;
#line 425
        (in->rwcnt_) ++;
#line 425
        tmp = (int )*__cil_tmp6;
      }
#line 425
      tmp___0 = tmp;
    }
#line 425
    tmp___1 = tmp___0;
  } else {
#line 425
    tmp___1 = -1;
  }
#line 425
  lo = tmp___1;
#line 425
  if (lo == -1) {
#line 426
    return (-1);
  } else
#line 425
  if (hi == -1) {
#line 426
    return (-1);
  }
#line 428
  if (val) {
#line 429
    *val = (int_fast16_t )((hi << 8) | lo);
  }
#line 431
  return (0);
}
}
#line 434 "/root/patron-new/new_2/src/libjasper/bmp/bmp_dec.c"
static int bmp_getint32(jas_stream_t *in , int_fast32_t *val ) 
{ 
  int n ;
  uint_fast32_t v ;
  int c ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 439
  v = (uint_fast32_t )0;
#line 439
  n = 4;
  {
#line 439
  while (1) {
    while_continue: /* CIL Label */ ;

#line 440
    if (! (in->flags_ & 7)) {
#line 440
      if (in->rwlimit_ >= 0L) {
#line 440
        if (in->rwcnt_ >= in->rwlimit_) {
#line 440
          in->flags_ |= 4;
#line 440
          tmp___0 = -1;
        } else {
#line 440
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 440
        (in->cnt_) --;
#line 440
        if (in->cnt_ < 0) {
          {
#line 440
          __cil_tmp6 = jas_stream_fillbuf(in, 1);
#line 440
          tmp = __cil_tmp6;
          }
        } else {
#line 440
          __cil_tmp7 = in->ptr_;
#line 440
          (in->ptr_) ++;
#line 440
          (in->rwcnt_) ++;
#line 440
          tmp = (int )*__cil_tmp7;
        }
#line 440
        tmp___0 = tmp;
      }
#line 440
      tmp___1 = tmp___0;
    } else {
#line 440
      tmp___1 = -1;
    }
#line 440
    c = tmp___1;
#line 440
    if (c == -1) {
#line 441
      return (-1);
    }
#line 443
    v |= (unsigned long )(c << 24);
#line 444
    n --;
#line 444
    if (n <= 0) {
#line 445
      goto while_break;
    }
#line 447
    v >>= 8;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 449
  if (val) {
#line 450
    *val = (int_fast32_t )v;
  }
#line 452
  return (0);
}
}
#line 455 "/root/patron-new/new_2/src/libjasper/bmp/bmp_dec.c"
static int bmp_gobble(jas_stream_t *in , long n ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 457
  while (1) {
    while_continue: /* CIL Label */ ;
#line 457
    n --;
#line 457
    if (! (n >= 0L)) {
#line 457
      goto while_break;
    }
#line 458
    if (! (in->flags_ & 7)) {
#line 458
      if (in->rwlimit_ >= 0L) {
#line 458
        if (in->rwcnt_ >= in->rwlimit_) {
#line 458
          in->flags_ |= 4;
#line 458
          tmp___0 = -1;
        } else {
#line 458
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 458
        (in->cnt_) --;
#line 458
        if (in->cnt_ < 0) {
          {
#line 458
          __cil_tmp3 = jas_stream_fillbuf(in, 1);
#line 458
          tmp = __cil_tmp3;
          }
        } else {
#line 458
          __cil_tmp4 = in->ptr_;
#line 458
          (in->ptr_) ++;
#line 458
          (in->rwcnt_) ++;
#line 458
          tmp = (int )*__cil_tmp4;
        }
#line 458
        tmp___0 = tmp;
      }
#line 458
      tmp___1 = tmp___0;
    } else {
#line 458
      tmp___1 = -1;
    }
#line 458
    if (tmp___1 == -1) {
#line 459
      return (-1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 462
  return (0);
}
}
#line 86 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.c"
bmp_info_t *bmp_info_create(void) 
{ 
  bmp_info_t *info ;
  void *tmp ;

  {
  {
#line 89
  tmp = jas_malloc(sizeof(bmp_info_t ));
#line 89
  info = (bmp_info_t *)tmp;
  }
#line 89
  if (! info) {
#line 90
    return ((bmp_info_t *)0);
  }
#line 92
  info->palents = (bmp_palent_t *)0;
#line 93
  return (info);
}
}
#line 96 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.c"
void bmp_info_destroy(bmp_info_t *info ) 
{ 


  {
#line 98
  if (info->palents) {
    {
#line 99
    jas_free((void *)info->palents);
    }
  }
  {
#line 101
  jas_free((void *)info);
  }
#line 103
  return;
}
}
#line 108 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.c"
int bmp_isgrayscalepal(bmp_palent_t *palents , int numpalents ) 
{ 
  bmp_palent_t *palent ;
  int i ;

  {
#line 113
  palent = palents;
#line 113
  i = numpalents;
  {
#line 113
  while (1) {
    while_continue: /* CIL Label */ ;

#line 113
    if (! (i > 0)) {
#line 113
      goto while_break;
    }
#line 114
    if (palent->red != palent->grn) {
#line 115
      return (0);
    } else
#line 114
    if (palent->red != palent->blu) {
#line 115
      return (0);
    }
#line 113
    palent ++;
#line 113
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 118
  return (1);
}
}
#line 121 "/root/patron-new/new_2/src/libjasper/bmp/bmp_cod.c"
int bmp_numcmpts(bmp_info_t *info ) 
{ 
  int numcmpts ;
  int __cil_tmp3 ;
  int tmp ;

  {
#line 125
  if (info->depth == 24L) {
#line 126
    numcmpts = 3;
  } else
#line 127
  if (info->depth == 8L) {
    {
#line 128
    __cil_tmp3 = bmp_isgrayscalepal(info->palents, (int )info->numcolors);
    }
#line 128
    if (__cil_tmp3) {
#line 128
      tmp = 1;
    } else {
#line 128
      tmp = 3;
    }
#line 128
    numcmpts = tmp;
  } else {
    {
#line 131
    numcmpts = 0;
#line 132
    abort();
    }
  }
#line 134
  return (numcmpts);
}
}
#line 64 "/root/patron-new/new_2/src/libjasper/base/jas_version.c"
char const   *jas_getversion(void) 
{ 


  {
#line 66
  return ("1.900.3");
}
}
#line 93 "/root/patron-new/new_2/src/libjasper/base/jas_tvp.c"
jas_tvparser_t *jas_tvparser_create(char const   *s ) 
{ 
  jas_tvparser_t *tvp ;
  void *tmp ;

  {
  {
#line 96
  tmp = jas_malloc(sizeof(jas_tvparser_t ));
#line 96
  tvp = (jas_tvparser_t *)tmp;
  }
#line 96
  if (! tvp) {
#line 97
    return ((jas_tvparser_t *)0);
  }
  {
#line 99
  tvp->buf = jas_strdup(s);
  }
#line 99
  if (! tvp->buf) {
    {
#line 100
    jas_tvparser_destroy(tvp);
    }
#line 101
    return ((jas_tvparser_t *)0);
  }
#line 103
  tvp->pos = tvp->buf;
#line 104
  tvp->tag = (char *)0;
#line 105
  tvp->val = (char *)0;
#line 106
  return (tvp);
}
}
#line 109 "/root/patron-new/new_2/src/libjasper/base/jas_tvp.c"
void jas_tvparser_destroy(jas_tvparser_t *tvp ) 
{ 


  {
#line 111
  if (tvp->buf) {
    {
#line 112
    jas_free((void *)tvp->buf);
    }
  }
  {
#line 114
  jas_free((void *)tvp);
  }
#line 116
  return;
}
}
#line 122 "/root/patron-new/new_2/src/libjasper/base/jas_tvp.c"
int jas_tvparser_next(jas_tvparser_t *tvp ) 
{ 
  char *p ;
  char *tag ;
  char *val ;
  unsigned short const   **__cil_tmp5 ;
  unsigned short const   **__cil_tmp6 ;
  unsigned short const   **__cil_tmp7 ;
  unsigned short const   **__cil_tmp8 ;
  unsigned short const   **__cil_tmp9 ;
  unsigned short const   **__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  unsigned short const   **__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
#line 129
  p = tvp->pos;
  {
#line 130
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 130
    __cil_tmp5 = __ctype_b_loc();
    }
#line 130
    if ((int )*p != 0) {
#line 130
      if (! ((int )*(*__cil_tmp5 + (int )*p) & 8192)) {
#line 130
        goto while_break;
      }
    } else {
#line 130
      goto while_break;
    }
#line 131
    p ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 135
  if ((int )*p == 0) {
#line 137
    tvp->pos = p;
#line 138
    return (1);
  }
  {
#line 142
  __cil_tmp7 = __ctype_b_loc();
#line 142
  __cil_tmp6 = __ctype_b_loc();
  }
#line 142
  if (! ((int )*(*__cil_tmp6 + (int )*p) & 1024)) {
#line 142
    if (! ((int )*p == 95)) {
#line 142
      if (! ((int )*(*__cil_tmp7 + (int )*p) & 2048)) {
#line 143
        return (-1);
      }
    }
  }
#line 147
  tag = p;
  {
#line 150
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 150
    __cil_tmp9 = __ctype_b_loc();
#line 150
    __cil_tmp8 = __ctype_b_loc();
    }
#line 150
    if ((int )*p != 0) {
#line 150
      if (! ((int )*(*__cil_tmp8 + (int )*p) & 1024)) {
#line 150
        if (! ((int )*p == 95)) {
#line 150
          if (! ((int )*(*__cil_tmp9 + (int )*p) & 2048)) {
#line 150
            goto while_break___0;
          }
        }
      }
    } else {
#line 150
      goto while_break___0;
    }
#line 151
    p ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: ;
#line 155
  if ((int )*p == 0) {
    {
#line 157
    tvp->tag = tag;
#line 158
    strcpy(tvp->val, "\220");
#line 159
    tvp->pos = p;
    }
#line 160
    return (0);
  }
#line 164
  if ((int )*p != 61) {
    {
#line 165
    __cil_tmp10 = __ctype_b_loc();
    }
#line 165
    if ((int )*p != 0) {
#line 165
      if (! ((int )*(*__cil_tmp10 + (int )*p) & 8192)) {
#line 166
        return (-1);
      }
    }
    {
#line 168
    __cil_tmp11 = p;
#line 168
    p ++;
#line 168
    *__cil_tmp11 = (char )'\000';
#line 169
    tvp->tag = tag;
#line 170
    strcpy(tvp->val, "\220");
#line 171
    tvp->pos = p;
    }
#line 172
    return (0);
  }
#line 175
  __cil_tmp12 = p;
#line 175
  p ++;
#line 175
  *__cil_tmp12 = (char )'\000';
#line 177
  val = p;
  {
#line 178
  while (1) {
    while_continue___1: /* CIL Label */ ;
    {
#line 178
    __cil_tmp13 = __ctype_b_loc();
    }
#line 178
    if ((int )*p != 0) {
#line 178
      if (! (! ((int )*(*__cil_tmp13 + (int )*p) & 8192))) {
#line 178
        goto while_break___1;
      }
    } else {
#line 178
      goto while_break___1;
    }
#line 179
    p ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___1: ;
#line 182
  if ((int )*p != 0) {
#line 183
    __cil_tmp14 = p;
#line 183
    p ++;
#line 183
    *__cil_tmp14 = (char )'\000';
  }
#line 186
  tvp->pos = p;
#line 187
  tvp->tag = tag;
#line 188
  tvp->val = val;
#line 190
  return (0);
}
}
#line 198 "/root/patron-new/new_2/src/libjasper/base/jas_tvp.c"
char *jas_tvparser_gettag(jas_tvparser_t *tvp ) 
{ 


  {
#line 200
  return (tvp->tag);
}
}
#line 204 "/root/patron-new/new_2/src/libjasper/base/jas_tvp.c"
char *jas_tvparser_getval(jas_tvparser_t *tvp ) 
{ 


  {
#line 206
  return (tvp->val);
}
}
#line 214 "/root/patron-new/new_2/src/libjasper/base/jas_tvp.c"
jas_taginfo_t *jas_taginfos_lookup(jas_taginfo_t *taginfos , char const   *name ) 
{ 
  jas_taginfo_t *taginfo ;
  int __cil_tmp4 ;

  {
#line 217
  taginfo = taginfos;
  {
#line 218
  while (1) {
    while_continue: /* CIL Label */ ;

#line 218
    if (! (taginfo->id >= 0)) {
#line 218
      goto while_break;
    }
    {
#line 219
    __cil_tmp4 = strcmp((char const   *)taginfo->name, name);
    }
#line 219
    if (! __cil_tmp4) {
#line 220
      return (taginfo);
    }
#line 222
    taginfo ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 224
  return ((jas_taginfo_t *)0);
}
}
#line 232 "/root/patron-new/new_2/src/libjasper/base/jas_tvp.c"
static jas_taginfo_t invalidtaginfo  ;
#line 230 "/root/patron-new/new_2/src/libjasper/base/jas_tvp.c"
jas_taginfo_t *jas_taginfo_nonull(jas_taginfo_t *taginfo ) 
{ 
  jas_taginfo_t *tmp ;

  {
#line 232
  invalidtaginfo.id = -1;
#line 232
  invalidtaginfo.name = (char *)0;
#line 236
  if (taginfo) {
#line 236
    tmp = taginfo;
  } else {
#line 236
    tmp = & invalidtaginfo;
  }
#line 236
  return (tmp);
}
}
#line 66 "/usr/include/x86_64-linux-gnu/sys/time.h"
extern  __attribute__((__nothrow__)) int gettimeofday(struct timeval *__tv , void *__tz ) ;
#line 95 "../../../src/libjasper/include/jasper/jas_tmr.h"
void jas_tmr_start(jas_tmr_t *tmr ) ;
#line 96
void jas_tmr_stop(jas_tmr_t *tmr ) ;
#line 97
double jas_tmr_get(jas_tmr_t *tmr ) ;
#line 84 "/root/patron-new/new_2/src/libjasper/base/jas_tmr.c"
void jas_tmr_start(jas_tmr_t *tmr ) 
{ 
  int __cil_tmp2 ;

  {
  {
#line 86
  __cil_tmp2 = gettimeofday(& tmr->start, (void *)0);
  }
#line 86
  if (__cil_tmp2) {
    {
#line 87
    abort();
    }
  }
#line 90
  return;
}
}
#line 91 "/root/patron-new/new_2/src/libjasper/base/jas_tmr.c"
void jas_tmr_stop(jas_tmr_t *tmr ) 
{ 
  int __cil_tmp2 ;

  {
  {
#line 93
  __cil_tmp2 = gettimeofday(& tmr->stop, (void *)0);
  }
#line 93
  if (__cil_tmp2) {
    {
#line 94
    abort();
    }
  }
#line 97
  return;
}
}
#line 98 "/root/patron-new/new_2/src/libjasper/base/jas_tmr.c"
double jas_tmr_get(jas_tmr_t *tmr ) 
{ 
  double t0 ;
  double t1 ;

  {
#line 102
  t0 = (double )tmr->start.tv_sec + (double )tmr->start.tv_usec / 1000000.;
#line 103
  t1 = (double )tmr->stop.tv_sec + (double )tmr->stop.tv_usec / 1000000.;
#line 104
  return (t1 - t0);
}
}
#line 86 "/root/patron-new/new_2/src/libjasper/base/jas_string.c"
char *jas_strdup(char const   *s ) 
{ 
  int n ;
  char *p ;
  unsigned long __cil_tmp4 ;
  void *tmp ;

  {
  {
#line 90
  __cil_tmp4 = strlen(s);
#line 90
  n = (int )(__cil_tmp4 + 1UL);
#line 91
  tmp = jas_malloc((size_t )n);
#line 91
  p = (char *)tmp;
  }
#line 91
  if (! p) {
#line 92
    return ((char *)0);
  }
  {
#line 94
  strcpy(p, s);
  }
#line 95
  return (p);
}
}
#line 98 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int jas_strtoopenmode(char const   *s ) ;
#line 99
static void jas_stream_destroy(jas_stream_t *stream ) ;
#line 100
static jas_stream_t *jas_stream_create(void) ;
#line 101
static void jas_stream_initbuf(jas_stream_t *stream , int bufmode , char *buf , int bufsize ) ;
#line 104
static int mem_read(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 105
static int mem_write(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 106
static long mem_seek(jas_stream_obj_t *obj , long offset , int origin ) ;
#line 107
static int mem_close(jas_stream_obj_t *obj ) ;
#line 109
static int sfile_read(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 110
static int sfile_write(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 111
static long sfile_seek(jas_stream_obj_t *obj , long offset , int origin ) ;
#line 112
static int sfile_close(jas_stream_obj_t *obj ) ;
#line 114
static int file_read(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 115
static int file_write(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 116
static long file_seek(jas_stream_obj_t *obj , long offset , int origin ) ;
#line 117
static int file_close(jas_stream_obj_t *obj ) ;
#line 123 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static jas_stream_ops_t jas_stream_fileops  =    {& file_read, & file_write, & file_seek, & file_close};
#line 130 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static jas_stream_ops_t jas_stream_sfileops  =    {& sfile_read, & sfile_write, & sfile_seek, & sfile_close};
#line 137 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static jas_stream_ops_t jas_stream_memops  =    {& mem_read, & mem_write, & mem_seek, & mem_close};
#line 148 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static jas_stream_t *jas_stream_create(void) 
{ 
  jas_stream_t *stream ;
  void *tmp ;

  {
  {
#line 152
  tmp = jas_malloc(sizeof(jas_stream_t ));
#line 152
  stream = (jas_stream_t *)tmp;
  }
#line 152
  if (! stream) {
#line 153
    return ((jas_stream_t *)0);
  }
#line 155
  stream->openmode_ = 0;
#line 156
  stream->bufmode_ = 0;
#line 157
  stream->flags_ = 0;
#line 158
  stream->bufbase_ = (unsigned char *)0;
#line 159
  stream->bufstart_ = (unsigned char *)0;
#line 160
  stream->bufsize_ = 0;
#line 161
  stream->ptr_ = (unsigned char *)0;
#line 162
  stream->cnt_ = 0;
#line 163
  stream->ops_ = (jas_stream_ops_t *)0;
#line 164
  stream->obj_ = (jas_stream_obj_t *)0;
#line 165
  stream->rwcnt_ = 0L;
#line 166
  stream->rwlimit_ = -1L;
#line 168
  return (stream);
}
}
#line 171 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_memopen(char *buf , int bufsize ) 
{ 
  jas_stream_t *stream ;
  jas_stream_memobj_t *obj ;
  void *tmp ;
  void *tmp___0 ;

  {
  {
#line 176
  stream = jas_stream_create();
  }
#line 176
  if (! stream) {
#line 177
    return ((jas_stream_t *)0);
  }
  {
#line 182
  stream->openmode_ = 11;
#line 187
  jas_stream_initbuf(stream, 2, (char *)0, 0);
#line 190
  stream->ops_ = & jas_stream_memops;
#line 193
  tmp = jas_malloc(sizeof(jas_stream_memobj_t ));
#line 193
  obj = (jas_stream_memobj_t *)tmp;
  }
#line 193
  if (! obj) {
    {
#line 194
    jas_stream_destroy(stream);
    }
#line 195
    return ((jas_stream_t *)0);
  }
#line 197
  stream->obj_ = (void *)obj;
#line 200
  obj->myalloc_ = 0;
#line 201
  obj->buf_ = (unsigned char *)0;
#line 205
  if (bufsize <= 0) {
#line 206
    obj->bufsize_ = 1024;
#line 207
    obj->growable_ = 1;
  } else {
#line 209
    obj->bufsize_ = bufsize;
#line 210
    obj->growable_ = 0;
  }
#line 212
  if (buf) {
#line 213
    obj->buf_ = (unsigned char *)buf;
  } else {
    {
#line 215
    tmp___0 = jas_malloc((size_t )obj->bufsize_);
#line 215
    obj->buf_ = (unsigned char *)tmp___0;
#line 216
    obj->myalloc_ = 1;
    }
  }
#line 218
  if (! obj->buf_) {
    {
#line 219
    jas_stream_close(stream);
    }
#line 220
    return ((jas_stream_t *)0);
  }
#line 223
  if (buf) {
#line 223
    if (bufsize > 0) {
#line 226
      obj->len_ = (int_fast32_t )bufsize;
    } else {
#line 229
      obj->len_ = (int_fast32_t )0;
    }
  } else {
#line 229
    obj->len_ = (int_fast32_t )0;
  }
#line 231
  obj->pos_ = (int_fast32_t )0;
#line 233
  return (stream);
}
}
#line 236 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_fopen(char const   *filename , char const   *mode ) 
{ 
  jas_stream_t *stream ;
  jas_stream_fileobj_t *obj ;
  int openflags ;
  void *tmp ;

  {
  {
#line 243
  stream = jas_stream_create();
  }
#line 243
  if (! stream) {
#line 244
    return ((jas_stream_t *)0);
  }
  {
#line 248
  stream->openmode_ = jas_strtoopenmode(mode);
  }
#line 251
  if (stream->openmode_ & 1) {
#line 251
    if (stream->openmode_ & 2) {
#line 253
      openflags = 2;
    } else {
#line 251
      goto _L;
    }
  } else
  _L: 
#line 254
  if (stream->openmode_ & 1) {
#line 255
    openflags = 0;
  } else
#line 256
  if (stream->openmode_ & 2) {
#line 257
    openflags = 1;
  } else {
#line 259
    openflags = 0;
  }
#line 261
  if (stream->openmode_ & 4) {
#line 262
    openflags |= 1024;
  }
#line 264
  if (stream->openmode_ & 8) {
#line 265
    openflags = openflags;
  }
#line 267
  if (stream->openmode_ & 16) {
#line 268
    openflags |= 576;
  }
  {
#line 272
  tmp = jas_malloc(sizeof(jas_stream_fileobj_t ));
#line 272
  obj = (jas_stream_fileobj_t *)tmp;
  }
#line 272
  if (! obj) {
    {
#line 273
    jas_stream_destroy(stream);
    }
#line 274
    return ((jas_stream_t *)0);
  }
  {
#line 276
  obj->fd = -1;
#line 277
  obj->flags = 0;
#line 278
  obj->pathname[0] = (char )'\000';
#line 279
  stream->obj_ = (void *)obj;
#line 282
  stream->ops_ = & jas_stream_fileops;
#line 285
  obj->fd = open(filename, openflags, 438);
  }
#line 285
  if (obj->fd < 0) {
    {
#line 286
    jas_stream_destroy(stream);
    }
#line 287
    return ((jas_stream_t *)0);
  }
  {
#line 291
  jas_stream_initbuf(stream, 2, (char *)0, 0);
  }
#line 293
  return (stream);
}
}
#line 296 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_freopen(char const   *path , char const   *mode , FILE *fp ) 
{ 
  jas_stream_t *stream ;
  int openflags ;

  {
  {
#line 302
  path = (char const   *)0;
#line 305
  stream = jas_stream_create();
  }
#line 305
  if (! stream) {
#line 306
    return ((jas_stream_t *)0);
  }
  {
#line 310
  stream->openmode_ = jas_strtoopenmode(mode);
  }
#line 313
  if (stream->openmode_ & 1) {
#line 313
    if (stream->openmode_ & 2) {
#line 315
      openflags = 2;
    } else {
#line 313
      goto _L;
    }
  } else
  _L: 
#line 316
  if (stream->openmode_ & 1) {
#line 317
    openflags = 0;
  } else
#line 318
  if (stream->openmode_ & 2) {
#line 319
    openflags = 1;
  } else {
#line 321
    openflags = 0;
  }
#line 323
  if (stream->openmode_ & 4) {
#line 324
    openflags |= 1024;
  }
#line 326
  if (stream->openmode_ & 8) {
#line 327
    openflags = openflags;
  }
#line 329
  if (stream->openmode_ & 16) {
#line 330
    openflags |= 576;
  }
  {
#line 333
  stream->obj_ = (void *)fp;
#line 336
  stream->ops_ = & jas_stream_sfileops;
#line 339
  jas_stream_initbuf(stream, 2, (char *)0, 0);
  }
#line 341
  return (stream);
}
}
#line 344 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_tmpfile(void) 
{ 
  jas_stream_t *stream ;
  jas_stream_fileobj_t *obj ;
  int __cil_tmp6 ;
  void *tmp ;

  {
  {
#line 349
  stream = jas_stream_create();
  }
#line 349
  if (! stream) {
#line 350
    return ((jas_stream_t *)0);
  }
  {
#line 355
  stream->openmode_ = 11;
#line 358
  tmp = jas_malloc(sizeof(jas_stream_fileobj_t ));
#line 358
  obj = (jas_stream_fileobj_t *)tmp;
  }
#line 358
  if (! obj) {
    {
#line 359
    jas_stream_destroy(stream);
    }
#line 360
    return ((jas_stream_t *)0);
  }
  {
#line 362
  obj->fd = -1;
#line 363
  obj->flags = 0;
#line 364
  obj->pathname[0] = (char )'\000';
#line 365
  stream->obj_ = (jas_stream_obj_t *)obj;
#line 368
  tmpnam(obj->pathname);
#line 371
  obj->fd = open((char const   *)(obj->pathname), 706, 438);
  }
#line 371
  if (obj->fd < 0) {
    {
#line 373
    jas_stream_destroy(stream);
    }
#line 374
    return ((jas_stream_t *)0);
  }
  {
#line 383
  __cil_tmp6 = unlink((char const   *)(obj->pathname));
  }
#line 383
  if (__cil_tmp6) {
#line 385
    obj->flags |= 1;
  }
  {
#line 389
  jas_stream_initbuf(stream, 2, (char *)0, 0);
#line 391
  stream->ops_ = & jas_stream_fileops;
  }
#line 393
  return (stream);
}
}
#line 396 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_fdopen(int fd , char const   *mode ) 
{ 
  jas_stream_t *stream ;
  jas_stream_fileobj_t *obj ;
  void *tmp ;

  {
  {
#line 402
  stream = jas_stream_create();
  }
#line 402
  if (! stream) {
#line 403
    return ((jas_stream_t *)0);
  }
  {
#line 407
  stream->openmode_ = jas_strtoopenmode(mode);
#line 427
  tmp = jas_malloc(sizeof(jas_stream_fileobj_t ));
#line 427
  obj = (jas_stream_fileobj_t *)tmp;
  }
#line 427
  if (! obj) {
    {
#line 428
    jas_stream_destroy(stream);
    }
#line 429
    return ((jas_stream_t *)0);
  }
  {
#line 431
  obj->fd = fd;
#line 432
  obj->flags = 0;
#line 433
  obj->pathname[0] = (char )'\000';
#line 434
  stream->obj_ = (void *)obj;
#line 438
  obj->flags |= 2;
#line 441
  jas_stream_initbuf(stream, 2, (char *)0, 0);
#line 444
  stream->ops_ = & jas_stream_fileops;
  }
#line 446
  return (stream);
}
}
#line 449 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static void jas_stream_destroy(jas_stream_t *stream ) 
{ 


  {
#line 453
  if (stream->bufbase_) {
#line 453
    if (stream->bufmode_ & 8) {
      {
#line 454
      jas_free((void *)stream->bufbase_);
#line 455
      stream->bufbase_ = (unsigned char *)0;
      }
    }
  }
  {
#line 457
  jas_free((void *)stream);
  }
#line 459
  return;
}
}
#line 460 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_close(jas_stream_t *stream ) 
{ 


  {
  {
#line 463
  jas_stream_flush(stream);
#line 466
  (*((stream->ops_)->close_))(stream->obj_);
#line 468
  jas_stream_destroy(stream);
  }
#line 470
  return (0);
}
}
#line 477 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_getc_func(jas_stream_t *stream ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 481
  if (! (stream->flags_ & 7)) {
#line 481
    if (stream->rwlimit_ >= 0L) {
#line 481
      if (stream->rwcnt_ >= stream->rwlimit_) {
#line 481
        stream->flags_ |= 4;
#line 481
        tmp___1 = -1;
      } else {
#line 481
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 481
      (stream->cnt_) --;
#line 481
      if (stream->cnt_ < 0) {
        {
#line 481
        __cil_tmp3 = jas_stream_fillbuf(stream, 1);
#line 481
        tmp___0 = __cil_tmp3;
        }
      } else {
#line 481
        __cil_tmp4 = stream->ptr_;
#line 481
        (stream->ptr_) ++;
#line 481
        (stream->rwcnt_) ++;
#line 481
        tmp___0 = (int )*__cil_tmp4;
      }
#line 481
      tmp___1 = tmp___0;
    }
#line 481
    tmp___2 = tmp___1;
  } else {
#line 481
    tmp___2 = -1;
  }
#line 481
  return (tmp___2);
}
}
#line 484 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_putc_func(jas_stream_t *stream , int c ) 
{ 
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 487
  if (! (stream->flags_ & 7)) {
#line 487
    if (stream->rwlimit_ >= 0L) {
#line 487
      if (stream->rwcnt_ >= stream->rwlimit_) {
#line 487
        stream->flags_ |= 4;
#line 487
        tmp___1 = -1;
      } else {
#line 487
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 487
      (stream->cnt_) --;
#line 487
      stream->bufmode_ |= 32;
#line 487
      if (stream->cnt_ < 0) {
        {
#line 487
        __cil_tmp4 = jas_stream_flushbuf(stream, (int )((unsigned char )c));
#line 487
        tmp___0 = __cil_tmp4;
        }
      } else {
#line 487
        __cil_tmp5 = stream->ptr_;
#line 487
        (stream->ptr_) ++;
#line 487
        *__cil_tmp5 = (unsigned char )c;
#line 487
        (stream->rwcnt_) ++;
#line 487
        tmp___0 = (int )*__cil_tmp5;
      }
#line 487
      tmp___1 = tmp___0;
    }
#line 487
    tmp___2 = tmp___1;
  } else {
#line 487
    tmp___2 = -1;
  }
#line 487
  return (tmp___2);
}
}
#line 490 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_ungetc(jas_stream_t *stream , int c ) 
{ 


  {
#line 492
  if (! stream->ptr_) {
#line 493
    return (-1);
  } else
#line 492
  if ((unsigned long )stream->ptr_ == (unsigned long )stream->bufbase_) {
#line 493
    return (-1);
  }
#line 498
  stream->flags_ &= -2;
#line 500
  (stream->rwcnt_) --;
#line 501
  (stream->ptr_) --;
#line 502
  (stream->cnt_) ++;
#line 503
  *(stream->ptr_) = (unsigned char )c;
#line 504
  return (0);
}
}
#line 507 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_read(jas_stream_t *stream , void *buf , int cnt ) 
{ 
  int n ;
  int c ;
  char *bufptr ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp12 ;

  {
#line 513
  bufptr = (char *)buf;
#line 515
  n = 0;
  {
#line 516
  while (1) {
    while_continue: /* CIL Label */ ;

#line 516
    if (! (n < cnt)) {
#line 516
      goto while_break;
    }
#line 517
    if (! (stream->flags_ & 7)) {
#line 517
      if (stream->rwlimit_ >= 0L) {
#line 517
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 517
          stream->flags_ |= 4;
#line 517
          tmp___0 = -1;
        } else {
#line 517
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 517
        (stream->cnt_) --;
#line 517
        if (stream->cnt_ < 0) {
          {
#line 517
          __cil_tmp7 = jas_stream_fillbuf(stream, 1);
#line 517
          tmp = __cil_tmp7;
          }
        } else {
#line 517
          __cil_tmp8 = stream->ptr_;
#line 517
          (stream->ptr_) ++;
#line 517
          (stream->rwcnt_) ++;
#line 517
          tmp = (int )*__cil_tmp8;
        }
#line 517
        tmp___0 = tmp;
      }
#line 517
      tmp___1 = tmp___0;
    } else {
#line 517
      tmp___1 = -1;
    }
#line 517
    c = tmp___1;
#line 517
    if (c == -1) {
#line 518
      return (n);
    }
#line 520
    __cil_tmp12 = bufptr;
#line 520
    bufptr ++;
#line 520
    *__cil_tmp12 = (char )c;
#line 521
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 524
  return (n);
}
}
#line 527 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_write(jas_stream_t *stream , void const   *buf , int cnt ) 
{ 
  int n ;
  char const   *bufptr ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 532
  bufptr = (char const   *)buf;
#line 534
  n = 0;
  {
#line 535
  while (1) {
    while_continue: /* CIL Label */ ;

#line 535
    if (! (n < cnt)) {
#line 535
      goto while_break;
    }
#line 536
    if (! (stream->flags_ & 7)) {
#line 536
      if (stream->rwlimit_ >= 0L) {
#line 536
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 536
          stream->flags_ |= 4;
#line 536
          tmp___0 = -1;
        } else {
#line 536
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 536
        (stream->cnt_) --;
#line 536
        stream->bufmode_ |= 32;
#line 536
        if (stream->cnt_ < 0) {
          {
#line 536
          __cil_tmp6 = jas_stream_flushbuf(stream, (int )((unsigned char )*bufptr));
#line 536
          tmp = __cil_tmp6;
          }
        } else {
#line 536
          __cil_tmp7 = stream->ptr_;
#line 536
          (stream->ptr_) ++;
#line 536
          *__cil_tmp7 = (unsigned char )*bufptr;
#line 536
          (stream->rwcnt_) ++;
#line 536
          tmp = (int )*__cil_tmp7;
        }
#line 536
        tmp___0 = tmp;
      }
#line 536
      tmp___1 = tmp___0;
    } else {
#line 536
      tmp___1 = -1;
    }
#line 536
    if (tmp___1 == -1) {
#line 537
      return (n);
    }
#line 539
    bufptr ++;
#line 540
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 543
  return (n);
}
}
#line 549 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_printf(jas_stream_t *stream , char const   *fmt  , ...) 
{ 
  va_list ap ;
  char buf[4096] ;
  int ret ;

  {
  {
#line 555
  __builtin_va_start((__builtin_va_list )((void *)ap), fmt);
#line 556
  ret = vsnprintf(buf, sizeof(buf), fmt, (__gnuc_va_list )((void *)ap));
#line 557
  jas_stream_puts(stream, (char const   *)(buf));
#line 558
  __builtin_va_end((__builtin_va_list )((void *)ap));
  }
#line 559
  return (ret);
}
}
#line 562 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_puts(jas_stream_t *stream , char const   *s ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 564
  while (1) {
    while_continue: /* CIL Label */ ;

#line 564
    if (! ((int )*s != 0)) {
#line 564
      goto while_break;
    }
#line 565
    if (! (stream->flags_ & 7)) {
#line 565
      if (stream->rwlimit_ >= 0L) {
#line 565
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 565
          stream->flags_ |= 4;
#line 565
          tmp___0 = -1;
        } else {
#line 565
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 565
        (stream->cnt_) --;
#line 565
        stream->bufmode_ |= 32;
#line 565
        if (stream->cnt_ < 0) {
          {
#line 565
          __cil_tmp3 = jas_stream_flushbuf(stream, (int )((unsigned char )*s));
#line 565
          tmp = __cil_tmp3;
          }
        } else {
#line 565
          __cil_tmp4 = stream->ptr_;
#line 565
          (stream->ptr_) ++;
#line 565
          *__cil_tmp4 = (unsigned char )*s;
#line 565
          (stream->rwcnt_) ++;
#line 565
          tmp = (int )*__cil_tmp4;
        }
#line 565
        tmp___0 = tmp;
      }
#line 565
      tmp___1 = tmp___0;
    } else {
#line 565
      tmp___1 = -1;
    }
#line 565
    if (tmp___1 == -1) {
#line 566
      return (-1);
    }
#line 568
    s ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 570
  return (0);
}
}
#line 573 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
char *jas_stream_gets(jas_stream_t *stream , char *buf , int bufsize ) 
{ 
  int c ;
  char *bufptr ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp12 ;

  {
#line 579
  bufptr = buf;
  {
#line 580
  while (1) {
    while_continue: /* CIL Label */ ;

#line 580
    if (! (bufsize > 1)) {
#line 580
      goto while_break;
    }
#line 581
    if (! (stream->flags_ & 7)) {
#line 581
      if (stream->rwlimit_ >= 0L) {
#line 581
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 581
          stream->flags_ |= 4;
#line 581
          tmp___1 = -1;
        } else {
#line 581
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 581
        (stream->cnt_) --;
#line 581
        if (stream->cnt_ < 0) {
          {
#line 581
          __cil_tmp7 = jas_stream_fillbuf(stream, 1);
#line 581
          tmp___0 = __cil_tmp7;
          }
        } else {
#line 581
          __cil_tmp8 = stream->ptr_;
#line 581
          (stream->ptr_) ++;
#line 581
          (stream->rwcnt_) ++;
#line 581
          tmp___0 = (int )*__cil_tmp8;
        }
#line 581
        tmp___1 = tmp___0;
      }
#line 581
      tmp___2 = tmp___1;
    } else {
#line 581
      tmp___2 = -1;
    }
#line 581
    c = tmp___2;
#line 581
    if (c == -1) {
#line 582
      goto while_break;
    }
#line 584
    __cil_tmp12 = bufptr;
#line 584
    bufptr ++;
#line 584
    *__cil_tmp12 = (char )c;
#line 585
    bufsize --;
#line 586
    if (c == 10) {
#line 587
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 590
  *bufptr = (char )'\000';
#line 591
  return (buf);
}
}
#line 594 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_gobble(jas_stream_t *stream , int n ) 
{ 
  int m ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 597
  m = n;
#line 598
  m = n;
  {
#line 598
  while (1) {
    while_continue: /* CIL Label */ ;

#line 598
    if (! (m > 0)) {
#line 598
      goto while_break;
    }
#line 599
    if (! (stream->flags_ & 7)) {
#line 599
      if (stream->rwlimit_ >= 0L) {
#line 599
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 599
          stream->flags_ |= 4;
#line 599
          tmp___0 = -1;
        } else {
#line 599
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 599
        (stream->cnt_) --;
#line 599
        if (stream->cnt_ < 0) {
          {
#line 599
          __cil_tmp4 = jas_stream_fillbuf(stream, 1);
#line 599
          tmp = __cil_tmp4;
          }
        } else {
#line 599
          __cil_tmp5 = stream->ptr_;
#line 599
          (stream->ptr_) ++;
#line 599
          (stream->rwcnt_) ++;
#line 599
          tmp = (int )*__cil_tmp5;
        }
#line 599
        tmp___0 = tmp;
      }
#line 599
      tmp___1 = tmp___0;
    } else {
#line 599
      tmp___1 = -1;
    }
#line 599
    if (tmp___1 == -1) {
#line 600
      return (n - m);
    }
#line 598
    m --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 603
  return (n);
}
}
#line 606 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_pad(jas_stream_t *stream , int n , int c ) 
{ 
  int m ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 609
  m = n;
#line 610
  m = n;
  {
#line 610
  while (1) {
    while_continue: /* CIL Label */ ;

#line 610
    if (! (m > 0)) {
#line 610
      goto while_break;
    }
#line 611
    if (! (stream->flags_ & 7)) {
#line 611
      if (stream->rwlimit_ >= 0L) {
#line 611
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 611
          stream->flags_ |= 4;
#line 611
          tmp___0 = -1;
        } else {
#line 611
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 611
        (stream->cnt_) --;
#line 611
        stream->bufmode_ |= 32;
#line 611
        if (stream->cnt_ < 0) {
          {
#line 611
          __cil_tmp5 = jas_stream_flushbuf(stream, (int )((unsigned char )c));
#line 611
          tmp = __cil_tmp5;
          }
        } else {
#line 611
          __cil_tmp6 = stream->ptr_;
#line 611
          (stream->ptr_) ++;
#line 611
          *__cil_tmp6 = (unsigned char )c;
#line 611
          (stream->rwcnt_) ++;
#line 611
          tmp = (int )*__cil_tmp6;
        }
#line 611
        tmp___0 = tmp;
      }
#line 611
      tmp___1 = tmp___0;
    } else {
#line 611
      tmp___1 = -1;
    }
#line 611
    if (tmp___1 == -1) {
#line 612
      return (n - m);
    }
#line 610
    m --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 614
  return (n);
}
}
#line 621 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_isseekable(jas_stream_t *stream ) 
{ 
  long __cil_tmp2 ;

  {
#line 623
  if ((unsigned long )stream->ops_ == (unsigned long )(& jas_stream_memops)) {
#line 624
    return (1);
  } else
#line 625
  if ((unsigned long )stream->ops_ == (unsigned long )(& jas_stream_fileops)) {
    {
#line 626
    __cil_tmp2 = (*((stream->ops_)->seek_))(stream->obj_, 0L, 1);
    }
#line 626
    if (__cil_tmp2 < 0L) {
#line 627
      return (0);
    }
#line 629
    return (1);
  } else {
#line 631
    return (0);
  }
}
}
#line 635 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_rewind(jas_stream_t *stream ) 
{ 
  long __cil_tmp2 ;

  {
  {
#line 637
  __cil_tmp2 = jas_stream_seek(stream, 0L, 0);
  }
#line 637
  return ((int )__cil_tmp2);
}
}
#line 640 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
long jas_stream_seek(jas_stream_t *stream , long offset , int origin ) 
{ 
  long newpos ;
  int __cil_tmp6 ;

  {
#line 649
  stream->flags_ &= -2;
#line 651
  if (stream->bufmode_ & 16) {
#line 652
    if (origin == 1) {
#line 653
      offset -= (long )stream->cnt_;
    }
  } else
#line 655
  if (stream->bufmode_ & 32) {
    {
#line 656
    __cil_tmp6 = jas_stream_flush(stream);
    }
#line 656
    if (__cil_tmp6) {
#line 657
      return (-1L);
    }
  }
  {
#line 660
  stream->cnt_ = 0;
#line 661
  stream->ptr_ = stream->bufstart_;
#line 662
  stream->bufmode_ &= -49;
#line 664
  newpos = (*((stream->ops_)->seek_))(stream->obj_, offset, origin);
  }
#line 664
  if (newpos < 0L) {
#line 666
    return (-1L);
  }
#line 669
  return (newpos);
}
}
#line 672 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
long jas_stream_tell(jas_stream_t *stream ) 
{ 
  int adjust ;
  int offset ;
  long __cil_tmp4 ;

  {
#line 677
  if (stream->bufmode_ & 16) {
#line 678
    adjust = - stream->cnt_;
  } else
#line 679
  if (stream->bufmode_ & 32) {
#line 680
    adjust = (int )(stream->ptr_ - stream->bufstart_);
  } else {
#line 682
    adjust = 0;
  }
  {
#line 685
  __cil_tmp4 = (*((stream->ops_)->seek_))(stream->obj_, 0L, 1);
#line 685
  offset = (int )__cil_tmp4;
  }
#line 685
  if (offset < 0) {
#line 686
    return (-1L);
  }
#line 689
  return ((long )(offset + adjust));
}
}
#line 696 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static void jas_stream_initbuf(jas_stream_t *stream , int bufmode , char *buf , int bufsize ) 
{ 
  void *tmp___2 ;

  {
#line 703
  if (bufmode != 0) {
#line 705
    if (! buf) {
      {
#line 708
      tmp___2 = jas_malloc((size_t )8208);
#line 708
      stream->bufbase_ = (unsigned char *)tmp___2;
      }
#line 708
      if (stream->bufbase_) {
#line 710
        stream->bufmode_ |= 8;
#line 711
        stream->bufsize_ = 8192;
      } else {
#line 715
        stream->bufbase_ = stream->tinybuf_;
#line 716
        stream->bufsize_ = 1;
      }
    } else {
#line 723
      stream->bufbase_ = (unsigned char *)buf;
#line 724
      stream->bufsize_ = bufsize - 16;
    }
  } else {
#line 731
    stream->bufbase_ = stream->tinybuf_;
#line 732
    stream->bufsize_ = 1;
  }
#line 734
  stream->bufstart_ = stream->bufbase_ + 16;
#line 735
  stream->ptr_ = stream->bufstart_;
#line 736
  stream->cnt_ = 0;
#line 737
  stream->bufmode_ |= bufmode & 15;
#line 738
  return;
}
}
#line 744 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_flush(jas_stream_t *stream ) 
{ 
  int __cil_tmp2 ;

  {
#line 746
  if (stream->bufmode_ & 16) {
#line 747
    return (0);
  }
  {
#line 749
  __cil_tmp2 = jas_stream_flushbuf(stream, -1);
  }
#line 749
  return (__cil_tmp2);
}
}
#line 752 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_fillbuf(jas_stream_t *stream , int getflag ) 
{ 
  int c ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;

  {
#line 757
  if ((stream->flags_ & 7) != 0) {
#line 758
    return (-1);
  }
#line 762
  if ((stream->openmode_ & 1) == 0) {
#line 763
    return (-1);
  }
  {
#line 774
  stream->bufmode_ |= 16;
#line 777
  stream->ptr_ = stream->bufstart_;
#line 778
  stream->cnt_ = (*((stream->ops_)->read_))(stream->obj_, (char *)stream->bufstart_,
                                            stream->bufsize_);
  }
#line 778
  if (stream->cnt_ <= 0) {
#line 780
    if (stream->cnt_ < 0) {
#line 781
      stream->flags_ |= 2;
    } else {
#line 783
      stream->flags_ |= 1;
    }
#line 785
    stream->cnt_ = 0;
#line 786
    return (-1);
  }
#line 791
  if (getflag) {
#line 791
    (stream->cnt_) --;
#line 791
    if (stream->cnt_ < 0) {
      {
#line 791
      __cil_tmp8 = jas_stream_fillbuf(stream, 1);
#line 791
      tmp___2 = __cil_tmp8;
      }
    } else {
#line 791
      __cil_tmp9 = stream->ptr_;
#line 791
      (stream->ptr_) ++;
#line 791
      (stream->rwcnt_) ++;
#line 791
      tmp___2 = (int )*__cil_tmp9;
    }
#line 791
    tmp___3 = tmp___2;
  } else {
#line 791
    tmp___3 = (int )*(stream->ptr_);
  }
#line 791
  c = tmp___3;
#line 793
  return (c);
}
}
#line 796 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_flushbuf(jas_stream_t *stream , int c ) 
{ 
  int len ;
  int n ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___1 ;

  {
#line 802
  if ((stream->flags_ & 7) != 0) {
#line 803
    return (-1);
  }
#line 807
  if ((stream->openmode_ & 6) == 0) {
#line 808
    return (-1);
  }
#line 817
  len = (int )(stream->ptr_ - stream->bufstart_);
#line 818
  if (len > 0) {
    {
#line 819
    n = (*((stream->ops_)->write_))(stream->obj_, (char *)stream->bufstart_, len);
    }
#line 821
    if (n != len) {
#line 822
      stream->flags_ |= 2;
#line 823
      return (-1);
    }
  }
#line 826
  stream->cnt_ = stream->bufsize_;
#line 827
  stream->ptr_ = stream->bufstart_;
#line 829
  stream->bufmode_ |= 32;
#line 831
  if (c != -1) {
#line 833
    (stream->cnt_) --;
#line 833
    stream->bufmode_ |= 32;
#line 833
    if (stream->cnt_ < 0) {
      {
#line 833
      __cil_tmp8 = jas_stream_flushbuf(stream, (int )((unsigned char )c));
#line 833
      tmp___1 = __cil_tmp8;
      }
    } else {
#line 833
      __cil_tmp9 = stream->ptr_;
#line 833
      (stream->ptr_) ++;
#line 833
      *__cil_tmp9 = (unsigned char )c;
#line 833
      (stream->rwcnt_) ++;
#line 833
      tmp___1 = (int )*__cil_tmp9;
    }
#line 833
    return (tmp___1);
  }
#line 836
  return (0);
}
}
#line 843 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int jas_strtoopenmode(char const   *s ) 
{ 
  int openmode ;

  {
#line 845
  openmode = 0;
  {
#line 846
  while (1) {
    while_continue: /* CIL Label */ ;

#line 846
    if (! ((int )*s != 0)) {
#line 846
      goto while_break;
    }
#line 848
    if ((int )*s == 114) {
#line 848
      goto case_114;
    }
#line 851
    if ((int )*s == 119) {
#line 851
      goto case_119;
    }
#line 854
    if ((int )*s == 98) {
#line 854
      goto case_98;
    }
#line 857
    if ((int )*s == 97) {
#line 857
      goto case_97;
    }
#line 860
    if ((int )*s == 43) {
#line 860
      goto case_43;
    }
#line 863
    goto switch_default;
    case_114: 
#line 849
    openmode |= 1;
#line 850
    goto switch_break;
    case_119: 
#line 852
    openmode |= 18;
#line 853
    goto switch_break;
    case_98: 
#line 855
    openmode |= 8;
#line 856
    goto switch_break;
    case_97: 
#line 858
    openmode |= 4;
#line 859
    goto switch_break;
    case_43: 
#line 861
    openmode |= 3;
#line 862
    goto switch_break;
    switch_default: 
#line 864
    goto switch_break;
    switch_break: 
#line 866
    s ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 868
  return (openmode);
}
}
#line 871 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_copy(jas_stream_t *out , jas_stream_t *in , int n ) 
{ 
  int all ;
  int c ;
  int m ;
  int tmp ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int __cil_tmp14 ;
  unsigned char *__cil_tmp15 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
#line 877
  if (n < 0) {
#line 877
    tmp = 1;
  } else {
#line 877
    tmp = 0;
  }
#line 877
  all = tmp;
#line 879
  m = n;
  {
#line 880
  while (1) {
    while_continue: /* CIL Label */ ;

#line 880
    if (! all) {
#line 880
      if (! (m > 0)) {
#line 880
        goto while_break;
      }
    }
#line 881
    if (! (in->flags_ & 7)) {
#line 881
      if (in->rwlimit_ >= 0L) {
#line 881
        if (in->rwcnt_ >= in->rwlimit_) {
#line 881
          in->flags_ |= 4;
#line 881
          tmp___1 = -1;
        } else {
#line 881
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 881
        (in->cnt_) --;
#line 881
        if (in->cnt_ < 0) {
          {
#line 881
          __cil_tmp8 = jas_stream_fillbuf(in, 1);
#line 881
          tmp___0 = __cil_tmp8;
          }
        } else {
#line 881
          __cil_tmp9 = in->ptr_;
#line 881
          (in->ptr_) ++;
#line 881
          (in->rwcnt_) ++;
#line 881
          tmp___0 = (int )*__cil_tmp9;
        }
#line 881
        tmp___1 = tmp___0;
      }
#line 881
      tmp___2 = tmp___1;
    } else {
#line 881
      tmp___2 = -1;
    }
#line 881
    c = tmp___2;
#line 881
    if (c == -1) {
#line 886
      if (! all) {
#line 886
        tmp___3 = -1;
      } else
#line 886
      if ((in->flags_ & 2) != 0) {
#line 886
        tmp___3 = -1;
      } else {
#line 886
        tmp___3 = 0;
      }
#line 886
      return (tmp___3);
    }
#line 888
    if (! (out->flags_ & 7)) {
#line 888
      if (out->rwlimit_ >= 0L) {
#line 888
        if (out->rwcnt_ >= out->rwlimit_) {
#line 888
          out->flags_ |= 4;
#line 888
          tmp___5 = -1;
        } else {
#line 888
          goto _L___28;
        }
      } else {
        _L___28: /* CIL Label */ 
#line 888
        (out->cnt_) --;
#line 888
        out->bufmode_ |= 32;
#line 888
        if (out->cnt_ < 0) {
          {
#line 888
          __cil_tmp14 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 888
          tmp___4 = __cil_tmp14;
          }
        } else {
#line 888
          __cil_tmp15 = out->ptr_;
#line 888
          (out->ptr_) ++;
#line 888
          *__cil_tmp15 = (unsigned char )c;
#line 888
          (out->rwcnt_) ++;
#line 888
          tmp___4 = (int )*__cil_tmp15;
        }
#line 888
        tmp___5 = tmp___4;
      }
#line 888
      tmp___6 = tmp___5;
    } else {
#line 888
      tmp___6 = -1;
    }
#line 888
    if (tmp___6 == -1) {
#line 889
      return (-1);
    }
#line 891
    m --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 893
  return (0);
}
}
#line 896 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
long jas_stream_setrwcount(jas_stream_t *stream , long rwcnt ) 
{ 
  int old ;

  {
#line 900
  old = (int )stream->rwcnt_;
#line 901
  stream->rwcnt_ = rwcnt;
#line 902
  return ((long )old);
}
}
#line 905 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
int jas_stream_display(jas_stream_t *stream , FILE *fp , int n ) 
{ 
  unsigned char buf[16] ;
  int i ;
  int j ;
  int m ;
  int c ;
  int display ;
  int cnt ;
  int tmp ;
  int tmp___0 ;
  int __cil_tmp13 ;
  unsigned char *__cil_tmp14 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  unsigned short const   **__cil_tmp18 ;

  {
#line 915
  cnt = n - n % 16;
#line 916
  display = 1;
#line 918
  i = 0;
  {
#line 918
  while (1) {
    while_continue: /* CIL Label */ ;

#line 918
    if (! (i < n)) {
#line 918
      goto while_break;
    }
#line 919
    if (n > 16) {
#line 919
      if (i > 0) {
#line 920
        if (i >= cnt) {
#line 920
          tmp = 1;
        } else {
#line 920
          tmp = 0;
        }
#line 920
        display = tmp;
      }
    }
#line 922
    if (display) {
      {
#line 923
      fprintf(fp, "%08x:V", i);
      }
    }
#line 925
    if (n - i < 16) {
#line 925
      tmp___0 = n - i;
    } else {
#line 925
      tmp___0 = 16;
    }
#line 925
    m = tmp___0;
#line 926
    j = 0;
    {
#line 926
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 926
      if (! (j < m)) {
#line 926
        goto while_break___0;
      }
#line 927
      if (! (stream->flags_ & 7)) {
#line 927
        if (stream->rwlimit_ >= 0L) {
#line 927
          if (stream->rwcnt_ >= stream->rwlimit_) {
#line 927
            stream->flags_ |= 4;
#line 927
            tmp___2 = -1;
          } else {
#line 927
            goto _L___27;
          }
        } else {
          _L___27: /* CIL Label */ 
#line 927
          (stream->cnt_) --;
#line 927
          if (stream->cnt_ < 0) {
            {
#line 927
            __cil_tmp13 = jas_stream_fillbuf(stream, 1);
#line 927
            tmp___1 = __cil_tmp13;
            }
          } else {
#line 927
            __cil_tmp14 = stream->ptr_;
#line 927
            (stream->ptr_) ++;
#line 927
            (stream->rwcnt_) ++;
#line 927
            tmp___1 = (int )*__cil_tmp14;
          }
#line 927
          tmp___2 = tmp___1;
        }
#line 927
        tmp___3 = tmp___2;
      } else {
#line 927
        tmp___3 = -1;
      }
#line 927
      c = tmp___3;
#line 927
      if (c == -1) {
        {
#line 928
        abort();
        }
#line 929
        return (-1);
      }
#line 931
      buf[j] = (unsigned char )c;
#line 926
      j ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: ;
#line 933
    if (display) {
#line 934
      j = 0;
      {
#line 934
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 934
        if (! (j < m)) {
#line 934
          goto while_break___1;
        }
        {
#line 935
        fprintf(fp, " %02x", (int )buf[j]);
#line 934
        j ++;
        }
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___1: 
      {
#line 937
      fputc(' ', fp);
      }
      {
#line 938
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 938
        if (! (j < 16)) {
#line 938
          goto while_break___2;
        }
        {
#line 939
        fprintf(fp, "   ");
#line 938
        j ++;
        }
      }
      while_break___7: /* CIL Label */ ;
      }
      while_break___2: 
#line 941
      j = 0;
      {
#line 941
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 941
        if (! (j < m)) {
#line 941
          goto while_break___3;
        }
        {
#line 942
        __cil_tmp18 = __ctype_b_loc();
        }
#line 942
        if ((int )*(*__cil_tmp18 + (int )buf[j]) & 16384) {
          {
#line 943
          fputc((int )buf[j], fp);
          }
        } else {
          {
#line 945
          fputc(' ', fp);
          }
        }
#line 941
        j ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___3: 
      {
#line 948
      fprintf(fp, "\n\231)\374PV");
      }
    }
#line 918
    i += 16;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: ;
#line 953
  return (0);
}
}
#line 956 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
long jas_stream_length(jas_stream_t *stream ) 
{ 
  long oldpos ;
  long pos ;
  long __cil_tmp5 ;
  long __cil_tmp7 ;

  {
  {
#line 960
  oldpos = jas_stream_tell(stream);
  }
#line 960
  if (oldpos < 0L) {
#line 961
    return (-1L);
  }
  {
#line 963
  __cil_tmp5 = jas_stream_seek(stream, 0L, 2);
  }
#line 963
  if (__cil_tmp5 < 0L) {
#line 964
    return (-1L);
  }
  {
#line 966
  pos = jas_stream_tell(stream);
  }
#line 966
  if (pos < 0L) {
#line 967
    return (-1L);
  }
  {
#line 969
  __cil_tmp7 = jas_stream_seek(stream, oldpos, 0);
  }
#line 969
  if (__cil_tmp7 < 0L) {
#line 970
    return (-1L);
  }
#line 972
  return (pos);
}
}
#line 979 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int mem_read(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  int n ;
  jas_stream_memobj_t *m ;
  int tmp ;

  {
#line 982
  m = (jas_stream_memobj_t *)obj;
#line 983
  n = (int )(m->len_ - m->pos_);
#line 984
  if (n < cnt) {
#line 984
    tmp = n;
  } else {
#line 984
    tmp = cnt;
  }
  {
#line 984
  cnt = tmp;
#line 985
  memcpy((void *)buf, (void const   *)(m->buf_ + m->pos_), (unsigned long )cnt);
#line 986
  m->pos_ += (long )cnt;
  }
#line 987
  return (cnt);
}
}
#line 990 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int mem_resize(jas_stream_memobj_t *m , int bufsize ) 
{ 
  unsigned char *buf ;
  void *tmp___0 ;

  {
  {
#line 995
  tmp___0 = jas_realloc2((void *)m->buf_, (size_t )bufsize, sizeof(unsigned char ));
#line 995
  buf = (unsigned char *)tmp___0;
  }
#line 995
  if (! buf) {
#line 996
    return (-1);
  }
#line 998
  m->buf_ = buf;
#line 999
  m->bufsize_ = bufsize;
#line 1000
  return (0);
}
}
#line 1003 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int mem_write(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  int n ;
  int ret ;
  jas_stream_memobj_t *m ;
  long newbufsize ;
  long newpos ;
  int __cil_tmp10 ;
  int_fast32_t tmp___0 ;
  int tmp___1 ;

  {
#line 1007
  m = (jas_stream_memobj_t *)obj;
#line 1011
  newpos = m->pos_ + (long )cnt;
#line 1012
  if (newpos > (long )m->bufsize_) {
#line 1012
    if (m->growable_) {
#line 1013
      newbufsize = (long )m->bufsize_;
      {
#line 1014
      while (1) {
        while_continue: /* CIL Label */ ;

#line 1014
        if (! (newbufsize < newpos)) {
#line 1014
          goto while_break;
        }
#line 1015
        newbufsize <<= 1;
      }
      while_break___0: /* CIL Label */ ;
      }
      while_break: 
      {
#line 1018
      __cil_tmp10 = mem_resize(m, (int )newbufsize);
      }
#line 1018
      if (__cil_tmp10) {
#line 1019
        return (-1);
      }
    }
  }
#line 1022
  if (m->pos_ > m->len_) {
#line 1025
    if (m->pos_ < (long )m->bufsize_) {
#line 1025
      tmp___0 = m->pos_;
    } else {
#line 1025
      tmp___0 = (long )m->bufsize_;
    }
#line 1025
    n = (int )(tmp___0 - m->len_);
#line 1026
    if (n > 0) {
      {
#line 1027
      memset((void *)(m->buf_ + m->len_), 0, (unsigned long )n);
#line 1028
      m->len_ += (long )n;
      }
    }
#line 1030
    if (m->pos_ != m->len_) {
#line 1032
      return (0);
    }
  }
#line 1035
  n = (int )((long )m->bufsize_ - m->pos_);
#line 1036
  if (n < cnt) {
#line 1036
    tmp___1 = n;
  } else {
#line 1036
    tmp___1 = cnt;
  }
#line 1036
  ret = tmp___1;
#line 1037
  if (ret > 0) {
    {
#line 1038
    memcpy((void *)(m->buf_ + m->pos_), (void const   *)buf, (unsigned long )ret);
#line 1039
    m->pos_ += (long )ret;
    }
  }
#line 1041
  if (m->pos_ > m->len_) {
#line 1042
    m->len_ = m->pos_;
  }
#line 1045
  return (ret);
}
}
#line 1048 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static long mem_seek(jas_stream_obj_t *obj , long offset , int origin ) 
{ 
  jas_stream_memobj_t *m ;
  long newpos ;

  {
#line 1050
  m = (jas_stream_memobj_t *)obj;
#line 1054
  if (origin == 0) {
#line 1054
    goto case_0;
  }
#line 1057
  if (origin == 2) {
#line 1057
    goto case_2;
  }
#line 1060
  if (origin == 1) {
#line 1060
    goto case_1;
  }
#line 1063
  goto switch_default;
  case_0: 
#line 1055
  newpos = offset;
#line 1056
  goto switch_break;
  case_2: 
#line 1058
  newpos = m->len_ - offset;
#line 1059
  goto switch_break;
  case_1: 
#line 1061
  newpos = m->pos_ + offset;
#line 1062
  goto switch_break;
  switch_default: 
  {
#line 1064
  abort();
  }
#line 1065
  goto switch_break;
  switch_break: ;
#line 1067
  if (newpos < 0L) {
#line 1068
    return (-1L);
  }
#line 1070
  m->pos_ = newpos;
#line 1072
  return (m->pos_);
}
}
#line 1075 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int mem_close(jas_stream_obj_t *obj ) 
{ 
  jas_stream_memobj_t *m ;

  {
#line 1077
  m = (jas_stream_memobj_t *)obj;
#line 1078
  if (m->buf_) {
#line 1078
    if (m->myalloc_) {
      {
#line 1079
      jas_free((void *)m->buf_);
#line 1080
      m->buf_ = (unsigned char *)0;
      }
    }
  }
  {
#line 1082
  jas_free(obj);
  }
#line 1083
  return (0);
}
}
#line 1090 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int file_read(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  jas_stream_fileobj_t *fileobj ;
  ssize_t __cil_tmp5 ;

  {
  {
#line 1092
  fileobj = (jas_stream_fileobj_t *)obj;
#line 1093
  __cil_tmp5 = read(fileobj->fd, (void *)buf, (size_t )cnt);
  }
#line 1093
  return ((int )__cil_tmp5);
}
}
#line 1096 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int file_write(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  jas_stream_fileobj_t *fileobj ;
  ssize_t __cil_tmp5 ;

  {
  {
#line 1098
  fileobj = (jas_stream_fileobj_t *)obj;
#line 1099
  __cil_tmp5 = write(fileobj->fd, (void const   *)buf, (size_t )cnt);
  }
#line 1099
  return ((int )__cil_tmp5);
}
}
#line 1102 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static long file_seek(jas_stream_obj_t *obj , long offset , int origin ) 
{ 
  jas_stream_fileobj_t *fileobj ;
  __off_t __cil_tmp5 ;

  {
  {
#line 1104
  fileobj = (jas_stream_fileobj_t *)obj;
#line 1105
  __cil_tmp5 = lseek(fileobj->fd, offset, origin);
  }
#line 1105
  return (__cil_tmp5);
}
}
#line 1108 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int file_close(jas_stream_obj_t *obj ) 
{ 
  jas_stream_fileobj_t *fileobj ;
  int ret ;

  {
  {
#line 1110
  fileobj = (jas_stream_fileobj_t *)obj;
#line 1112
  ret = close(fileobj->fd);
  }
#line 1113
  if (fileobj->flags & 1) {
    {
#line 1114
    unlink((char const   *)(fileobj->pathname));
    }
  }
  {
#line 1116
  jas_free((void *)fileobj);
  }
#line 1117
  return (ret);
}
}
#line 1124 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int sfile_read(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  FILE *fp ;
  unsigned long __cil_tmp5 ;

  {
  {
#line 1127
  fp = (FILE *)obj;
#line 1128
  __cil_tmp5 = fread((void *)buf, 1UL, (unsigned long )cnt, fp);
  }
#line 1128
  return ((int )__cil_tmp5);
}
}
#line 1131 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int sfile_write(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  FILE *fp ;
  unsigned long __cil_tmp5 ;

  {
  {
#line 1134
  fp = (FILE *)obj;
#line 1135
  __cil_tmp5 = fwrite((void const   *)buf, 1UL, (unsigned long )cnt, fp);
  }
#line 1135
  return ((int )__cil_tmp5);
}
}
#line 1138 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static long sfile_seek(jas_stream_obj_t *obj , long offset , int origin ) 
{ 
  FILE *fp ;
  int __cil_tmp5 ;

  {
  {
#line 1141
  fp = (FILE *)obj;
#line 1142
  __cil_tmp5 = fseek(fp, offset, origin);
  }
#line 1142
  return ((long )__cil_tmp5);
}
}
#line 1145 "/root/patron-new/new_2/src/libjasper/base/jas_stream.c"
static int sfile_close(jas_stream_obj_t *obj ) 
{ 
  FILE *fp ;
  int __cil_tmp3 ;

  {
  {
#line 1148
  fp = (FILE *)obj;
#line 1149
  __cil_tmp3 = fclose(fp);
  }
#line 1149
  return (__cil_tmp3);
}
}
#line 86 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
jas_matrix_t *jas_seq2d_create(int xstart , int ystart , int xend , int yend ) 
{ 
  jas_matrix_t *matrix ;

  {
  {
#line 90
  matrix = jas_matrix_create(yend - ystart, xend - xstart);
  }
#line 90
  if (! matrix) {
#line 91
    return ((jas_matrix_t *)0);
  }
#line 93
  matrix->xstart_ = (int_fast32_t )xstart;
#line 94
  matrix->ystart_ = (int_fast32_t )ystart;
#line 95
  matrix->xend_ = (int_fast32_t )xend;
#line 96
  matrix->yend_ = (int_fast32_t )yend;
#line 97
  return (matrix);
}
}
#line 100 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
jas_matrix_t *jas_matrix_create(int numrows , int numcols ) 
{ 
  jas_matrix_t *matrix ;
  int i ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 105
  tmp = jas_malloc(sizeof(jas_matrix_t ));
#line 105
  matrix = (jas_matrix_t *)tmp;
  }
#line 105
  if (! matrix) {
#line 106
    return ((jas_matrix_t *)0);
  }
#line 108
  matrix->flags_ = 0;
#line 109
  matrix->numrows_ = (int_fast32_t )numrows;
#line 110
  matrix->numcols_ = (int_fast32_t )numcols;
#line 111
  matrix->rows_ = (jas_seqent_t **)0;
#line 112
  matrix->maxrows_ = (int_fast32_t )numrows;
#line 113
  matrix->data_ = (jas_seqent_t *)0;
#line 114
  matrix->datasize_ = (int_fast32_t )(numrows * numcols);
#line 116
  if (matrix->maxrows_ > 0L) {
    {
#line 117
    tmp___0 = jas_alloc2((size_t )matrix->maxrows_, sizeof(jas_seqent_t *));
#line 117
    matrix->rows_ = (jas_seqent_t **)tmp___0;
    }
#line 117
    if (! matrix->rows_) {
      {
#line 119
      jas_matrix_destroy(matrix);
      }
#line 120
      return ((jas_matrix_t *)0);
    }
  }
#line 124
  if (matrix->datasize_ > 0L) {
    {
#line 125
    tmp___1 = jas_alloc2((size_t )matrix->datasize_, sizeof(jas_seqent_t ));
#line 125
    matrix->data_ = (jas_seqent_t *)tmp___1;
    }
#line 125
    if (! matrix->data_) {
      {
#line 127
      jas_matrix_destroy(matrix);
      }
#line 128
      return ((jas_matrix_t *)0);
    }
  }
#line 132
  i = 0;
  {
#line 132
  while (1) {
    while_continue: /* CIL Label */ ;

#line 132
    if (! (i < numrows)) {
#line 132
      goto while_break;
    }
#line 133
    *(matrix->rows_ + i) = matrix->data_ + (long )i * matrix->numcols_;
#line 132
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 136
  i = 0;
  {
#line 136
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 136
    if (! ((long )i < matrix->datasize_)) {
#line 136
      goto while_break___0;
    }
#line 137
    *(matrix->data_ + i) = (jas_seqent_t )0;
#line 136
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: 
#line 140
  matrix->xstart_ = (int_fast32_t )0;
#line 141
  matrix->ystart_ = (int_fast32_t )0;
#line 142
  matrix->xend_ = matrix->numcols_;
#line 143
  matrix->yend_ = matrix->numrows_;
#line 145
  return (matrix);
}
}
#line 148 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
void jas_matrix_destroy(jas_matrix_t *matrix ) 
{ 


  {
#line 150
  if (matrix->data_) {
    {
#line 152
    jas_free((void *)matrix->data_);
#line 153
    matrix->data_ = (jas_seqent_t *)0;
    }
  }
#line 155
  if (matrix->rows_) {
    {
#line 156
    jas_free((void *)matrix->rows_);
#line 157
    matrix->rows_ = (jas_seqent_t **)0;
    }
  }
  {
#line 159
  jas_free((void *)matrix);
  }
#line 161
  return;
}
}
#line 162 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
jas_seq2d_t *jas_seq2d_copy(jas_seq2d_t *x ) 
{ 
  jas_matrix_t *y ;
  int i ;
  int j ;

  {
  {
#line 167
  y = jas_seq2d_create((int )x->xstart_, (int )x->ystart_, (int )x->xend_, (int )x->yend_);
#line 170
  i = 0;
  }
  {
#line 170
  while (1) {
    while_continue: /* CIL Label */ ;

#line 170
    if (! ((long )i < x->numrows_)) {
#line 170
      goto while_break;
    }
#line 171
    j = 0;
    {
#line 171
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 171
      if (! ((long )j < x->numcols_)) {
#line 171
        goto while_break___0;
      }
#line 172
      *(*(y->rows_ + i) + j) = *(*(x->rows_ + i) + j);
#line 171
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 170
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 175
  return (y);
}
}
#line 178 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
jas_matrix_t *jas_matrix_copy(jas_matrix_t *x ) 
{ 
  jas_matrix_t *y ;
  int i ;
  int j ;

  {
  {
#line 183
  y = jas_matrix_create((int )x->numrows_, (int )x->numcols_);
#line 184
  i = 0;
  }
  {
#line 184
  while (1) {
    while_continue: /* CIL Label */ ;

#line 184
    if (! ((long )i < x->numrows_)) {
#line 184
      goto while_break;
    }
#line 185
    j = 0;
    {
#line 185
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 185
      if (! ((long )j < x->numcols_)) {
#line 185
        goto while_break___0;
      }
#line 186
      *(*(y->rows_ + i) + j) = *(*(x->rows_ + i) + j);
#line 185
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 184
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 189
  return (y);
}
}
#line 196 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
void jas_seq2d_bindsub(jas_matrix_t *s , jas_matrix_t *s1 , int xstart , int ystart ,
                       int xend , int yend ) 
{ 


  {
  {
#line 199
  jas_matrix_bindsub(s, s1, (int )((long )ystart - s1->ystart_), (int )((long )xstart - s1->xstart_),
                     (int )(((long )yend - s1->ystart_) - 1L), (int )(((long )xend - s1->xstart_) - 1L));
  }
#line 202
  return;
}
}
#line 203 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
void jas_matrix_bindsub(jas_matrix_t *mat0 , jas_matrix_t *mat1 , int r0 , int c0 ,
                        int r1 , int c1 ) 
{ 
  int i ;
  void *tmp ;

  {
#line 208
  if (mat0->data_) {
#line 209
    if (! (mat0->flags_ & 1)) {
      {
#line 210
      jas_free((void *)mat0->data_);
      }
    }
#line 212
    mat0->data_ = (jas_seqent_t *)0;
#line 213
    mat0->datasize_ = (int_fast32_t )0;
  }
#line 215
  if (mat0->rows_) {
    {
#line 216
    jas_free((void *)mat0->rows_);
#line 217
    mat0->rows_ = (jas_seqent_t **)0;
    }
  }
  {
#line 219
  mat0->flags_ |= 1;
#line 220
  mat0->numrows_ = (int_fast32_t )((r1 - r0) + 1);
#line 221
  mat0->numcols_ = (int_fast32_t )((c1 - c0) + 1);
#line 222
  mat0->maxrows_ = mat0->numrows_;
#line 223
  tmp = jas_alloc2((size_t )mat0->maxrows_, sizeof(jas_seqent_t *));
#line 223
  mat0->rows_ = (jas_seqent_t **)tmp;
#line 224
  i = 0;
  }
  {
#line 224
  while (1) {
    while_continue: /* CIL Label */ ;

#line 224
    if (! ((long )i < mat0->numrows_)) {
#line 224
      goto while_break;
    }
#line 225
    *(mat0->rows_ + i) = *(mat1->rows_ + (r0 + i)) + c0;
#line 224
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 228
  mat0->xstart_ = mat1->xstart_ + (long )c0;
#line 229
  mat0->ystart_ = mat1->ystart_ + (long )r0;
#line 230
  mat0->xend_ = mat0->xstart_ + mat0->numcols_;
#line 231
  mat0->yend_ = mat0->ystart_ + mat0->numrows_;
#line 232
  return;
}
}
#line 238 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
int jas_matrix_cmp(jas_matrix_t *mat0 , jas_matrix_t *mat1 ) 
{ 
  int i ;
  int j ;

  {
#line 243
  if (mat0->numrows_ != mat1->numrows_) {
#line 245
    return (1);
  } else
#line 243
  if (mat0->numcols_ != mat1->numcols_) {
#line 245
    return (1);
  }
#line 247
  i = 0;
  {
#line 247
  while (1) {
    while_continue: /* CIL Label */ ;

#line 247
    if (! ((long )i < mat0->numrows_)) {
#line 247
      goto while_break;
    }
#line 248
    j = 0;
    {
#line 248
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 248
      if (! ((long )j < mat0->numcols_)) {
#line 248
        goto while_break___0;
      }
#line 249
      if (*(*(mat0->rows_ + i) + j) != *(*(mat1->rows_ + i) + j)) {
#line 250
        return (1);
      }
#line 248
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 247
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 254
  return (0);
}
}
#line 257 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
void jas_matrix_divpow2(jas_matrix_t *matrix , int n ) 
{ 
  int i ;
  int j ;
  jas_seqent_t *rowstart ;
  int rowstep ;
  jas_seqent_t *data ;
  jas_seqent_t *tmp___0 ;
  jas_seqent_t tmp___1 ;

  {
#line 265
  if (matrix->numrows_ > 0L) {
#line 265
    if (matrix->numcols_ > 0L) {
#line 267
      if (matrix->numrows_ > 1L) {
#line 267
        tmp___0 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 267
        tmp___0 = (jas_seqent_t *)0L;
      }
#line 267
      rowstep = (int )tmp___0;
#line 268
      rowstart = *(matrix->rows_ + 0);
#line 268
      i = (int )matrix->numrows_;
      {
#line 268
      while (1) {
        while_continue: /* CIL Label */ ;

#line 268
        if (! (i > 0)) {
#line 268
          goto while_break;
        }
#line 270
        data = rowstart;
#line 270
        j = (int )matrix->numcols_;
        {
#line 270
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 270
          if (! (j > 0)) {
#line 270
            goto while_break___0;
          }
#line 272
          if (*data >= 0L) {
#line 272
            tmp___1 = *data >> n;
          } else {
#line 272
            tmp___1 = - (- *data >> n);
          }
#line 272
          *data = tmp___1;
#line 270
          data ++;
#line 270
          j --;
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 268
        rowstart += rowstep;
#line 268
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 274
  return;
}
}
#line 279 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
void jas_matrix_clip(jas_matrix_t *matrix , jas_seqent_t minval , jas_seqent_t maxval ) 
{ 
  int i ;
  int j ;
  jas_seqent_t v ;
  jas_seqent_t *rowstart ;
  jas_seqent_t *data ;
  int rowstep ;
  jas_seqent_t *tmp___0 ;

  {
#line 288
  if (matrix->numrows_ > 0L) {
#line 288
    if (matrix->numcols_ > 0L) {
#line 290
      if (matrix->numrows_ > 1L) {
#line 290
        tmp___0 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 290
        tmp___0 = (jas_seqent_t *)0L;
      }
#line 290
      rowstep = (int )tmp___0;
#line 291
      rowstart = *(matrix->rows_ + 0);
#line 291
      i = (int )matrix->numrows_;
      {
#line 291
      while (1) {
        while_continue: /* CIL Label */ ;

#line 291
        if (! (i > 0)) {
#line 291
          goto while_break;
        }
#line 293
        data = rowstart;
#line 294
        data = rowstart;
#line 294
        j = (int )matrix->numcols_;
        {
#line 294
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 294
          if (! (j > 0)) {
#line 294
            goto while_break___0;
          }
#line 296
          v = *data;
#line 297
          if (v < minval) {
#line 298
            *data = minval;
          } else
#line 299
          if (v > maxval) {
#line 300
            *data = maxval;
          }
#line 294
          data ++;
#line 294
          j --;
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 291
        rowstart += rowstep;
#line 291
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 297
  return;
}
}
#line 307 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
void jas_matrix_asr(jas_matrix_t *matrix , int n ) 
{ 
  int i ;
  int j ;
  jas_seqent_t *rowstart ;
  int rowstep ;
  jas_seqent_t *data ;
  jas_seqent_t *tmp___1 ;

  {
#line 316
  if (matrix->numrows_ > 0L) {
#line 316
    if (matrix->numcols_ > 0L) {
#line 318
      if (matrix->numrows_ > 1L) {
#line 318
        tmp___1 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 318
        tmp___1 = (jas_seqent_t *)0L;
      }
#line 318
      rowstep = (int )tmp___1;
#line 319
      rowstart = *(matrix->rows_ + 0);
#line 319
      i = (int )matrix->numrows_;
      {
#line 319
      while (1) {
        while_continue: /* CIL Label */ ;

#line 319
        if (! (i > 0)) {
#line 319
          goto while_break;
        }
#line 321
        data = rowstart;
#line 321
        j = (int )matrix->numcols_;
        {
#line 321
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 321
          if (! (j > 0)) {
#line 321
            goto while_break___0;
          }
#line 323
          *data >>= n;
#line 321
          data ++;
#line 321
          j --;
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 319
        rowstart += rowstep;
#line 319
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 325
  return;
}
}
#line 329 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
void jas_matrix_asl(jas_matrix_t *matrix , int n ) 
{ 
  int i ;
  int j ;
  jas_seqent_t *rowstart ;
  int rowstep ;
  jas_seqent_t *data ;
  jas_seqent_t *tmp___0 ;

  {
#line 337
  if (matrix->numrows_ > 0L) {
#line 337
    if (matrix->numcols_ > 0L) {
#line 339
      if (matrix->numrows_ > 1L) {
#line 339
        tmp___0 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 339
        tmp___0 = (jas_seqent_t *)0L;
      }
#line 339
      rowstep = (int )tmp___0;
#line 340
      rowstart = *(matrix->rows_ + 0);
#line 340
      i = (int )matrix->numrows_;
      {
#line 340
      while (1) {
        while_continue: /* CIL Label */ ;

#line 340
        if (! (i > 0)) {
#line 340
          goto while_break;
        }
#line 342
        data = rowstart;
#line 342
        j = (int )matrix->numcols_;
        {
#line 342
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 342
          if (! (j > 0)) {
#line 342
            goto while_break___0;
          }
#line 344
          *data <<= n;
#line 342
          data ++;
#line 342
          j --;
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 340
        rowstart += rowstep;
#line 340
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 346
  return;
}
}
#line 354 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
int jas_matrix_resize(jas_matrix_t *matrix , int numrows , int numcols ) 
{ 
  int size ;
  int i ;

  {
#line 359
  size = numrows * numcols;
#line 360
  if ((long )size > matrix->datasize_) {
#line 361
    return (-1);
  } else
#line 360
  if ((long )numrows > matrix->maxrows_) {
#line 361
    return (-1);
  }
#line 364
  matrix->numrows_ = (int_fast32_t )numrows;
#line 365
  matrix->numcols_ = (int_fast32_t )numcols;
#line 367
  i = 0;
  {
#line 367
  while (1) {
    while_continue: /* CIL Label */ ;

#line 367
    if (! (i < numrows)) {
#line 367
      goto while_break;
    }
#line 368
    *(matrix->rows_ + i) = matrix->data_ + numcols * i;
#line 367
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 371
  return (0);
}
}
#line 374 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
void jas_matrix_setall(jas_matrix_t *matrix , jas_seqent_t val ) 
{ 
  int i ;
  int j ;
  jas_seqent_t *rowstart ;
  int rowstep ;
  jas_seqent_t *data ;
  jas_seqent_t *tmp___0 ;

  {
#line 382
  if (matrix->numrows_ > 0L) {
#line 382
    if (matrix->numcols_ > 0L) {
#line 384
      if (matrix->numrows_ > 1L) {
#line 384
        tmp___0 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 384
        tmp___0 = (jas_seqent_t *)0L;
      }
#line 384
      rowstep = (int )tmp___0;
#line 385
      rowstart = *(matrix->rows_ + 0);
#line 385
      i = (int )matrix->numrows_;
      {
#line 385
      while (1) {
        while_continue: /* CIL Label */ ;

#line 385
        if (! (i > 0)) {
#line 385
          goto while_break;
        }
#line 387
        data = rowstart;
#line 387
        j = (int )matrix->numcols_;
        {
#line 387
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 387
          if (! (j > 0)) {
#line 387
            goto while_break___0;
          }
#line 389
          *data = val;
#line 387
          data ++;
#line 387
          j --;
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 385
        rowstart += rowstep;
#line 385
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 391
  return;
}
}
#line 395 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
jas_matrix_t *jas_seq2d_input(FILE *in ) 
{ 
  jas_matrix_t *matrix ;
  int i ;
  int j ;
  long x ;
  int numrows ;
  int numcols ;
  int xoff ;
  int yoff ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp13 ;

  {
  {
#line 406
  __cil_tmp10 = fscanf(in, "%d %d", & xoff, & yoff);
  }
#line 406
  if (__cil_tmp10 != 2) {
#line 407
    return ((jas_matrix_t *)0);
  }
  {
#line 408
  __cil_tmp11 = fscanf(in, "%d %d", & numcols, & numrows);
  }
#line 408
  if (__cil_tmp11 != 2) {
#line 409
    return ((jas_matrix_t *)0);
  }
  {
#line 410
  matrix = jas_seq2d_create(xoff, yoff, xoff + numcols, yoff + numrows);
  }
#line 410
  if (! matrix) {
#line 411
    return ((jas_matrix_t *)0);
  }
#line 413
  if (matrix->numrows_ != (long )numrows) {
    {
#line 414
    abort();
    }
  } else
#line 413
  if (matrix->numcols_ != (long )numcols) {
    {
#line 414
    abort();
    }
  }
#line 418
  i = 0;
  {
#line 418
  while (1) {
    while_continue: /* CIL Label */ ;

#line 418
    if (! ((long )i < matrix->numrows_)) {
#line 418
      goto while_break;
    }
#line 419
    j = 0;
    {
#line 419
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 419
      if (! ((long )j < matrix->numcols_)) {
#line 419
        goto while_break___0;
      }
      {
#line 420
      __cil_tmp13 = fscanf(in, "%ld", & x);
      }
#line 420
      if (__cil_tmp13 != 1) {
        {
#line 421
        jas_matrix_destroy(matrix);
        }
#line 422
        return ((jas_matrix_t *)0);
      }
#line 424
      *(*(matrix->rows_ + i) + j) = x;
#line 419
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 418
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 428
  return (matrix);
}
}
#line 431 "/root/patron-new/new_2/src/libjasper/base/jas_seq.c"
int jas_seq2d_output(jas_matrix_t *matrix , FILE *out ) 
{ 
  int i ;
  int j ;
  jas_seqent_t x ;
  char buf[81] ;
  char sbuf[81] ;
  int n ;
  unsigned long __cil_tmp9 ;
  char const   *tmp ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;

  {
  {
#line 441
  fprintf(out, "%d %d\n", matrix->xstart_, matrix->ystart_);
#line 443
  fprintf(out, "%d %d\n", matrix->numcols_, matrix->numrows_);
#line 446
  buf[0] = (char )'\000';
#line 447
  i = 0;
  }
  {
#line 447
  while (1) {
    while_continue: /* CIL Label */ ;

#line 447
    if (! ((long )i < matrix->numrows_)) {
#line 447
      goto while_break;
    }
#line 448
    j = 0;
    {
#line 448
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 448
      if (! ((long )j < matrix->numcols_)) {
#line 448
        goto while_break___0;
      }
      {
#line 449
      x = *(*(matrix->rows_ + i) + j);
#line 450
      __cil_tmp9 = strlen((char const   *)(buf));
      }
#line 450
      if (__cil_tmp9 > 0UL) {
        {
#line 450
        strcpy((char *)tmp, " \343-\374PV");
        }
      } else {
        {
#line 450
        strcpy((char *)tmp, "\220");
        }
      }
      {
#line 450
      sprintf(sbuf, "%s%4ld", tmp, x);
#line 452
      __cil_tmp11 = strlen((char const   *)(buf));
#line 452
      n = (int )__cil_tmp11;
#line 453
      __cil_tmp12 = strlen((char const   *)(sbuf));
      }
#line 453
      if ((unsigned long )n + __cil_tmp12 > 80UL) {
        {
#line 454
        fputs((char const   *)(buf), out);
#line 455
        fputs("\ngJ\374PV", out);
#line 456
        buf[0] = (char )'\000';
        }
      }
      {
#line 458
      strcat(buf, (char const   *)(sbuf));
      }
#line 459
      if ((long )j == matrix->numcols_ - 1L) {
        {
#line 460
        fputs((char const   *)(buf), out);
#line 461
        fputs("\neJ\374PV", out);
#line 462
        buf[0] = (char )'\000';
        }
      }
#line 448
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 447
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 466
  fputs((char const   *)(buf), out);
  }
#line 468
  return (0);
}
}
#line 99 "/root/patron-new/new_2/src/libjasper/base/jas_malloc.c"
__inline int jas_safe_size_mul(size_t x , size_t y , size_t *result ) 
{ 


  {
#line 102
  if (x) {
#line 102
    if (y > 0xffffffffffffffffUL / x) {
#line 104
      *result = (size_t )0;
#line 105
      return (0);
    }
  }
#line 107
  *result = x * y;
#line 108
  return (1);
}
}
#line 115 "/root/patron-new/new_2/src/libjasper/base/jas_malloc.c"
void *jas_malloc(size_t size ) 
{ 
  void *__cil_tmp2 ;

  {
  {
#line 117
  __cil_tmp2 = malloc(size);
  }
#line 117
  return (__cil_tmp2);
}
}
#line 120 "/root/patron-new/new_2/src/libjasper/base/jas_malloc.c"
void *jas_realloc(void *ptr , size_t size ) 
{ 
  void *__cil_tmp3 ;

  {
  {
#line 122
  __cil_tmp3 = realloc(ptr, size);
  }
#line 122
  return (__cil_tmp3);
}
}
#line 125 "/root/patron-new/new_2/src/libjasper/base/jas_malloc.c"
void jas_free(void *ptr ) 
{ 


  {
  {
#line 127
  free(ptr);
  }
#line 129
  return;
}
}
#line 135 "/root/patron-new/new_2/src/libjasper/base/jas_malloc.c"
void *jas_alloc2(size_t num_elements , size_t element_size ) 
{ 
  size_t size ;
  int __cil_tmp4 ;
  void *__cil_tmp5 ;

  {
  {
#line 138
  __cil_tmp4 = jas_safe_size_mul(num_elements, element_size, & size);
  }
#line 138
  if (! __cil_tmp4) {
#line 139
    return ((void *)0);
  }
  {
#line 141
  __cil_tmp5 = jas_malloc(size);
  }
#line 141
  return (__cil_tmp5);
}
}
#line 144 "/root/patron-new/new_2/src/libjasper/base/jas_malloc.c"
void *jas_alloc3(size_t num_arrays , size_t array_size , size_t element_size ) 
{ 
  size_t size ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  void *__cil_tmp7 ;

  {
  {
#line 147
  __cil_tmp6 = jas_safe_size_mul(size, num_arrays, & size);
#line 147
  __cil_tmp5 = jas_safe_size_mul(array_size, element_size, & size);
  }
#line 147
  if (! __cil_tmp5) {
#line 149
    return ((void *)0);
  } else
#line 147
  if (! __cil_tmp6) {
#line 149
    return ((void *)0);
  }
  {
#line 151
  __cil_tmp7 = jas_malloc(size);
  }
#line 151
  return (__cil_tmp7);
}
}
#line 154 "/root/patron-new/new_2/src/libjasper/base/jas_malloc.c"
void *jas_realloc2(void *ptr , size_t num_elements , size_t element_size ) 
{ 
  size_t size ;
  int __cil_tmp5 ;
  void *__cil_tmp6 ;

  {
  {
#line 157
  __cil_tmp5 = jas_safe_size_mul(num_elements, element_size, & size);
  }
#line 157
  if (! __cil_tmp5) {
#line 158
    return ((void *)0);
  }
  {
#line 160
  __cil_tmp6 = realloc(ptr, size);
  }
#line 160
  return (__cil_tmp6);
}
}
#line 163 "/root/patron-new/new_2/src/libjasper/base/jas_malloc.c"
void *jas_calloc(size_t num_elements , size_t element_size ) 
{ 
  void *ptr ;
  size_t size ;
  int __cil_tmp5 ;

  {
  {
#line 167
  __cil_tmp5 = jas_safe_size_mul(num_elements, element_size, & size);
  }
#line 167
  if (! __cil_tmp5) {
#line 168
    return ((void *)0);
  }
  {
#line 170
  ptr = jas_malloc(size);
  }
#line 170
  if (! ptr) {
#line 171
    return ((void *)0);
  }
  {
#line 173
  memset(ptr, 0, size);
  }
#line 174
  return (ptr);
}
}
#line 75 "../../../src/libjasper/include/jasper/jas_init.h"
int jas_init(void) ;
#line 77
void jas_cleanup(void) ;
#line 75 "/root/patron-new/new_2/src/libjasper/base/jas_init.c"
int jas_init(void) 
{ 
  jas_image_fmtops_t fmtops ;
  int fmtid ;

  {
  {
#line 80
  fmtid = 0;
#line 83
  fmtops.decode = & mif_decode;
#line 84
  fmtops.encode = & mif_encode;
#line 85
  fmtops.validate = & mif_validate;
#line 86
  jas_image_addfmt(fmtid, (char *)"mif", (char *)"mif", (char *)"My Image Format (MIF)",
                   & fmtops);
#line 87
  fmtid ++;
#line 91
  fmtops.decode = & pnm_decode;
#line 92
  fmtops.encode = & pnm_encode;
#line 93
  fmtops.validate = & pnm_validate;
#line 94
  jas_image_addfmt(fmtid, (char *)"pnm", (char *)"pnm", (char *)"Portable Graymap/Pixmap (PNM)",
                   & fmtops);
#line 96
  jas_image_addfmt(fmtid, (char *)"pnm", (char *)"pgm", (char *)"Portable Graymap/Pixmap (PNM)",
                   & fmtops);
#line 98
  jas_image_addfmt(fmtid, (char *)"pnm", (char *)"ppm", (char *)"Portable Graymap/Pixmap (PNM)",
                   & fmtops);
#line 100
  fmtid ++;
#line 104
  fmtops.decode = & bmp_decode;
#line 105
  fmtops.encode = & bmp_encode;
#line 106
  fmtops.validate = & bmp_validate;
#line 107
  jas_image_addfmt(fmtid, (char *)"bmp", (char *)"bmp", (char *)"Microsoft Bitmap (BMP)",
                   & fmtops);
#line 108
  fmtid ++;
#line 112
  fmtops.decode = & ras_decode;
#line 113
  fmtops.encode = & ras_encode;
#line 114
  fmtops.validate = & ras_validate;
#line 115
  jas_image_addfmt(fmtid, (char *)"ras", (char *)"ras", (char *)"Sun Rasterfile (RAS)",
                   & fmtops);
#line 116
  fmtid ++;
#line 120
  fmtops.decode = & jp2_decode;
#line 121
  fmtops.encode = & jp2_encode;
#line 122
  fmtops.validate = & jp2_validate;
#line 123
  jas_image_addfmt(fmtid, (char *)"jp2", (char *)"jp2", (char *)"JPEG-2000 JP2 File Format Syntax (ISO/IEC 15444-1)",
                   & fmtops);
#line 125
  fmtid ++;
#line 126
  fmtops.decode = & jpc_decode;
#line 127
  fmtops.encode = & jpc_encode;
#line 128
  fmtops.validate = & jpc_validate;
#line 129
  jas_image_addfmt(fmtid, (char *)"jpc", (char *)"jpc", (char *)"JPEG-2000 Code Stream Syntax (ISO/IEC 15444-1)",
                   & fmtops);
#line 131
  fmtid ++;
#line 135
  fmtops.decode = & jpg_decode;
#line 136
  fmtops.encode = & jpg_encode;
#line 137
  fmtops.validate = & jpg_validate;
#line 138
  jas_image_addfmt(fmtid, (char *)"jpg", (char *)"jpg", (char *)"JPEG (ISO/IEC 10918-1)",
                   & fmtops);
#line 139
  fmtid ++;
#line 143
  fmtops.decode = & pgx_decode;
#line 144
  fmtops.encode = & pgx_encode;
#line 145
  fmtops.validate = & pgx_validate;
#line 146
  jas_image_addfmt(fmtid, (char *)"pgx", (char *)"pgx", (char *)"JPEG-2000 VM Format (PGX)",
                   & fmtops);
#line 147
  fmtid ++;
#line 154
  atexit(& jas_cleanup);
  }
#line 156
  return (0);
}
}
#line 159 "/root/patron-new/new_2/src/libjasper/base/jas_init.c"
void jas_cleanup(void) 
{ 


  {
  {
#line 161
  jas_image_clearfmts();
  }
#line 163
  return;
}
}
#line 95 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static jas_image_cmpt_t *jas_image_cmpt_create0(void) ;
#line 96
static void jas_image_cmpt_destroy(jas_image_cmpt_t *cmpt ) ;
#line 97
static jas_image_cmpt_t *jas_image_cmpt_create(uint_fast32_t tlx , uint_fast32_t tly ,
                                               uint_fast32_t hstep , uint_fast32_t vstep ,
                                               uint_fast32_t width , uint_fast32_t height ,
                                               uint_fast16_t depth , int sgnd , uint_fast32_t inmem ) ;
#line 100
static void jas_image_setbbox(jas_image_t *image ) ;
#line 101
static jas_image_cmpt_t *jas_image_cmpt_copy(jas_image_cmpt_t *cmpt ) ;
#line 102
static int jas_image_growcmpts(jas_image_t *image , int maxcmpts ) ;
#line 103
static uint_fast32_t inttobits(jas_seqent_t v , int prec , int sgnd ) ;
#line 104
static jas_seqent_t bitstoint(uint_fast32_t v , int prec , int sgnd ) ;
#line 105
static int putint(jas_stream_t *out , int sgnd , int prec , long val ) ;
#line 106
static int getint(jas_stream_t *in , int sgnd , int prec , long *val ) ;
#line 107
static void jas_image_calcbbox2(jas_image_t *image , jas_image_coord_t *tlx , jas_image_coord_t *tly ,
                                jas_image_coord_t *brx , jas_image_coord_t *bry ) ;
#line 109
static long uptomult(long x , long y ) ;
#line 110
static long downtomult(long x , long y ) ;
#line 111
static long convert(long val , int oldsgnd , int oldprec , int newsgnd , int newprec ) ;
#line 120 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static int jas_image_numfmts  =    0;
#line 121 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static jas_image_fmtinfo_t jas_image_fmtinfos[32]  ;
#line 127 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_create(int numcmpts , jas_image_cmptparm_t *cmptparms , int clrspc ) 
{ 
  jas_image_t *image ;
  uint_fast32_t rawsize ;
  uint_fast32_t inmem ;
  int cmptno ;
  jas_image_cmptparm_t *cmptparm ;
  void *tmp ;

  {
  {
#line 136
  image = jas_image_create0();
  }
#line 136
  if (! image) {
#line 137
    return ((jas_image_t *)0);
  }
  {
#line 140
  image->clrspc_ = clrspc;
#line 141
  image->maxcmpts_ = numcmpts;
#line 142
  image->inmem_ = 1;
#line 145
  tmp = jas_alloc2((size_t )image->maxcmpts_, sizeof(jas_image_cmpt_t *));
#line 145
  image->cmpts_ = (jas_image_cmpt_t **)tmp;
  }
#line 145
  if (! image->cmpts_) {
    {
#line 147
    jas_image_destroy(image);
    }
#line 148
    return ((jas_image_t *)0);
  }
#line 151
  cmptno = 0;
  {
#line 151
  while (1) {
    while_continue: /* CIL Label */ ;

#line 151
    if (! (cmptno < image->maxcmpts_)) {
#line 151
      goto while_break;
    }
#line 152
    *(image->cmpts_ + cmptno) = (jas_image_cmpt_t *)0;
#line 151
    cmptno ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
#line 156
  rawsize = (uint_fast32_t )0;
#line 157
  cmptparm = cmptparms;
#line 157
  cmptno = 0;
  {
#line 157
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 157
    if (! (cmptno < numcmpts)) {
#line 157
      goto while_break___0;
    }
#line 159
    rawsize += (unsigned long )(((cmptparm->width * cmptparm->height) * (long )(cmptparm->prec + 7)) / 8L);
#line 157
    cmptparm ++;
#line 157
    cmptno ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: 
#line 164
  inmem = (uint_fast32_t )(rawsize < 16777216UL);
#line 167
  cmptparm = cmptparms;
#line 167
  cmptno = 0;
  {
#line 167
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 167
    if (! (cmptno < numcmpts)) {
#line 167
      goto while_break___1;
    }
    {
#line 169
    *(image->cmpts_ + cmptno) = jas_image_cmpt_create((uint_fast32_t )cmptparm->tlx,
                                                      (uint_fast32_t )cmptparm->tly,
                                                      (uint_fast32_t )cmptparm->hstep,
                                                      (uint_fast32_t )cmptparm->vstep,
                                                      (uint_fast32_t )cmptparm->width,
                                                      (uint_fast32_t )cmptparm->height,
                                                      (uint_fast16_t )cmptparm->prec,
                                                      cmptparm->sgnd, inmem);
    }
#line 169
    if (! *(image->cmpts_ + cmptno)) {
      {
#line 173
      jas_image_destroy(image);
      }
#line 174
      return ((jas_image_t *)0);
    }
#line 176
    (image->numcmpts_) ++;
#line 167
    cmptparm ++;
#line 167
    cmptno ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___1: 
  {
#line 181
  jas_image_setbbox(image);
  }
#line 183
  return (image);
}
}
#line 186 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_create0(void) 
{ 
  jas_image_t *image ;
  void *tmp ;

  {
  {
#line 190
  tmp = jas_malloc(sizeof(jas_image_t ));
#line 190
  image = (jas_image_t *)tmp;
  }
#line 190
  if (! image) {
#line 191
    return ((jas_image_t *)0);
  }
#line 194
  image->tlx_ = (jas_image_coord_t )0;
#line 195
  image->tly_ = (jas_image_coord_t )0;
#line 196
  image->brx_ = (jas_image_coord_t )0;
#line 197
  image->bry_ = (jas_image_coord_t )0;
#line 198
  image->clrspc_ = 16384;
#line 199
  image->numcmpts_ = 0;
#line 200
  image->maxcmpts_ = 0;
#line 201
  image->cmpts_ = (jas_image_cmpt_t **)0;
#line 202
  image->inmem_ = 1;
#line 203
  image->cmprof_ = (jas_cmprof_t *)0;
#line 205
  return (image);
}
}
#line 208 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_copy(jas_image_t *image ) 
{ 
  jas_image_t *newimage ;
  int cmptno ;
  int __cil_tmp5 ;

  {
  {
#line 213
  newimage = jas_image_create0();
#line 214
  __cil_tmp5 = jas_image_growcmpts(newimage, image->numcmpts_);
  }
#line 214
  if (__cil_tmp5) {
#line 215
    goto error;
  }
#line 217
  cmptno = 0;
  {
#line 217
  while (1) {
    while_continue: /* CIL Label */ ;

#line 217
    if (! (cmptno < image->numcmpts_)) {
#line 217
      goto while_break;
    }
    {
#line 218
    *(newimage->cmpts_ + cmptno) = jas_image_cmpt_copy(*(image->cmpts_ + cmptno));
    }
#line 218
    if (! *(newimage->cmpts_ + cmptno)) {
#line 219
      goto error;
    }
#line 221
    (newimage->numcmpts_) ++;
#line 217
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 224
  jas_image_setbbox(newimage);
  }
#line 226
  if (image->cmprof_) {
    {
#line 227
    newimage->cmprof_ = jas_cmprof_copy(image->cmprof_);
    }
#line 227
    if (! newimage->cmprof_) {
#line 228
      goto error;
    }
  }
#line 231
  return (newimage);
  error: 
#line 233
  if (newimage) {
    {
#line 234
    jas_image_destroy(newimage);
    }
  }
#line 236
  return ((jas_image_t *)0);
}
}
#line 239 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static jas_image_cmpt_t *jas_image_cmpt_create0(void) 
{ 
  jas_image_cmpt_t *cmpt ;
  void *tmp ;

  {
  {
#line 242
  tmp = jas_malloc(sizeof(jas_image_cmpt_t ));
#line 242
  cmpt = (jas_image_cmpt_t *)tmp;
  }
#line 242
  if (! cmpt) {
#line 243
    return ((jas_image_cmpt_t *)0);
  }
  {
#line 245
  memset((void *)cmpt, 0, sizeof(jas_image_cmpt_t ));
#line 246
  cmpt->type_ = (jas_image_cmpttype_t )65536;
  }
#line 247
  return (cmpt);
}
}
#line 250 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static jas_image_cmpt_t *jas_image_cmpt_copy(jas_image_cmpt_t *cmpt ) 
{ 
  jas_image_cmpt_t *newcmpt ;
  long __cil_tmp5 ;
  int __cil_tmp6 ;
  long __cil_tmp7 ;

  {
  {
#line 254
  newcmpt = jas_image_cmpt_create0();
  }
#line 254
  if (! newcmpt) {
#line 255
    return ((jas_image_cmpt_t *)0);
  }
  {
#line 257
  newcmpt->tlx_ = cmpt->tlx_;
#line 258
  newcmpt->tly_ = cmpt->tly_;
#line 259
  newcmpt->hstep_ = cmpt->hstep_;
#line 260
  newcmpt->vstep_ = cmpt->vstep_;
#line 261
  newcmpt->width_ = cmpt->width_;
#line 262
  newcmpt->height_ = cmpt->height_;
#line 263
  newcmpt->prec_ = cmpt->prec_;
#line 264
  newcmpt->sgnd_ = cmpt->sgnd_;
#line 265
  newcmpt->cps_ = cmpt->cps_;
#line 266
  newcmpt->type_ = cmpt->type_;
#line 267
  newcmpt->stream_ = jas_stream_memopen((char *)0, 0);
  }
#line 267
  if (! newcmpt->stream_) {
#line 268
    return ((jas_image_cmpt_t *)0);
  }
  {
#line 270
  __cil_tmp5 = jas_stream_seek(cmpt->stream_, 0L, 0);
  }
#line 270
  if (__cil_tmp5) {
#line 271
    return ((jas_image_cmpt_t *)0);
  }
  {
#line 273
  __cil_tmp6 = jas_stream_copy(newcmpt->stream_, cmpt->stream_, -1);
  }
#line 273
  if (__cil_tmp6) {
#line 274
    return ((jas_image_cmpt_t *)0);
  }
  {
#line 276
  __cil_tmp7 = jas_stream_seek(newcmpt->stream_, 0L, 0);
  }
#line 276
  if (__cil_tmp7) {
#line 277
    return ((jas_image_cmpt_t *)0);
  }
#line 279
  return (newcmpt);
}
}
#line 282 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
void jas_image_destroy(jas_image_t *image ) 
{ 
  int i ;

  {
#line 286
  if (image->cmpts_) {
#line 287
    i = 0;
    {
#line 287
    while (1) {
      while_continue: /* CIL Label */ ;

#line 287
      if (! (i < image->numcmpts_)) {
#line 287
        goto while_break;
      }
      {
#line 288
      jas_image_cmpt_destroy(*(image->cmpts_ + i));
#line 289
      *(image->cmpts_ + i) = (jas_image_cmpt_t *)0;
#line 287
      i ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 291
    jas_free((void *)image->cmpts_);
    }
  }
#line 293
  if (image->cmprof_) {
    {
#line 294
    jas_cmprof_destroy(image->cmprof_);
    }
  }
  {
#line 295
  jas_free((void *)image);
  }
#line 297
  return;
}
}
#line 298 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static jas_image_cmpt_t *jas_image_cmpt_create(uint_fast32_t tlx , uint_fast32_t tly ,
                                               uint_fast32_t hstep , uint_fast32_t vstep ,
                                               uint_fast32_t width , uint_fast32_t height ,
                                               uint_fast16_t depth , int sgnd , uint_fast32_t inmem ) 
{ 
  jas_image_cmpt_t *cmpt ;
  long size ;
  jas_stream_t *__cil_tmp13 ;
  jas_stream_t *__cil_tmp14 ;
  jas_stream_t *tmp ;
  long __cil_tmp16 ;
  int __cil_tmp17 ;
  unsigned char *__cil_tmp18 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  long __cil_tmp22 ;
  void *tmp___3 ;

  {
  {
#line 305
  tmp___3 = jas_malloc(sizeof(jas_image_cmpt_t ));
#line 305
  cmpt = (jas_image_cmpt_t *)tmp___3;
  }
#line 305
  if (! cmpt) {
#line 306
    return ((jas_image_cmpt_t *)0);
  }
#line 309
  cmpt->type_ = (jas_image_cmpttype_t )65536;
#line 310
  cmpt->tlx_ = (jas_image_coord_t )tlx;
#line 311
  cmpt->tly_ = (jas_image_coord_t )tly;
#line 312
  cmpt->hstep_ = (jas_image_coord_t )hstep;
#line 313
  cmpt->vstep_ = (jas_image_coord_t )vstep;
#line 314
  cmpt->width_ = (jas_image_coord_t )width;
#line 315
  cmpt->height_ = (jas_image_coord_t )height;
#line 316
  cmpt->prec_ = (int )depth;
#line 317
  cmpt->sgnd_ = sgnd;
#line 318
  cmpt->stream_ = (jas_stream_t *)0;
#line 319
  cmpt->cps_ = (int )((depth + 7UL) / 8UL);
#line 321
  size = (cmpt->width_ * cmpt->height_) * (long )cmpt->cps_;
#line 322
  if (inmem) {
    {
#line 322
    __cil_tmp13 = jas_stream_memopen((char *)0, (int )size);
#line 322
    tmp = __cil_tmp13;
    }
  } else {
    {
#line 322
    __cil_tmp14 = jas_stream_tmpfile();
#line 322
    tmp = __cil_tmp14;
    }
  }
#line 322
  cmpt->stream_ = tmp;
#line 323
  if (! cmpt->stream_) {
    {
#line 324
    jas_image_cmpt_destroy(cmpt);
    }
#line 325
    return ((jas_image_cmpt_t *)0);
  }
  {
#line 330
  __cil_tmp22 = jas_stream_seek(cmpt->stream_, 0L, 0);
  }
#line 330
  if (! ((cmpt->stream_)->flags_ & 7)) {
#line 330
    if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 330
      if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 330
        (cmpt->stream_)->flags_ |= 4;
#line 330
        tmp___1 = -1;
      } else {
#line 330
        goto _L___27;
      }
    } else {
      _L___27: /* CIL Label */ 
#line 330
      ((cmpt->stream_)->cnt_) --;
#line 330
      (cmpt->stream_)->bufmode_ |= 32;
#line 330
      if ((cmpt->stream_)->cnt_ < 0) {
        {
#line 330
        __cil_tmp17 = jas_stream_flushbuf(cmpt->stream_, 0);
#line 330
        tmp___0 = __cil_tmp17;
        }
      } else {
#line 330
        __cil_tmp18 = (cmpt->stream_)->ptr_;
#line 330
        ((cmpt->stream_)->ptr_) ++;
#line 330
        *__cil_tmp18 = (unsigned char)0;
#line 330
        ((cmpt->stream_)->rwcnt_) ++;
#line 330
        tmp___0 = (int )*__cil_tmp18;
      }
#line 330
      tmp___1 = tmp___0;
    }
#line 330
    tmp___2 = tmp___1;
  } else {
#line 330
    tmp___2 = -1;
  }
  {
#line 330
  __cil_tmp16 = jas_stream_seek(cmpt->stream_, size - 1L, 0);
  }
#line 330
  if (__cil_tmp16 < 0L) {
    {
#line 333
    jas_image_cmpt_destroy(cmpt);
    }
#line 334
    return ((jas_image_cmpt_t *)0);
  } else
#line 330
  if (tmp___2 == -1) {
    {
#line 333
    jas_image_cmpt_destroy(cmpt);
    }
#line 334
    return ((jas_image_cmpt_t *)0);
  } else
#line 330
  if (__cil_tmp22 < 0L) {
    {
#line 333
    jas_image_cmpt_destroy(cmpt);
    }
#line 334
    return ((jas_image_cmpt_t *)0);
  }
#line 337
  return (cmpt);
}
}
#line 340 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static void jas_image_cmpt_destroy(jas_image_cmpt_t *cmpt ) 
{ 


  {
#line 342
  if (cmpt->stream_) {
    {
#line 343
    jas_stream_close(cmpt->stream_);
    }
  }
  {
#line 345
  jas_free((void *)cmpt);
  }
#line 347
  return;
}
}
#line 352 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_decode(jas_stream_t *in , int fmt , char *optstr ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;
  jas_image_t *image ;

  {
#line 357
  image = (jas_image_t *)0;
#line 360
  if (fmt < 0) {
    {
#line 361
    fmt = jas_image_getfmt(in);
    }
#line 361
    if (fmt < 0) {
#line 362
      goto error;
    }
  }
  {
#line 366
  fmtinfo = jas_image_lookupfmtbyid(fmt);
  }
#line 366
  if (! fmtinfo) {
#line 367
    goto error;
  }
#line 368
  if (! fmtinfo->ops.decode) {
#line 369
    goto error;
  }
  {
#line 372
  image = (*(fmtinfo->ops.decode))(in, optstr);
  }
#line 372
  if (! image) {
#line 373
    goto error;
  }
#line 376
  if (! image->cmprof_) {
#line 376
    if (! (image->clrspc_ & 16384)) {
#line 376
      if (! (! (image->clrspc_ & 255))) {
        {
#line 378
        image->cmprof_ = jas_cmprof_createfromclrspc(image->clrspc_);
        }
#line 378
        if (! image->cmprof_) {
#line 380
          goto error;
        }
      }
    }
  }
#line 383
  return (image);
  error: 
#line 385
  if (image) {
    {
#line 386
    jas_image_destroy(image);
    }
  }
#line 387
  return ((jas_image_t *)0);
}
}
#line 390 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_encode(jas_image_t *image , jas_stream_t *out , int fmt , char *optstr ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;
  int __cil_tmp7 ;
  int tmp ;

  {
  {
#line 393
  fmtinfo = jas_image_lookupfmtbyid(fmt);
  }
#line 393
  if (! fmtinfo) {
#line 394
    return (-1);
  }
#line 396
  if (fmtinfo->ops.encode) {
    {
#line 396
    __cil_tmp7 = (*(fmtinfo->ops.encode))(image, out, optstr);
#line 396
    tmp = __cil_tmp7;
    }
  } else {
#line 396
    tmp = -1;
  }
#line 396
  return (tmp);
}
}
#line 404 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_readcmpt(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                       jas_image_coord_t width , jas_image_coord_t height , jas_matrix_t *data ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t i ;
  jas_image_coord_t j ;
  int k ;
  jas_seqent_t v ;
  int c ;
  jas_seqent_t *dr ;
  jas_seqent_t *d ;
  int drs ;
  int __cil_tmp17 ;
  jas_seqent_t *tmp ;
  long __cil_tmp19 ;
  int __cil_tmp20 ;
  unsigned char *__cil_tmp21 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 418
  if (cmptno < 0) {
#line 419
    return (-1);
  } else
#line 418
  if (cmptno >= image->numcmpts_) {
#line 419
    return (-1);
  }
#line 422
  cmpt = *(image->cmpts_ + cmptno);
#line 423
  if (x >= cmpt->width_) {
#line 426
    return (-1);
  } else
#line 423
  if (y >= cmpt->height_) {
#line 426
    return (-1);
  } else
#line 423
  if (x + width > cmpt->width_) {
#line 426
    return (-1);
  } else
#line 423
  if (y + height > cmpt->height_) {
#line 426
    return (-1);
  }
#line 429
  if (! data->numrows_) {
#line 430
    return (-1);
  } else
#line 429
  if (! data->numcols_) {
#line 430
    return (-1);
  }
#line 433
  if (data->numrows_ != height) {
    _L: 
    {
#line 434
    __cil_tmp17 = jas_matrix_resize(data, (int )height, (int )width);
    }
#line 434
    if (__cil_tmp17) {
#line 435
      return (-1);
    }
  } else
#line 433
  if (data->numcols_ != width) {
#line 433
    goto _L;
  }
#line 439
  dr = *(data->rows_ + 0) + 0;
#line 440
  if (data->numrows_ > 1L) {
#line 440
    tmp = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 440
    tmp = (jas_seqent_t *)0L;
  }
#line 440
  drs = (int )tmp;
#line 441
  i = (jas_image_coord_t )0;
  {
#line 441
  while (1) {
    while_continue: /* CIL Label */ ;

#line 441
    if (! (i < height)) {
#line 441
      goto while_break;
    }
    {
#line 442
    d = dr;
#line 443
    __cil_tmp19 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (y + i) + x) * (long )cmpt->cps_,
                                  0);
    }
#line 443
    if (__cil_tmp19 < 0L) {
#line 445
      return (-1);
    }
#line 447
    j = width;
    {
#line 447
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 447
      if (! (j > 0L)) {
#line 447
        goto while_break___0;
      }
#line 448
      v = (jas_seqent_t )0;
#line 449
      k = cmpt->cps_;
      {
#line 449
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 449
        if (! (k > 0)) {
#line 449
          goto while_break___1;
        }
#line 450
        if (! ((cmpt->stream_)->flags_ & 7)) {
#line 450
          if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 450
            if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 450
              (cmpt->stream_)->flags_ |= 4;
#line 450
              tmp___1 = -1;
            } else {
#line 450
              goto _L___27;
            }
          } else {
            _L___27: /* CIL Label */ 
#line 450
            ((cmpt->stream_)->cnt_) --;
#line 450
            if ((cmpt->stream_)->cnt_ < 0) {
              {
#line 450
              __cil_tmp20 = jas_stream_fillbuf(cmpt->stream_, 1);
#line 450
              tmp___0 = __cil_tmp20;
              }
            } else {
#line 450
              __cil_tmp21 = (cmpt->stream_)->ptr_;
#line 450
              ((cmpt->stream_)->ptr_) ++;
#line 450
              ((cmpt->stream_)->rwcnt_) ++;
#line 450
              tmp___0 = (int )*__cil_tmp21;
            }
#line 450
            tmp___1 = tmp___0;
          }
#line 450
          tmp___2 = tmp___1;
        } else {
#line 450
          tmp___2 = -1;
        }
#line 450
        c = tmp___2;
#line 450
        if (c == -1) {
#line 451
          return (-1);
        }
#line 453
        v = (v << 8) | (long )(c & 255);
#line 449
        k --;
      }
      while_break___4: /* CIL Label */ ;
      }
      while_break___1: 
      {
#line 455
      *d = bitstoint((uint_fast32_t )v, cmpt->prec_, cmpt->sgnd_);
#line 447
      d ++;
#line 447
      j --;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
#line 441
    dr += drs;
#line 441
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 459
  return (0);
}
}
#line 462 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_writecmpt(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                        jas_image_coord_t width , jas_image_coord_t height , jas_matrix_t *data ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t i ;
  jas_image_coord_t j ;
  jas_seqent_t *d ;
  jas_seqent_t *dr ;
  int drs ;
  jas_seqent_t v ;
  int k ;
  int c ;
  jas_seqent_t *tmp ;
  long __cil_tmp18 ;
  uint_fast32_t __cil_tmp19 ;
  int __cil_tmp20 ;
  unsigned char *__cil_tmp21 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 475
  if (cmptno < 0) {
#line 476
    return (-1);
  } else
#line 475
  if (cmptno >= image->numcmpts_) {
#line 476
    return (-1);
  }
#line 479
  cmpt = *(image->cmpts_ + cmptno);
#line 480
  if (x >= cmpt->width_) {
#line 483
    return (-1);
  } else
#line 480
  if (y >= cmpt->height_) {
#line 483
    return (-1);
  } else
#line 480
  if (x + width > cmpt->width_) {
#line 483
    return (-1);
  } else
#line 480
  if (y + height > cmpt->height_) {
#line 483
    return (-1);
  }
#line 486
  if (! data->numrows_) {
#line 487
    return (-1);
  } else
#line 486
  if (! data->numcols_) {
#line 487
    return (-1);
  }
#line 490
  if (data->numrows_ != height) {
#line 491
    return (-1);
  } else
#line 490
  if (data->numcols_ != width) {
#line 491
    return (-1);
  }
#line 494
  dr = *(data->rows_ + 0) + 0;
#line 495
  if (data->numrows_ > 1L) {
#line 495
    tmp = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 495
    tmp = (jas_seqent_t *)0L;
  }
#line 495
  drs = (int )tmp;
#line 496
  i = (jas_image_coord_t )0;
  {
#line 496
  while (1) {
    while_continue: /* CIL Label */ ;

#line 496
    if (! (i < height)) {
#line 496
      goto while_break;
    }
    {
#line 497
    d = dr;
#line 498
    __cil_tmp18 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (y + i) + x) * (long )cmpt->cps_,
                                  0);
    }
#line 498
    if (__cil_tmp18 < 0L) {
#line 500
      return (-1);
    }
#line 502
    j = width;
    {
#line 502
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 502
      if (! (j > 0L)) {
#line 502
        goto while_break___0;
      }
      {
#line 503
      __cil_tmp19 = inttobits(*d, cmpt->prec_, cmpt->sgnd_);
#line 503
      v = (jas_seqent_t )__cil_tmp19;
#line 504
      k = cmpt->cps_;
      }
      {
#line 504
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 504
        if (! (k > 0)) {
#line 504
          goto while_break___1;
        }
#line 505
        c = (int )((v >> 8 * (cmpt->cps_ - 1)) & 255L);
#line 506
        if (! ((cmpt->stream_)->flags_ & 7)) {
#line 506
          if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 506
            if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 506
              (cmpt->stream_)->flags_ |= 4;
#line 506
              tmp___1 = -1;
            } else {
#line 506
              goto _L___27;
            }
          } else {
            _L___27: /* CIL Label */ 
#line 506
            ((cmpt->stream_)->cnt_) --;
#line 506
            (cmpt->stream_)->bufmode_ |= 32;
#line 506
            if ((cmpt->stream_)->cnt_ < 0) {
              {
#line 506
              __cil_tmp20 = jas_stream_flushbuf(cmpt->stream_, (int )((unsigned char )c));
#line 506
              tmp___0 = __cil_tmp20;
              }
            } else {
#line 506
              __cil_tmp21 = (cmpt->stream_)->ptr_;
#line 506
              ((cmpt->stream_)->ptr_) ++;
#line 506
              *__cil_tmp21 = (unsigned char )c;
#line 506
              ((cmpt->stream_)->rwcnt_) ++;
#line 506
              tmp___0 = (int )*__cil_tmp21;
            }
#line 506
            tmp___1 = tmp___0;
          }
#line 506
          tmp___2 = tmp___1;
        } else {
#line 506
          tmp___2 = -1;
        }
#line 506
        if (tmp___2 == -1) {
#line 508
          return (-1);
        }
#line 510
        v <<= 8;
#line 504
        k --;
      }
      while_break___4: /* CIL Label */ ;
      }
      while_break___1: 
#line 502
      d ++;
#line 502
      j --;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
#line 496
    dr += drs;
#line 496
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 515
  return (0);
}
}
#line 522 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
void jas_image_clearfmts(void) 
{ 
  int i ;
  jas_image_fmtinfo_t *fmtinfo ;

  {
#line 526
  i = 0;
  {
#line 526
  while (1) {
    while_continue: /* CIL Label */ ;

#line 526
    if (! (i < jas_image_numfmts)) {
#line 526
      goto while_break;
    }
#line 527
    fmtinfo = & jas_image_fmtinfos[i];
#line 528
    if (fmtinfo->name) {
      {
#line 529
      jas_free((void *)fmtinfo->name);
#line 530
      fmtinfo->name = (char *)0;
      }
    }
#line 532
    if (fmtinfo->ext) {
      {
#line 533
      jas_free((void *)fmtinfo->ext);
#line 534
      fmtinfo->ext = (char *)0;
      }
    }
#line 536
    if (fmtinfo->desc) {
      {
#line 537
      jas_free((void *)fmtinfo->desc);
#line 538
      fmtinfo->desc = (char *)0;
      }
    }
#line 526
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 541
  jas_image_numfmts = 0;
#line 542
  return;
}
}
#line 544 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_addfmt(int id , char *name , char *ext , char *desc , jas_image_fmtops_t *ops ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;

  {
#line 549
  if (jas_image_numfmts >= 32) {
#line 550
    return (-1);
  }
  {
#line 552
  fmtinfo = & jas_image_fmtinfos[jas_image_numfmts];
#line 553
  fmtinfo->id = id;
#line 554
  fmtinfo->name = jas_strdup((char const   *)name);
  }
#line 554
  if (! fmtinfo->name) {
#line 555
    return (-1);
  }
  {
#line 557
  fmtinfo->ext = jas_strdup((char const   *)ext);
  }
#line 557
  if (! fmtinfo->ext) {
    {
#line 558
    jas_free((void *)fmtinfo->name);
    }
#line 559
    return (-1);
  }
  {
#line 561
  fmtinfo->desc = jas_strdup((char const   *)desc);
  }
#line 561
  if (! fmtinfo->desc) {
    {
#line 562
    jas_free((void *)fmtinfo->name);
#line 563
    jas_free((void *)fmtinfo->ext);
    }
#line 564
    return (-1);
  }
#line 566
  fmtinfo->ops = *ops;
#line 567
  jas_image_numfmts ++;
#line 568
  return (0);
}
}
#line 571 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_strtofmt(char *name ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;

  {
  {
#line 574
  fmtinfo = jas_image_lookupfmtbyname((char const   *)name);
  }
#line 574
  if (! fmtinfo) {
#line 575
    return (-1);
  }
#line 577
  return (fmtinfo->id);
}
}
#line 580 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
char *jas_image_fmttostr(int fmt ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;

  {
  {
#line 583
  fmtinfo = jas_image_lookupfmtbyid(fmt);
  }
#line 583
  if (! fmtinfo) {
#line 584
    return ((char *)0);
  }
#line 586
  return (fmtinfo->name);
}
}
#line 589 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_getfmt(jas_stream_t *in ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;
  int found ;
  int i ;
  int __cil_tmp5 ;
  int tmp ;

  {
#line 596
  found = 0;
#line 597
  fmtinfo = jas_image_fmtinfos;
#line 597
  i = 0;
  {
#line 597
  while (1) {
    while_continue: /* CIL Label */ ;

#line 597
    if (! (i < jas_image_numfmts)) {
#line 597
      goto while_break;
    }
#line 599
    if (fmtinfo->ops.validate) {
      {
#line 601
      __cil_tmp5 = (*(fmtinfo->ops.validate))(in);
      }
#line 601
      if (! __cil_tmp5) {
#line 602
        found = 1;
#line 603
        goto while_break;
      }
    }
#line 597
    fmtinfo ++;
#line 597
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 607
  if (found) {
#line 607
    tmp = fmtinfo->id;
  } else {
#line 607
    tmp = -1;
  }
#line 607
  return (tmp);
}
}
#line 610 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_fmtfromname(char *name ) 
{ 
  int i ;
  char *ext ;
  jas_image_fmtinfo_t *fmtinfo ;
  int __cil_tmp6 ;

  {
  {
#line 616
  ext = strrchr((char const   *)name, '.');
  }
#line 616
  if (! ext) {
#line 617
    return (-1);
  }
#line 619
  ext ++;
#line 621
  fmtinfo = jas_image_fmtinfos;
#line 621
  i = 0;
  {
#line 621
  while (1) {
    while_continue: /* CIL Label */ ;

#line 621
    if (! (i < jas_image_numfmts)) {
#line 621
      goto while_break;
    }
    {
#line 624
    __cil_tmp6 = strcmp((char const   *)ext, (char const   *)fmtinfo->ext);
    }
#line 624
    if (! __cil_tmp6) {
#line 625
      return (fmtinfo->id);
    }
#line 621
    fmtinfo ++;
#line 621
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 628
  return (-1);
}
}
#line 635 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
uint_fast32_t jas_image_rawsize(jas_image_t *image ) 
{ 
  uint_fast32_t rawsize ;
  int cmptno ;
  jas_image_cmpt_t *cmpt ;

  {
#line 641
  rawsize = (uint_fast32_t )0;
#line 642
  cmptno = 0;
  {
#line 642
  while (1) {
    while_continue: /* CIL Label */ ;

#line 642
    if (! (cmptno < image->numcmpts_)) {
#line 642
      goto while_break;
    }
#line 643
    cmpt = *(image->cmpts_ + cmptno);
#line 644
    rawsize += (unsigned long )(((cmpt->width_ * cmpt->height_) * (long )cmpt->prec_ + 7L) / 8L);
#line 642
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 647
  return (rawsize);
}
}
#line 650 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
void jas_image_delcmpt(jas_image_t *image , int cmptno ) 
{ 


  {
#line 652
  if (cmptno >= image->numcmpts_) {
#line 653
    return;
  }
  {
#line 655
  jas_image_cmpt_destroy(*(image->cmpts_ + cmptno));
  }
#line 656
  if (cmptno < image->numcmpts_) {
    {
#line 657
    memmove((void *)(image->cmpts_ + cmptno), (void const   *)(image->cmpts_ + (cmptno + 1)),
            (unsigned long )((image->numcmpts_ - 1) - cmptno) * sizeof(jas_image_cmpt_t *));
    }
  }
  {
#line 660
  (image->numcmpts_) --;
#line 662
  jas_image_setbbox(image);
  }
#line 664
  return;
}
}
#line 665 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_addcmpt(jas_image_t *image , int cmptno , jas_image_cmptparm_t *cmptparm ) 
{ 
  jas_image_cmpt_t *newcmpt ;
  int __cil_tmp6 ;

  {
#line 669
  if (cmptno < 0) {
#line 670
    cmptno = image->numcmpts_;
  }
#line 672
  if (image->numcmpts_ >= image->maxcmpts_) {
    {
#line 673
    __cil_tmp6 = jas_image_growcmpts(image, image->maxcmpts_ + 128);
    }
#line 673
    if (__cil_tmp6) {
#line 674
      return (-1);
    }
  }
  {
#line 677
  newcmpt = jas_image_cmpt_create((uint_fast32_t )cmptparm->tlx, (uint_fast32_t )cmptparm->tly,
                                  (uint_fast32_t )cmptparm->hstep, (uint_fast32_t )cmptparm->vstep,
                                  (uint_fast32_t )cmptparm->width, (uint_fast32_t )cmptparm->height,
                                  (uint_fast16_t )cmptparm->prec, cmptparm->sgnd,
                                  (uint_fast32_t )1);
  }
#line 677
  if (! newcmpt) {
#line 681
    return (-1);
  }
#line 683
  if (cmptno < image->numcmpts_) {
    {
#line 684
    memmove((void *)(image->cmpts_ + (cmptno + 1)), (void const   *)(image->cmpts_ + cmptno),
            (unsigned long )(image->numcmpts_ - cmptno) * sizeof(jas_image_cmpt_t *));
    }
  }
  {
#line 687
  *(image->cmpts_ + cmptno) = newcmpt;
#line 688
  (image->numcmpts_) ++;
#line 690
  jas_image_setbbox(image);
  }
#line 692
  return (0);
}
}
#line 695 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
jas_image_fmtinfo_t *jas_image_lookupfmtbyid(int id ) 
{ 
  int i ;
  jas_image_fmtinfo_t *fmtinfo ;

  {
#line 700
  fmtinfo = jas_image_fmtinfos;
#line 700
  i = 0;
  {
#line 700
  while (1) {
    while_continue: /* CIL Label */ ;

#line 700
    if (! (i < jas_image_numfmts)) {
#line 700
      goto while_break;
    }
#line 701
    if (fmtinfo->id == id) {
#line 702
      return (fmtinfo);
    }
#line 700
    fmtinfo ++;
#line 700
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 705
  return ((jas_image_fmtinfo_t *)0);
}
}
#line 708 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
jas_image_fmtinfo_t *jas_image_lookupfmtbyname(char const   *name ) 
{ 
  int i ;
  jas_image_fmtinfo_t *fmtinfo ;
  int __cil_tmp4 ;

  {
#line 713
  fmtinfo = jas_image_fmtinfos;
#line 713
  i = 0;
  {
#line 713
  while (1) {
    while_continue: /* CIL Label */ ;

#line 713
    if (! (i < jas_image_numfmts)) {
#line 713
      goto while_break;
    }
    {
#line 714
    __cil_tmp4 = strcmp((char const   *)fmtinfo->name, name);
    }
#line 714
    if (! __cil_tmp4) {
#line 715
      return (fmtinfo);
    }
#line 713
    fmtinfo ++;
#line 713
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 718
  return ((jas_image_fmtinfo_t *)0);
}
}
#line 725 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static uint_fast32_t inttobits(jas_seqent_t v , int prec , int sgnd ) 
{ 
  uint_fast32_t ret ;
  long tmp ;

  {
#line 728
  if (sgnd) {
#line 728
    if (v < 0L) {
#line 728
      tmp = (long )(1 << prec) + v;
    } else {
#line 728
      tmp = v;
    }
  } else {
#line 728
    tmp = v;
  }
#line 728
  ret = (uint_fast32_t )(tmp & (long )((1 << prec) - 1));
#line 729
  return (ret);
}
}
#line 732 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static jas_seqent_t bitstoint(uint_fast32_t v , int prec , int sgnd ) 
{ 
  jas_seqent_t ret ;
  uint_fast32_t tmp ;

  {
#line 735
  v &= (unsigned long )((1 << prec) - 1);
#line 736
  if (sgnd) {
#line 736
    if (v & (unsigned long )(1 << (prec - 1))) {
#line 736
      tmp = v - (unsigned long )(1 << prec);
    } else {
#line 736
      tmp = v;
    }
  } else {
#line 736
    tmp = v;
  }
#line 736
  ret = (jas_seqent_t )tmp;
#line 737
  return (ret);
}
}
#line 740 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static void jas_image_setbbox(jas_image_t *image ) 
{ 
  jas_image_cmpt_t *cmpt ;
  int cmptno ;
  int_fast32_t x ;
  int_fast32_t y ;

  {
#line 747
  if (image->numcmpts_ > 0) {
#line 750
    cmpt = *(image->cmpts_ + 0);
#line 751
    image->tlx_ = cmpt->tlx_;
#line 752
    image->tly_ = cmpt->tly_;
#line 753
    image->brx_ = (cmpt->tlx_ + cmpt->hstep_ * (cmpt->width_ - 1L)) + 1L;
#line 754
    image->bry_ = (cmpt->tly_ + cmpt->vstep_ * (cmpt->height_ - 1L)) + 1L;
#line 755
    cmptno = 1;
    {
#line 755
    while (1) {
      while_continue: /* CIL Label */ ;

#line 755
      if (! (cmptno < image->numcmpts_)) {
#line 755
        goto while_break;
      }
#line 756
      cmpt = *(image->cmpts_ + cmptno);
#line 757
      if (image->tlx_ > cmpt->tlx_) {
#line 758
        image->tlx_ = cmpt->tlx_;
      }
#line 760
      if (image->tly_ > cmpt->tly_) {
#line 761
        image->tly_ = cmpt->tly_;
      }
#line 763
      x = (cmpt->tlx_ + cmpt->hstep_ * (cmpt->width_ - 1L)) + 1L;
#line 764
      if (image->brx_ < x) {
#line 765
        image->brx_ = x;
      }
#line 767
      y = (cmpt->tly_ + cmpt->vstep_ * (cmpt->height_ - 1L)) + 1L;
#line 768
      if (image->bry_ < y) {
#line 769
        image->bry_ = y;
      }
#line 755
      cmptno ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  } else {
#line 773
    image->tlx_ = (jas_image_coord_t )0;
#line 774
    image->tly_ = (jas_image_coord_t )0;
#line 775
    image->brx_ = (jas_image_coord_t )0;
#line 776
    image->bry_ = (jas_image_coord_t )0;
  }
#line 778
  return;
}
}
#line 780 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static int jas_image_growcmpts(jas_image_t *image , int maxcmpts ) 
{ 
  jas_image_cmpt_t **newcmpts ;
  int cmptno ;
  void *__cil_tmp5 ;
  void *__cil_tmp6 ;
  void *tmp ;

  {
#line 785
  if (! image->cmpts_) {
    {
#line 785
    __cil_tmp5 = jas_alloc2((size_t )maxcmpts, sizeof(jas_image_cmpt_t *));
#line 785
    tmp = __cil_tmp5;
    }
  } else {
    {
#line 785
    __cil_tmp6 = jas_realloc2((void *)image->cmpts_, (size_t )maxcmpts, sizeof(jas_image_cmpt_t *));
#line 785
    tmp = __cil_tmp6;
    }
  }
#line 785
  newcmpts = (jas_image_cmpt_t **)tmp;
#line 787
  if (! newcmpts) {
#line 788
    return (-1);
  }
#line 790
  image->cmpts_ = newcmpts;
#line 791
  image->maxcmpts_ = maxcmpts;
#line 792
  cmptno = image->numcmpts_;
  {
#line 792
  while (1) {
    while_continue: /* CIL Label */ ;

#line 792
    if (! (cmptno < image->maxcmpts_)) {
#line 792
      goto while_break;
    }
#line 793
    *(image->cmpts_ + cmptno) = (jas_image_cmpt_t *)0;
#line 792
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 795
  return (0);
}
}
#line 798 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_copycmpt(jas_image_t *dstimage , int dstcmptno , jas_image_t *srcimage ,
                       int srccmptno ) 
{ 
  jas_image_cmpt_t *newcmpt ;
  int __cil_tmp6 ;

  {
#line 802
  if (dstimage->numcmpts_ >= dstimage->maxcmpts_) {
    {
#line 803
    __cil_tmp6 = jas_image_growcmpts(dstimage, dstimage->maxcmpts_ + 128);
    }
#line 803
    if (__cil_tmp6) {
#line 804
      return (-1);
    }
  }
  {
#line 807
  newcmpt = jas_image_cmpt_copy(*(srcimage->cmpts_ + srccmptno));
  }
#line 807
  if (! newcmpt) {
#line 808
    return (-1);
  }
#line 810
  if (dstcmptno < dstimage->numcmpts_) {
    {
#line 811
    memmove((void *)(dstimage->cmpts_ + (dstcmptno + 1)), (void const   *)(dstimage->cmpts_ + dstcmptno),
            (unsigned long )(dstimage->numcmpts_ - dstcmptno) * sizeof(jas_image_cmpt_t *));
    }
  }
  {
#line 814
  *(dstimage->cmpts_ + dstcmptno) = newcmpt;
#line 815
  (dstimage->numcmpts_) ++;
#line 817
  jas_image_setbbox(dstimage);
  }
#line 818
  return (0);
}
}
#line 821 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
void jas_image_dump(jas_image_t *image , FILE *out ) 
{ 
  long buf[1024] ;
  int cmptno ;
  int n ;
  int i ;
  int width ;
  int height ;
  jas_image_cmpt_t *cmpt ;
  int tmp ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;

  {
#line 830
  cmptno = 0;
  {
#line 830
  while (1) {
    while_continue: /* CIL Label */ ;

#line 830
    if (! (cmptno < image->numcmpts_)) {
#line 830
      goto while_break;
    }
    {
#line 831
    cmpt = *(image->cmpts_ + cmptno);
#line 832
    fprintf(out, "prec=%d, sgnd=%d, cmpttype=%d\n", cmpt->prec_, cmpt->sgnd_, cmpt->type_);
#line 834
    width = (int )(*(image->cmpts_ + cmptno))->width_;
#line 835
    height = (int )(*(image->cmpts_ + cmptno))->height_;
    }
#line 836
    if (16 < width) {
#line 836
      tmp = 16;
    } else {
#line 836
      tmp = width;
    }
    {
#line 836
    n = tmp;
#line 837
    __cil_tmp11 = jas_image_readcmpt2(image, cmptno, (jas_image_coord_t )0, (jas_image_coord_t )0,
                                      (jas_image_coord_t )n, (jas_image_coord_t )1,
                                      buf);
    }
#line 837
    if (__cil_tmp11) {
      {
#line 838
      abort();
      }
    }
#line 840
    i = 0;
    {
#line 840
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 840
      if (! (i < n)) {
#line 840
        goto while_break___0;
      }
      {
#line 841
      fprintf(out, " f(%d,%d)=%ldV", i, 0, buf[i]);
#line 840
      i ++;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 843
    fprintf(out, "\n1");
#line 844
    __cil_tmp12 = jas_image_readcmpt2(image, cmptno, (jas_image_coord_t )(width - n),
                                      (jas_image_coord_t )(height - 1), (jas_image_coord_t )n,
                                      (jas_image_coord_t )1, buf);
    }
#line 844
    if (__cil_tmp12) {
      {
#line 845
      abort();
      }
    }
#line 847
    i = 0;
    {
#line 847
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 847
      if (! (i < n)) {
#line 847
        goto while_break___1;
      }
      {
#line 848
      fprintf(out, " f(%d,%d)=%ldV", (width - n) + i, height - 1, buf[i]);
#line 847
      i ++;
      }
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
    {
#line 850
    fprintf(out, "\n\'\210\374PV");
#line 830
    cmptno ++;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 834
  return;
}
}
#line 854 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_depalettize(jas_image_t *image , int cmptno , int numlutents , int_fast32_t *lutents ,
                          int dtype , int newcmptno ) 
{ 
  jas_image_cmptparm_t cmptparms ;
  int_fast32_t v ;
  int i ;
  int j ;
  jas_image_cmpt_t *cmpt ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
  {
#line 863
  cmpt = *(image->cmpts_ + cmptno);
#line 864
  cmptparms.tlx = cmpt->tlx_;
#line 865
  cmptparms.tly = cmpt->tly_;
#line 866
  cmptparms.hstep = cmpt->hstep_;
#line 867
  cmptparms.vstep = cmpt->vstep_;
#line 868
  cmptparms.width = cmpt->width_;
#line 869
  cmptparms.height = cmpt->height_;
#line 870
  cmptparms.prec = dtype & 127;
#line 871
  cmptparms.sgnd = (dtype >> 7) & 1;
#line 873
  __cil_tmp12 = jas_image_addcmpt(image, newcmptno, & cmptparms);
  }
#line 873
  if (__cil_tmp12) {
#line 874
    return (-1);
  }
#line 876
  if (newcmptno <= cmptno) {
#line 877
    cmptno ++;
#line 878
    cmpt = *(image->cmpts_ + cmptno);
  }
#line 881
  j = 0;
  {
#line 881
  while (1) {
    while_continue: /* CIL Label */ ;

#line 881
    if (! ((long )j < cmpt->height_)) {
#line 881
      goto while_break;
    }
#line 882
    i = 0;
    {
#line 882
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 882
      if (! ((long )i < cmpt->width_)) {
#line 882
        goto while_break___0;
      }
      {
#line 883
      __cil_tmp13 = jas_image_readcmptsample(image, cmptno, i, j);
#line 883
      v = (int_fast32_t )__cil_tmp13;
      }
#line 884
      if (v < 0L) {
#line 885
        v = (int_fast32_t )0;
      } else
#line 886
      if (v >= (long )numlutents) {
#line 887
        v = (int_fast32_t )(numlutents - 1);
      }
      {
#line 889
      jas_image_writecmptsample(image, newcmptno, i, j, *(lutents + v));
#line 882
      i ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 881
    j ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 893
  return (0);
}
}
#line 896 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_readcmptsample(jas_image_t *image , int cmptno , int x , int y ) 
{ 
  jas_image_cmpt_t *cmpt ;
  uint_fast32_t v ;
  int k ;
  int c ;
  long __cil_tmp9 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  jas_seqent_t __cil_tmp15 ;

  {
  {
#line 903
  cmpt = *(image->cmpts_ + cmptno);
#line 905
  __cil_tmp9 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (long )y + (long )x) * (long )cmpt->cps_,
                               0);
  }
#line 905
  if (__cil_tmp9 < 0L) {
#line 907
    return (-1);
  }
#line 909
  v = (uint_fast32_t )0;
#line 910
  k = cmpt->cps_;
  {
#line 910
  while (1) {
    while_continue: /* CIL Label */ ;

#line 910
    if (! (k > 0)) {
#line 910
      goto while_break;
    }
#line 911
    if (! ((cmpt->stream_)->flags_ & 7)) {
#line 911
      if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 911
        if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 911
          (cmpt->stream_)->flags_ |= 4;
#line 911
          tmp___0 = -1;
        } else {
#line 911
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 911
        ((cmpt->stream_)->cnt_) --;
#line 911
        if ((cmpt->stream_)->cnt_ < 0) {
          {
#line 911
          __cil_tmp10 = jas_stream_fillbuf(cmpt->stream_, 1);
#line 911
          tmp = __cil_tmp10;
          }
        } else {
#line 911
          __cil_tmp11 = (cmpt->stream_)->ptr_;
#line 911
          ((cmpt->stream_)->ptr_) ++;
#line 911
          ((cmpt->stream_)->rwcnt_) ++;
#line 911
          tmp = (int )*__cil_tmp11;
        }
#line 911
        tmp___0 = tmp;
      }
#line 911
      tmp___1 = tmp___0;
    } else {
#line 911
      tmp___1 = -1;
    }
#line 911
    c = tmp___1;
#line 911
    if (c == -1) {
#line 912
      return (-1);
    }
#line 914
    v = (v << 8) | (unsigned long )(c & 255);
#line 910
    k --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 916
  __cil_tmp15 = bitstoint(v, cmpt->prec_, cmpt->sgnd_);
  }
#line 916
  return ((int )__cil_tmp15);
}
}
#line 919 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
void jas_image_writecmptsample(jas_image_t *image , int cmptno , int x , int y , int_fast32_t v ) 
{ 
  jas_image_cmpt_t *cmpt ;
  uint_fast32_t t ;
  int k ;
  int c ;
  long __cil_tmp10 ;
  int __cil_tmp12 ;
  unsigned char *__cil_tmp13 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 927
  cmpt = *(image->cmpts_ + cmptno);
#line 929
  __cil_tmp10 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (long )y + (long )x) * (long )cmpt->cps_,
                                0);
  }
#line 929
  if (__cil_tmp10 < 0L) {
#line 931
    return;
  }
  {
#line 933
  t = inttobits(v, cmpt->prec_, cmpt->sgnd_);
#line 934
  k = cmpt->cps_;
  }
  {
#line 934
  while (1) {
    while_continue: /* CIL Label */ ;

#line 934
    if (! (k > 0)) {
#line 934
      goto while_break;
    }
#line 935
    c = (int )((t >> 8 * (cmpt->cps_ - 1)) & 255UL);
#line 936
    if (! ((cmpt->stream_)->flags_ & 7)) {
#line 936
      if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 936
        if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 936
          (cmpt->stream_)->flags_ |= 4;
#line 936
          tmp___0 = -1;
        } else {
#line 936
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ 
#line 936
        ((cmpt->stream_)->cnt_) --;
#line 936
        (cmpt->stream_)->bufmode_ |= 32;
#line 936
        if ((cmpt->stream_)->cnt_ < 0) {
          {
#line 936
          __cil_tmp12 = jas_stream_flushbuf(cmpt->stream_, (int )((unsigned char )c));
#line 936
          tmp = __cil_tmp12;
          }
        } else {
#line 936
          __cil_tmp13 = (cmpt->stream_)->ptr_;
#line 936
          ((cmpt->stream_)->ptr_) ++;
#line 936
          *__cil_tmp13 = (unsigned char )c;
#line 936
          ((cmpt->stream_)->rwcnt_) ++;
#line 936
          tmp = (int )*__cil_tmp13;
        }
#line 936
        tmp___0 = tmp;
      }
#line 936
      tmp___1 = tmp___0;
    } else {
#line 936
      tmp___1 = -1;
    }
#line 936
    if (tmp___1 == -1) {
#line 937
      return;
    }
#line 939
    t <<= 8;
#line 934
    k --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 938
  return;
}
}
#line 943 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_getcmptbytype(jas_image_t *image , int ctype ) 
{ 
  int cmptno ;

  {
#line 947
  cmptno = 0;
  {
#line 947
  while (1) {
    while_continue: /* CIL Label */ ;

#line 947
    if (! (cmptno < image->numcmpts_)) {
#line 947
      goto while_break;
    }
#line 948
    if ((*(image->cmpts_ + cmptno))->type_ == (long )ctype) {
#line 949
      return (cmptno);
    }
#line 947
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 952
  return (-1);
}
}
#line 975 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_readcmpt2(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                        jas_image_coord_t width , jas_image_coord_t height , long *buf ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t i ;
  jas_image_coord_t j ;
  long v ;
  long *bufptr ;
  long __cil_tmp13 ;
  int __cil_tmp14 ;
  long *__cil_tmp15 ;

  {
#line 985
  if (cmptno < 0) {
#line 986
    goto error;
  } else
#line 985
  if (cmptno >= image->numcmpts_) {
#line 986
    goto error;
  }
#line 987
  cmpt = *(image->cmpts_ + cmptno);
#line 988
  if (x < 0L) {
#line 991
    goto error;
  } else
#line 988
  if (x >= cmpt->width_) {
#line 991
    goto error;
  } else
#line 988
  if (y < 0L) {
#line 991
    goto error;
  } else
#line 988
  if (y >= cmpt->height_) {
#line 991
    goto error;
  } else
#line 988
  if (width < 0L) {
#line 991
    goto error;
  } else
#line 988
  if (height < 0L) {
#line 991
    goto error;
  } else
#line 988
  if (x + width > cmpt->width_) {
#line 991
    goto error;
  } else
#line 988
  if (y + height > cmpt->height_) {
#line 991
    goto error;
  }
#line 993
  bufptr = buf;
#line 994
  i = (jas_image_coord_t )0;
  {
#line 994
  while (1) {
    while_continue: /* CIL Label */ ;

#line 994
    if (! (i < height)) {
#line 994
      goto while_break;
    }
    {
#line 995
    __cil_tmp13 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (y + i) + x) * (long )cmpt->cps_,
                                  0);
    }
#line 995
    if (__cil_tmp13 < 0L) {
#line 997
      goto error;
    }
#line 998
    j = (jas_image_coord_t )0;
    {
#line 998
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 998
      if (! (j < width)) {
#line 998
        goto while_break___0;
      }
      {
#line 999
      __cil_tmp14 = getint(cmpt->stream_, cmpt->sgnd_, cmpt->prec_, & v);
      }
#line 999
      if (__cil_tmp14) {
#line 1000
        goto error;
      }
#line 1001
      __cil_tmp15 = bufptr;
#line 1001
      bufptr ++;
#line 1001
      *__cil_tmp15 = v;
#line 998
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 994
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1005
  return (0);
  error: 
#line 1007
  return (-1);
}
}
#line 1010 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_writecmpt2(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                         jas_image_coord_t width , jas_image_coord_t height , long *buf ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t i ;
  jas_image_coord_t j ;
  long v ;
  long *bufptr ;
  long __cil_tmp13 ;
  long *__cil_tmp14 ;
  int __cil_tmp15 ;

  {
#line 1020
  if (cmptno < 0) {
#line 1021
    goto error;
  } else
#line 1020
  if (cmptno >= image->numcmpts_) {
#line 1021
    goto error;
  }
#line 1022
  cmpt = *(image->cmpts_ + cmptno);
#line 1023
  if (x < 0L) {
#line 1026
    goto error;
  } else
#line 1023
  if (x >= cmpt->width_) {
#line 1026
    goto error;
  } else
#line 1023
  if (y < 0L) {
#line 1026
    goto error;
  } else
#line 1023
  if (y >= cmpt->height_) {
#line 1026
    goto error;
  } else
#line 1023
  if (width < 0L) {
#line 1026
    goto error;
  } else
#line 1023
  if (height < 0L) {
#line 1026
    goto error;
  } else
#line 1023
  if (x + width > cmpt->width_) {
#line 1026
    goto error;
  } else
#line 1023
  if (y + height > cmpt->height_) {
#line 1026
    goto error;
  }
#line 1028
  bufptr = buf;
#line 1029
  i = (jas_image_coord_t )0;
  {
#line 1029
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1029
    if (! (i < height)) {
#line 1029
      goto while_break;
    }
    {
#line 1030
    __cil_tmp13 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (y + i) + x) * (long )cmpt->cps_,
                                  0);
    }
#line 1030
    if (__cil_tmp13 < 0L) {
#line 1032
      goto error;
    }
#line 1033
    j = (jas_image_coord_t )0;
    {
#line 1033
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1033
      if (! (j < width)) {
#line 1033
        goto while_break___0;
      }
      {
#line 1034
      __cil_tmp14 = bufptr;
#line 1034
      bufptr ++;
#line 1034
      v = *__cil_tmp14;
#line 1035
      __cil_tmp15 = putint(cmpt->stream_, cmpt->sgnd_, cmpt->prec_, v);
      }
#line 1035
      if (__cil_tmp15) {
#line 1036
        goto error;
      }
#line 1033
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 1029
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1040
  return (0);
  error: 
#line 1042
  return (-1);
}
}
#line 1045 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_sampcmpt(jas_image_t *image , int cmptno , int newcmptno , jas_image_coord_t ho ,
                       jas_image_coord_t vo , jas_image_coord_t hs , jas_image_coord_t vs ,
                       int sgnd , int prec ) 
{ 
  jas_image_cmpt_t *oldcmpt ;
  jas_image_cmpt_t *newcmpt ;
  int width ;
  int height ;
  jas_image_coord_t tlx ;
  jas_image_coord_t tly ;
  jas_image_coord_t brx ;
  jas_image_coord_t bry ;
  int i ;
  int j ;
  jas_image_cmptparm_t cmptparm ;
  jas_image_coord_t ax ;
  jas_image_coord_t ay ;
  jas_image_coord_t bx ;
  jas_image_coord_t by ;
  jas_image_coord_t d0 ;
  jas_image_coord_t d1 ;
  jas_image_coord_t d2 ;
  jas_image_coord_t d3 ;
  jas_image_coord_t oldx ;
  jas_image_coord_t oldy ;
  jas_image_coord_t x ;
  jas_image_coord_t y ;
  long v ;
  jas_image_coord_t cmptbrx ;
  jas_image_coord_t cmptbry ;
  int __cil_tmp38 ;
  long __cil_tmp39 ;
  long __cil_tmp40 ;
  long __cil_tmp41 ;
  long __cil_tmp42 ;
  long __cil_tmp44 ;
  int __cil_tmp45 ;
  int __cil_tmp47 ;

  {
  {
#line 1077
  oldcmpt = *(image->cmpts_ + cmptno);
#line 1079
  jas_image_calcbbox2(image, & tlx, & tly, & brx, & bry);
#line 1080
  width = (int )(((brx - ho) + hs) / hs);
#line 1081
  height = (int )(((bry - vo) + vs) / vs);
#line 1082
  cmptparm.tlx = ho;
#line 1083
  cmptparm.tly = vo;
#line 1084
  cmptparm.hstep = hs;
#line 1085
  cmptparm.vstep = vs;
#line 1086
  cmptparm.width = (jas_image_coord_t )width;
#line 1087
  cmptparm.height = (jas_image_coord_t )height;
#line 1088
  cmptparm.prec = prec;
#line 1089
  cmptparm.sgnd = sgnd;
#line 1090
  __cil_tmp38 = jas_image_addcmpt(image, newcmptno, & cmptparm);
  }
#line 1090
  if (__cil_tmp38) {
#line 1091
    goto error;
  }
  {
#line 1092
  cmptbrx = oldcmpt->tlx_ + (oldcmpt->width_ - 1L) * oldcmpt->hstep_;
#line 1093
  cmptbry = oldcmpt->tly_ + (oldcmpt->height_ - 1L) * oldcmpt->vstep_;
#line 1094
  newcmpt = *(image->cmpts_ + newcmptno);
#line 1095
  jas_stream_rewind(newcmpt->stream_);
#line 1096
  i = 0;
  }
  {
#line 1096
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1096
    if (! (i < height)) {
#line 1096
      goto while_break;
    }
#line 1097
    y = newcmpt->tly_ + newcmpt->vstep_ * (long )i;
#line 1098
    j = 0;
    {
#line 1098
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1098
      if (! (j < width)) {
#line 1098
        goto while_break___0;
      }
      {
#line 1099
      x = newcmpt->tlx_ + newcmpt->hstep_ * (long )j;
#line 1100
      __cil_tmp39 = downtomult(x - oldcmpt->tlx_, oldcmpt->hstep_);
#line 1100
      ax = __cil_tmp39 + oldcmpt->tlx_;
#line 1101
      __cil_tmp40 = downtomult(y - oldcmpt->tly_, oldcmpt->vstep_);
#line 1101
      ay = __cil_tmp40 + oldcmpt->tly_;
#line 1102
      __cil_tmp41 = uptomult(x - oldcmpt->tlx_, oldcmpt->hstep_);
#line 1102
      bx = __cil_tmp41 + oldcmpt->tlx_;
      }
#line 1103
      if (bx > cmptbrx) {
#line 1104
        bx = cmptbrx;
      }
      {
#line 1105
      __cil_tmp42 = uptomult(y - oldcmpt->tly_, oldcmpt->vstep_);
#line 1105
      by = __cil_tmp42 + oldcmpt->tly_;
      }
#line 1106
      if (by > cmptbry) {
#line 1107
        by = cmptbry;
      }
#line 1108
      d0 = (ax - x) * (ax - x) + (ay - y) * (ay - y);
#line 1109
      d1 = (bx - x) * (bx - x) + (ay - y) * (ay - y);
#line 1110
      d2 = (bx - x) * (bx - x) + (by - y) * (by - y);
#line 1111
      d3 = (ax - x) * (ax - x) + (by - y) * (by - y);
#line 1112
      if (d0 <= d1) {
#line 1112
        if (d0 <= d2) {
#line 1112
          if (d0 <= d3) {
#line 1113
            oldx = (ax - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1114
            oldy = (ay - oldcmpt->tly_) / oldcmpt->vstep_;
          } else {
#line 1112
            goto _L___28;
          }
        } else {
#line 1112
          goto _L___28;
        }
      } else
      _L___28: 
#line 1115
      if (d1 <= d0) {
#line 1115
        if (d1 <= d2) {
#line 1115
          if (d1 <= d3) {
#line 1116
            oldx = (bx - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1117
            oldy = (ay - oldcmpt->tly_) / oldcmpt->vstep_;
          } else {
#line 1115
            goto _L;
          }
        } else {
#line 1115
          goto _L;
        }
      } else
      _L: 
#line 1118
      if (d2 <= d0) {
#line 1118
        if (d2 <= d1) {
#line 1118
          if (d1 <= d3) {
#line 1119
            oldx = (bx - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1120
            oldy = (by - oldcmpt->tly_) / oldcmpt->vstep_;
          } else {
#line 1122
            oldx = (ax - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1123
            oldy = (by - oldcmpt->tly_) / oldcmpt->vstep_;
          }
        } else {
#line 1122
          oldx = (ax - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1123
          oldy = (by - oldcmpt->tly_) / oldcmpt->vstep_;
        }
      } else {
#line 1122
        oldx = (ax - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1123
        oldy = (by - oldcmpt->tly_) / oldcmpt->vstep_;
      }
      {
#line 1127
      __cil_tmp44 = jas_stream_seek(oldcmpt->stream_, (long )oldcmpt->cps_ * (oldy * oldcmpt->width_ + oldx),
                                    0);
      }
#line 1127
      if (__cil_tmp44 < 0L) {
#line 1129
        goto error;
      }
      {
#line 1130
      __cil_tmp45 = getint(oldcmpt->stream_, oldcmpt->sgnd_, oldcmpt->prec_, & v);
      }
#line 1130
      if (__cil_tmp45) {
#line 1132
        goto error;
      }
#line 1133
      if (newcmpt->prec_ != oldcmpt->prec_) {
        {
#line 1135
        v = convert(v, oldcmpt->sgnd_, oldcmpt->prec_, newcmpt->sgnd_, newcmpt->prec_);
        }
      } else
#line 1133
      if (newcmpt->sgnd_ != oldcmpt->sgnd_) {
        {
#line 1135
        v = convert(v, oldcmpt->sgnd_, oldcmpt->prec_, newcmpt->sgnd_, newcmpt->prec_);
        }
      }
      {
#line 1138
      __cil_tmp47 = putint(newcmpt->stream_, newcmpt->sgnd_, newcmpt->prec_, v);
      }
#line 1138
      if (__cil_tmp47) {
#line 1140
        goto error;
      }
#line 1098
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 1096
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1143
  return (0);
  error: 
#line 1145
  return (-1);
}
}
#line 1148 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
int jas_image_ishomosamp(jas_image_t *image ) 
{ 
  jas_image_coord_t hstep ;
  jas_image_coord_t vstep ;
  int result ;
  int i ;

  {
#line 1154
  hstep = (*(image->cmpts_ + 0))->hstep_;
#line 1155
  vstep = (*(image->cmpts_ + 0))->vstep_;
#line 1156
  result = 1;
#line 1157
  i = 0;
  {
#line 1157
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1157
    if (! (i < image->numcmpts_)) {
#line 1157
      goto while_break;
    }
#line 1158
    if ((*(image->cmpts_ + i))->hstep_ != hstep) {
#line 1160
      result = 0;
#line 1161
      goto while_break;
    } else
#line 1158
    if ((*(image->cmpts_ + i))->vstep_ != vstep) {
#line 1160
      result = 0;
#line 1161
      goto while_break;
    }
#line 1157
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1164
  return (result);
}
}
#line 1168 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static void jas_image_calcbbox2(jas_image_t *image , jas_image_coord_t *tlx , jas_image_coord_t *tly ,
                                jas_image_coord_t *brx , jas_image_coord_t *bry ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t tmptlx ;
  jas_image_coord_t tmptly ;
  jas_image_coord_t tmpbrx ;
  jas_image_coord_t tmpbry ;
  jas_image_coord_t t ;
  int i ;

  {
#line 1178
  if (image->numcmpts_ > 0) {
#line 1179
    cmpt = *(image->cmpts_ + 0);
#line 1180
    tmptlx = cmpt->tlx_;
#line 1181
    tmptly = cmpt->tly_;
#line 1182
    tmpbrx = cmpt->tlx_ + cmpt->hstep_ * (cmpt->width_ - 1L);
#line 1183
    tmpbry = cmpt->tly_ + cmpt->vstep_ * (cmpt->height_ - 1L);
#line 1184
    i = 0;
    {
#line 1184
    while (1) {
      while_continue: /* CIL Label */ ;

#line 1184
      if (! (i < image->numcmpts_)) {
#line 1184
        goto while_break;
      }
#line 1185
      cmpt = *(image->cmpts_ + i);
#line 1186
      if (cmpt->tlx_ < tmptlx) {
#line 1187
        tmptlx = cmpt->tlx_;
      }
#line 1188
      if (cmpt->tly_ < tmptly) {
#line 1189
        tmptly = cmpt->tly_;
      }
#line 1190
      t = cmpt->tlx_ + cmpt->hstep_ * (cmpt->width_ - 1L);
#line 1191
      if (t > tmpbrx) {
#line 1192
        tmpbrx = t;
      }
#line 1193
      t = cmpt->tly_ + cmpt->vstep_ * (cmpt->height_ - 1L);
#line 1194
      if (t > tmpbry) {
#line 1195
        tmpbry = t;
      }
#line 1184
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  } else {
#line 1198
    tmptlx = (jas_image_coord_t )0;
#line 1199
    tmptly = (jas_image_coord_t )0;
#line 1200
    tmpbrx = (jas_image_coord_t )-1;
#line 1201
    tmpbry = (jas_image_coord_t )-1;
  }
#line 1203
  *tlx = tmptlx;
#line 1204
  *tly = tmptly;
#line 1205
  *brx = tmpbrx;
#line 1206
  *bry = tmpbry;
#line 1207
  return;
}
}
#line 1211 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static int getint(jas_stream_t *in , int sgnd , int prec , long *val ) 
{ 
  long v ;
  int n ;
  int c ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1216
  n = (prec + 7) / 8;
#line 1217
  v = 0L;
  {
#line 1218
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1218
    n --;
#line 1218
    if (! (n >= 0)) {
#line 1218
      goto while_break;
    }
#line 1219
    if (! (in->flags_ & 7)) {
#line 1219
      if (in->rwlimit_ >= 0L) {
#line 1219
        if (in->rwcnt_ >= in->rwlimit_) {
#line 1219
          in->flags_ |= 4;
#line 1219
          tmp___0 = -1;
        } else {
#line 1219
          goto _L___30;
        }
      } else {
        _L___30: /* CIL Label */ 
#line 1219
        (in->cnt_) --;
#line 1219
        if (in->cnt_ < 0) {
          {
#line 1219
          __cil_tmp8 = jas_stream_fillbuf(in, 1);
#line 1219
          tmp = __cil_tmp8;
          }
        } else {
#line 1219
          __cil_tmp9 = in->ptr_;
#line 1219
          (in->ptr_) ++;
#line 1219
          (in->rwcnt_) ++;
#line 1219
          tmp = (int )*__cil_tmp9;
        }
#line 1219
        tmp___0 = tmp;
      }
#line 1219
      tmp___1 = tmp___0;
    } else {
#line 1219
      tmp___1 = -1;
    }
#line 1219
    c = tmp___1;
#line 1219
    if (c == -1) {
#line 1220
      return (-1);
    }
#line 1221
    v = (v << 8) | (long )c;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 1223
  v &= (long )((1 << prec) - 1);
#line 1224
  if (sgnd) {
    {
#line 1226
    abort();
    }
  } else {
#line 1228
    *val = v;
  }
#line 1230
  return (0);
}
}
#line 1233 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static int putint(jas_stream_t *out , int sgnd , int prec , long val ) 
{ 
  int n ;
  int c ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1237
  if (sgnd) {
    {
#line 1239
    abort();
    }
  }
#line 1241
  val &= (long )((1 << prec) - 1);
#line 1242
  n = (prec + 7) / 8;
  {
#line 1243
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1243
    n --;
#line 1243
    if (! (n >= 0)) {
#line 1243
      goto while_break;
    }
#line 1244
    c = (int )((val >> n * 8) & 255L);
#line 1245
    if (! (out->flags_ & 7)) {
#line 1245
      if (out->rwlimit_ >= 0L) {
#line 1245
        if (out->rwcnt_ >= out->rwlimit_) {
#line 1245
          out->flags_ |= 4;
#line 1245
          tmp___0 = -1;
        } else {
#line 1245
          goto _L___30;
        }
      } else {
        _L___30: /* CIL Label */ 
#line 1245
        (out->cnt_) --;
#line 1245
        out->bufmode_ |= 32;
#line 1245
        if (out->cnt_ < 0) {
          {
#line 1245
          __cil_tmp7 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 1245
          tmp = __cil_tmp7;
          }
        } else {
#line 1245
          __cil_tmp8 = out->ptr_;
#line 1245
          (out->ptr_) ++;
#line 1245
          *__cil_tmp8 = (unsigned char )c;
#line 1245
          (out->rwcnt_) ++;
#line 1245
          tmp = (int )*__cil_tmp8;
        }
#line 1245
        tmp___0 = tmp;
      }
#line 1245
      tmp___1 = tmp___0;
    } else {
#line 1245
      tmp___1 = -1;
    }
#line 1245
    if (tmp___1 != c) {
#line 1246
      return (-1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1248
  return (0);
}
}
#line 1251 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static long convert(long val , int oldsgnd , int oldprec , int newsgnd , int newprec ) 
{ 


  {
#line 1256
  if (newprec != oldprec) {
#line 1257
    if (newprec > oldprec) {
#line 1258
      val <<= newprec - oldprec;
    } else
#line 1259
    if (oldprec > newprec) {
#line 1260
      val >>= oldprec - newprec;
    }
  }
#line 1263
  return (val);
}
}
#line 1266 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static long downtomult(long x , long y ) 
{ 


  {
#line 1269
  return ((x / y) * y);
}
}
#line 1272 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
static long uptomult(long x , long y ) 
{ 


  {
#line 1275
  return ((((x + y) - 1L) / y) * y);
}
}
#line 1278 "/root/patron-new/new_2/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_chclrspc(jas_image_t *image , jas_cmprof_t *outprof , int intent ) 
{ 
  jas_image_t *inimage ;
  int minhstep ;
  int minvstep ;
  int i ;
  int j ;
  int k ;
  int n ;
  int hstep ;
  int vstep ;
  int numinauxchans ;
  int numoutauxchans ;
  int numinclrchans ;
  int numoutclrchans ;
  int prec ;
  jas_image_t *outimage ;
  int cmpttype ;
  int numoutchans ;
  jas_cmprof_t *inprof ;
  jas_cmprof_t *tmpprof ;
  jas_image_cmptparm_t cmptparm ;
  int width ;
  int height ;
  jas_cmxform_t *xform ;
  jas_cmpixmap_t inpixmap ;
  jas_cmpixmap_t outpixmap ;
  jas_cmcmptfmt_t *incmptfmts ;
  jas_cmcmptfmt_t *outcmptfmts ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  int __cil_tmp38 ;
  int __cil_tmp53 ;
  int __cil_tmp55 ;
  void *tmp___5 ;
  void *tmp___6 ;
  void *tmp___7 ;
  void *tmp___8 ;

  {
  {
#line 1314
  inimage = jas_image_copy(image);
  }
#line 1314
  if (! inimage) {
#line 1315
    goto error;
  }
  {
#line 1316
  image = (jas_image_t *)0;
#line 1318
  __cil_tmp32 = jas_image_ishomosamp(inimage);
  }
#line 1318
  if (! __cil_tmp32) {
#line 1319
    minhstep = (int )(*(inimage->cmpts_ + 0))->hstep_;
#line 1320
    minvstep = (int )(*(inimage->cmpts_ + 0))->vstep_;
#line 1321
    i = 1;
    {
#line 1321
    while (1) {
      while_continue: /* CIL Label */ ;

#line 1321
      if (! (i < inimage->numcmpts_)) {
#line 1321
        goto while_break;
      }
#line 1322
      hstep = (int )(*(inimage->cmpts_ + i))->hstep_;
#line 1323
      vstep = (int )(*(inimage->cmpts_ + i))->vstep_;
#line 1324
      if (hstep < minhstep) {
#line 1325
        minhstep = hstep;
      }
#line 1326
      if (vstep < minvstep) {
#line 1327
        minvstep = vstep;
      }
#line 1321
      i ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break: 
#line 1329
    n = inimage->numcmpts_;
#line 1330
    i = 0;
    {
#line 1330
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1330
      if (! (i < n)) {
#line 1330
        goto while_break___0;
      }
      {
#line 1331
      cmpttype = (int )(*(inimage->cmpts_ + i))->type_;
#line 1332
      __cil_tmp33 = jas_image_sampcmpt(inimage, i, i + 1, (jas_image_coord_t )0, (jas_image_coord_t )0,
                                       (jas_image_coord_t )minhstep, (jas_image_coord_t )minvstep,
                                       (*(inimage->cmpts_ + i))->sgnd_, (*(inimage->cmpts_ + i))->prec_);
      }
#line 1332
      if (__cil_tmp33) {
#line 1333
        goto error;
      }
      {
#line 1334
      (*(inimage->cmpts_ + (i + 1)))->type_ = (jas_image_cmpttype_t )cmpttype;
#line 1335
      jas_image_delcmpt(inimage, i);
#line 1330
      i ++;
      }
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___0: ;
  }
  {
#line 1339
  width = (int )(*(inimage->cmpts_ + 0))->width_;
#line 1340
  height = (int )(*(inimage->cmpts_ + 0))->height_;
#line 1341
  hstep = (int )(*(inimage->cmpts_ + 0))->hstep_;
#line 1342
  vstep = (int )(*(inimage->cmpts_ + 0))->vstep_;
#line 1344
  inprof = inimage->cmprof_;
#line 1346
  numinclrchans = jas_clrspc_numchans(inprof->clrspc);
#line 1347
  numinauxchans = inimage->numcmpts_ - numinclrchans;
#line 1348
  numoutclrchans = jas_clrspc_numchans(outprof->clrspc);
#line 1349
  numoutauxchans = 0;
#line 1350
  numoutchans = numoutclrchans + numoutauxchans;
#line 1351
  prec = 8;
#line 1353
  outimage = jas_image_create0();
  }
#line 1353
  if (! outimage) {
#line 1354
    goto error;
  }
#line 1357
  i = 0;
  {
#line 1357
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1357
    if (! (i < numoutclrchans)) {
#line 1357
      goto while_break___1;
    }
    {
#line 1358
    cmptparm.tlx = (jas_image_coord_t )0;
#line 1359
    cmptparm.tly = (jas_image_coord_t )0;
#line 1360
    cmptparm.hstep = (jas_image_coord_t )hstep;
#line 1361
    cmptparm.vstep = (jas_image_coord_t )vstep;
#line 1362
    cmptparm.width = (jas_image_coord_t )width;
#line 1363
    cmptparm.height = (jas_image_coord_t )height;
#line 1364
    cmptparm.prec = prec;
#line 1365
    cmptparm.sgnd = 0;
#line 1366
    __cil_tmp38 = jas_image_addcmpt(outimage, -1, & cmptparm);
    }
#line 1366
    if (__cil_tmp38) {
#line 1367
      goto error;
    }
#line 1368
    (*(outimage->cmpts_ + i))->type_ = (jas_image_cmpttype_t )(i & 32767);
#line 1357
    i ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___1: 
  {
#line 1380
  tmpprof = jas_cmprof_copy(outprof);
  }
#line 1380
  if (! tmpprof) {
#line 1381
    goto error;
  }
  {
#line 1383
  outimage->cmprof_ = tmpprof;
#line 1384
  tmpprof = (jas_cmprof_t *)0;
#line 1385
  outimage->clrspc_ = outprof->clrspc;
#line 1387
  xform = jas_cmxform_create(inprof, outprof, (jas_cmprof_t *)0, 0, intent, 0);
  }
#line 1387
  if (! xform) {
#line 1388
    goto error;
  }
  {
#line 1390
  inpixmap.numcmpts = numinclrchans;
#line 1391
  tmp___5 = malloc((unsigned long )numinclrchans * sizeof(jas_cmcmptfmt_t ));
#line 1391
  incmptfmts = (jas_cmcmptfmt_t *)tmp___5;
#line 1393
  inpixmap.cmptfmts = incmptfmts;
#line 1394
  i = 0;
  }
  {
#line 1394
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1394
    if (! (i < numinclrchans)) {
#line 1394
      goto while_break___2;
    }
    {
#line 1395
    j = jas_image_getcmptbytype(inimage, i & 32767);
#line 1397
    tmp___6 = malloc((unsigned long )width * sizeof(long ));
#line 1397
    (incmptfmts + i)->buf = (long *)tmp___6;
    }
#line 1397
    if (! (incmptfmts + i)->buf) {
#line 1398
      goto error;
    }
#line 1399
    (incmptfmts + i)->prec = (*(inimage->cmpts_ + j))->prec_;
#line 1400
    (incmptfmts + i)->sgnd = (*(inimage->cmpts_ + j))->sgnd_;
#line 1401
    (incmptfmts + i)->width = width;
#line 1402
    (incmptfmts + i)->height = 1;
#line 1394
    i ++;
  }
  while_break___12: /* CIL Label */ ;
  }
  while_break___2: 
  {
#line 1405
  outpixmap.numcmpts = numoutclrchans;
#line 1406
  tmp___7 = malloc((unsigned long )numoutclrchans * sizeof(jas_cmcmptfmt_t ));
#line 1406
  outcmptfmts = (jas_cmcmptfmt_t *)tmp___7;
#line 1408
  outpixmap.cmptfmts = outcmptfmts;
#line 1410
  i = 0;
  }
  {
#line 1410
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1410
    if (! (i < numoutclrchans)) {
#line 1410
      goto while_break___3;
    }
    {
#line 1411
    j = jas_image_getcmptbytype(outimage, i & 32767);
#line 1413
    tmp___8 = malloc((unsigned long )width * sizeof(long ));
#line 1413
    (outcmptfmts + i)->buf = (long *)tmp___8;
    }
#line 1413
    if (! (outcmptfmts + i)->buf) {
#line 1414
      goto error;
    }
#line 1415
    (outcmptfmts + i)->prec = (*(outimage->cmpts_ + j))->prec_;
#line 1416
    (outcmptfmts + i)->sgnd = (*(outimage->cmpts_ + j))->sgnd_;
#line 1417
    (outcmptfmts + i)->width = width;
#line 1418
    (outcmptfmts + i)->height = 1;
#line 1410
    i ++;
  }
  while_break___13: /* CIL Label */ ;
  }
  while_break___3: 
#line 1421
  i = 0;
  {
#line 1421
  while (1) {
    while_continue___4: /* CIL Label */ ;

#line 1421
    if (! (i < height)) {
#line 1421
      goto while_break___4;
    }
#line 1422
    j = 0;
    {
#line 1422
    while (1) {
      while_continue___5: /* CIL Label */ ;

#line 1422
      if (! (j < numinclrchans)) {
#line 1422
        goto while_break___5;
      }
      {
#line 1423
      k = jas_image_getcmptbytype(inimage, j & 32767);
#line 1424
      __cil_tmp53 = jas_image_readcmpt2(inimage, k, (jas_image_coord_t )0, (jas_image_coord_t )i,
                                        (jas_image_coord_t )width, (jas_image_coord_t )1,
                                        (incmptfmts + j)->buf);
      }
#line 1424
      if (__cil_tmp53) {
#line 1425
        goto error;
      }
#line 1422
      j ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___5: 
    {
#line 1427
    jas_cmxform_apply(xform, & inpixmap, & outpixmap);
#line 1428
    j = 0;
    }
    {
#line 1428
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 1428
      if (! (j < numoutclrchans)) {
#line 1428
        goto while_break___6;
      }
      {
#line 1429
      k = jas_image_getcmptbytype(outimage, j & 32767);
#line 1430
      __cil_tmp55 = jas_image_writecmpt2(outimage, k, (jas_image_coord_t )0, (jas_image_coord_t )i,
                                         (jas_image_coord_t )width, (jas_image_coord_t )1,
                                         (outcmptfmts + j)->buf);
      }
#line 1430
      if (__cil_tmp55) {
#line 1431
        goto error;
      }
#line 1428
      j ++;
    }
    while_break___16: /* CIL Label */ ;
    }
    while_break___6: 
#line 1421
    i ++;
  }
  while_break___14: /* CIL Label */ ;
  }
  while_break___4: 
#line 1435
  i = 0;
  {
#line 1435
  while (1) {
    while_continue___7: /* CIL Label */ ;

#line 1435
    if (! (i < numoutclrchans)) {
#line 1435
      goto while_break___7;
    }
    {
#line 1436
    jas_free((void *)(outcmptfmts + i)->buf);
#line 1435
    i ++;
    }
  }
  while_break___17: /* CIL Label */ ;
  }
  while_break___7: 
  {
#line 1437
  jas_free((void *)outcmptfmts);
#line 1438
  i = 0;
  }
  {
#line 1438
  while (1) {
    while_continue___8: /* CIL Label */ ;

#line 1438
    if (! (i < numinclrchans)) {
#line 1438
      goto while_break___8;
    }
    {
#line 1439
    jas_free((void *)(incmptfmts + i)->buf);
#line 1438
    i ++;
    }
  }
  while_break___18: /* CIL Label */ ;
  }
  while_break___8: 
  {
#line 1440
  jas_free((void *)incmptfmts);
#line 1441
  jas_cmxform_destroy(xform);
#line 1442
  jas_image_destroy(inimage);
  }
#line 1450
  return (outimage);
  error: 
#line 1452
  return ((jas_image_t *)0);
}
}
#line 65 "/root/patron-new/new_2/src/libjasper/base/jas_iccdata.c"
unsigned char jas_iccprofdata_srgb[3144]  = 
#line 65 "/root/patron-new/new_2/src/libjasper/base/jas_iccdata.c"
  {      (unsigned char)0,      (unsigned char)0,      (unsigned char)12,      (unsigned char)72, 
        (unsigned char)76,      (unsigned char)105,      (unsigned char)110,      (unsigned char)111, 
        (unsigned char)2,      (unsigned char)16,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)109,      (unsigned char)110,      (unsigned char)116,      (unsigned char)114, 
        (unsigned char)82,      (unsigned char)71,      (unsigned char)66,      (unsigned char)32, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)7,      (unsigned char)206,      (unsigned char)0,      (unsigned char)2, 
        (unsigned char)0,      (unsigned char)9,      (unsigned char)0,      (unsigned char)6, 
        (unsigned char)0,      (unsigned char)49,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)97,      (unsigned char)99,      (unsigned char)115,      (unsigned char)112, 
        (unsigned char)77,      (unsigned char)83,      (unsigned char)70,      (unsigned char)84, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)73,      (unsigned char)69,      (unsigned char)67,      (unsigned char)32, 
        (unsigned char)115,      (unsigned char)82,      (unsigned char)71,      (unsigned char)66, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)246,      (unsigned char)214, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)211,      (unsigned char)45, 
        (unsigned char)72,      (unsigned char)80,      (unsigned char)32,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)17, 
        (unsigned char)99,      (unsigned char)112,      (unsigned char)114,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)80, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)51, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)132, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)108, 
        (unsigned char)119,      (unsigned char)116,      (unsigned char)112,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)240, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)98,      (unsigned char)107,      (unsigned char)112,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)4, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)114,      (unsigned char)88,      (unsigned char)89,      (unsigned char)90, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)24, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)103,      (unsigned char)88,      (unsigned char)89,      (unsigned char)90, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)44, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)98,      (unsigned char)88,      (unsigned char)89,      (unsigned char)90, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)64, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)100,      (unsigned char)109,      (unsigned char)110,      (unsigned char)100, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)84, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)112, 
        (unsigned char)100,      (unsigned char)109,      (unsigned char)100,      (unsigned char)100, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)196, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)136, 
        (unsigned char)118,      (unsigned char)117,      (unsigned char)101,      (unsigned char)100, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)3,      (unsigned char)76, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)134, 
        (unsigned char)118,      (unsigned char)105,      (unsigned char)101,      (unsigned char)119, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)3,      (unsigned char)212, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)36, 
        (unsigned char)108,      (unsigned char)117,      (unsigned char)109,      (unsigned char)105, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)3,      (unsigned char)248, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)109,      (unsigned char)101,      (unsigned char)97,      (unsigned char)115, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)12, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)36, 
        (unsigned char)116,      (unsigned char)101,      (unsigned char)99,      (unsigned char)104, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)48, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)12, 
        (unsigned char)114,      (unsigned char)84,      (unsigned char)82,      (unsigned char)67, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)60, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)8,      (unsigned char)12, 
        (unsigned char)103,      (unsigned char)84,      (unsigned char)82,      (unsigned char)67, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)60, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)8,      (unsigned char)12, 
        (unsigned char)98,      (unsigned char)84,      (unsigned char)82,      (unsigned char)67, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)60, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)8,      (unsigned char)12, 
        (unsigned char)116,      (unsigned char)101,      (unsigned char)120,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)67,      (unsigned char)111,      (unsigned char)112,      (unsigned char)121, 
        (unsigned char)114,      (unsigned char)105,      (unsigned char)103,      (unsigned char)104, 
        (unsigned char)116,      (unsigned char)32,      (unsigned char)40,      (unsigned char)99, 
        (unsigned char)41,      (unsigned char)32,      (unsigned char)49,      (unsigned char)57, 
        (unsigned char)57,      (unsigned char)56,      (unsigned char)32,      (unsigned char)72, 
        (unsigned char)101,      (unsigned char)119,      (unsigned char)108,      (unsigned char)101, 
        (unsigned char)116,      (unsigned char)116,      (unsigned char)45,      (unsigned char)80, 
        (unsigned char)97,      (unsigned char)99,      (unsigned char)107,      (unsigned char)97, 
        (unsigned char)114,      (unsigned char)100,      (unsigned char)32,      (unsigned char)67, 
        (unsigned char)111,      (unsigned char)109,      (unsigned char)112,      (unsigned char)97, 
        (unsigned char)110,      (unsigned char)121,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)18, 
        (unsigned char)115,      (unsigned char)82,      (unsigned char)71,      (unsigned char)66, 
        (unsigned char)32,      (unsigned char)73,      (unsigned char)69,      (unsigned char)67, 
        (unsigned char)54,      (unsigned char)49,      (unsigned char)57,      (unsigned char)54, 
        (unsigned char)54,      (unsigned char)45,      (unsigned char)50,      (unsigned char)46, 
        (unsigned char)49,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)18,      (unsigned char)115,      (unsigned char)82,      (unsigned char)71, 
        (unsigned char)66,      (unsigned char)32,      (unsigned char)73,      (unsigned char)69, 
        (unsigned char)67,      (unsigned char)54,      (unsigned char)49,      (unsigned char)57, 
        (unsigned char)54,      (unsigned char)54,      (unsigned char)45,      (unsigned char)50, 
        (unsigned char)46,      (unsigned char)49,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)243,      (unsigned char)81, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)22,      (unsigned char)204, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)111,      (unsigned char)162, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)56,      (unsigned char)245, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)3,      (unsigned char)144, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)98,      (unsigned char)153, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)183,      (unsigned char)133, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)24,      (unsigned char)218, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)36,      (unsigned char)160, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)15,      (unsigned char)132, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)182,      (unsigned char)207, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)22, 
        (unsigned char)73,      (unsigned char)69,      (unsigned char)67,      (unsigned char)32, 
        (unsigned char)104,      (unsigned char)116,      (unsigned char)116,      (unsigned char)112, 
        (unsigned char)58,      (unsigned char)47,      (unsigned char)47,      (unsigned char)119, 
        (unsigned char)119,      (unsigned char)119,      (unsigned char)46,      (unsigned char)105, 
        (unsigned char)101,      (unsigned char)99,      (unsigned char)46,      (unsigned char)99, 
        (unsigned char)104,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)22,      (unsigned char)73,      (unsigned char)69,      (unsigned char)67, 
        (unsigned char)32,      (unsigned char)104,      (unsigned char)116,      (unsigned char)116, 
        (unsigned char)112,      (unsigned char)58,      (unsigned char)47,      (unsigned char)47, 
        (unsigned char)119,      (unsigned char)119,      (unsigned char)119,      (unsigned char)46, 
        (unsigned char)105,      (unsigned char)101,      (unsigned char)99,      (unsigned char)46, 
        (unsigned char)99,      (unsigned char)104,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)46, 
        (unsigned char)73,      (unsigned char)69,      (unsigned char)67,      (unsigned char)32, 
        (unsigned char)54,      (unsigned char)49,      (unsigned char)57,      (unsigned char)54, 
        (unsigned char)54,      (unsigned char)45,      (unsigned char)50,      (unsigned char)46, 
        (unsigned char)49,      (unsigned char)32,      (unsigned char)68,      (unsigned char)101, 
        (unsigned char)102,      (unsigned char)97,      (unsigned char)117,      (unsigned char)108, 
        (unsigned char)116,      (unsigned char)32,      (unsigned char)82,      (unsigned char)71, 
        (unsigned char)66,      (unsigned char)32,      (unsigned char)99,      (unsigned char)111, 
        (unsigned char)108,      (unsigned char)111,      (unsigned char)117,      (unsigned char)114, 
        (unsigned char)32,      (unsigned char)115,      (unsigned char)112,      (unsigned char)97, 
        (unsigned char)99,      (unsigned char)101,      (unsigned char)32,      (unsigned char)45, 
        (unsigned char)32,      (unsigned char)115,      (unsigned char)82,      (unsigned char)71, 
        (unsigned char)66,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)46,      (unsigned char)73,      (unsigned char)69,      (unsigned char)67, 
        (unsigned char)32,      (unsigned char)54,      (unsigned char)49,      (unsigned char)57, 
        (unsigned char)54,      (unsigned char)54,      (unsigned char)45,      (unsigned char)50, 
        (unsigned char)46,      (unsigned char)49,      (unsigned char)32,      (unsigned char)68, 
        (unsigned char)101,      (unsigned char)102,      (unsigned char)97,      (unsigned char)117, 
        (unsigned char)108,      (unsigned char)116,      (unsigned char)32,      (unsigned char)82, 
        (unsigned char)71,      (unsigned char)66,      (unsigned char)32,      (unsigned char)99, 
        (unsigned char)111,      (unsigned char)108,      (unsigned char)111,      (unsigned char)117, 
        (unsigned char)114,      (unsigned char)32,      (unsigned char)115,      (unsigned char)112, 
        (unsigned char)97,      (unsigned char)99,      (unsigned char)101,      (unsigned char)32, 
        (unsigned char)45,      (unsigned char)32,      (unsigned char)115,      (unsigned char)82, 
        (unsigned char)71,      (unsigned char)66,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)44, 
        (unsigned char)82,      (unsigned char)101,      (unsigned char)102,      (unsigned char)101, 
        (unsigned char)114,      (unsigned char)101,      (unsigned char)110,      (unsigned char)99, 
        (unsigned char)101,      (unsigned char)32,      (unsigned char)86,      (unsigned char)105, 
        (unsigned char)101,      (unsigned char)119,      (unsigned char)105,      (unsigned char)110, 
        (unsigned char)103,      (unsigned char)32,      (unsigned char)67,      (unsigned char)111, 
        (unsigned char)110,      (unsigned char)100,      (unsigned char)105,      (unsigned char)116, 
        (unsigned char)105,      (unsigned char)111,      (unsigned char)110,      (unsigned char)32, 
        (unsigned char)105,      (unsigned char)110,      (unsigned char)32,      (unsigned char)73, 
        (unsigned char)69,      (unsigned char)67,      (unsigned char)54,      (unsigned char)49, 
        (unsigned char)57,      (unsigned char)54,      (unsigned char)54,      (unsigned char)45, 
        (unsigned char)50,      (unsigned char)46,      (unsigned char)49,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)44,      (unsigned char)82, 
        (unsigned char)101,      (unsigned char)102,      (unsigned char)101,      (unsigned char)114, 
        (unsigned char)101,      (unsigned char)110,      (unsigned char)99,      (unsigned char)101, 
        (unsigned char)32,      (unsigned char)86,      (unsigned char)105,      (unsigned char)101, 
        (unsigned char)119,      (unsigned char)105,      (unsigned char)110,      (unsigned char)103, 
        (unsigned char)32,      (unsigned char)67,      (unsigned char)111,      (unsigned char)110, 
        (unsigned char)100,      (unsigned char)105,      (unsigned char)116,      (unsigned char)105, 
        (unsigned char)111,      (unsigned char)110,      (unsigned char)32,      (unsigned char)105, 
        (unsigned char)110,      (unsigned char)32,      (unsigned char)73,      (unsigned char)69, 
        (unsigned char)67,      (unsigned char)54,      (unsigned char)49,      (unsigned char)57, 
        (unsigned char)54,      (unsigned char)54,      (unsigned char)45,      (unsigned char)50, 
        (unsigned char)46,      (unsigned char)49,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)118,      (unsigned char)105,      (unsigned char)101,      (unsigned char)119, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)19,      (unsigned char)164,      (unsigned char)254, 
        (unsigned char)0,      (unsigned char)20,      (unsigned char)95,      (unsigned char)46, 
        (unsigned char)0,      (unsigned char)16,      (unsigned char)207,      (unsigned char)20, 
        (unsigned char)0,      (unsigned char)3,      (unsigned char)237,      (unsigned char)204, 
        (unsigned char)0,      (unsigned char)4,      (unsigned char)19,      (unsigned char)11, 
        (unsigned char)0,      (unsigned char)3,      (unsigned char)92,      (unsigned char)158, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)76,      (unsigned char)9,      (unsigned char)86, 
        (unsigned char)0,      (unsigned char)80,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)87,      (unsigned char)31,      (unsigned char)231, 
        (unsigned char)109,      (unsigned char)101,      (unsigned char)97,      (unsigned char)115, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)143, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)2, 
        (unsigned char)115,      (unsigned char)105,      (unsigned char)103,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)67,      (unsigned char)82,      (unsigned char)84,      (unsigned char)32, 
        (unsigned char)99,      (unsigned char)117,      (unsigned char)114,      (unsigned char)118, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)5, 
        (unsigned char)0,      (unsigned char)10,      (unsigned char)0,      (unsigned char)15, 
        (unsigned char)0,      (unsigned char)20,      (unsigned char)0,      (unsigned char)25, 
        (unsigned char)0,      (unsigned char)30,      (unsigned char)0,      (unsigned char)35, 
        (unsigned char)0,      (unsigned char)40,      (unsigned char)0,      (unsigned char)45, 
        (unsigned char)0,      (unsigned char)50,      (unsigned char)0,      (unsigned char)55, 
        (unsigned char)0,      (unsigned char)59,      (unsigned char)0,      (unsigned char)64, 
        (unsigned char)0,      (unsigned char)69,      (unsigned char)0,      (unsigned char)74, 
        (unsigned char)0,      (unsigned char)79,      (unsigned char)0,      (unsigned char)84, 
        (unsigned char)0,      (unsigned char)89,      (unsigned char)0,      (unsigned char)94, 
        (unsigned char)0,      (unsigned char)99,      (unsigned char)0,      (unsigned char)104, 
        (unsigned char)0,      (unsigned char)109,      (unsigned char)0,      (unsigned char)114, 
        (unsigned char)0,      (unsigned char)119,      (unsigned char)0,      (unsigned char)124, 
        (unsigned char)0,      (unsigned char)129,      (unsigned char)0,      (unsigned char)134, 
        (unsigned char)0,      (unsigned char)139,      (unsigned char)0,      (unsigned char)144, 
        (unsigned char)0,      (unsigned char)149,      (unsigned char)0,      (unsigned char)154, 
        (unsigned char)0,      (unsigned char)159,      (unsigned char)0,      (unsigned char)164, 
        (unsigned char)0,      (unsigned char)169,      (unsigned char)0,      (unsigned char)174, 
        (unsigned char)0,      (unsigned char)178,      (unsigned char)0,      (unsigned char)183, 
        (unsigned char)0,      (unsigned char)188,      (unsigned char)0,      (unsigned char)193, 
        (unsigned char)0,      (unsigned char)198,      (unsigned char)0,      (unsigned char)203, 
        (unsigned char)0,      (unsigned char)208,      (unsigned char)0,      (unsigned char)213, 
        (unsigned char)0,      (unsigned char)219,      (unsigned char)0,      (unsigned char)224, 
        (unsigned char)0,      (unsigned char)229,      (unsigned char)0,      (unsigned char)235, 
        (unsigned char)0,      (unsigned char)240,      (unsigned char)0,      (unsigned char)246, 
        (unsigned char)0,      (unsigned char)251,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)7,      (unsigned char)1,      (unsigned char)13, 
        (unsigned char)1,      (unsigned char)19,      (unsigned char)1,      (unsigned char)25, 
        (unsigned char)1,      (unsigned char)31,      (unsigned char)1,      (unsigned char)37, 
        (unsigned char)1,      (unsigned char)43,      (unsigned char)1,      (unsigned char)50, 
        (unsigned char)1,      (unsigned char)56,      (unsigned char)1,      (unsigned char)62, 
        (unsigned char)1,      (unsigned char)69,      (unsigned char)1,      (unsigned char)76, 
        (unsigned char)1,      (unsigned char)82,      (unsigned char)1,      (unsigned char)89, 
        (unsigned char)1,      (unsigned char)96,      (unsigned char)1,      (unsigned char)103, 
        (unsigned char)1,      (unsigned char)110,      (unsigned char)1,      (unsigned char)117, 
        (unsigned char)1,      (unsigned char)124,      (unsigned char)1,      (unsigned char)131, 
        (unsigned char)1,      (unsigned char)139,      (unsigned char)1,      (unsigned char)146, 
        (unsigned char)1,      (unsigned char)154,      (unsigned char)1,      (unsigned char)161, 
        (unsigned char)1,      (unsigned char)169,      (unsigned char)1,      (unsigned char)177, 
        (unsigned char)1,      (unsigned char)185,      (unsigned char)1,      (unsigned char)193, 
        (unsigned char)1,      (unsigned char)201,      (unsigned char)1,      (unsigned char)209, 
        (unsigned char)1,      (unsigned char)217,      (unsigned char)1,      (unsigned char)225, 
        (unsigned char)1,      (unsigned char)233,      (unsigned char)1,      (unsigned char)242, 
        (unsigned char)1,      (unsigned char)250,      (unsigned char)2,      (unsigned char)3, 
        (unsigned char)2,      (unsigned char)12,      (unsigned char)2,      (unsigned char)20, 
        (unsigned char)2,      (unsigned char)29,      (unsigned char)2,      (unsigned char)38, 
        (unsigned char)2,      (unsigned char)47,      (unsigned char)2,      (unsigned char)56, 
        (unsigned char)2,      (unsigned char)65,      (unsigned char)2,      (unsigned char)75, 
        (unsigned char)2,      (unsigned char)84,      (unsigned char)2,      (unsigned char)93, 
        (unsigned char)2,      (unsigned char)103,      (unsigned char)2,      (unsigned char)113, 
        (unsigned char)2,      (unsigned char)122,      (unsigned char)2,      (unsigned char)132, 
        (unsigned char)2,      (unsigned char)142,      (unsigned char)2,      (unsigned char)152, 
        (unsigned char)2,      (unsigned char)162,      (unsigned char)2,      (unsigned char)172, 
        (unsigned char)2,      (unsigned char)182,      (unsigned char)2,      (unsigned char)193, 
        (unsigned char)2,      (unsigned char)203,      (unsigned char)2,      (unsigned char)213, 
        (unsigned char)2,      (unsigned char)224,      (unsigned char)2,      (unsigned char)235, 
        (unsigned char)2,      (unsigned char)245,      (unsigned char)3,      (unsigned char)0, 
        (unsigned char)3,      (unsigned char)11,      (unsigned char)3,      (unsigned char)22, 
        (unsigned char)3,      (unsigned char)33,      (unsigned char)3,      (unsigned char)45, 
        (unsigned char)3,      (unsigned char)56,      (unsigned char)3,      (unsigned char)67, 
        (unsigned char)3,      (unsigned char)79,      (unsigned char)3,      (unsigned char)90, 
        (unsigned char)3,      (unsigned char)102,      (unsigned char)3,      (unsigned char)114, 
        (unsigned char)3,      (unsigned char)126,      (unsigned char)3,      (unsigned char)138, 
        (unsigned char)3,      (unsigned char)150,      (unsigned char)3,      (unsigned char)162, 
        (unsigned char)3,      (unsigned char)174,      (unsigned char)3,      (unsigned char)186, 
        (unsigned char)3,      (unsigned char)199,      (unsigned char)3,      (unsigned char)211, 
        (unsigned char)3,      (unsigned char)224,      (unsigned char)3,      (unsigned char)236, 
        (unsigned char)3,      (unsigned char)249,      (unsigned char)4,      (unsigned char)6, 
        (unsigned char)4,      (unsigned char)19,      (unsigned char)4,      (unsigned char)32, 
        (unsigned char)4,      (unsigned char)45,      (unsigned char)4,      (unsigned char)59, 
        (unsigned char)4,      (unsigned char)72,      (unsigned char)4,      (unsigned char)85, 
        (unsigned char)4,      (unsigned char)99,      (unsigned char)4,      (unsigned char)113, 
        (unsigned char)4,      (unsigned char)126,      (unsigned char)4,      (unsigned char)140, 
        (unsigned char)4,      (unsigned char)154,      (unsigned char)4,      (unsigned char)168, 
        (unsigned char)4,      (unsigned char)182,      (unsigned char)4,      (unsigned char)196, 
        (unsigned char)4,      (unsigned char)211,      (unsigned char)4,      (unsigned char)225, 
        (unsigned char)4,      (unsigned char)240,      (unsigned char)4,      (unsigned char)254, 
        (unsigned char)5,      (unsigned char)13,      (unsigned char)5,      (unsigned char)28, 
        (unsigned char)5,      (unsigned char)43,      (unsigned char)5,      (unsigned char)58, 
        (unsigned char)5,      (unsigned char)73,      (unsigned char)5,      (unsigned char)88, 
        (unsigned char)5,      (unsigned char)103,      (unsigned char)5,      (unsigned char)119, 
        (unsigned char)5,      (unsigned char)134,      (unsigned char)5,      (unsigned char)150, 
        (unsigned char)5,      (unsigned char)166,      (unsigned char)5,      (unsigned char)181, 
        (unsigned char)5,      (unsigned char)197,      (unsigned char)5,      (unsigned char)213, 
        (unsigned char)5,      (unsigned char)229,      (unsigned char)5,      (unsigned char)246, 
        (unsigned char)6,      (unsigned char)6,      (unsigned char)6,      (unsigned char)22, 
        (unsigned char)6,      (unsigned char)39,      (unsigned char)6,      (unsigned char)55, 
        (unsigned char)6,      (unsigned char)72,      (unsigned char)6,      (unsigned char)89, 
        (unsigned char)6,      (unsigned char)106,      (unsigned char)6,      (unsigned char)123, 
        (unsigned char)6,      (unsigned char)140,      (unsigned char)6,      (unsigned char)157, 
        (unsigned char)6,      (unsigned char)175,      (unsigned char)6,      (unsigned char)192, 
        (unsigned char)6,      (unsigned char)209,      (unsigned char)6,      (unsigned char)227, 
        (unsigned char)6,      (unsigned char)245,      (unsigned char)7,      (unsigned char)7, 
        (unsigned char)7,      (unsigned char)25,      (unsigned char)7,      (unsigned char)43, 
        (unsigned char)7,      (unsigned char)61,      (unsigned char)7,      (unsigned char)79, 
        (unsigned char)7,      (unsigned char)97,      (unsigned char)7,      (unsigned char)116, 
        (unsigned char)7,      (unsigned char)134,      (unsigned char)7,      (unsigned char)153, 
        (unsigned char)7,      (unsigned char)172,      (unsigned char)7,      (unsigned char)191, 
        (unsigned char)7,      (unsigned char)210,      (unsigned char)7,      (unsigned char)229, 
        (unsigned char)7,      (unsigned char)248,      (unsigned char)8,      (unsigned char)11, 
        (unsigned char)8,      (unsigned char)31,      (unsigned char)8,      (unsigned char)50, 
        (unsigned char)8,      (unsigned char)70,      (unsigned char)8,      (unsigned char)90, 
        (unsigned char)8,      (unsigned char)110,      (unsigned char)8,      (unsigned char)130, 
        (unsigned char)8,      (unsigned char)150,      (unsigned char)8,      (unsigned char)170, 
        (unsigned char)8,      (unsigned char)190,      (unsigned char)8,      (unsigned char)210, 
        (unsigned char)8,      (unsigned char)231,      (unsigned char)8,      (unsigned char)251, 
        (unsigned char)9,      (unsigned char)16,      (unsigned char)9,      (unsigned char)37, 
        (unsigned char)9,      (unsigned char)58,      (unsigned char)9,      (unsigned char)79, 
        (unsigned char)9,      (unsigned char)100,      (unsigned char)9,      (unsigned char)121, 
        (unsigned char)9,      (unsigned char)143,      (unsigned char)9,      (unsigned char)164, 
        (unsigned char)9,      (unsigned char)186,      (unsigned char)9,      (unsigned char)207, 
        (unsigned char)9,      (unsigned char)229,      (unsigned char)9,      (unsigned char)251, 
        (unsigned char)10,      (unsigned char)17,      (unsigned char)10,      (unsigned char)39, 
        (unsigned char)10,      (unsigned char)61,      (unsigned char)10,      (unsigned char)84, 
        (unsigned char)10,      (unsigned char)106,      (unsigned char)10,      (unsigned char)129, 
        (unsigned char)10,      (unsigned char)152,      (unsigned char)10,      (unsigned char)174, 
        (unsigned char)10,      (unsigned char)197,      (unsigned char)10,      (unsigned char)220, 
        (unsigned char)10,      (unsigned char)243,      (unsigned char)11,      (unsigned char)11, 
        (unsigned char)11,      (unsigned char)34,      (unsigned char)11,      (unsigned char)57, 
        (unsigned char)11,      (unsigned char)81,      (unsigned char)11,      (unsigned char)105, 
        (unsigned char)11,      (unsigned char)128,      (unsigned char)11,      (unsigned char)152, 
        (unsigned char)11,      (unsigned char)176,      (unsigned char)11,      (unsigned char)200, 
        (unsigned char)11,      (unsigned char)225,      (unsigned char)11,      (unsigned char)249, 
        (unsigned char)12,      (unsigned char)18,      (unsigned char)12,      (unsigned char)42, 
        (unsigned char)12,      (unsigned char)67,      (unsigned char)12,      (unsigned char)92, 
        (unsigned char)12,      (unsigned char)117,      (unsigned char)12,      (unsigned char)142, 
        (unsigned char)12,      (unsigned char)167,      (unsigned char)12,      (unsigned char)192, 
        (unsigned char)12,      (unsigned char)217,      (unsigned char)12,      (unsigned char)243, 
        (unsigned char)13,      (unsigned char)13,      (unsigned char)13,      (unsigned char)38, 
        (unsigned char)13,      (unsigned char)64,      (unsigned char)13,      (unsigned char)90, 
        (unsigned char)13,      (unsigned char)116,      (unsigned char)13,      (unsigned char)142, 
        (unsigned char)13,      (unsigned char)169,      (unsigned char)13,      (unsigned char)195, 
        (unsigned char)13,      (unsigned char)222,      (unsigned char)13,      (unsigned char)248, 
        (unsigned char)14,      (unsigned char)19,      (unsigned char)14,      (unsigned char)46, 
        (unsigned char)14,      (unsigned char)73,      (unsigned char)14,      (unsigned char)100, 
        (unsigned char)14,      (unsigned char)127,      (unsigned char)14,      (unsigned char)155, 
        (unsigned char)14,      (unsigned char)182,      (unsigned char)14,      (unsigned char)210, 
        (unsigned char)14,      (unsigned char)238,      (unsigned char)15,      (unsigned char)9, 
        (unsigned char)15,      (unsigned char)37,      (unsigned char)15,      (unsigned char)65, 
        (unsigned char)15,      (unsigned char)94,      (unsigned char)15,      (unsigned char)122, 
        (unsigned char)15,      (unsigned char)150,      (unsigned char)15,      (unsigned char)179, 
        (unsigned char)15,      (unsigned char)207,      (unsigned char)15,      (unsigned char)236, 
        (unsigned char)16,      (unsigned char)9,      (unsigned char)16,      (unsigned char)38, 
        (unsigned char)16,      (unsigned char)67,      (unsigned char)16,      (unsigned char)97, 
        (unsigned char)16,      (unsigned char)126,      (unsigned char)16,      (unsigned char)155, 
        (unsigned char)16,      (unsigned char)185,      (unsigned char)16,      (unsigned char)215, 
        (unsigned char)16,      (unsigned char)245,      (unsigned char)17,      (unsigned char)19, 
        (unsigned char)17,      (unsigned char)49,      (unsigned char)17,      (unsigned char)79, 
        (unsigned char)17,      (unsigned char)109,      (unsigned char)17,      (unsigned char)140, 
        (unsigned char)17,      (unsigned char)170,      (unsigned char)17,      (unsigned char)201, 
        (unsigned char)17,      (unsigned char)232,      (unsigned char)18,      (unsigned char)7, 
        (unsigned char)18,      (unsigned char)38,      (unsigned char)18,      (unsigned char)69, 
        (unsigned char)18,      (unsigned char)100,      (unsigned char)18,      (unsigned char)132, 
        (unsigned char)18,      (unsigned char)163,      (unsigned char)18,      (unsigned char)195, 
        (unsigned char)18,      (unsigned char)227,      (unsigned char)19,      (unsigned char)3, 
        (unsigned char)19,      (unsigned char)35,      (unsigned char)19,      (unsigned char)67, 
        (unsigned char)19,      (unsigned char)99,      (unsigned char)19,      (unsigned char)131, 
        (unsigned char)19,      (unsigned char)164,      (unsigned char)19,      (unsigned char)197, 
        (unsigned char)19,      (unsigned char)229,      (unsigned char)20,      (unsigned char)6, 
        (unsigned char)20,      (unsigned char)39,      (unsigned char)20,      (unsigned char)73, 
        (unsigned char)20,      (unsigned char)106,      (unsigned char)20,      (unsigned char)139, 
        (unsigned char)20,      (unsigned char)173,      (unsigned char)20,      (unsigned char)206, 
        (unsigned char)20,      (unsigned char)240,      (unsigned char)21,      (unsigned char)18, 
        (unsigned char)21,      (unsigned char)52,      (unsigned char)21,      (unsigned char)86, 
        (unsigned char)21,      (unsigned char)120,      (unsigned char)21,      (unsigned char)155, 
        (unsigned char)21,      (unsigned char)189,      (unsigned char)21,      (unsigned char)224, 
        (unsigned char)22,      (unsigned char)3,      (unsigned char)22,      (unsigned char)38, 
        (unsigned char)22,      (unsigned char)73,      (unsigned char)22,      (unsigned char)108, 
        (unsigned char)22,      (unsigned char)143,      (unsigned char)22,      (unsigned char)178, 
        (unsigned char)22,      (unsigned char)214,      (unsigned char)22,      (unsigned char)250, 
        (unsigned char)23,      (unsigned char)29,      (unsigned char)23,      (unsigned char)65, 
        (unsigned char)23,      (unsigned char)101,      (unsigned char)23,      (unsigned char)137, 
        (unsigned char)23,      (unsigned char)174,      (unsigned char)23,      (unsigned char)210, 
        (unsigned char)23,      (unsigned char)247,      (unsigned char)24,      (unsigned char)27, 
        (unsigned char)24,      (unsigned char)64,      (unsigned char)24,      (unsigned char)101, 
        (unsigned char)24,      (unsigned char)138,      (unsigned char)24,      (unsigned char)175, 
        (unsigned char)24,      (unsigned char)213,      (unsigned char)24,      (unsigned char)250, 
        (unsigned char)25,      (unsigned char)32,      (unsigned char)25,      (unsigned char)69, 
        (unsigned char)25,      (unsigned char)107,      (unsigned char)25,      (unsigned char)145, 
        (unsigned char)25,      (unsigned char)183,      (unsigned char)25,      (unsigned char)221, 
        (unsigned char)26,      (unsigned char)4,      (unsigned char)26,      (unsigned char)42, 
        (unsigned char)26,      (unsigned char)81,      (unsigned char)26,      (unsigned char)119, 
        (unsigned char)26,      (unsigned char)158,      (unsigned char)26,      (unsigned char)197, 
        (unsigned char)26,      (unsigned char)236,      (unsigned char)27,      (unsigned char)20, 
        (unsigned char)27,      (unsigned char)59,      (unsigned char)27,      (unsigned char)99, 
        (unsigned char)27,      (unsigned char)138,      (unsigned char)27,      (unsigned char)178, 
        (unsigned char)27,      (unsigned char)218,      (unsigned char)28,      (unsigned char)2, 
        (unsigned char)28,      (unsigned char)42,      (unsigned char)28,      (unsigned char)82, 
        (unsigned char)28,      (unsigned char)123,      (unsigned char)28,      (unsigned char)163, 
        (unsigned char)28,      (unsigned char)204,      (unsigned char)28,      (unsigned char)245, 
        (unsigned char)29,      (unsigned char)30,      (unsigned char)29,      (unsigned char)71, 
        (unsigned char)29,      (unsigned char)112,      (unsigned char)29,      (unsigned char)153, 
        (unsigned char)29,      (unsigned char)195,      (unsigned char)29,      (unsigned char)236, 
        (unsigned char)30,      (unsigned char)22,      (unsigned char)30,      (unsigned char)64, 
        (unsigned char)30,      (unsigned char)106,      (unsigned char)30,      (unsigned char)148, 
        (unsigned char)30,      (unsigned char)190,      (unsigned char)30,      (unsigned char)233, 
        (unsigned char)31,      (unsigned char)19,      (unsigned char)31,      (unsigned char)62, 
        (unsigned char)31,      (unsigned char)105,      (unsigned char)31,      (unsigned char)148, 
        (unsigned char)31,      (unsigned char)191,      (unsigned char)31,      (unsigned char)234, 
        (unsigned char)32,      (unsigned char)21,      (unsigned char)32,      (unsigned char)65, 
        (unsigned char)32,      (unsigned char)108,      (unsigned char)32,      (unsigned char)152, 
        (unsigned char)32,      (unsigned char)196,      (unsigned char)32,      (unsigned char)240, 
        (unsigned char)33,      (unsigned char)28,      (unsigned char)33,      (unsigned char)72, 
        (unsigned char)33,      (unsigned char)117,      (unsigned char)33,      (unsigned char)161, 
        (unsigned char)33,      (unsigned char)206,      (unsigned char)33,      (unsigned char)251, 
        (unsigned char)34,      (unsigned char)39,      (unsigned char)34,      (unsigned char)85, 
        (unsigned char)34,      (unsigned char)130,      (unsigned char)34,      (unsigned char)175, 
        (unsigned char)34,      (unsigned char)221,      (unsigned char)35,      (unsigned char)10, 
        (unsigned char)35,      (unsigned char)56,      (unsigned char)35,      (unsigned char)102, 
        (unsigned char)35,      (unsigned char)148,      (unsigned char)35,      (unsigned char)194, 
        (unsigned char)35,      (unsigned char)240,      (unsigned char)36,      (unsigned char)31, 
        (unsigned char)36,      (unsigned char)77,      (unsigned char)36,      (unsigned char)124, 
        (unsigned char)36,      (unsigned char)171,      (unsigned char)36,      (unsigned char)218, 
        (unsigned char)37,      (unsigned char)9,      (unsigned char)37,      (unsigned char)56, 
        (unsigned char)37,      (unsigned char)104,      (unsigned char)37,      (unsigned char)151, 
        (unsigned char)37,      (unsigned char)199,      (unsigned char)37,      (unsigned char)247, 
        (unsigned char)38,      (unsigned char)39,      (unsigned char)38,      (unsigned char)87, 
        (unsigned char)38,      (unsigned char)135,      (unsigned char)38,      (unsigned char)183, 
        (unsigned char)38,      (unsigned char)232,      (unsigned char)39,      (unsigned char)24, 
        (unsigned char)39,      (unsigned char)73,      (unsigned char)39,      (unsigned char)122, 
        (unsigned char)39,      (unsigned char)171,      (unsigned char)39,      (unsigned char)220, 
        (unsigned char)40,      (unsigned char)13,      (unsigned char)40,      (unsigned char)63, 
        (unsigned char)40,      (unsigned char)113,      (unsigned char)40,      (unsigned char)162, 
        (unsigned char)40,      (unsigned char)212,      (unsigned char)41,      (unsigned char)6, 
        (unsigned char)41,      (unsigned char)56,      (unsigned char)41,      (unsigned char)107, 
        (unsigned char)41,      (unsigned char)157,      (unsigned char)41,      (unsigned char)208, 
        (unsigned char)42,      (unsigned char)2,      (unsigned char)42,      (unsigned char)53, 
        (unsigned char)42,      (unsigned char)104,      (unsigned char)42,      (unsigned char)155, 
        (unsigned char)42,      (unsigned char)207,      (unsigned char)43,      (unsigned char)2, 
        (unsigned char)43,      (unsigned char)54,      (unsigned char)43,      (unsigned char)105, 
        (unsigned char)43,      (unsigned char)157,      (unsigned char)43,      (unsigned char)209, 
        (unsigned char)44,      (unsigned char)5,      (unsigned char)44,      (unsigned char)57, 
        (unsigned char)44,      (unsigned char)110,      (unsigned char)44,      (unsigned char)162, 
        (unsigned char)44,      (unsigned char)215,      (unsigned char)45,      (unsigned char)12, 
        (unsigned char)45,      (unsigned char)65,      (unsigned char)45,      (unsigned char)118, 
        (unsigned char)45,      (unsigned char)171,      (unsigned char)45,      (unsigned char)225, 
        (unsigned char)46,      (unsigned char)22,      (unsigned char)46,      (unsigned char)76, 
        (unsigned char)46,      (unsigned char)130,      (unsigned char)46,      (unsigned char)183, 
        (unsigned char)46,      (unsigned char)238,      (unsigned char)47,      (unsigned char)36, 
        (unsigned char)47,      (unsigned char)90,      (unsigned char)47,      (unsigned char)145, 
        (unsigned char)47,      (unsigned char)199,      (unsigned char)47,      (unsigned char)254, 
        (unsigned char)48,      (unsigned char)53,      (unsigned char)48,      (unsigned char)108, 
        (unsigned char)48,      (unsigned char)164,      (unsigned char)48,      (unsigned char)219, 
        (unsigned char)49,      (unsigned char)18,      (unsigned char)49,      (unsigned char)74, 
        (unsigned char)49,      (unsigned char)130,      (unsigned char)49,      (unsigned char)186, 
        (unsigned char)49,      (unsigned char)242,      (unsigned char)50,      (unsigned char)42, 
        (unsigned char)50,      (unsigned char)99,      (unsigned char)50,      (unsigned char)155, 
        (unsigned char)50,      (unsigned char)212,      (unsigned char)51,      (unsigned char)13, 
        (unsigned char)51,      (unsigned char)70,      (unsigned char)51,      (unsigned char)127, 
        (unsigned char)51,      (unsigned char)184,      (unsigned char)51,      (unsigned char)241, 
        (unsigned char)52,      (unsigned char)43,      (unsigned char)52,      (unsigned char)101, 
        (unsigned char)52,      (unsigned char)158,      (unsigned char)52,      (unsigned char)216, 
        (unsigned char)53,      (unsigned char)19,      (unsigned char)53,      (unsigned char)77, 
        (unsigned char)53,      (unsigned char)135,      (unsigned char)53,      (unsigned char)194, 
        (unsigned char)53,      (unsigned char)253,      (unsigned char)54,      (unsigned char)55, 
        (unsigned char)54,      (unsigned char)114,      (unsigned char)54,      (unsigned char)174, 
        (unsigned char)54,      (unsigned char)233,      (unsigned char)55,      (unsigned char)36, 
        (unsigned char)55,      (unsigned char)96,      (unsigned char)55,      (unsigned char)156, 
        (unsigned char)55,      (unsigned char)215,      (unsigned char)56,      (unsigned char)20, 
        (unsigned char)56,      (unsigned char)80,      (unsigned char)56,      (unsigned char)140, 
        (unsigned char)56,      (unsigned char)200,      (unsigned char)57,      (unsigned char)5, 
        (unsigned char)57,      (unsigned char)66,      (unsigned char)57,      (unsigned char)127, 
        (unsigned char)57,      (unsigned char)188,      (unsigned char)57,      (unsigned char)249, 
        (unsigned char)58,      (unsigned char)54,      (unsigned char)58,      (unsigned char)116, 
        (unsigned char)58,      (unsigned char)178,      (unsigned char)58,      (unsigned char)239, 
        (unsigned char)59,      (unsigned char)45,      (unsigned char)59,      (unsigned char)107, 
        (unsigned char)59,      (unsigned char)170,      (unsigned char)59,      (unsigned char)232, 
        (unsigned char)60,      (unsigned char)39,      (unsigned char)60,      (unsigned char)101, 
        (unsigned char)60,      (unsigned char)164,      (unsigned char)60,      (unsigned char)227, 
        (unsigned char)61,      (unsigned char)34,      (unsigned char)61,      (unsigned char)97, 
        (unsigned char)61,      (unsigned char)161,      (unsigned char)61,      (unsigned char)224, 
        (unsigned char)62,      (unsigned char)32,      (unsigned char)62,      (unsigned char)96, 
        (unsigned char)62,      (unsigned char)160,      (unsigned char)62,      (unsigned char)224, 
        (unsigned char)63,      (unsigned char)33,      (unsigned char)63,      (unsigned char)97, 
        (unsigned char)63,      (unsigned char)162,      (unsigned char)63,      (unsigned char)226, 
        (unsigned char)64,      (unsigned char)35,      (unsigned char)64,      (unsigned char)100, 
        (unsigned char)64,      (unsigned char)166,      (unsigned char)64,      (unsigned char)231, 
        (unsigned char)65,      (unsigned char)41,      (unsigned char)65,      (unsigned char)106, 
        (unsigned char)65,      (unsigned char)172,      (unsigned char)65,      (unsigned char)238, 
        (unsigned char)66,      (unsigned char)48,      (unsigned char)66,      (unsigned char)114, 
        (unsigned char)66,      (unsigned char)181,      (unsigned char)66,      (unsigned char)247, 
        (unsigned char)67,      (unsigned char)58,      (unsigned char)67,      (unsigned char)125, 
        (unsigned char)67,      (unsigned char)192,      (unsigned char)68,      (unsigned char)3, 
        (unsigned char)68,      (unsigned char)71,      (unsigned char)68,      (unsigned char)138, 
        (unsigned char)68,      (unsigned char)206,      (unsigned char)69,      (unsigned char)18, 
        (unsigned char)69,      (unsigned char)85,      (unsigned char)69,      (unsigned char)154, 
        (unsigned char)69,      (unsigned char)222,      (unsigned char)70,      (unsigned char)34, 
        (unsigned char)70,      (unsigned char)103,      (unsigned char)70,      (unsigned char)171, 
        (unsigned char)70,      (unsigned char)240,      (unsigned char)71,      (unsigned char)53, 
        (unsigned char)71,      (unsigned char)123,      (unsigned char)71,      (unsigned char)192, 
        (unsigned char)72,      (unsigned char)5,      (unsigned char)72,      (unsigned char)75, 
        (unsigned char)72,      (unsigned char)145,      (unsigned char)72,      (unsigned char)215, 
        (unsigned char)73,      (unsigned char)29,      (unsigned char)73,      (unsigned char)99, 
        (unsigned char)73,      (unsigned char)169,      (unsigned char)73,      (unsigned char)240, 
        (unsigned char)74,      (unsigned char)55,      (unsigned char)74,      (unsigned char)125, 
        (unsigned char)74,      (unsigned char)196,      (unsigned char)75,      (unsigned char)12, 
        (unsigned char)75,      (unsigned char)83,      (unsigned char)75,      (unsigned char)154, 
        (unsigned char)75,      (unsigned char)226,      (unsigned char)76,      (unsigned char)42, 
        (unsigned char)76,      (unsigned char)114,      (unsigned char)76,      (unsigned char)186, 
        (unsigned char)77,      (unsigned char)2,      (unsigned char)77,      (unsigned char)74, 
        (unsigned char)77,      (unsigned char)147,      (unsigned char)77,      (unsigned char)220, 
        (unsigned char)78,      (unsigned char)37,      (unsigned char)78,      (unsigned char)110, 
        (unsigned char)78,      (unsigned char)183,      (unsigned char)79,      (unsigned char)0, 
        (unsigned char)79,      (unsigned char)73,      (unsigned char)79,      (unsigned char)147, 
        (unsigned char)79,      (unsigned char)221,      (unsigned char)80,      (unsigned char)39, 
        (unsigned char)80,      (unsigned char)113,      (unsigned char)80,      (unsigned char)187, 
        (unsigned char)81,      (unsigned char)6,      (unsigned char)81,      (unsigned char)80, 
        (unsigned char)81,      (unsigned char)155,      (unsigned char)81,      (unsigned char)230, 
        (unsigned char)82,      (unsigned char)49,      (unsigned char)82,      (unsigned char)124, 
        (unsigned char)82,      (unsigned char)199,      (unsigned char)83,      (unsigned char)19, 
        (unsigned char)83,      (unsigned char)95,      (unsigned char)83,      (unsigned char)170, 
        (unsigned char)83,      (unsigned char)246,      (unsigned char)84,      (unsigned char)66, 
        (unsigned char)84,      (unsigned char)143,      (unsigned char)84,      (unsigned char)219, 
        (unsigned char)85,      (unsigned char)40,      (unsigned char)85,      (unsigned char)117, 
        (unsigned char)85,      (unsigned char)194,      (unsigned char)86,      (unsigned char)15, 
        (unsigned char)86,      (unsigned char)92,      (unsigned char)86,      (unsigned char)169, 
        (unsigned char)86,      (unsigned char)247,      (unsigned char)87,      (unsigned char)68, 
        (unsigned char)87,      (unsigned char)146,      (unsigned char)87,      (unsigned char)224, 
        (unsigned char)88,      (unsigned char)47,      (unsigned char)88,      (unsigned char)125, 
        (unsigned char)88,      (unsigned char)203,      (unsigned char)89,      (unsigned char)26, 
        (unsigned char)89,      (unsigned char)105,      (unsigned char)89,      (unsigned char)184, 
        (unsigned char)90,      (unsigned char)7,      (unsigned char)90,      (unsigned char)86, 
        (unsigned char)90,      (unsigned char)166,      (unsigned char)90,      (unsigned char)245, 
        (unsigned char)91,      (unsigned char)69,      (unsigned char)91,      (unsigned char)149, 
        (unsigned char)91,      (unsigned char)229,      (unsigned char)92,      (unsigned char)53, 
        (unsigned char)92,      (unsigned char)134,      (unsigned char)92,      (unsigned char)214, 
        (unsigned char)93,      (unsigned char)39,      (unsigned char)93,      (unsigned char)120, 
        (unsigned char)93,      (unsigned char)201,      (unsigned char)94,      (unsigned char)26, 
        (unsigned char)94,      (unsigned char)108,      (unsigned char)94,      (unsigned char)189, 
        (unsigned char)95,      (unsigned char)15,      (unsigned char)95,      (unsigned char)97, 
        (unsigned char)95,      (unsigned char)179,      (unsigned char)96,      (unsigned char)5, 
        (unsigned char)96,      (unsigned char)87,      (unsigned char)96,      (unsigned char)170, 
        (unsigned char)96,      (unsigned char)252,      (unsigned char)97,      (unsigned char)79, 
        (unsigned char)97,      (unsigned char)162,      (unsigned char)97,      (unsigned char)245, 
        (unsigned char)98,      (unsigned char)73,      (unsigned char)98,      (unsigned char)156, 
        (unsigned char)98,      (unsigned char)240,      (unsigned char)99,      (unsigned char)67, 
        (unsigned char)99,      (unsigned char)151,      (unsigned char)99,      (unsigned char)235, 
        (unsigned char)100,      (unsigned char)64,      (unsigned char)100,      (unsigned char)148, 
        (unsigned char)100,      (unsigned char)233,      (unsigned char)101,      (unsigned char)61, 
        (unsigned char)101,      (unsigned char)146,      (unsigned char)101,      (unsigned char)231, 
        (unsigned char)102,      (unsigned char)61,      (unsigned char)102,      (unsigned char)146, 
        (unsigned char)102,      (unsigned char)232,      (unsigned char)103,      (unsigned char)61, 
        (unsigned char)103,      (unsigned char)147,      (unsigned char)103,      (unsigned char)233, 
        (unsigned char)104,      (unsigned char)63,      (unsigned char)104,      (unsigned char)150, 
        (unsigned char)104,      (unsigned char)236,      (unsigned char)105,      (unsigned char)67, 
        (unsigned char)105,      (unsigned char)154,      (unsigned char)105,      (unsigned char)241, 
        (unsigned char)106,      (unsigned char)72,      (unsigned char)106,      (unsigned char)159, 
        (unsigned char)106,      (unsigned char)247,      (unsigned char)107,      (unsigned char)79, 
        (unsigned char)107,      (unsigned char)167,      (unsigned char)107,      (unsigned char)255, 
        (unsigned char)108,      (unsigned char)87,      (unsigned char)108,      (unsigned char)175, 
        (unsigned char)109,      (unsigned char)8,      (unsigned char)109,      (unsigned char)96, 
        (unsigned char)109,      (unsigned char)185,      (unsigned char)110,      (unsigned char)18, 
        (unsigned char)110,      (unsigned char)107,      (unsigned char)110,      (unsigned char)196, 
        (unsigned char)111,      (unsigned char)30,      (unsigned char)111,      (unsigned char)120, 
        (unsigned char)111,      (unsigned char)209,      (unsigned char)112,      (unsigned char)43, 
        (unsigned char)112,      (unsigned char)134,      (unsigned char)112,      (unsigned char)224, 
        (unsigned char)113,      (unsigned char)58,      (unsigned char)113,      (unsigned char)149, 
        (unsigned char)113,      (unsigned char)240,      (unsigned char)114,      (unsigned char)75, 
        (unsigned char)114,      (unsigned char)166,      (unsigned char)115,      (unsigned char)1, 
        (unsigned char)115,      (unsigned char)93,      (unsigned char)115,      (unsigned char)184, 
        (unsigned char)116,      (unsigned char)20,      (unsigned char)116,      (unsigned char)112, 
        (unsigned char)116,      (unsigned char)204,      (unsigned char)117,      (unsigned char)40, 
        (unsigned char)117,      (unsigned char)133,      (unsigned char)117,      (unsigned char)225, 
        (unsigned char)118,      (unsigned char)62,      (unsigned char)118,      (unsigned char)155, 
        (unsigned char)118,      (unsigned char)248,      (unsigned char)119,      (unsigned char)86, 
        (unsigned char)119,      (unsigned char)179,      (unsigned char)120,      (unsigned char)17, 
        (unsigned char)120,      (unsigned char)110,      (unsigned char)120,      (unsigned char)204, 
        (unsigned char)121,      (unsigned char)42,      (unsigned char)121,      (unsigned char)137, 
        (unsigned char)121,      (unsigned char)231,      (unsigned char)122,      (unsigned char)70, 
        (unsigned char)122,      (unsigned char)165,      (unsigned char)123,      (unsigned char)4, 
        (unsigned char)123,      (unsigned char)99,      (unsigned char)123,      (unsigned char)194, 
        (unsigned char)124,      (unsigned char)33,      (unsigned char)124,      (unsigned char)129, 
        (unsigned char)124,      (unsigned char)225,      (unsigned char)125,      (unsigned char)65, 
        (unsigned char)125,      (unsigned char)161,      (unsigned char)126,      (unsigned char)1, 
        (unsigned char)126,      (unsigned char)98,      (unsigned char)126,      (unsigned char)194, 
        (unsigned char)127,      (unsigned char)35,      (unsigned char)127,      (unsigned char)132, 
        (unsigned char)127,      (unsigned char)229,      (unsigned char)128,      (unsigned char)71, 
        (unsigned char)128,      (unsigned char)168,      (unsigned char)129,      (unsigned char)10, 
        (unsigned char)129,      (unsigned char)107,      (unsigned char)129,      (unsigned char)205, 
        (unsigned char)130,      (unsigned char)48,      (unsigned char)130,      (unsigned char)146, 
        (unsigned char)130,      (unsigned char)244,      (unsigned char)131,      (unsigned char)87, 
        (unsigned char)131,      (unsigned char)186,      (unsigned char)132,      (unsigned char)29, 
        (unsigned char)132,      (unsigned char)128,      (unsigned char)132,      (unsigned char)227, 
        (unsigned char)133,      (unsigned char)71,      (unsigned char)133,      (unsigned char)171, 
        (unsigned char)134,      (unsigned char)14,      (unsigned char)134,      (unsigned char)114, 
        (unsigned char)134,      (unsigned char)215,      (unsigned char)135,      (unsigned char)59, 
        (unsigned char)135,      (unsigned char)159,      (unsigned char)136,      (unsigned char)4, 
        (unsigned char)136,      (unsigned char)105,      (unsigned char)136,      (unsigned char)206, 
        (unsigned char)137,      (unsigned char)51,      (unsigned char)137,      (unsigned char)153, 
        (unsigned char)137,      (unsigned char)254,      (unsigned char)138,      (unsigned char)100, 
        (unsigned char)138,      (unsigned char)202,      (unsigned char)139,      (unsigned char)48, 
        (unsigned char)139,      (unsigned char)150,      (unsigned char)139,      (unsigned char)252, 
        (unsigned char)140,      (unsigned char)99,      (unsigned char)140,      (unsigned char)202, 
        (unsigned char)141,      (unsigned char)49,      (unsigned char)141,      (unsigned char)152, 
        (unsigned char)141,      (unsigned char)255,      (unsigned char)142,      (unsigned char)102, 
        (unsigned char)142,      (unsigned char)206,      (unsigned char)143,      (unsigned char)54, 
        (unsigned char)143,      (unsigned char)158,      (unsigned char)144,      (unsigned char)6, 
        (unsigned char)144,      (unsigned char)110,      (unsigned char)144,      (unsigned char)214, 
        (unsigned char)145,      (unsigned char)63,      (unsigned char)145,      (unsigned char)168, 
        (unsigned char)146,      (unsigned char)17,      (unsigned char)146,      (unsigned char)122, 
        (unsigned char)146,      (unsigned char)227,      (unsigned char)147,      (unsigned char)77, 
        (unsigned char)147,      (unsigned char)182,      (unsigned char)148,      (unsigned char)32, 
        (unsigned char)148,      (unsigned char)138,      (unsigned char)148,      (unsigned char)244, 
        (unsigned char)149,      (unsigned char)95,      (unsigned char)149,      (unsigned char)201, 
        (unsigned char)150,      (unsigned char)52,      (unsigned char)150,      (unsigned char)159, 
        (unsigned char)151,      (unsigned char)10,      (unsigned char)151,      (unsigned char)117, 
        (unsigned char)151,      (unsigned char)224,      (unsigned char)152,      (unsigned char)76, 
        (unsigned char)152,      (unsigned char)184,      (unsigned char)153,      (unsigned char)36, 
        (unsigned char)153,      (unsigned char)144,      (unsigned char)153,      (unsigned char)252, 
        (unsigned char)154,      (unsigned char)104,      (unsigned char)154,      (unsigned char)213, 
        (unsigned char)155,      (unsigned char)66,      (unsigned char)155,      (unsigned char)175, 
        (unsigned char)156,      (unsigned char)28,      (unsigned char)156,      (unsigned char)137, 
        (unsigned char)156,      (unsigned char)247,      (unsigned char)157,      (unsigned char)100, 
        (unsigned char)157,      (unsigned char)210,      (unsigned char)158,      (unsigned char)64, 
        (unsigned char)158,      (unsigned char)174,      (unsigned char)159,      (unsigned char)29, 
        (unsigned char)159,      (unsigned char)139,      (unsigned char)159,      (unsigned char)250, 
        (unsigned char)160,      (unsigned char)105,      (unsigned char)160,      (unsigned char)216, 
        (unsigned char)161,      (unsigned char)71,      (unsigned char)161,      (unsigned char)182, 
        (unsigned char)162,      (unsigned char)38,      (unsigned char)162,      (unsigned char)150, 
        (unsigned char)163,      (unsigned char)6,      (unsigned char)163,      (unsigned char)118, 
        (unsigned char)163,      (unsigned char)230,      (unsigned char)164,      (unsigned char)86, 
        (unsigned char)164,      (unsigned char)199,      (unsigned char)165,      (unsigned char)56, 
        (unsigned char)165,      (unsigned char)169,      (unsigned char)166,      (unsigned char)26, 
        (unsigned char)166,      (unsigned char)139,      (unsigned char)166,      (unsigned char)253, 
        (unsigned char)167,      (unsigned char)110,      (unsigned char)167,      (unsigned char)224, 
        (unsigned char)168,      (unsigned char)82,      (unsigned char)168,      (unsigned char)196, 
        (unsigned char)169,      (unsigned char)55,      (unsigned char)169,      (unsigned char)169, 
        (unsigned char)170,      (unsigned char)28,      (unsigned char)170,      (unsigned char)143, 
        (unsigned char)171,      (unsigned char)2,      (unsigned char)171,      (unsigned char)117, 
        (unsigned char)171,      (unsigned char)233,      (unsigned char)172,      (unsigned char)92, 
        (unsigned char)172,      (unsigned char)208,      (unsigned char)173,      (unsigned char)68, 
        (unsigned char)173,      (unsigned char)184,      (unsigned char)174,      (unsigned char)45, 
        (unsigned char)174,      (unsigned char)161,      (unsigned char)175,      (unsigned char)22, 
        (unsigned char)175,      (unsigned char)139,      (unsigned char)176,      (unsigned char)0, 
        (unsigned char)176,      (unsigned char)117,      (unsigned char)176,      (unsigned char)234, 
        (unsigned char)177,      (unsigned char)96,      (unsigned char)177,      (unsigned char)214, 
        (unsigned char)178,      (unsigned char)75,      (unsigned char)178,      (unsigned char)194, 
        (unsigned char)179,      (unsigned char)56,      (unsigned char)179,      (unsigned char)174, 
        (unsigned char)180,      (unsigned char)37,      (unsigned char)180,      (unsigned char)156, 
        (unsigned char)181,      (unsigned char)19,      (unsigned char)181,      (unsigned char)138, 
        (unsigned char)182,      (unsigned char)1,      (unsigned char)182,      (unsigned char)121, 
        (unsigned char)182,      (unsigned char)240,      (unsigned char)183,      (unsigned char)104, 
        (unsigned char)183,      (unsigned char)224,      (unsigned char)184,      (unsigned char)89, 
        (unsigned char)184,      (unsigned char)209,      (unsigned char)185,      (unsigned char)74, 
        (unsigned char)185,      (unsigned char)194,      (unsigned char)186,      (unsigned char)59, 
        (unsigned char)186,      (unsigned char)181,      (unsigned char)187,      (unsigned char)46, 
        (unsigned char)187,      (unsigned char)167,      (unsigned char)188,      (unsigned char)33, 
        (unsigned char)188,      (unsigned char)155,      (unsigned char)189,      (unsigned char)21, 
        (unsigned char)189,      (unsigned char)143,      (unsigned char)190,      (unsigned char)10, 
        (unsigned char)190,      (unsigned char)132,      (unsigned char)190,      (unsigned char)255, 
        (unsigned char)191,      (unsigned char)122,      (unsigned char)191,      (unsigned char)245, 
        (unsigned char)192,      (unsigned char)112,      (unsigned char)192,      (unsigned char)236, 
        (unsigned char)193,      (unsigned char)103,      (unsigned char)193,      (unsigned char)227, 
        (unsigned char)194,      (unsigned char)95,      (unsigned char)194,      (unsigned char)219, 
        (unsigned char)195,      (unsigned char)88,      (unsigned char)195,      (unsigned char)212, 
        (unsigned char)196,      (unsigned char)81,      (unsigned char)196,      (unsigned char)206, 
        (unsigned char)197,      (unsigned char)75,      (unsigned char)197,      (unsigned char)200, 
        (unsigned char)198,      (unsigned char)70,      (unsigned char)198,      (unsigned char)195, 
        (unsigned char)199,      (unsigned char)65,      (unsigned char)199,      (unsigned char)191, 
        (unsigned char)200,      (unsigned char)61,      (unsigned char)200,      (unsigned char)188, 
        (unsigned char)201,      (unsigned char)58,      (unsigned char)201,      (unsigned char)185, 
        (unsigned char)202,      (unsigned char)56,      (unsigned char)202,      (unsigned char)183, 
        (unsigned char)203,      (unsigned char)54,      (unsigned char)203,      (unsigned char)182, 
        (unsigned char)204,      (unsigned char)53,      (unsigned char)204,      (unsigned char)181, 
        (unsigned char)205,      (unsigned char)53,      (unsigned char)205,      (unsigned char)181, 
        (unsigned char)206,      (unsigned char)54,      (unsigned char)206,      (unsigned char)182, 
        (unsigned char)207,      (unsigned char)55,      (unsigned char)207,      (unsigned char)184, 
        (unsigned char)208,      (unsigned char)57,      (unsigned char)208,      (unsigned char)186, 
        (unsigned char)209,      (unsigned char)60,      (unsigned char)209,      (unsigned char)190, 
        (unsigned char)210,      (unsigned char)63,      (unsigned char)210,      (unsigned char)193, 
        (unsigned char)211,      (unsigned char)68,      (unsigned char)211,      (unsigned char)198, 
        (unsigned char)212,      (unsigned char)73,      (unsigned char)212,      (unsigned char)203, 
        (unsigned char)213,      (unsigned char)78,      (unsigned char)213,      (unsigned char)209, 
        (unsigned char)214,      (unsigned char)85,      (unsigned char)214,      (unsigned char)216, 
        (unsigned char)215,      (unsigned char)92,      (unsigned char)215,      (unsigned char)224, 
        (unsigned char)216,      (unsigned char)100,      (unsigned char)216,      (unsigned char)232, 
        (unsigned char)217,      (unsigned char)108,      (unsigned char)217,      (unsigned char)241, 
        (unsigned char)218,      (unsigned char)118,      (unsigned char)218,      (unsigned char)251, 
        (unsigned char)219,      (unsigned char)128,      (unsigned char)220,      (unsigned char)5, 
        (unsigned char)220,      (unsigned char)138,      (unsigned char)221,      (unsigned char)16, 
        (unsigned char)221,      (unsigned char)150,      (unsigned char)222,      (unsigned char)28, 
        (unsigned char)222,      (unsigned char)162,      (unsigned char)223,      (unsigned char)41, 
        (unsigned char)223,      (unsigned char)175,      (unsigned char)224,      (unsigned char)54, 
        (unsigned char)224,      (unsigned char)189,      (unsigned char)225,      (unsigned char)68, 
        (unsigned char)225,      (unsigned char)204,      (unsigned char)226,      (unsigned char)83, 
        (unsigned char)226,      (unsigned char)219,      (unsigned char)227,      (unsigned char)99, 
        (unsigned char)227,      (unsigned char)235,      (unsigned char)228,      (unsigned char)115, 
        (unsigned char)228,      (unsigned char)252,      (unsigned char)229,      (unsigned char)132, 
        (unsigned char)230,      (unsigned char)13,      (unsigned char)230,      (unsigned char)150, 
        (unsigned char)231,      (unsigned char)31,      (unsigned char)231,      (unsigned char)169, 
        (unsigned char)232,      (unsigned char)50,      (unsigned char)232,      (unsigned char)188, 
        (unsigned char)233,      (unsigned char)70,      (unsigned char)233,      (unsigned char)208, 
        (unsigned char)234,      (unsigned char)91,      (unsigned char)234,      (unsigned char)229, 
        (unsigned char)235,      (unsigned char)112,      (unsigned char)235,      (unsigned char)251, 
        (unsigned char)236,      (unsigned char)134,      (unsigned char)237,      (unsigned char)17, 
        (unsigned char)237,      (unsigned char)156,      (unsigned char)238,      (unsigned char)40, 
        (unsigned char)238,      (unsigned char)180,      (unsigned char)239,      (unsigned char)64, 
        (unsigned char)239,      (unsigned char)204,      (unsigned char)240,      (unsigned char)88, 
        (unsigned char)240,      (unsigned char)229,      (unsigned char)241,      (unsigned char)114, 
        (unsigned char)241,      (unsigned char)255,      (unsigned char)242,      (unsigned char)140, 
        (unsigned char)243,      (unsigned char)25,      (unsigned char)243,      (unsigned char)167, 
        (unsigned char)244,      (unsigned char)52,      (unsigned char)244,      (unsigned char)194, 
        (unsigned char)245,      (unsigned char)80,      (unsigned char)245,      (unsigned char)222, 
        (unsigned char)246,      (unsigned char)109,      (unsigned char)246,      (unsigned char)251, 
        (unsigned char)247,      (unsigned char)138,      (unsigned char)248,      (unsigned char)25, 
        (unsigned char)248,      (unsigned char)168,      (unsigned char)249,      (unsigned char)56, 
        (unsigned char)249,      (unsigned char)199,      (unsigned char)250,      (unsigned char)87, 
        (unsigned char)250,      (unsigned char)231,      (unsigned char)251,      (unsigned char)119, 
        (unsigned char)252,      (unsigned char)7,      (unsigned char)252,      (unsigned char)152, 
        (unsigned char)253,      (unsigned char)41,      (unsigned char)253,      (unsigned char)186, 
        (unsigned char)254,      (unsigned char)75,      (unsigned char)254,      (unsigned char)220, 
        (unsigned char)255,      (unsigned char)109,      (unsigned char)255,      (unsigned char)255};
#line 462 "/root/patron-new/new_2/src/libjasper/base/jas_iccdata.c"
int jas_iccprofdata_srgblen  =    (int )sizeof(jas_iccprofdata_srgb);
#line 464 "/root/patron-new/new_2/src/libjasper/base/jas_iccdata.c"
unsigned char jas_iccprofdata_sgray[394]  = 
#line 464
  {      (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)138, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)2,      (unsigned char)32,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)115,      (unsigned char)99,      (unsigned char)110,      (unsigned char)114, 
        (unsigned char)71,      (unsigned char)82,      (unsigned char)65,      (unsigned char)89, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)7,      (unsigned char)211,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)0,      (unsigned char)31,      (unsigned char)0,      (unsigned char)13, 
        (unsigned char)0,      (unsigned char)53,      (unsigned char)0,      (unsigned char)33, 
        (unsigned char)97,      (unsigned char)99,      (unsigned char)115,      (unsigned char)112, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)75,      (unsigned char)79,      (unsigned char)68,      (unsigned char)65, 
        (unsigned char)115,      (unsigned char)71,      (unsigned char)114,      (unsigned char)121, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)246,      (unsigned char)214, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)211,      (unsigned char)45, 
        (unsigned char)74,      (unsigned char)80,      (unsigned char)69,      (unsigned char)71, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)4, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)180, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)134, 
        (unsigned char)99,      (unsigned char)112,      (unsigned char)114,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)60, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)43, 
        (unsigned char)119,      (unsigned char)116,      (unsigned char)112,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)104, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)107,      (unsigned char)84,      (unsigned char)82,      (unsigned char)67, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)124, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)14, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)44, 
        (unsigned char)82,      (unsigned char)101,      (unsigned char)115,      (unsigned char)116, 
        (unsigned char)114,      (unsigned char)105,      (unsigned char)99,      (unsigned char)116, 
        (unsigned char)101,      (unsigned char)100,      (unsigned char)32,      (unsigned char)73, 
        (unsigned char)67,      (unsigned char)67,      (unsigned char)32,      (unsigned char)112, 
        (unsigned char)114,      (unsigned char)111,      (unsigned char)102,      (unsigned char)105, 
        (unsigned char)108,      (unsigned char)101,      (unsigned char)32,      (unsigned char)100, 
        (unsigned char)101,      (unsigned char)115,      (unsigned char)99,      (unsigned char)114, 
        (unsigned char)105,      (unsigned char)98,      (unsigned char)105,      (unsigned char)110, 
        (unsigned char)103,      (unsigned char)32,      (unsigned char)115,      (unsigned char)82, 
        (unsigned char)71,      (unsigned char)66,      (unsigned char)45,      (unsigned char)103, 
        (unsigned char)114,      (unsigned char)101,      (unsigned char)121,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)116,      (unsigned char)101,      (unsigned char)120,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)67,      (unsigned char)111,      (unsigned char)112,      (unsigned char)121, 
        (unsigned char)114,      (unsigned char)105,      (unsigned char)103,      (unsigned char)104, 
        (unsigned char)116,      (unsigned char)32,      (unsigned char)50,      (unsigned char)48, 
        (unsigned char)48,      (unsigned char)51,      (unsigned char)32,      (unsigned char)115, 
        (unsigned char)82,      (unsigned char)71,      (unsigned char)66,      (unsigned char)45, 
        (unsigned char)103,      (unsigned char)114,      (unsigned char)101,      (unsigned char)121, 
        (unsigned char)32,      (unsigned char)82,      (unsigned char)101,      (unsigned char)102, 
        (unsigned char)101,      (unsigned char)114,      (unsigned char)101,      (unsigned char)110, 
        (unsigned char)99,      (unsigned char)101,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)243,      (unsigned char)84, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)22,      (unsigned char)207, 
        (unsigned char)99,      (unsigned char)117,      (unsigned char)114,      (unsigned char)118, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)205};
#line 517 "/root/patron-new/new_2/src/libjasper/base/jas_iccdata.c"
int jas_iccprofdata_sgraylen  =    (int )sizeof(jas_iccprofdata_sgray);
#line 81 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static jas_iccattrval_t *jas_iccattrval_create0(void) ;
#line 83
static int jas_iccgetuint(jas_stream_t *in , int n , unsigned long long *val ) ;
#line 84
static int jas_iccgetuint8(jas_stream_t *in , jas_iccuint8_t *val ) ;
#line 85
static int jas_iccgetuint16(jas_stream_t *in , jas_iccuint16_t *val ) ;
#line 86
static int jas_iccgetsint32(jas_stream_t *in , jas_iccsint32_t *val ) ;
#line 87
static int jas_iccgetuint32(jas_stream_t *in , jas_iccuint32_t *val ) ;
#line 88
static int jas_iccgetuint64(jas_stream_t *in , jas_iccuint64_t *val ) ;
#line 89
static int jas_iccputuint(jas_stream_t *out , int n , unsigned long long val ) ;
#line 90
static int jas_iccputsint(jas_stream_t *out , int n , long long val ) ;
#line 91
static jas_iccprof_t *jas_iccprof_create(void) ;
#line 92
static int jas_iccprof_readhdr(jas_stream_t *in , jas_icchdr_t *hdr ) ;
#line 93
static int jas_iccprof_writehdr(jas_stream_t *out , jas_icchdr_t *hdr ) ;
#line 94
static int jas_iccprof_gettagtab(jas_stream_t *in , jas_icctagtab_t *tagtab ) ;
#line 95
static void jas_iccprof_sorttagtab(jas_icctagtab_t *tagtab ) ;
#line 96
static int jas_iccattrtab_lookup(jas_iccattrtab_t *attrtab , jas_iccuint32_t name ) ;
#line 97
static jas_iccattrtab_t *jas_iccattrtab_copy(jas_iccattrtab_t *attrtab ) ;
#line 98
static jas_iccattrvalinfo_t *jas_iccattrvalinfo_lookup(jas_iccsig_t type ) ;
#line 99
static int jas_iccgettime(jas_stream_t *in , jas_icctime_t *time___0 ) ;
#line 100
static int jas_iccgetxyz(jas_stream_t *in , jas_iccxyz_t *xyz ) ;
#line 101
static int jas_icctagtabent_cmp(void const   *src , void const   *dst ) ;
#line 103
static void jas_icccurv_destroy(jas_iccattrval_t *attrval ) ;
#line 104
static int jas_icccurv_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 106
static int jas_icccurv_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 108
static int jas_icccurv_getsize(jas_iccattrval_t *attrval ) ;
#line 109
static int jas_icccurv_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 110
static void jas_icccurv_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 112
static void jas_icctxtdesc_destroy(jas_iccattrval_t *attrval ) ;
#line 113
static int jas_icctxtdesc_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 115
static int jas_icctxtdesc_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 117
static int jas_icctxtdesc_getsize(jas_iccattrval_t *attrval ) ;
#line 118
static int jas_icctxtdesc_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 119
static void jas_icctxtdesc_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 121
static void jas_icctxt_destroy(jas_iccattrval_t *attrval ) ;
#line 122
static int jas_icctxt_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 124
static int jas_icctxt_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 126
static int jas_icctxt_getsize(jas_iccattrval_t *attrval ) ;
#line 127
static int jas_icctxt_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 128
static void jas_icctxt_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 130
static int jas_iccxyz_input(jas_iccattrval_t *attrval , jas_stream_t *in , int len ) ;
#line 132
static int jas_iccxyz_getsize(jas_iccattrval_t *attrval ) ;
#line 133
static int jas_iccxyz_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 134
static void jas_iccxyz_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 136
static jas_iccattrtab_t *jas_iccattrtab_create(void) ;
#line 137
static void jas_iccattrtab_destroy(jas_iccattrtab_t *tab ) ;
#line 138
static int jas_iccattrtab_resize(jas_iccattrtab_t *tab , int maxents ) ;
#line 139
static int jas_iccattrtab_add(jas_iccattrtab_t *attrtab , int i , jas_iccuint32_t name ,
                              jas_iccattrval_t *val ) ;
#line 141
static int jas_iccattrtab_replace(jas_iccattrtab_t *attrtab , int i , jas_iccuint32_t name ,
                                  jas_iccattrval_t *val ) ;
#line 143
static void jas_iccattrtab_delete(jas_iccattrtab_t *attrtab , int i ) ;
#line 144
static long jas_iccpadtomult(long x , long y ) ;
#line 145
static int jas_iccattrtab_get(jas_iccattrtab_t *attrtab , int i , jas_iccattrname_t *name ,
                              jas_iccattrval_t **val ) ;
#line 147
static int jas_iccprof_puttagtab(jas_stream_t *out , jas_icctagtab_t *tagtab ) ;
#line 149
static void jas_icclut16_destroy(jas_iccattrval_t *attrval ) ;
#line 150
static int jas_icclut16_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 152
static int jas_icclut16_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 154
static int jas_icclut16_getsize(jas_iccattrval_t *attrval ) ;
#line 155
static int jas_icclut16_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 156
static void jas_icclut16_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 158
static void jas_icclut8_destroy(jas_iccattrval_t *attrval ) ;
#line 159
static int jas_icclut8_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 161
static int jas_icclut8_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 163
static int jas_icclut8_getsize(jas_iccattrval_t *attrval ) ;
#line 164
static int jas_icclut8_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 165
static void jas_icclut8_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 167
static int jas_iccputtime(jas_stream_t *out , jas_icctime_t *time___0 ) ;
#line 168
static int jas_iccputxyz(jas_stream_t *out , jas_iccxyz_t *xyz ) ;
#line 170
static long jas_iccpowi(int x , int n ) ;
#line 172
static char *jas_iccsigtostr(int sig , char *buf ) ;
#line 175 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
jas_iccattrvalinfo_t jas_iccattrvalinfos[7]  = {      {(jas_iccuint32_t )1668641398, {& jas_icccurv_destroy, & jas_icccurv_copy, & jas_icccurv_input,
                                     & jas_icccurv_output, & jas_icccurv_getsize,
                                     & jas_icccurv_dump}}, 
        {(jas_iccuint32_t )1482250784, {(void (*)(struct jas_iccattrval_s * ))0, (int (*)(struct jas_iccattrval_s * ,
                                                                                       struct jas_iccattrval_s * ))0,
                                     & jas_iccxyz_input, & jas_iccxyz_output, & jas_iccxyz_getsize,
                                     & jas_iccxyz_dump}}, 
        {(jas_iccuint32_t )1684370275, {& jas_icctxtdesc_destroy, & jas_icctxtdesc_copy,
                                     & jas_icctxtdesc_input, & jas_icctxtdesc_output,
                                     & jas_icctxtdesc_getsize, & jas_icctxtdesc_dump}}, 
        {(jas_iccuint32_t )1952807028,
      {& jas_icctxt_destroy, & jas_icctxt_copy, & jas_icctxt_input, & jas_icctxt_output,
       & jas_icctxt_getsize, & jas_icctxt_dump}}, 
        {(jas_iccuint32_t )1835430961, {& jas_icclut8_destroy, & jas_icclut8_copy, & jas_icclut8_input,
                                     & jas_icclut8_output, & jas_icclut8_getsize,
                                     & jas_icclut8_dump}}, 
        {(jas_iccuint32_t )1835430962, {& jas_icclut16_destroy, & jas_icclut16_copy,
                                     & jas_icclut16_input, & jas_icclut16_output,
                                     & jas_icclut16_getsize, & jas_icclut16_dump}}, 
        {(jas_iccuint32_t )0,
      {(void (*)(struct jas_iccattrval_s * ))0, (int (*)(struct jas_iccattrval_s * ,
                                                         struct jas_iccattrval_s * ))0,
       (int (*)(struct jas_iccattrval_s * , jas_stream_t * , int  ))0, (int (*)(struct jas_iccattrval_s * ,
                                                                                jas_stream_t * ))0,
       (int (*)(struct jas_iccattrval_s * ))0, (void (*)(struct jas_iccattrval_s * ,
                                                         FILE * ))0}}};
#line 205 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static jas_iccprof_t *jas_iccprof_create(void) 
{ 
  jas_iccprof_t *prof ;
  void *tmp ;

  {
  {
#line 208
  prof = (jas_iccprof_t *)0;
#line 209
  tmp = jas_malloc(sizeof(jas_iccprof_t ));
#line 209
  prof = (jas_iccprof_t *)tmp;
  }
#line 209
  if (! prof) {
#line 210
    goto error;
  }
  {
#line 212
  prof->attrtab = jas_iccattrtab_create();
  }
#line 212
  if (! prof->attrtab) {
#line 213
    goto error;
  }
  {
#line 214
  memset((void *)(& prof->hdr), 0, sizeof(jas_icchdr_t ));
#line 215
  prof->tagtab.numents = (jas_iccuint32_t )0;
#line 216
  prof->tagtab.ents = (jas_icctagtabent_t *)0;
  }
#line 217
  return (prof);
  error: 
#line 219
  if (prof) {
    {
#line 220
    jas_iccprof_destroy(prof);
    }
  }
#line 221
  return ((jas_iccprof_t *)0);
}
}
#line 224 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
jas_iccprof_t *jas_iccprof_copy(jas_iccprof_t *prof ) 
{ 
  jas_iccprof_t *newprof ;

  {
  {
#line 227
  newprof = (jas_iccprof_t *)0;
#line 228
  newprof = jas_iccprof_create();
  }
#line 228
  if (! newprof) {
#line 229
    goto error;
  }
  {
#line 230
  newprof->hdr = prof->hdr;
#line 231
  newprof->tagtab.numents = (jas_iccuint32_t )0;
#line 232
  newprof->tagtab.ents = (jas_icctagtabent_t *)0;
#line 234
  jas_iccattrtab_destroy(newprof->attrtab);
#line 235
  newprof->attrtab = jas_iccattrtab_copy(prof->attrtab);
  }
#line 235
  if (! newprof->attrtab) {
#line 236
    goto error;
  }
#line 237
  return (newprof);
  error: 
#line 239
  if (newprof) {
    {
#line 240
    jas_iccprof_destroy(newprof);
    }
  }
#line 241
  return ((jas_iccprof_t *)0);
}
}
#line 244 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
void jas_iccprof_destroy(jas_iccprof_t *prof ) 
{ 


  {
#line 246
  if (prof->attrtab) {
    {
#line 247
    jas_iccattrtab_destroy(prof->attrtab);
    }
  }
#line 248
  if (prof->tagtab.ents) {
    {
#line 249
    jas_free((void *)prof->tagtab.ents);
    }
  }
  {
#line 250
  jas_free((void *)prof);
  }
#line 252
  return;
}
}
#line 253 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
void jas_iccprof_dump(jas_iccprof_t *prof , FILE *out ) 
{ 


  {
  {
#line 255
  jas_iccattrtab_dump(prof->attrtab, out);
  }
#line 257
  return;
}
}
#line 258 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
jas_iccprof_t *jas_iccprof_load(jas_stream_t *in ) 
{ 
  jas_iccprof_t *prof ;
  int numtags ;
  long curoff ;
  long reloff ;
  long prevoff ;
  jas_iccsig_t type ;
  jas_iccattrval_t *attrval ;
  jas_iccattrval_t *prevattrval ;
  jas_icctagtabent_t *tagtabent ;
  int i ;
  int len ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  jas_iccattrvalinfo_t *__cil_tmp21 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;

  {
  {
#line 272
  prof = (jas_iccprof_t *)0;
#line 273
  attrval = (jas_iccattrval_t *)0;
#line 275
  prof = jas_iccprof_create();
  }
#line 275
  if (! prof) {
#line 276
    goto error;
  }
  {
#line 279
  __cil_tmp14 = jas_iccprof_readhdr(in, & prof->hdr);
  }
#line 279
  if (__cil_tmp14) {
    {
#line 280
    jas_eprintf("cannot get header\n");
    }
#line 281
    goto error;
  }
  {
#line 283
  __cil_tmp15 = jas_iccprof_gettagtab(in, & prof->tagtab);
  }
#line 283
  if (__cil_tmp15) {
    {
#line 284
    jas_eprintf("cannot get tab table\n");
    }
#line 285
    goto error;
  }
  {
#line 287
  jas_iccprof_sorttagtab(& prof->tagtab);
#line 289
  numtags = (int )prof->tagtab.numents;
#line 290
  curoff = (long )(132 + 12 * numtags);
#line 291
  prevoff = 0L;
#line 292
  prevattrval = (jas_iccattrval_t *)0;
#line 293
  i = 0;
  }
  {
#line 293
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: ;
#line 293
    if (! (i < numtags)) {
#line 293
      goto while_break;
    }
#line 294
    tagtabent = prof->tagtab.ents + i;
#line 295
    if (tagtabent->off == (jas_iccuint32_t )prevoff) {
#line 296
      if (prevattrval) {
        {
#line 297
        attrval = jas_iccattrval_clone(prevattrval);
        }
#line 297
        if (! attrval) {
#line 298
          goto error;
        }
        {
#line 299
        __cil_tmp17 = jas_iccprof_setattr(prof, tagtabent->tag, attrval);
        }
#line 299
        if (__cil_tmp17) {
#line 300
          goto error;
        }
        {
#line 301
        jas_iccattrval_destroy(attrval);
#line 302
        attrval = (jas_iccattrval_t *)0;
        }
      }
#line 308
      goto while_continue;
    }
#line 310
    reloff = (long )(tagtabent->off - (unsigned long )curoff);
#line 311
    if (reloff > 0L) {
      {
#line 312
      __cil_tmp18 = jas_stream_gobble(in, (int )reloff);
      }
#line 312
      if ((long )__cil_tmp18 != reloff) {
#line 313
        goto error;
      }
#line 314
      curoff += reloff;
    } else
#line 315
    if (reloff < 0L) {
      {
#line 318
      abort();
      }
    }
    {
#line 320
    prevoff = curoff;
#line 321
    __cil_tmp19 = jas_iccgetuint32(in, & type);
    }
#line 321
    if (__cil_tmp19) {
#line 322
      goto error;
    }
    {
#line 324
    __cil_tmp20 = jas_stream_gobble(in, 4);
    }
#line 324
    if (__cil_tmp20 != 4) {
#line 325
      goto error;
    }
    {
#line 327
    curoff += 8L;
#line 328
    __cil_tmp21 = jas_iccattrvalinfo_lookup(type);
    }
#line 328
    if (! __cil_tmp21) {
#line 332
      prevattrval = (jas_iccattrval_t *)0;
#line 333
      goto while_continue;
    }
    {
#line 335
    attrval = jas_iccattrval_create(type);
    }
#line 335
    if (! attrval) {
#line 336
      goto error;
    }
    {
#line 338
    len = (int )(tagtabent->len - 8UL);
#line 339
    __cil_tmp23 = (*((attrval->ops)->input))(attrval, in, len);
    }
#line 339
    if (__cil_tmp23) {
#line 340
      goto error;
    }
    {
#line 342
    curoff += (long )len;
#line 343
    __cil_tmp24 = jas_iccprof_setattr(prof, tagtabent->tag, attrval);
    }
#line 343
    if (__cil_tmp24) {
#line 344
      goto error;
    }
    {
#line 346
    prevattrval = attrval;
#line 347
    jas_iccattrval_destroy(attrval);
#line 348
    attrval = (jas_iccattrval_t *)0;
#line 293
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 351
  return (prof);
  error: 
#line 354
  if (prof) {
    {
#line 355
    jas_iccprof_destroy(prof);
    }
  }
#line 356
  if (attrval) {
    {
#line 357
    jas_iccattrval_destroy(attrval);
    }
  }
#line 358
  return ((jas_iccprof_t *)0);
}
}
#line 361 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
int jas_iccprof_save(jas_iccprof_t *prof , jas_stream_t *out ) 
{ 
  long curoff ;
  long reloff ;
  long newoff ;
  int i ;
  int j ;
  jas_icctagtabent_t *tagtabent ;
  jas_icctagtabent_t *sharedtagtabent ;
  jas_icctagtabent_t *tmptagtabent ;
  jas_iccuint32_t attrname ;
  jas_iccattrval_t *attrval ;
  jas_icctagtab_t *tagtab ;
  int __cil_tmp15 ;
  int __cil_tmp17 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  jas_iccuint32_t tmp___1 ;
  int __cil_tmp28 ;
  void *tmp___3 ;

  {
  {
#line 375
  tagtab = & prof->tagtab;
#line 376
  tmp___3 = jas_alloc2((size_t )(prof->attrtab)->numattrs, sizeof(jas_icctagtabent_t ));
#line 376
  tagtab->ents = (jas_icctagtabent_t *)tmp___3;
  }
#line 376
  if (! tagtab->ents) {
#line 378
    goto error;
  }
#line 379
  tagtab->numents = (jas_iccuint32_t )(prof->attrtab)->numattrs;
#line 380
  curoff = (long )(132UL + 12UL * tagtab->numents);
#line 381
  i = 0;
  {
#line 381
  while (1) {
    while_continue: /* CIL Label */ ;

#line 381
    if (! (i < (int )tagtab->numents)) {
#line 381
      goto while_break;
    }
    {
#line 382
    tagtabent = tagtab->ents + i;
#line 383
    __cil_tmp15 = jas_iccattrtab_get(prof->attrtab, i, & attrname, & attrval);
    }
#line 383
    if (__cil_tmp15) {
#line 384
      goto error;
    }
#line 386
    tagtabent->tag = attrname;
#line 387
    tagtabent->data = (void *)(& attrval->data);
#line 388
    sharedtagtabent = (jas_icctagtabent_t *)0;
#line 389
    j = 0;
    {
#line 389
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 389
      if (! (j < i)) {
#line 389
        goto while_break___0;
      }
#line 390
      tmptagtabent = tagtab->ents + j;
#line 391
      if ((unsigned long )tagtabent->data == (unsigned long )tmptagtabent->data) {
#line 392
        sharedtagtabent = tmptagtabent;
#line 393
        goto while_break___0;
      }
#line 389
      j ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___0: ;
#line 396
    if (sharedtagtabent) {
#line 397
      tagtabent->off = sharedtagtabent->off;
#line 398
      tagtabent->len = sharedtagtabent->len;
#line 399
      tagtabent->first = sharedtagtabent;
    } else {
      {
#line 401
      tagtabent->off = (jas_iccuint32_t )curoff;
#line 402
      __cil_tmp17 = (*((attrval->ops)->getsize))(attrval);
#line 402
      tagtabent->len = (jas_iccuint32_t )(__cil_tmp17 + 8);
#line 403
      tagtabent->first = (struct jas_icctagtabent_s *)0;
      }
#line 404
      if (i < (int )(tagtab->numents - 1UL)) {
        {
#line 405
        curoff = jas_iccpadtomult((long )((unsigned long )curoff + tagtabent->len),
                                  4L);
        }
      } else {
#line 407
        curoff = (long )((jas_iccuint32_t )curoff + tagtabent->len);
      }
    }
    {
#line 410
    jas_iccattrval_destroy(attrval);
#line 381
    i ++;
    }
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: 
  {
#line 412
  prof->hdr.size = (jas_iccuint32_t )curoff;
#line 413
  __cil_tmp19 = jas_iccprof_writehdr(out, & prof->hdr);
  }
#line 413
  if (__cil_tmp19) {
#line 414
    goto error;
  }
  {
#line 415
  __cil_tmp20 = jas_iccprof_puttagtab(out, & prof->tagtab);
  }
#line 415
  if (__cil_tmp20) {
#line 416
    goto error;
  }
#line 417
  curoff = (long )(132UL + 12UL * tagtab->numents);
#line 418
  i = 0;
  {
#line 418
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 418
    if (! (i < (int )tagtab->numents)) {
#line 418
      goto while_break___1;
    }
    {
#line 419
    tagtabent = tagtab->ents + i;
#line 421
    __cil_tmp22 = jas_iccattrtab_get(prof->attrtab, i, & attrname, & attrval);
    }
#line 421
    if (__cil_tmp22) {
#line 422
      goto error;
    }
    {
#line 423
    __cil_tmp24 = jas_stream_pad(out, 4, 0);
#line 423
    __cil_tmp23 = jas_iccputuint(out, 4, (unsigned long long )attrval->type);
    }
#line 423
    if (__cil_tmp23) {
#line 425
      goto error;
    } else
#line 423
    if (__cil_tmp24 != 4) {
#line 425
      goto error;
    }
    {
#line 426
    __cil_tmp25 = (*((attrval->ops)->output))(attrval, out);
    }
#line 426
    if (__cil_tmp25) {
#line 427
      goto error;
    }
    {
#line 428
    jas_iccattrval_destroy(attrval);
#line 429
    curoff = (long )((jas_iccuint32_t )curoff + tagtabent->len);
#line 430
    i ++;
    }
    {
#line 431
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 431
      if ((tagtab->ents + i)->first) {
#line 431
        if (! (i < (int )tagtab->numents)) {
#line 431
          goto while_break___2;
        }
      } else {
#line 431
        goto while_break___2;
      }
#line 433
      i ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___2: ;
#line 434
    if (i < (int )tagtab->numents) {
#line 434
      tmp___1 = (tagtab->ents + i)->off;
    } else {
#line 434
      tmp___1 = prof->hdr.size;
    }
#line 434
    newoff = (long )tmp___1;
#line 436
    reloff = newoff - curoff;
#line 438
    if (reloff > 0L) {
      {
#line 439
      __cil_tmp28 = jas_stream_pad(out, (int )reloff, 0);
      }
#line 439
      if ((long )__cil_tmp28 != reloff) {
#line 440
        goto error;
      }
#line 441
      curoff += reloff;
    }
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break___1: ;
#line 444
  return (0);
  error: 
#line 447
  return (-1);
}
}
#line 450 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccprof_writehdr(jas_stream_t *out , jas_icchdr_t *hdr ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;

  {
  {
#line 452
  __cil_tmp19 = jas_stream_pad(out, 44, 0);
#line 452
  __cil_tmp18 = jas_iccputuint(out, 4, (unsigned long long )hdr->creator);
#line 452
  __cil_tmp17 = jas_iccputxyz(out, & hdr->illum);
#line 452
  __cil_tmp16 = jas_iccputuint(out, 4, (unsigned long long )hdr->intent);
#line 452
  __cil_tmp15 = jas_iccputuint(out, 8, (unsigned long long )hdr->attr);
#line 452
  __cil_tmp14 = jas_iccputuint(out, 4, (unsigned long long )hdr->model);
#line 452
  __cil_tmp13 = jas_iccputuint(out, 4, (unsigned long long )hdr->maker);
#line 452
  __cil_tmp12 = jas_iccputuint(out, 4, (unsigned long long )hdr->flags);
#line 452
  __cil_tmp11 = jas_iccputuint(out, 4, (unsigned long long )hdr->platform);
#line 452
  __cil_tmp10 = jas_iccputuint(out, 4, (unsigned long long )hdr->magic);
#line 452
  __cil_tmp9 = jas_iccputtime(out, & hdr->ctime);
#line 452
  __cil_tmp8 = jas_iccputuint(out, 4, (unsigned long long )hdr->refcolorspc);
#line 452
  __cil_tmp7 = jas_iccputuint(out, 4, (unsigned long long )hdr->colorspc);
#line 452
  __cil_tmp6 = jas_iccputuint(out, 4, (unsigned long long )hdr->clas);
#line 452
  __cil_tmp5 = jas_iccputuint(out, 4, (unsigned long long )hdr->version);
#line 452
  __cil_tmp4 = jas_iccputuint(out, 4, (unsigned long long )hdr->cmmtype);
#line 452
  __cil_tmp3 = jas_iccputuint(out, 4, (unsigned long long )hdr->size);
  }
#line 452
  if (__cil_tmp3) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp4) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp5) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp6) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp7) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp8) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp9) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp10) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp11) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp12) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp13) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp14) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp15) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp16) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp17) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp18) {
#line 469
    return (-1);
  } else
#line 452
  if (__cil_tmp19 != 44) {
#line 469
    return (-1);
  }
#line 470
  return (0);
}
}
#line 473 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccprof_puttagtab(jas_stream_t *out , jas_icctagtab_t *tagtab ) 
{ 
  int i ;
  jas_icctagtabent_t *tagtabent ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
  {
#line 477
  __cil_tmp5 = jas_iccputuint(out, 4, (unsigned long long )tagtab->numents);
  }
#line 477
  if (__cil_tmp5) {
#line 478
    goto error;
  }
#line 479
  i = 0;
  {
#line 479
  while (1) {
    while_continue: /* CIL Label */ ;

#line 479
    if (! (i < (int )tagtab->numents)) {
#line 479
      goto while_break;
    }
    {
#line 480
    tagtabent = tagtab->ents + i;
#line 481
    __cil_tmp8 = jas_iccputuint(out, 4, (unsigned long long )tagtabent->len);
#line 481
    __cil_tmp7 = jas_iccputuint(out, 4, (unsigned long long )tagtabent->off);
#line 481
    __cil_tmp6 = jas_iccputuint(out, 4, (unsigned long long )tagtabent->tag);
    }
#line 481
    if (__cil_tmp6) {
#line 484
      goto error;
    } else
#line 481
    if (__cil_tmp7) {
#line 484
      goto error;
    } else
#line 481
    if (__cil_tmp8) {
#line 484
      goto error;
    }
#line 479
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 486
  return (0);
  error: 
#line 488
  return (-1);
}
}
#line 491 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccprof_readhdr(jas_stream_t *in , jas_icchdr_t *hdr ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;

  {
  {
#line 493
  __cil_tmp19 = jas_stream_gobble(in, 44);
#line 493
  __cil_tmp18 = jas_iccgetuint32(in, & hdr->creator);
#line 493
  __cil_tmp17 = jas_iccgetxyz(in, & hdr->illum);
#line 493
  __cil_tmp16 = jas_iccgetuint32(in, & hdr->intent);
#line 493
  __cil_tmp15 = jas_iccgetuint64(in, & hdr->attr);
#line 493
  __cil_tmp14 = jas_iccgetuint32(in, & hdr->model);
#line 493
  __cil_tmp13 = jas_iccgetuint32(in, & hdr->maker);
#line 493
  __cil_tmp12 = jas_iccgetuint32(in, & hdr->flags);
#line 493
  __cil_tmp11 = jas_iccgetuint32(in, & hdr->platform);
#line 493
  __cil_tmp10 = jas_iccgetuint32(in, & hdr->magic);
#line 493
  __cil_tmp9 = jas_iccgettime(in, & hdr->ctime);
#line 493
  __cil_tmp8 = jas_iccgetuint32(in, & hdr->refcolorspc);
#line 493
  __cil_tmp7 = jas_iccgetuint32(in, & hdr->colorspc);
#line 493
  __cil_tmp6 = jas_iccgetuint32(in, & hdr->clas);
#line 493
  __cil_tmp5 = jas_iccgetuint32(in, & hdr->version);
#line 493
  __cil_tmp4 = jas_iccgetuint32(in, & hdr->cmmtype);
#line 493
  __cil_tmp3 = jas_iccgetuint32(in, & hdr->size);
  }
#line 493
  if (__cil_tmp3) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp4) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp5) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp6) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp7) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp8) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp9) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp10) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp11) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp12) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp13) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp14) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp15) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp16) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp17) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp18) {
#line 510
    return (-1);
  } else
#line 493
  if (__cil_tmp19 != 44) {
#line 510
    return (-1);
  }
#line 511
  return (0);
}
}
#line 514 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccprof_gettagtab(jas_stream_t *in , jas_icctagtab_t *tagtab ) 
{ 
  int i ;
  jas_icctagtabent_t *tagtabent ;
  int __cil_tmp5 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  void *tmp ;

  {
#line 519
  if (tagtab->ents) {
    {
#line 520
    jas_free((void *)tagtab->ents);
#line 521
    tagtab->ents = (jas_icctagtabent_t *)0;
    }
  }
  {
#line 523
  __cil_tmp5 = jas_iccgetuint32(in, & tagtab->numents);
  }
#line 523
  if (__cil_tmp5) {
#line 524
    goto error;
  }
  {
#line 525
  tmp = jas_alloc2(tagtab->numents, sizeof(jas_icctagtabent_t ));
#line 525
  tagtab->ents = (jas_icctagtabent_t *)tmp;
  }
#line 525
  if (! tagtab->ents) {
#line 527
    goto error;
  }
#line 528
  tagtabent = tagtab->ents;
#line 529
  i = 0;
  {
#line 529
  while (1) {
    while_continue: /* CIL Label */ ;

#line 529
    if (! ((long )i < (long )tagtab->numents)) {
#line 529
      goto while_break;
    }
    {
#line 530
    __cil_tmp9 = jas_iccgetuint32(in, & tagtabent->len);
#line 530
    __cil_tmp8 = jas_iccgetuint32(in, & tagtabent->off);
#line 530
    __cil_tmp7 = jas_iccgetuint32(in, & tagtabent->tag);
    }
#line 530
    if (__cil_tmp7) {
#line 533
      goto error;
    } else
#line 530
    if (__cil_tmp8) {
#line 533
      goto error;
    } else
#line 530
    if (__cil_tmp9) {
#line 533
      goto error;
    }
#line 534
    tagtabent ++;
#line 529
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 536
  return (0);
  error: 
#line 538
  if (tagtab->ents) {
    {
#line 539
    jas_free((void *)tagtab->ents);
#line 540
    tagtab->ents = (jas_icctagtabent_t *)0;
    }
  }
#line 542
  return (-1);
}
}
#line 545 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
jas_iccattrval_t *jas_iccprof_getattr(jas_iccprof_t *prof , jas_iccattrname_t name ) 
{ 
  int i ;
  jas_iccattrval_t *attrval ;

  {
  {
#line 550
  i = jas_iccattrtab_lookup(prof->attrtab, name);
  }
#line 550
  if (i < 0) {
#line 551
    goto error;
  }
  {
#line 552
  attrval = jas_iccattrval_clone(((prof->attrtab)->attrs + i)->val);
  }
#line 552
  if (! attrval) {
#line 553
    goto error;
  }
#line 554
  return (attrval);
  error: 
#line 556
  return ((jas_iccattrval_t *)0);
}
}
#line 559 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
int jas_iccprof_setattr(jas_iccprof_t *prof , jas_iccattrname_t name , jas_iccattrval_t *val ) 
{ 
  int i ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 563
  i = jas_iccattrtab_lookup(prof->attrtab, name);
  }
#line 563
  if (i >= 0) {
#line 564
    if (val) {
      {
#line 565
      __cil_tmp6 = jas_iccattrtab_replace(prof->attrtab, i, name, val);
      }
#line 565
      if (__cil_tmp6) {
#line 566
        goto error;
      }
    } else {
      {
#line 568
      jas_iccattrtab_delete(prof->attrtab, i);
      }
    }
  } else
#line 571
  if (val) {
    {
#line 572
    __cil_tmp7 = jas_iccattrtab_add(prof->attrtab, -1, name, val);
    }
#line 572
    if (__cil_tmp7) {
#line 573
      goto error;
    }
  }
#line 578
  return (0);
  error: 
#line 580
  return (-1);
}
}
#line 583 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
int jas_iccprof_gethdr(jas_iccprof_t *prof , jas_icchdr_t *hdr ) 
{ 


  {
#line 585
  *hdr = prof->hdr;
#line 586
  return (0);
}
}
#line 589 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
int jas_iccprof_sethdr(jas_iccprof_t *prof , jas_icchdr_t *hdr ) 
{ 


  {
#line 591
  prof->hdr = *hdr;
#line 592
  return (0);
}
}
#line 595 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_iccprof_sorttagtab(jas_icctagtab_t *tagtab ) 
{ 


  {
  {
#line 597
  qsort((void *)tagtab->ents, tagtab->numents, sizeof(jas_icctagtabent_t ), & jas_icctagtabent_cmp);
  }
#line 599
  return;
}
}
#line 601 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icctagtabent_cmp(void const   *src , void const   *dst ) 
{ 
  jas_icctagtabent_t *srctagtabent ;
  jas_icctagtabent_t *dsttagtabent ;

  {
#line 603
  srctagtabent = (jas_icctagtabent_t *)src;
#line 604
  dsttagtabent = (jas_icctagtabent_t *)dst;
#line 605
  if (srctagtabent->off > dsttagtabent->off) {
#line 606
    return (1);
  } else
#line 607
  if (srctagtabent->off < dsttagtabent->off) {
#line 608
    return (-1);
  }
#line 610
  return (0);
}
}
#line 613 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static jas_iccattrvalinfo_t *jas_iccattrvalinfo_lookup(jas_iccsig_t type ) 
{ 
  jas_iccattrvalinfo_t *info ;

  {
#line 616
  info = jas_iccattrvalinfos;
#line 617
  info = jas_iccattrvalinfos;
  {
#line 617
  while (1) {
    while_continue: /* CIL Label */ ;

#line 617
    if (! info->type) {
#line 617
      goto while_break;
    }
#line 618
    if (info->type == type) {
#line 619
      return (info);
    }
#line 617
    info ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 622
  return ((jas_iccattrvalinfo_t *)0);
}
}
#line 625 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccgettime(jas_stream_t *in , jas_icctime_t *time___0 ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
  {
#line 627
  __cil_tmp8 = jas_iccgetuint16(in, & time___0->sec);
#line 627
  __cil_tmp7 = jas_iccgetuint16(in, & time___0->min);
#line 627
  __cil_tmp6 = jas_iccgetuint16(in, & time___0->hour);
#line 627
  __cil_tmp5 = jas_iccgetuint16(in, & time___0->day);
#line 627
  __cil_tmp4 = jas_iccgetuint16(in, & time___0->month);
#line 627
  __cil_tmp3 = jas_iccgetuint16(in, & time___0->year);
  }
#line 627
  if (__cil_tmp3) {
#line 633
    return (-1);
  } else
#line 627
  if (__cil_tmp4) {
#line 633
    return (-1);
  } else
#line 627
  if (__cil_tmp5) {
#line 633
    return (-1);
  } else
#line 627
  if (__cil_tmp6) {
#line 633
    return (-1);
  } else
#line 627
  if (__cil_tmp7) {
#line 633
    return (-1);
  } else
#line 627
  if (__cil_tmp8) {
#line 633
    return (-1);
  }
#line 635
  return (0);
}
}
#line 638 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccgetxyz(jas_stream_t *in , jas_iccxyz_t *xyz ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;

  {
  {
#line 640
  __cil_tmp5 = jas_iccgetsint32(in, & xyz->z);
#line 640
  __cil_tmp4 = jas_iccgetsint32(in, & xyz->y);
#line 640
  __cil_tmp3 = jas_iccgetsint32(in, & xyz->x);
  }
#line 640
  if (__cil_tmp3) {
#line 643
    return (-1);
  } else
#line 640
  if (__cil_tmp4) {
#line 643
    return (-1);
  } else
#line 640
  if (__cil_tmp5) {
#line 643
    return (-1);
  }
#line 645
  return (0);
}
}
#line 648 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccputtime(jas_stream_t *out , jas_icctime_t *time___0 ) 
{ 


  {
  {
#line 650
  jas_iccputuint(out, 2, (unsigned long long )time___0->year);
#line 651
  jas_iccputuint(out, 2, (unsigned long long )time___0->month);
#line 652
  jas_iccputuint(out, 2, (unsigned long long )time___0->day);
#line 653
  jas_iccputuint(out, 2, (unsigned long long )time___0->hour);
#line 654
  jas_iccputuint(out, 2, (unsigned long long )time___0->min);
#line 655
  jas_iccputuint(out, 2, (unsigned long long )time___0->sec);
  }
#line 656
  return (0);
}
}
#line 659 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccputxyz(jas_stream_t *out , jas_iccxyz_t *xyz ) 
{ 


  {
  {
#line 661
  jas_iccputuint(out, 4, (unsigned long long )xyz->x);
#line 662
  jas_iccputuint(out, 4, (unsigned long long )xyz->y);
#line 663
  jas_iccputuint(out, 4, (unsigned long long )xyz->z);
  }
#line 664
  return (0);
}
}
#line 671 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static jas_iccattrtab_t *jas_iccattrtab_create(void) 
{ 
  jas_iccattrtab_t *tab ;
  int __cil_tmp3 ;
  void *tmp ;

  {
  {
#line 674
  tab = (jas_iccattrtab_t *)0;
#line 675
  tmp = jas_malloc(sizeof(jas_iccattrtab_t ));
#line 675
  tab = (jas_iccattrtab_t *)tmp;
  }
#line 675
  if (! tab) {
#line 676
    goto error;
  }
  {
#line 677
  tab->maxattrs = 0;
#line 678
  tab->numattrs = 0;
#line 679
  tab->attrs = (jas_iccattr_t *)0;
#line 680
  __cil_tmp3 = jas_iccattrtab_resize(tab, 32);
  }
#line 680
  if (__cil_tmp3) {
#line 681
    goto error;
  }
#line 682
  return (tab);
  error: 
#line 684
  if (tab) {
    {
#line 685
    jas_iccattrtab_destroy(tab);
    }
  }
#line 686
  return ((jas_iccattrtab_t *)0);
}
}
#line 689 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static jas_iccattrtab_t *jas_iccattrtab_copy(jas_iccattrtab_t *attrtab ) 
{ 
  jas_iccattrtab_t *newattrtab ;
  int i ;
  int __cil_tmp5 ;

  {
  {
#line 693
  newattrtab = jas_iccattrtab_create();
  }
#line 693
  if (! newattrtab) {
#line 694
    goto error;
  }
#line 695
  i = 0;
  {
#line 695
  while (1) {
    while_continue: /* CIL Label */ ;

#line 695
    if (! (i < attrtab->numattrs)) {
#line 695
      goto while_break;
    }
    {
#line 696
    __cil_tmp5 = jas_iccattrtab_add(newattrtab, i, (attrtab->attrs + i)->name, (attrtab->attrs + i)->val);
    }
#line 696
    if (__cil_tmp5) {
#line 698
      goto error;
    }
#line 695
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 700
  return (newattrtab);
  error: 
#line 702
  return ((jas_iccattrtab_t *)0);
}
}
#line 705 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_iccattrtab_destroy(jas_iccattrtab_t *tab ) 
{ 


  {
#line 707
  if (tab->attrs) {
    {
#line 708
    while (1) {
      while_continue: /* CIL Label */ ;

#line 708
      if (! (tab->numattrs > 0)) {
#line 708
        goto while_break;
      }
      {
#line 709
      jas_iccattrtab_delete(tab, 0);
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 711
    jas_free((void *)tab->attrs);
    }
  }
  {
#line 713
  jas_free((void *)tab);
  }
#line 715
  return;
}
}
#line 716 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
void jas_iccattrtab_dump(jas_iccattrtab_t *attrtab , FILE *out ) 
{ 
  int i ;
  jas_iccattr_t *attr ;
  jas_iccattrval_t *attrval ;
  jas_iccattrvalinfo_t *info ;
  char buf[16] ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
  {
#line 723
  fprintf(out, "numattrs=%d\n", attrtab->numattrs);
#line 724
  fprintf(out, "---\n");
#line 725
  i = 0;
  }
  {
#line 725
  while (1) {
    while_continue: /* CIL Label */ ;

#line 725
    if (! (i < attrtab->numattrs)) {
#line 725
      goto while_break;
    }
    {
#line 726
    attr = attrtab->attrs + i;
#line 727
    attrval = attr->val;
#line 728
    info = jas_iccattrvalinfo_lookup(attrval->type);
    }
#line 729
    if (! info) {
      {
#line 729
      abort();
      }
    }
    {
#line 730
    __cil_tmp9 = jas_iccsigtostr((int )attr->name, & buf[0]);
#line 730
    __cil_tmp10 = jas_iccsigtostr((int )attrval->type, & buf[8]);
#line 730
    fprintf(out, "attrno=%d; attrname=\"%s\"(0x%08x); attrtype=\"%s\"(0x%08x)\n\230\001",
            i, __cil_tmp9, attr->name, __cil_tmp10, attrval->type);
#line 737
    jas_iccattrval_dump(attrval, out);
#line 738
    fprintf(out, "---\n");
#line 725
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 729
  return;
}
}
#line 742 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_resize(jas_iccattrtab_t *tab , int maxents ) 
{ 
  jas_iccattr_t *newattrs ;
  void *__cil_tmp5 ;
  void *__cil_tmp6 ;
  void *tmp___0 ;

  {
#line 746
  if (tab->attrs) {
    {
#line 746
    __cil_tmp5 = jas_realloc2((void *)tab->attrs, (size_t )maxents, sizeof(jas_iccattr_t ));
#line 746
    tmp___0 = __cil_tmp5;
    }
  } else {
    {
#line 746
    __cil_tmp6 = jas_alloc2((size_t )maxents, sizeof(jas_iccattr_t ));
#line 746
    tmp___0 = __cil_tmp6;
    }
  }
#line 746
  newattrs = (jas_iccattr_t *)tmp___0;
#line 748
  if (! newattrs) {
#line 749
    return (-1);
  }
#line 750
  tab->attrs = newattrs;
#line 751
  tab->maxattrs = maxents;
#line 752
  return (0);
}
}
#line 755 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_add(jas_iccattrtab_t *attrtab , int i , jas_iccuint32_t name ,
                              jas_iccattrval_t *val ) 
{ 
  int n ;
  jas_iccattr_t *attr ;
  jas_iccattrval_t *tmpattrval ;
  int __cil_tmp9 ;

  {
#line 761
  tmpattrval = (jas_iccattrval_t *)0;
#line 762
  if (i < 0) {
#line 763
    i = attrtab->numattrs;
  }
#line 766
  if (attrtab->numattrs >= attrtab->maxattrs) {
    {
#line 767
    __cil_tmp9 = jas_iccattrtab_resize(attrtab, attrtab->numattrs + 32);
    }
#line 767
    if (__cil_tmp9) {
#line 768
      goto error;
    }
  }
  {
#line 771
  tmpattrval = jas_iccattrval_clone(val);
  }
#line 771
  if (! tmpattrval) {
#line 772
    goto error;
  }
#line 773
  n = attrtab->numattrs - i;
#line 774
  if (n > 0) {
    {
#line 775
    memmove((void *)(attrtab->attrs + (i + 1)), (void const   *)(attrtab->attrs + i),
            (unsigned long )n * sizeof(jas_iccattr_t ));
    }
  }
#line 777
  attr = attrtab->attrs + i;
#line 778
  attr->name = name;
#line 779
  attr->val = tmpattrval;
#line 780
  (attrtab->numattrs) ++;
#line 781
  return (0);
  error: 
#line 783
  if (tmpattrval) {
    {
#line 784
    jas_iccattrval_destroy(tmpattrval);
    }
  }
#line 785
  return (-1);
}
}
#line 788 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_replace(jas_iccattrtab_t *attrtab , int i , jas_iccuint32_t name ,
                                  jas_iccattrval_t *val ) 
{ 
  jas_iccattrval_t *newval ;
  jas_iccattr_t *attr ;

  {
  {
#line 793
  newval = jas_iccattrval_clone(val);
  }
#line 793
  if (! newval) {
#line 794
    goto error;
  }
  {
#line 795
  attr = attrtab->attrs + i;
#line 796
  jas_iccattrval_destroy(attr->val);
#line 797
  attr->name = name;
#line 798
  attr->val = newval;
  }
#line 799
  return (0);
  error: 
#line 801
  return (-1);
}
}
#line 804 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_iccattrtab_delete(jas_iccattrtab_t *attrtab , int i ) 
{ 
  int n ;

  {
  {
#line 807
  jas_iccattrval_destroy((attrtab->attrs + i)->val);
#line 808
  n = (attrtab->numattrs - i) - 1;
  }
#line 808
  if (n > 0) {
    {
#line 809
    memmove((void *)(attrtab->attrs + i), (void const   *)(attrtab->attrs + (i + 1)),
            (unsigned long )n * sizeof(jas_iccattr_t ));
    }
  }
#line 811
  (attrtab->numattrs) --;
#line 812
  return;
}
}
#line 814 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_get(jas_iccattrtab_t *attrtab , int i , jas_iccattrname_t *name ,
                              jas_iccattrval_t **val ) 
{ 
  jas_iccattr_t *attr ;

  {
#line 818
  if (i < 0) {
#line 819
    goto error;
  } else
#line 818
  if (i >= attrtab->numattrs) {
#line 819
    goto error;
  }
  {
#line 820
  attr = attrtab->attrs + i;
#line 821
  *name = attr->name;
#line 822
  *val = jas_iccattrval_clone(attr->val);
  }
#line 822
  if (! *val) {
#line 823
    goto error;
  }
#line 824
  return (0);
  error: 
#line 826
  return (-1);
}
}
#line 829 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_lookup(jas_iccattrtab_t *attrtab , jas_iccuint32_t name ) 
{ 
  int i ;
  jas_iccattr_t *attr ;

  {
#line 834
  i = 0;
  {
#line 834
  while (1) {
    while_continue: /* CIL Label */ ;

#line 834
    if (! (i < attrtab->numattrs)) {
#line 834
      goto while_break;
    }
#line 835
    attr = attrtab->attrs + i;
#line 836
    if (attr->name == name) {
#line 837
      return (i);
    }
#line 834
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 839
  return (-1);
}
}
#line 846 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
jas_iccattrval_t *jas_iccattrval_create(jas_iccuint32_t type ) 
{ 
  jas_iccattrval_t *attrval ;
  jas_iccattrvalinfo_t *info ;

  {
  {
#line 851
  info = jas_iccattrvalinfo_lookup(type);
  }
#line 851
  if (! info) {
#line 852
    goto error;
  }
  {
#line 853
  attrval = jas_iccattrval_create0();
  }
#line 853
  if (! attrval) {
#line 854
    goto error;
  }
  {
#line 855
  attrval->ops = & info->ops;
#line 856
  attrval->type = type;
#line 857
  (attrval->refcnt) ++;
#line 858
  memset((void *)(& attrval->data), 0, sizeof(attrval->data));
  }
#line 859
  return (attrval);
  error: 
#line 861
  return ((jas_iccattrval_t *)0);
}
}
#line 864 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
jas_iccattrval_t *jas_iccattrval_clone(jas_iccattrval_t *attrval ) 
{ 


  {
#line 866
  (attrval->refcnt) ++;
#line 867
  return (attrval);
}
}
#line 870 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
void jas_iccattrval_destroy(jas_iccattrval_t *attrval ) 
{ 


  {
#line 875
  (attrval->refcnt) --;
#line 875
  if (attrval->refcnt <= 0) {
#line 876
    if ((attrval->ops)->destroy) {
      {
#line 877
      (*((attrval->ops)->destroy))(attrval);
      }
    }
    {
#line 878
    jas_free((void *)attrval);
    }
  }
#line 881
  return;
}
}
#line 882 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
void jas_iccattrval_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  char buf[8] ;
  char *__cil_tmp4 ;

  {
  {
#line 885
  jas_iccsigtostr((int )attrval->type, buf);
#line 886
  __cil_tmp4 = jas_iccsigtostr((int )attrval->type, & buf[0]);
#line 886
  fprintf(out, "refcnt = %d; type = 0x%08x %s\n", attrval->refcnt, attrval->type,
          __cil_tmp4);
  }
#line 888
  if ((attrval->ops)->dump) {
    {
#line 889
    (*((attrval->ops)->dump))(attrval, out);
    }
  }
#line 892
  return;
}
}
#line 893 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
int jas_iccattrval_allowmodify(jas_iccattrval_t **attrvalx ) 
{ 
  jas_iccattrval_t *newattrval ;
  jas_iccattrval_t *attrval ;
  int __cil_tmp5 ;

  {
#line 896
  attrval = *attrvalx;
#line 897
  newattrval = (jas_iccattrval_t *)0;
#line 898
  if (attrval->refcnt > 1) {
    {
#line 899
    newattrval = jas_iccattrval_create0();
    }
#line 899
    if (! newattrval) {
#line 900
      goto error;
    }
#line 901
    newattrval->ops = attrval->ops;
#line 902
    newattrval->type = attrval->type;
#line 903
    (newattrval->refcnt) ++;
#line 904
    if ((newattrval->ops)->copy) {
      {
#line 905
      __cil_tmp5 = (*((newattrval->ops)->copy))(newattrval, attrval);
      }
#line 905
      if (__cil_tmp5) {
#line 906
        goto error;
      }
    } else {
      {
#line 908
      memcpy((void *)(& newattrval->data), (void const   *)(& attrval->data), sizeof(newattrval->data));
      }
    }
#line 911
    *attrvalx = newattrval;
  }
#line 913
  return (0);
  error: 
#line 915
  if (newattrval) {
    {
#line 916
    jas_free((void *)newattrval);
    }
  }
#line 918
  return (-1);
}
}
#line 921 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static jas_iccattrval_t *jas_iccattrval_create0(void) 
{ 
  jas_iccattrval_t *attrval ;
  void *tmp ;

  {
  {
#line 924
  tmp = jas_malloc(sizeof(jas_iccattrval_t ));
#line 924
  attrval = (jas_iccattrval_t *)tmp;
  }
#line 924
  if (! attrval) {
#line 925
    return ((jas_iccattrval_t *)0);
  }
  {
#line 926
  memset((void *)attrval, 0, sizeof(jas_iccattrval_t ));
#line 927
  attrval->refcnt = 0;
#line 928
  attrval->ops = (jas_iccattrvalops_t *)0;
#line 929
  attrval->type = (jas_iccsig_t )0;
  }
#line 930
  return (attrval);
}
}
#line 937 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccxyz_input(jas_iccattrval_t *attrval , jas_stream_t *in , int len ) 
{ 
  int __cil_tmp4 ;

  {
#line 940
  if (len != 12) {
    {
#line 940
    abort();
    }
  }
  {
#line 941
  __cil_tmp4 = jas_iccgetxyz(in, & attrval->data.xyz);
  }
#line 941
  return (__cil_tmp4);
}
}
#line 944 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccxyz_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_iccxyz_t *xyz ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 946
  xyz = & attrval->data.xyz;
#line 947
  __cil_tmp6 = jas_iccputuint(out, 4, (unsigned long long )xyz->z);
#line 947
  __cil_tmp5 = jas_iccputuint(out, 4, (unsigned long long )xyz->y);
#line 947
  __cil_tmp4 = jas_iccputuint(out, 4, (unsigned long long )xyz->x);
  }
#line 947
  if (__cil_tmp4) {
#line 950
    return (-1);
  } else
#line 947
  if (__cil_tmp5) {
#line 950
    return (-1);
  } else
#line 947
  if (__cil_tmp6) {
#line 950
    return (-1);
  }
#line 951
  return (0);
}
}
#line 954 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccxyz_getsize(jas_iccattrval_t *attrval ) 
{ 


  {
#line 957
  attrval = (jas_iccattrval_t *)0;
#line 959
  return (12);
}
}
#line 962 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_iccxyz_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_iccxyz_t *xyz ;

  {
  {
#line 964
  xyz = & attrval->data.xyz;
#line 965
  fprintf(out, "(%f, %f, %f)\n", (double )xyz->x / 65536., (double )xyz->y / 65536.,
          (double )xyz->z / 65536.);
  }
#line 968
  return;
}
}
#line 972 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icccurv_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icccurv_t *curv ;

  {
#line 974
  curv = & attrval->data.curv;
#line 975
  if (curv->ents) {
    {
#line 976
    jas_free((void *)curv->ents);
#line 977
    curv->ents = (jas_iccuint16_t *)0;
    }
  }
#line 980
  return;
}
}
#line 981 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icccurv_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 


  {
  {
#line 985
  attrval = (jas_iccattrval_t *)0;
#line 986
  othattrval = (jas_iccattrval_t *)0;
#line 989
  abort();
  }
#line 990
  return (-1);
}
}
#line 993 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icccurv_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  jas_icccurv_t *curv ;
  unsigned int i ;
  int __cil_tmp6 ;
  int __cil_tmp8 ;
  void *tmp ;

  {
  {
#line 996
  curv = & attrval->data.curv;
#line 999
  curv->numents = (jas_iccuint32_t )0;
#line 1000
  curv->ents = (jas_iccuint16_t *)0;
#line 1002
  __cil_tmp6 = jas_iccgetuint32(in, & curv->numents);
  }
#line 1002
  if (__cil_tmp6) {
#line 1003
    goto error;
  }
  {
#line 1004
  tmp = jas_alloc2(curv->numents, sizeof(jas_iccuint16_t ));
#line 1004
  curv->ents = (jas_iccuint16_t *)tmp;
  }
#line 1004
  if (! curv->ents) {
#line 1005
    goto error;
  }
#line 1006
  i = 0U;
  {
#line 1006
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1006
    if (! ((unsigned long )i < curv->numents)) {
#line 1006
      goto while_break;
    }
    {
#line 1007
    __cil_tmp8 = jas_iccgetuint16(in, curv->ents + i);
    }
#line 1007
    if (__cil_tmp8) {
#line 1008
      goto error;
    }
#line 1006
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1011
  if ((int )(4UL + 2UL * curv->numents) != cnt) {
#line 1012
    goto error;
  }
#line 1013
  return (0);
  error: 
  {
#line 1016
  jas_icccurv_destroy(attrval);
  }
#line 1017
  return (-1);
}
}
#line 1020 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icccurv_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icccurv_t *curv ;

  {
#line 1022
  curv = & attrval->data.curv;
#line 1023
  return ((int )(4UL + 2UL * curv->numents));
}
}
#line 1026 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icccurv_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icccurv_t *curv ;
  unsigned int i ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 1028
  curv = & attrval->data.curv;
#line 1031
  __cil_tmp5 = jas_iccputuint(out, 4, (unsigned long long )curv->numents);
  }
#line 1031
  if (__cil_tmp5) {
#line 1032
    goto error;
  }
#line 1033
  i = 0U;
  {
#line 1033
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1033
    if (! ((unsigned long )i < curv->numents)) {
#line 1033
      goto while_break;
    }
    {
#line 1034
    __cil_tmp6 = jas_iccputuint(out, 2, (unsigned long long )*(curv->ents + i));
    }
#line 1034
    if (__cil_tmp6) {
#line 1035
      goto error;
    }
#line 1033
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1037
  return (0);
  error: 
#line 1039
  return (-1);
}
}
#line 1042 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icccurv_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  int i ;
  jas_icccurv_t *curv ;

  {
  {
#line 1045
  curv = & attrval->data.curv;
#line 1046
  fprintf(out, "number of entires = %d\n", curv->numents);
  }
#line 1047
  if (curv->numents == 1UL) {
    {
#line 1048
    fprintf(out, "gamma = %f\n", (double )*(curv->ents + 0) / 256.);
    }
  } else {
#line 1050
    i = 0;
    {
#line 1050
    while (1) {
      while_continue: /* CIL Label */ ;

#line 1050
      if (! (i < (int )curv->numents)) {
#line 1050
        goto while_break;
      }
#line 1051
      if (i < 3) {
        {
#line 1052
        fprintf(out, "entry[%d] = %f\n", i, (double )*(curv->ents + i) / 65535.);
        }
      } else
#line 1051
      if (i >= (int )curv->numents - 3) {
        {
#line 1052
        fprintf(out, "entry[%d] = %f\n", i, (double )*(curv->ents + i) / 65535.);
        }
      }
#line 1050
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  }
#line 1055
  return;
}
}
#line 1062 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icctxtdesc_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icctxtdesc_t *txtdesc ;

  {
#line 1064
  txtdesc = & attrval->data.txtdesc;
#line 1065
  if (txtdesc->ascdata) {
    {
#line 1066
    jas_free((void *)txtdesc->ascdata);
#line 1067
    txtdesc->ascdata = (char *)0;
    }
  }
#line 1069
  if (txtdesc->ucdata) {
    {
#line 1070
    jas_free((void *)txtdesc->ucdata);
#line 1071
    txtdesc->ucdata = (unsigned char *)0;
    }
  }
#line 1074
  return;
}
}
#line 1075 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icctxtdesc_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 
  jas_icctxtdesc_t *txtdesc ;

  {
  {
#line 1078
  txtdesc = & attrval->data.txtdesc;
#line 1081
  attrval = (jas_iccattrval_t *)0;
#line 1082
  othattrval = (jas_iccattrval_t *)0;
#line 1083
  txtdesc = (jas_icctxtdesc_t *)0;
#line 1086
  abort();
  }
#line 1087
  return (-1);
}
}
#line 1090 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icctxtdesc_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  int n ;
  int c ;
  jas_icctxtdesc_t *txtdesc ;
  int __cil_tmp7 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  int __cil_tmp22 ;
  void *tmp___2 ;
  void *tmp___3 ;

  {
  {
#line 1095
  txtdesc = & attrval->data.txtdesc;
#line 1096
  txtdesc->ascdata = (char *)0;
#line 1097
  txtdesc->ucdata = (unsigned char *)0;
#line 1098
  __cil_tmp7 = jas_iccgetuint32(in, & txtdesc->asclen);
  }
#line 1098
  if (__cil_tmp7) {
#line 1099
    goto error;
  }
  {
#line 1100
  tmp___2 = jas_malloc(txtdesc->asclen);
#line 1100
  txtdesc->ascdata = (char *)tmp___2;
  }
#line 1100
  if (! txtdesc->ascdata) {
#line 1101
    goto error;
  }
  {
#line 1102
  __cil_tmp9 = jas_stream_read(in, (void *)txtdesc->ascdata, (int )txtdesc->asclen);
  }
#line 1102
  if (__cil_tmp9 != (int )txtdesc->asclen) {
#line 1104
    goto error;
  }
  {
#line 1105
  *(txtdesc->ascdata + (txtdesc->asclen - 1UL)) = (char )'\000';
#line 1106
  __cil_tmp11 = jas_iccgetuint32(in, & txtdesc->uclen);
#line 1106
  __cil_tmp10 = jas_iccgetuint32(in, & txtdesc->uclangcode);
  }
#line 1106
  if (__cil_tmp10) {
#line 1108
    goto error;
  } else
#line 1106
  if (__cil_tmp11) {
#line 1108
    goto error;
  }
  {
#line 1109
  tmp___3 = jas_alloc2(txtdesc->uclen, (size_t )2);
#line 1109
  txtdesc->ucdata = (unsigned char *)tmp___3;
  }
#line 1109
  if (! txtdesc->ucdata) {
#line 1110
    goto error;
  }
  {
#line 1111
  __cil_tmp13 = jas_stream_read(in, (void *)txtdesc->ucdata, (int )(txtdesc->uclen * 2UL));
  }
#line 1111
  if (__cil_tmp13 != (int )(txtdesc->uclen * 2UL)) {
#line 1113
    goto error;
  }
  {
#line 1114
  __cil_tmp14 = jas_iccgetuint16(in, & txtdesc->sccode);
  }
#line 1114
  if (__cil_tmp14) {
#line 1115
    goto error;
  }
#line 1116
  if (! (in->flags_ & 7)) {
#line 1116
    if (in->rwlimit_ >= 0L) {
#line 1116
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1116
        in->flags_ |= 4;
#line 1116
        tmp___0 = -1;
      } else {
#line 1116
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 1116
      (in->cnt_) --;
#line 1116
      if (in->cnt_ < 0) {
        {
#line 1116
        __cil_tmp15 = jas_stream_fillbuf(in, 1);
#line 1116
        tmp = __cil_tmp15;
        }
      } else {
#line 1116
        __cil_tmp16 = in->ptr_;
#line 1116
        (in->ptr_) ++;
#line 1116
        (in->rwcnt_) ++;
#line 1116
        tmp = (int )*__cil_tmp16;
      }
#line 1116
      tmp___0 = tmp;
    }
#line 1116
    tmp___1 = tmp___0;
  } else {
#line 1116
    tmp___1 = -1;
  }
#line 1116
  c = tmp___1;
#line 1116
  if (c == -1) {
#line 1117
    goto error;
  }
  {
#line 1118
  txtdesc->maclen = (jas_iccuint8_t )c;
#line 1119
  __cil_tmp20 = jas_stream_read(in, (void *)(txtdesc->macdata), 67);
  }
#line 1119
  if (__cil_tmp20 != 67) {
#line 1120
    goto error;
  }
  {
#line 1121
  __cil_tmp21 = strlen((char const   *)txtdesc->ascdata);
#line 1121
  txtdesc->asclen = __cil_tmp21 + 1UL;
#line 1124
  n = (int )(((txtdesc->asclen + txtdesc->uclen * 2UL) + 15UL) + 67UL);
  }
#line 1125
  if (n > cnt) {
#line 1126
    return (-1);
  }
#line 1128
  if (n < cnt) {
    {
#line 1129
    __cil_tmp22 = jas_stream_gobble(in, cnt - n);
    }
#line 1129
    if (__cil_tmp22 != cnt - n) {
#line 1130
      goto error;
    }
  }
#line 1136
  return (0);
  error: 
  {
#line 1138
  jas_icctxtdesc_destroy(attrval);
  }
#line 1139
  return (-1);
}
}
#line 1142 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icctxtdesc_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icctxtdesc_t *txtdesc ;
  unsigned long __cil_tmp3 ;

  {
  {
#line 1144
  txtdesc = & attrval->data.txtdesc;
#line 1145
  __cil_tmp3 = strlen((char const   *)txtdesc->ascdata);
  }
#line 1145
  return ((int )((((__cil_tmp3 + 1UL) + txtdesc->uclen * 2UL) + 15UL) + 67UL));
}
}
#line 1148 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icctxtdesc_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icctxtdesc_t *txtdesc ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;

  {
#line 1150
  txtdesc = & attrval->data.txtdesc;
#line 1151
  if (! (out->flags_ & 7)) {
#line 1151
    if (out->rwlimit_ >= 0L) {
#line 1151
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1151
        out->flags_ |= 4;
#line 1151
        tmp___3 = -1;
      } else {
#line 1151
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 1151
      (out->cnt_) --;
#line 1151
      out->bufmode_ |= 32;
#line 1151
      if (out->cnt_ < 0) {
        {
#line 1151
        __cil_tmp15 = jas_stream_flushbuf(out, (int )txtdesc->maclen);
#line 1151
        tmp___2 = __cil_tmp15;
        }
      } else {
#line 1151
        __cil_tmp16 = out->ptr_;
#line 1151
        (out->ptr_) ++;
#line 1151
        *__cil_tmp16 = txtdesc->maclen;
#line 1151
        (out->rwcnt_) ++;
#line 1151
        tmp___2 = (int )*__cil_tmp16;
      }
#line 1151
      tmp___3 = tmp___2;
    }
#line 1151
    tmp___4 = tmp___3;
  } else {
#line 1151
    tmp___4 = -1;
  }
  {
#line 1151
  __cil_tmp14 = jas_iccputuint(out, 2, (unsigned long long )txtdesc->sccode);
#line 1151
  __cil_tmp13 = jas_stream_write(out, (void const   *)txtdesc->ucdata, (int )(txtdesc->uclen * 2UL));
#line 1151
  __cil_tmp12 = jas_iccputuint(out, 4, (unsigned long long )txtdesc->uclen);
#line 1151
  __cil_tmp11 = jas_iccputuint(out, 4, (unsigned long long )txtdesc->uclangcode);
  }
#line 1151
  if (! (out->flags_ & 7)) {
#line 1151
    if (out->rwlimit_ >= 0L) {
#line 1151
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1151
        out->flags_ |= 4;
#line 1151
        tmp___0 = -1;
      } else {
#line 1151
        goto _L___31;
      }
    } else {
      _L___31: /* CIL Label */ 
#line 1151
      (out->cnt_) --;
#line 1151
      out->bufmode_ |= 32;
#line 1151
      if (out->cnt_ < 0) {
        {
#line 1151
        __cil_tmp6 = jas_stream_flushbuf(out, 0);
#line 1151
        tmp = __cil_tmp6;
        }
      } else {
#line 1151
        __cil_tmp7 = out->ptr_;
#line 1151
        (out->ptr_) ++;
#line 1151
        *__cil_tmp7 = (unsigned char)0;
#line 1151
        (out->rwcnt_) ++;
#line 1151
        tmp = (int )*__cil_tmp7;
      }
#line 1151
      tmp___0 = tmp;
    }
#line 1151
    tmp___1 = tmp___0;
  } else {
#line 1151
    tmp___1 = -1;
  }
  {
#line 1151
  __cil_tmp5 = jas_stream_puts(out, (char const   *)txtdesc->ascdata);
#line 1151
  __cil_tmp4 = jas_iccputuint(out, 4, (unsigned long long )txtdesc->asclen);
  }
#line 1151
  if (__cil_tmp4) {
#line 1159
    goto error;
  } else
#line 1151
  if (__cil_tmp5) {
#line 1159
    goto error;
  } else
#line 1151
  if (tmp___1 == -1) {
#line 1159
    goto error;
  } else
#line 1151
  if (__cil_tmp11) {
#line 1159
    goto error;
  } else
#line 1151
  if (__cil_tmp12) {
#line 1159
    goto error;
  } else
#line 1151
  if (__cil_tmp13 != (int )(txtdesc->uclen * 2UL)) {
#line 1159
    goto error;
  } else
#line 1151
  if (__cil_tmp14) {
#line 1159
    goto error;
  } else
#line 1151
  if (tmp___4 == -1) {
#line 1159
    goto error;
  }
#line 1160
  if ((int )txtdesc->maclen > 0) {
    {
#line 1161
    __cil_tmp20 = jas_stream_write(out, (void const   *)(txtdesc->macdata), 67);
    }
#line 1161
    if (__cil_tmp20 != 67) {
#line 1162
      goto error;
    }
  } else {
    {
#line 1164
    __cil_tmp21 = jas_stream_pad(out, 67, 0);
    }
#line 1164
    if (__cil_tmp21 != 67) {
#line 1165
      goto error;
    }
  }
#line 1167
  return (0);
  error: 
#line 1169
  return (-1);
}
}
#line 1172 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icctxtdesc_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_icctxtdesc_t *txtdesc ;

  {
  {
#line 1174
  txtdesc = & attrval->data.txtdesc;
#line 1175
  fprintf(out, "ascii = \"%s\"\n\b", txtdesc->ascdata);
#line 1176
  fprintf(out, "uclangcode = %d; uclen = %d\n\016", txtdesc->uclangcode, txtdesc->uclen);
#line 1178
  fprintf(out, "sccode = %d\n\"\254", txtdesc->sccode);
#line 1179
  fprintf(out, "maclen = %d\nC", (int )txtdesc->maclen);
  }
#line 1181
  return;
}
}
#line 1186 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icctxt_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icctxt_t *txt ;

  {
#line 1188
  txt = & attrval->data.txt;
#line 1189
  if (txt->string) {
    {
#line 1190
    jas_free((void *)txt->string);
#line 1191
    txt->string = (char *)0;
    }
  }
#line 1194
  return;
}
}
#line 1195 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icctxt_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 
  jas_icctxt_t *txt ;
  jas_icctxt_t *othtxt ;

  {
  {
#line 1198
  txt = & attrval->data.txt;
#line 1199
  othtxt = & othattrval->data.txt;
#line 1200
  txt->string = jas_strdup((char const   *)othtxt->string);
  }
#line 1200
  if (! txt->string) {
#line 1201
    return (-1);
  }
#line 1202
  return (0);
}
}
#line 1205 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icctxt_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  jas_icctxt_t *txt ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  void *tmp ;

  {
  {
#line 1208
  txt = & attrval->data.txt;
#line 1209
  txt->string = (char *)0;
#line 1210
  tmp = jas_malloc((size_t )cnt);
#line 1210
  txt->string = (char *)tmp;
  }
#line 1210
  if (! txt->string) {
#line 1211
    goto error;
  }
  {
#line 1212
  __cil_tmp6 = jas_stream_read(in, (void *)txt->string, cnt);
  }
#line 1212
  if (__cil_tmp6 != cnt) {
#line 1213
    goto error;
  }
  {
#line 1214
  *(txt->string + (cnt - 1)) = (char )'\000';
#line 1215
  __cil_tmp7 = strlen((char const   *)txt->string);
  }
#line 1215
  if ((int )__cil_tmp7 + 1 != cnt) {
#line 1216
    goto error;
  }
#line 1217
  return (0);
  error: 
  {
#line 1219
  jas_icctxt_destroy(attrval);
  }
#line 1220
  return (-1);
}
}
#line 1223 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icctxt_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icctxt_t *txt ;
  unsigned long __cil_tmp3 ;

  {
  {
#line 1225
  txt = & attrval->data.txt;
#line 1226
  __cil_tmp3 = strlen((char const   *)txt->string);
  }
#line 1226
  return ((int )(__cil_tmp3 + 1UL));
}
}
#line 1229 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icctxt_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icctxt_t *txt ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1231
  txt = & attrval->data.txt;
#line 1232
  if (! (out->flags_ & 7)) {
#line 1232
    if (out->rwlimit_ >= 0L) {
#line 1232
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1232
        out->flags_ |= 4;
#line 1232
        tmp___0 = -1;
      } else {
#line 1232
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 1232
      (out->cnt_) --;
#line 1232
      out->bufmode_ |= 32;
#line 1232
      if (out->cnt_ < 0) {
        {
#line 1232
        __cil_tmp5 = jas_stream_flushbuf(out, 0);
#line 1232
        tmp = __cil_tmp5;
        }
      } else {
#line 1232
        __cil_tmp6 = out->ptr_;
#line 1232
        (out->ptr_) ++;
#line 1232
        *__cil_tmp6 = (unsigned char)0;
#line 1232
        (out->rwcnt_) ++;
#line 1232
        tmp = (int )*__cil_tmp6;
      }
#line 1232
      tmp___0 = tmp;
    }
#line 1232
    tmp___1 = tmp___0;
  } else {
#line 1232
    tmp___1 = -1;
  }
  {
#line 1232
  __cil_tmp4 = jas_stream_puts(out, (char const   *)txt->string);
  }
#line 1232
  if (__cil_tmp4) {
#line 1234
    return (-1);
  } else
#line 1232
  if (tmp___1 == -1) {
#line 1234
    return (-1);
  }
#line 1235
  return (0);
}
}
#line 1238 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icctxt_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_icctxt_t *txt ;

  {
  {
#line 1240
  txt = & attrval->data.txt;
#line 1241
  fprintf(out, "string = \"%s\"\n", txt->string);
  }
#line 1243
  return;
}
}
#line 1248 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icclut8_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icclut8_t *lut8 ;

  {
#line 1250
  lut8 = & attrval->data.lut8;
#line 1251
  if (lut8->clut) {
    {
#line 1252
    jas_free((void *)lut8->clut);
#line 1253
    lut8->clut = (jas_iccuint8_t *)0;
    }
  }
#line 1255
  if (lut8->intabs) {
    {
#line 1256
    jas_free((void *)lut8->intabs);
#line 1257
    lut8->intabs = (jas_iccuint8_t **)0;
    }
  }
#line 1259
  if (lut8->intabsbuf) {
    {
#line 1260
    jas_free((void *)lut8->intabsbuf);
#line 1261
    lut8->intabsbuf = (jas_iccuint8_t *)0;
    }
  }
#line 1263
  if (lut8->outtabs) {
    {
#line 1264
    jas_free((void *)lut8->outtabs);
#line 1265
    lut8->outtabs = (jas_iccuint8_t **)0;
    }
  }
#line 1267
  if (lut8->outtabsbuf) {
    {
#line 1268
    jas_free((void *)lut8->outtabsbuf);
#line 1269
    lut8->outtabsbuf = (jas_iccuint8_t *)0;
    }
  }
#line 1272
  return;
}
}
#line 1273 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icclut8_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 
  jas_icclut8_t *lut8 ;

  {
  {
#line 1276
  lut8 = & attrval->data.lut8;
#line 1278
  attrval = (jas_iccattrval_t *)0;
#line 1279
  othattrval = (jas_iccattrval_t *)0;
#line 1280
  lut8 = (jas_icclut8_t *)0;
#line 1281
  abort();
  }
#line 1282
  return (-1);
}
}
#line 1285 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icclut8_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  int i ;
  int j ;
  int clutsize ;
  jas_icclut8_t *lut8 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  unsigned char *__cil_tmp12 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  long __cil_tmp19 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  long __cil_tmp28 ;
  void *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;

  {
#line 1291
  lut8 = & attrval->data.lut8;
#line 1292
  lut8->clut = (jas_iccuint8_t *)0;
#line 1293
  lut8->intabs = (jas_iccuint8_t **)0;
#line 1294
  lut8->intabsbuf = (jas_iccuint8_t *)0;
#line 1295
  lut8->outtabs = (jas_iccuint8_t **)0;
#line 1296
  lut8->outtabsbuf = (jas_iccuint8_t *)0;
#line 1297
  if (! (in->flags_ & 7)) {
#line 1297
    if (in->rwlimit_ >= 0L) {
#line 1297
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1297
        in->flags_ |= 4;
#line 1297
        tmp___0 = -1;
      } else {
#line 1297
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 1297
      (in->cnt_) --;
#line 1297
      if (in->cnt_ < 0) {
        {
#line 1297
        __cil_tmp11 = jas_stream_fillbuf(in, 1);
#line 1297
        tmp = __cil_tmp11;
        }
      } else {
#line 1297
        __cil_tmp12 = in->ptr_;
#line 1297
        (in->ptr_) ++;
#line 1297
        (in->rwcnt_) ++;
#line 1297
        tmp = (int )*__cil_tmp12;
      }
#line 1297
      tmp___0 = tmp;
    }
#line 1297
    tmp___1 = tmp___0;
  } else {
#line 1297
    tmp___1 = -1;
  }
  {
#line 1297
  __cil_tmp10 = jas_iccgetuint8(in, & lut8->clutlen);
#line 1297
  __cil_tmp9 = jas_iccgetuint8(in, & lut8->numoutchans);
#line 1297
  __cil_tmp8 = jas_iccgetuint8(in, & lut8->numinchans);
  }
#line 1297
  if (__cil_tmp8) {
#line 1301
    goto error;
  } else
#line 1297
  if (__cil_tmp9) {
#line 1301
    goto error;
  } else
#line 1297
  if (__cil_tmp10) {
#line 1301
    goto error;
  } else
#line 1297
  if (tmp___1 == -1) {
#line 1301
    goto error;
  }
#line 1302
  i = 0;
  {
#line 1302
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1302
    if (! (i < 3)) {
#line 1302
      goto while_break;
    }
#line 1303
    j = 0;
    {
#line 1303
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1303
      if (! (j < 3)) {
#line 1303
        goto while_break___0;
      }
      {
#line 1304
      __cil_tmp16 = jas_iccgetsint32(in, & lut8->e[i][j]);
      }
#line 1304
      if (__cil_tmp16) {
#line 1305
        goto error;
      }
#line 1303
      j ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___0: 
#line 1302
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1308
  __cil_tmp18 = jas_iccgetuint16(in, & lut8->numouttabents);
#line 1308
  __cil_tmp17 = jas_iccgetuint16(in, & lut8->numintabents);
  }
#line 1308
  if (__cil_tmp17) {
#line 1310
    goto error;
  } else
#line 1308
  if (__cil_tmp18) {
#line 1310
    goto error;
  }
  {
#line 1311
  __cil_tmp19 = jas_iccpowi((int )lut8->clutlen, (int )lut8->numinchans);
#line 1311
  clutsize = (int )(__cil_tmp19 * (long )lut8->numoutchans);
#line 1312
  tmp___2 = jas_alloc2((size_t )lut8->numinchans, sizeof(jas_iccuint8_t *));
#line 1312
  lut8->intabs = (jas_iccuint8_t **)tmp___2;
#line 1312
  tmp___3 = jas_alloc3((size_t )lut8->numinchans, lut8->numintabents, sizeof(jas_iccuint8_t ));
#line 1312
  lut8->intabsbuf = (jas_iccuint8_t *)tmp___3;
#line 1312
  tmp___4 = jas_alloc2((size_t )clutsize, sizeof(jas_iccuint8_t ));
#line 1312
  lut8->clut = (jas_iccuint8_t *)tmp___4;
  }
#line 1312
  if (! lut8->clut) {
#line 1317
    goto error;
  } else
#line 1312
  if (! lut8->intabsbuf) {
#line 1317
    goto error;
  } else
#line 1312
  if (! lut8->intabs) {
#line 1317
    goto error;
  }
#line 1318
  i = 0;
  {
#line 1318
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1318
    if (! (i < (int )lut8->numinchans)) {
#line 1318
      goto while_break___1;
    }
#line 1319
    *(lut8->intabs + i) = lut8->intabsbuf + (unsigned long )i * lut8->numintabents;
#line 1318
    i ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___1: 
  {
#line 1320
  tmp___5 = jas_alloc2((size_t )lut8->numoutchans, sizeof(jas_iccuint8_t *));
#line 1320
  lut8->outtabs = (jas_iccuint8_t **)tmp___5;
#line 1320
  tmp___6 = jas_alloc3((size_t )lut8->numoutchans, lut8->numouttabents, sizeof(jas_iccuint8_t ));
#line 1320
  lut8->outtabsbuf = (jas_iccuint8_t *)tmp___6;
  }
#line 1320
  if (! lut8->outtabsbuf) {
#line 1324
    goto error;
  } else
#line 1320
  if (! lut8->outtabs) {
#line 1324
    goto error;
  }
#line 1325
  i = 0;
  {
#line 1325
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1325
    if (! (i < (int )lut8->numoutchans)) {
#line 1325
      goto while_break___2;
    }
#line 1326
    *(lut8->outtabs + i) = lut8->outtabsbuf + (unsigned long )i * lut8->numouttabents;
#line 1325
    i ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___2: 
#line 1327
  i = 0;
  {
#line 1327
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1327
    if (! (i < (int )lut8->numinchans)) {
#line 1327
      goto while_break___3;
    }
#line 1328
    j = 0;
    {
#line 1328
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 1328
      if (! (j < (int )lut8->numintabents)) {
#line 1328
        goto while_break___4;
      }
      {
#line 1329
      __cil_tmp25 = jas_iccgetuint8(in, *(lut8->intabs + i) + j);
      }
#line 1329
      if (__cil_tmp25) {
#line 1330
        goto error;
      }
#line 1328
      j ++;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___4: 
#line 1327
    i ++;
  }
  while_break___12: /* CIL Label */ ;
  }
  while_break___3: 
#line 1333
  i = 0;
  {
#line 1333
  while (1) {
    while_continue___5: /* CIL Label */ ;

#line 1333
    if (! (i < (int )lut8->numoutchans)) {
#line 1333
      goto while_break___5;
    }
#line 1334
    j = 0;
    {
#line 1334
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 1334
      if (! (j < (int )lut8->numouttabents)) {
#line 1334
        goto while_break___6;
      }
      {
#line 1335
      __cil_tmp26 = jas_iccgetuint8(in, *(lut8->outtabs + i) + j);
      }
#line 1335
      if (__cil_tmp26) {
#line 1336
        goto error;
      }
#line 1334
      j ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___6: 
#line 1333
    i ++;
  }
  while_break___14: /* CIL Label */ ;
  }
  while_break___5: 
#line 1339
  i = 0;
  {
#line 1339
  while (1) {
    while_continue___7: /* CIL Label */ ;

#line 1339
    if (! (i < clutsize)) {
#line 1339
      goto while_break___7;
    }
    {
#line 1340
    __cil_tmp27 = jas_iccgetuint8(in, lut8->clut + i);
    }
#line 1340
    if (__cil_tmp27) {
#line 1341
      goto error;
    }
#line 1339
    i ++;
  }
  while_break___16: /* CIL Label */ ;
  }
  while_break___7: 
  {
#line 1343
  __cil_tmp28 = jas_iccpowi((int )lut8->clutlen, (int )lut8->numinchans);
  }
#line 1343
  if ((int )(((44UL + (unsigned long )lut8->numinchans * lut8->numintabents) + (unsigned long )lut8->numoutchans * lut8->numouttabents) + (unsigned long )(__cil_tmp28 * (long )lut8->numoutchans)) != cnt) {
#line 1347
    goto error;
  }
#line 1348
  return (0);
  error: 
  {
#line 1350
  jas_icclut8_destroy(attrval);
  }
#line 1351
  return (-1);
}
}
#line 1354 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icclut8_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icclut8_t *lut8 ;
  long __cil_tmp3 ;

  {
  {
#line 1356
  lut8 = & attrval->data.lut8;
#line 1357
  __cil_tmp3 = jas_iccpowi((int )lut8->clutlen, (int )lut8->numinchans);
  }
#line 1357
  return ((int )(((44UL + (unsigned long )lut8->numinchans * lut8->numintabents) + (unsigned long )lut8->numoutchans * lut8->numouttabents) + (unsigned long )(__cil_tmp3 * (long )lut8->numoutchans)));
}
}
#line 1362 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icclut8_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icclut8_t *lut8 ;
  int i ;
  int j ;
  int n ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp12 ;
  unsigned char *__cil_tmp13 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp17 ;
  unsigned char *__cil_tmp18 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp22 ;
  unsigned char *__cil_tmp23 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  long __cil_tmp32 ;
  int __cil_tmp33 ;

  {
#line 1364
  lut8 = & attrval->data.lut8;
#line 1368
  lut8->clut = (jas_iccuint8_t *)0;
#line 1369
  lut8->intabs = (jas_iccuint8_t **)0;
#line 1370
  lut8->intabsbuf = (jas_iccuint8_t *)0;
#line 1371
  lut8->outtabs = (jas_iccuint8_t **)0;
#line 1372
  lut8->outtabsbuf = (jas_iccuint8_t *)0;
#line 1373
  if (! (out->flags_ & 7)) {
#line 1373
    if (out->rwlimit_ >= 0L) {
#line 1373
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1373
        out->flags_ |= 4;
#line 1373
        tmp___9 = -1;
      } else {
#line 1373
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 1373
      (out->cnt_) --;
#line 1373
      out->bufmode_ |= 32;
#line 1373
      if (out->cnt_ < 0) {
        {
#line 1373
        __cil_tmp22 = jas_stream_flushbuf(out, 0);
#line 1373
        tmp___8 = __cil_tmp22;
        }
      } else {
#line 1373
        __cil_tmp23 = out->ptr_;
#line 1373
        (out->ptr_) ++;
#line 1373
        *__cil_tmp23 = (unsigned char)0;
#line 1373
        (out->rwcnt_) ++;
#line 1373
        tmp___8 = (int )*__cil_tmp23;
      }
#line 1373
      tmp___9 = tmp___8;
    }
#line 1373
    tmp___10 = tmp___9;
  } else {
#line 1373
    tmp___10 = -1;
  }
#line 1373
  if (! (out->flags_ & 7)) {
#line 1373
    if (out->rwlimit_ >= 0L) {
#line 1373
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1373
        out->flags_ |= 4;
#line 1373
        tmp___6 = -1;
      } else {
#line 1373
        goto _L___31;
      }
    } else {
      _L___31: /* CIL Label */ 
#line 1373
      (out->cnt_) --;
#line 1373
      out->bufmode_ |= 32;
#line 1373
      if (out->cnt_ < 0) {
        {
#line 1373
        __cil_tmp17 = jas_stream_flushbuf(out, (int )lut8->clutlen);
#line 1373
        tmp___5 = __cil_tmp17;
        }
      } else {
#line 1373
        __cil_tmp18 = out->ptr_;
#line 1373
        (out->ptr_) ++;
#line 1373
        *__cil_tmp18 = lut8->clutlen;
#line 1373
        (out->rwcnt_) ++;
#line 1373
        tmp___5 = (int )*__cil_tmp18;
      }
#line 1373
      tmp___6 = tmp___5;
    }
#line 1373
    tmp___7 = tmp___6;
  } else {
#line 1373
    tmp___7 = -1;
  }
#line 1373
  if (! (out->flags_ & 7)) {
#line 1373
    if (out->rwlimit_ >= 0L) {
#line 1373
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1373
        out->flags_ |= 4;
#line 1373
        tmp___3 = -1;
      } else {
#line 1373
        goto _L___32;
      }
    } else {
      _L___32: /* CIL Label */ 
#line 1373
      (out->cnt_) --;
#line 1373
      out->bufmode_ |= 32;
#line 1373
      if (out->cnt_ < 0) {
        {
#line 1373
        __cil_tmp12 = jas_stream_flushbuf(out, (int )lut8->numoutchans);
#line 1373
        tmp___2 = __cil_tmp12;
        }
      } else {
#line 1373
        __cil_tmp13 = out->ptr_;
#line 1373
        (out->ptr_) ++;
#line 1373
        *__cil_tmp13 = lut8->numoutchans;
#line 1373
        (out->rwcnt_) ++;
#line 1373
        tmp___2 = (int )*__cil_tmp13;
      }
#line 1373
      tmp___3 = tmp___2;
    }
#line 1373
    tmp___4 = tmp___3;
  } else {
#line 1373
    tmp___4 = -1;
  }
#line 1373
  if (! (out->flags_ & 7)) {
#line 1373
    if (out->rwlimit_ >= 0L) {
#line 1373
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1373
        out->flags_ |= 4;
#line 1373
        tmp___0 = -1;
      } else {
#line 1373
        goto _L___33;
      }
    } else {
      _L___33: /* CIL Label */ 
#line 1373
      (out->cnt_) --;
#line 1373
      out->bufmode_ |= 32;
#line 1373
      if (out->cnt_ < 0) {
        {
#line 1373
        __cil_tmp7 = jas_stream_flushbuf(out, (int )lut8->numinchans);
#line 1373
        tmp = __cil_tmp7;
        }
      } else {
#line 1373
        __cil_tmp8 = out->ptr_;
#line 1373
        (out->ptr_) ++;
#line 1373
        *__cil_tmp8 = lut8->numinchans;
#line 1373
        (out->rwcnt_) ++;
#line 1373
        tmp = (int )*__cil_tmp8;
      }
#line 1373
      tmp___0 = tmp;
    }
#line 1373
    tmp___1 = tmp___0;
  } else {
#line 1373
    tmp___1 = -1;
  }
#line 1373
  if (tmp___1 == -1) {
#line 1377
    goto error;
  } else
#line 1373
  if (tmp___4 == -1) {
#line 1377
    goto error;
  } else
#line 1373
  if (tmp___7 == -1) {
#line 1377
    goto error;
  } else
#line 1373
  if (tmp___10 == -1) {
#line 1377
    goto error;
  }
#line 1378
  i = 0;
  {
#line 1378
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1378
    if (! (i < 3)) {
#line 1378
      goto while_break;
    }
#line 1379
    j = 0;
    {
#line 1379
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1379
      if (! (j < 3)) {
#line 1379
        goto while_break___0;
      }
      {
#line 1380
      __cil_tmp27 = jas_iccputsint(out, 4, (long long )lut8->e[i][j]);
      }
#line 1380
      if (__cil_tmp27) {
#line 1381
        goto error;
      }
#line 1379
      j ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: 
#line 1378
    i ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1384
  __cil_tmp29 = jas_iccputuint(out, 2, (unsigned long long )lut8->numouttabents);
#line 1384
  __cil_tmp28 = jas_iccputuint(out, 2, (unsigned long long )lut8->numintabents);
  }
#line 1384
  if (__cil_tmp28) {
#line 1386
    goto error;
  } else
#line 1384
  if (__cil_tmp29) {
#line 1386
    goto error;
  }
#line 1387
  n = (int )((unsigned long )lut8->numinchans * lut8->numintabents);
#line 1388
  i = 0;
  {
#line 1388
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1388
    if (! (i < n)) {
#line 1388
      goto while_break___1;
    }
    {
#line 1389
    __cil_tmp30 = jas_iccputuint(out, 1, (unsigned long long )*(lut8->intabsbuf + i));
    }
#line 1389
    if (__cil_tmp30) {
#line 1390
      goto error;
    }
#line 1388
    i ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___1: 
#line 1392
  n = (int )((unsigned long )lut8->numoutchans * lut8->numouttabents);
#line 1393
  i = 0;
  {
#line 1393
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1393
    if (! (i < n)) {
#line 1393
      goto while_break___2;
    }
    {
#line 1394
    __cil_tmp31 = jas_iccputuint(out, 1, (unsigned long long )*(lut8->outtabsbuf + i));
    }
#line 1394
    if (__cil_tmp31) {
#line 1395
      goto error;
    }
#line 1393
    i ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___2: 
  {
#line 1397
  __cil_tmp32 = jas_iccpowi((int )lut8->clutlen, (int )lut8->numinchans);
#line 1397
  n = (int )(__cil_tmp32 * (long )lut8->numoutchans);
#line 1398
  i = 0;
  }
  {
#line 1398
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1398
    if (! (i < n)) {
#line 1398
      goto while_break___3;
    }
    {
#line 1399
    __cil_tmp33 = jas_iccputuint(out, 1, (unsigned long long )*(lut8->clut + i));
    }
#line 1399
    if (__cil_tmp33) {
#line 1400
      goto error;
    }
#line 1398
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___3: ;
#line 1402
  return (0);
  error: 
#line 1404
  return (-1);
}
}
#line 1407 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icclut8_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_icclut8_t *lut8 ;
  int i ;
  int j ;

  {
  {
#line 1409
  lut8 = & attrval->data.lut8;
#line 1412
  fprintf(out, "numinchans=%d, numoutchans=%d, clutlen=%d\n\315\374PV", (int )lut8->numinchans,
          (int )lut8->numoutchans, (int )lut8->clutlen);
#line 1414
  i = 0;
  }
  {
#line 1414
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1414
    if (! (i < 3)) {
#line 1414
      goto while_break;
    }
#line 1415
    j = 0;
    {
#line 1415
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1415
      if (! (j < 3)) {
#line 1415
        goto while_break___0;
      }
      {
#line 1416
      fprintf(out, "e[%d][%d]=%f ", i, j, (double )lut8->e[i][j] / 65536.);
#line 1415
      j ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 1418
    fprintf(out, "\n\360\377\377\377\377\377\377\220");
#line 1414
    i ++;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1420
  fprintf(out, "numintabents=%d, numouttabents=%d\n", lut8->numintabents, lut8->numouttabents);
  }
#line 1422
  return;
}
}
#line 1428 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icclut16_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icclut16_t *lut16 ;

  {
#line 1430
  lut16 = & attrval->data.lut16;
#line 1431
  if (lut16->clut) {
    {
#line 1432
    jas_free((void *)lut16->clut);
#line 1433
    lut16->clut = (jas_iccuint16_t *)0;
    }
  }
#line 1435
  if (lut16->intabs) {
    {
#line 1436
    jas_free((void *)lut16->intabs);
#line 1437
    lut16->intabs = (jas_iccuint16_t **)0;
    }
  }
#line 1439
  if (lut16->intabsbuf) {
    {
#line 1440
    jas_free((void *)lut16->intabsbuf);
#line 1441
    lut16->intabsbuf = (jas_iccuint16_t *)0;
    }
  }
#line 1443
  if (lut16->outtabs) {
    {
#line 1444
    jas_free((void *)lut16->outtabs);
#line 1445
    lut16->outtabs = (jas_iccuint16_t **)0;
    }
  }
#line 1447
  if (lut16->outtabsbuf) {
    {
#line 1448
    jas_free((void *)lut16->outtabsbuf);
#line 1449
    lut16->outtabsbuf = (jas_iccuint16_t *)0;
    }
  }
#line 1452
  return;
}
}
#line 1453 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icclut16_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 


  {
  {
#line 1457
  attrval = (jas_iccattrval_t *)0;
#line 1458
  othattrval = (jas_iccattrval_t *)0;
#line 1460
  abort();
  }
#line 1461
  return (-1);
}
}
#line 1464 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icclut16_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  int i ;
  int j ;
  int clutsize ;
  jas_icclut16_t *lut16 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  unsigned char *__cil_tmp12 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  long __cil_tmp19 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  long __cil_tmp28 ;
  void *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;

  {
#line 1470
  lut16 = & attrval->data.lut16;
#line 1471
  lut16->clut = (jas_iccuint16_t *)0;
#line 1472
  lut16->intabs = (jas_iccuint16_t **)0;
#line 1473
  lut16->intabsbuf = (jas_iccuint16_t *)0;
#line 1474
  lut16->outtabs = (jas_iccuint16_t **)0;
#line 1475
  lut16->outtabsbuf = (jas_iccuint16_t *)0;
#line 1476
  if (! (in->flags_ & 7)) {
#line 1476
    if (in->rwlimit_ >= 0L) {
#line 1476
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1476
        in->flags_ |= 4;
#line 1476
        tmp___0 = -1;
      } else {
#line 1476
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 1476
      (in->cnt_) --;
#line 1476
      if (in->cnt_ < 0) {
        {
#line 1476
        __cil_tmp11 = jas_stream_fillbuf(in, 1);
#line 1476
        tmp = __cil_tmp11;
        }
      } else {
#line 1476
        __cil_tmp12 = in->ptr_;
#line 1476
        (in->ptr_) ++;
#line 1476
        (in->rwcnt_) ++;
#line 1476
        tmp = (int )*__cil_tmp12;
      }
#line 1476
      tmp___0 = tmp;
    }
#line 1476
    tmp___1 = tmp___0;
  } else {
#line 1476
    tmp___1 = -1;
  }
  {
#line 1476
  __cil_tmp10 = jas_iccgetuint8(in, & lut16->clutlen);
#line 1476
  __cil_tmp9 = jas_iccgetuint8(in, & lut16->numoutchans);
#line 1476
  __cil_tmp8 = jas_iccgetuint8(in, & lut16->numinchans);
  }
#line 1476
  if (__cil_tmp8) {
#line 1480
    goto error;
  } else
#line 1476
  if (__cil_tmp9) {
#line 1480
    goto error;
  } else
#line 1476
  if (__cil_tmp10) {
#line 1480
    goto error;
  } else
#line 1476
  if (tmp___1 == -1) {
#line 1480
    goto error;
  }
#line 1481
  i = 0;
  {
#line 1481
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1481
    if (! (i < 3)) {
#line 1481
      goto while_break;
    }
#line 1482
    j = 0;
    {
#line 1482
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1482
      if (! (j < 3)) {
#line 1482
        goto while_break___0;
      }
      {
#line 1483
      __cil_tmp16 = jas_iccgetsint32(in, & lut16->e[i][j]);
      }
#line 1483
      if (__cil_tmp16) {
#line 1484
        goto error;
      }
#line 1482
      j ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___0: 
#line 1481
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1487
  __cil_tmp18 = jas_iccgetuint16(in, & lut16->numouttabents);
#line 1487
  __cil_tmp17 = jas_iccgetuint16(in, & lut16->numintabents);
  }
#line 1487
  if (__cil_tmp17) {
#line 1489
    goto error;
  } else
#line 1487
  if (__cil_tmp18) {
#line 1489
    goto error;
  }
  {
#line 1490
  __cil_tmp19 = jas_iccpowi((int )lut16->clutlen, (int )lut16->numinchans);
#line 1490
  clutsize = (int )(__cil_tmp19 * (long )lut16->numoutchans);
#line 1491
  tmp___2 = jas_alloc2((size_t )lut16->numinchans, sizeof(jas_iccuint16_t *));
#line 1491
  lut16->intabs = (jas_iccuint16_t **)tmp___2;
#line 1491
  tmp___3 = jas_alloc3((size_t )lut16->numinchans, lut16->numintabents, sizeof(jas_iccuint16_t ));
#line 1491
  lut16->intabsbuf = (jas_iccuint16_t *)tmp___3;
#line 1491
  tmp___4 = jas_alloc2((size_t )clutsize, sizeof(jas_iccuint16_t ));
#line 1491
  lut16->clut = (jas_iccuint16_t *)tmp___4;
  }
#line 1491
  if (! lut16->clut) {
#line 1496
    goto error;
  } else
#line 1491
  if (! lut16->intabsbuf) {
#line 1496
    goto error;
  } else
#line 1491
  if (! lut16->intabs) {
#line 1496
    goto error;
  }
#line 1497
  i = 0;
  {
#line 1497
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1497
    if (! (i < (int )lut16->numinchans)) {
#line 1497
      goto while_break___1;
    }
#line 1498
    *(lut16->intabs + i) = lut16->intabsbuf + (unsigned long )i * lut16->numintabents;
#line 1497
    i ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___1: 
  {
#line 1499
  tmp___5 = jas_alloc2((size_t )lut16->numoutchans, sizeof(jas_iccuint16_t *));
#line 1499
  lut16->outtabs = (jas_iccuint16_t **)tmp___5;
#line 1499
  tmp___6 = jas_alloc3((size_t )lut16->numoutchans, lut16->numouttabents, sizeof(jas_iccuint16_t ));
#line 1499
  lut16->outtabsbuf = (jas_iccuint16_t *)tmp___6;
  }
#line 1499
  if (! lut16->outtabsbuf) {
#line 1503
    goto error;
  } else
#line 1499
  if (! lut16->outtabs) {
#line 1503
    goto error;
  }
#line 1504
  i = 0;
  {
#line 1504
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1504
    if (! (i < (int )lut16->numoutchans)) {
#line 1504
      goto while_break___2;
    }
#line 1505
    *(lut16->outtabs + i) = lut16->outtabsbuf + (unsigned long )i * lut16->numouttabents;
#line 1504
    i ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___2: 
#line 1506
  i = 0;
  {
#line 1506
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1506
    if (! (i < (int )lut16->numinchans)) {
#line 1506
      goto while_break___3;
    }
#line 1507
    j = 0;
    {
#line 1507
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 1507
      if (! (j < (int )lut16->numintabents)) {
#line 1507
        goto while_break___4;
      }
      {
#line 1508
      __cil_tmp25 = jas_iccgetuint16(in, *(lut16->intabs + i) + j);
      }
#line 1508
      if (__cil_tmp25) {
#line 1509
        goto error;
      }
#line 1507
      j ++;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___4: 
#line 1506
    i ++;
  }
  while_break___12: /* CIL Label */ ;
  }
  while_break___3: 
#line 1512
  i = 0;
  {
#line 1512
  while (1) {
    while_continue___5: /* CIL Label */ ;

#line 1512
    if (! (i < (int )lut16->numoutchans)) {
#line 1512
      goto while_break___5;
    }
#line 1513
    j = 0;
    {
#line 1513
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 1513
      if (! (j < (int )lut16->numouttabents)) {
#line 1513
        goto while_break___6;
      }
      {
#line 1514
      __cil_tmp26 = jas_iccgetuint16(in, *(lut16->outtabs + i) + j);
      }
#line 1514
      if (__cil_tmp26) {
#line 1515
        goto error;
      }
#line 1513
      j ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___6: 
#line 1512
    i ++;
  }
  while_break___14: /* CIL Label */ ;
  }
  while_break___5: 
#line 1518
  i = 0;
  {
#line 1518
  while (1) {
    while_continue___7: /* CIL Label */ ;

#line 1518
    if (! (i < clutsize)) {
#line 1518
      goto while_break___7;
    }
    {
#line 1519
    __cil_tmp27 = jas_iccgetuint16(in, lut16->clut + i);
    }
#line 1519
    if (__cil_tmp27) {
#line 1520
      goto error;
    }
#line 1518
    i ++;
  }
  while_break___16: /* CIL Label */ ;
  }
  while_break___7: 
  {
#line 1522
  __cil_tmp28 = jas_iccpowi((int )lut16->clutlen, (int )lut16->numinchans);
  }
#line 1522
  if ((int )(44UL + 2UL * (((unsigned long )lut16->numinchans * lut16->numintabents + (unsigned long )lut16->numoutchans * lut16->numouttabents) + (unsigned long )(__cil_tmp28 * (long )lut16->numoutchans))) != cnt) {
#line 1526
    goto error;
  }
#line 1527
  return (0);
  error: 
  {
#line 1529
  jas_icclut16_destroy(attrval);
  }
#line 1530
  return (-1);
}
}
#line 1533 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icclut16_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icclut16_t *lut16 ;
  long __cil_tmp3 ;

  {
  {
#line 1535
  lut16 = & attrval->data.lut16;
#line 1536
  __cil_tmp3 = jas_iccpowi((int )lut16->clutlen, (int )lut16->numinchans);
  }
#line 1536
  return ((int )(44UL + 2UL * (((unsigned long )lut16->numinchans * lut16->numintabents + (unsigned long )lut16->numoutchans * lut16->numouttabents) + (unsigned long )(__cil_tmp3 * (long )lut16->numoutchans))));
}
}
#line 1541 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_icclut16_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icclut16_t *lut16 ;
  int i ;
  int j ;
  int n ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp12 ;
  unsigned char *__cil_tmp13 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp17 ;
  unsigned char *__cil_tmp18 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp22 ;
  unsigned char *__cil_tmp23 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  long __cil_tmp32 ;
  int __cil_tmp33 ;

  {
#line 1543
  lut16 = & attrval->data.lut16;
#line 1547
  if (! (out->flags_ & 7)) {
#line 1547
    if (out->rwlimit_ >= 0L) {
#line 1547
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1547
        out->flags_ |= 4;
#line 1547
        tmp___9 = -1;
      } else {
#line 1547
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 1547
      (out->cnt_) --;
#line 1547
      out->bufmode_ |= 32;
#line 1547
      if (out->cnt_ < 0) {
        {
#line 1547
        __cil_tmp22 = jas_stream_flushbuf(out, 0);
#line 1547
        tmp___8 = __cil_tmp22;
        }
      } else {
#line 1547
        __cil_tmp23 = out->ptr_;
#line 1547
        (out->ptr_) ++;
#line 1547
        *__cil_tmp23 = (unsigned char)0;
#line 1547
        (out->rwcnt_) ++;
#line 1547
        tmp___8 = (int )*__cil_tmp23;
      }
#line 1547
      tmp___9 = tmp___8;
    }
#line 1547
    tmp___10 = tmp___9;
  } else {
#line 1547
    tmp___10 = -1;
  }
#line 1547
  if (! (out->flags_ & 7)) {
#line 1547
    if (out->rwlimit_ >= 0L) {
#line 1547
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1547
        out->flags_ |= 4;
#line 1547
        tmp___6 = -1;
      } else {
#line 1547
        goto _L___31;
      }
    } else {
      _L___31: /* CIL Label */ 
#line 1547
      (out->cnt_) --;
#line 1547
      out->bufmode_ |= 32;
#line 1547
      if (out->cnt_ < 0) {
        {
#line 1547
        __cil_tmp17 = jas_stream_flushbuf(out, (int )lut16->clutlen);
#line 1547
        tmp___5 = __cil_tmp17;
        }
      } else {
#line 1547
        __cil_tmp18 = out->ptr_;
#line 1547
        (out->ptr_) ++;
#line 1547
        *__cil_tmp18 = lut16->clutlen;
#line 1547
        (out->rwcnt_) ++;
#line 1547
        tmp___5 = (int )*__cil_tmp18;
      }
#line 1547
      tmp___6 = tmp___5;
    }
#line 1547
    tmp___7 = tmp___6;
  } else {
#line 1547
    tmp___7 = -1;
  }
#line 1547
  if (! (out->flags_ & 7)) {
#line 1547
    if (out->rwlimit_ >= 0L) {
#line 1547
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1547
        out->flags_ |= 4;
#line 1547
        tmp___3 = -1;
      } else {
#line 1547
        goto _L___32;
      }
    } else {
      _L___32: /* CIL Label */ 
#line 1547
      (out->cnt_) --;
#line 1547
      out->bufmode_ |= 32;
#line 1547
      if (out->cnt_ < 0) {
        {
#line 1547
        __cil_tmp12 = jas_stream_flushbuf(out, (int )lut16->numoutchans);
#line 1547
        tmp___2 = __cil_tmp12;
        }
      } else {
#line 1547
        __cil_tmp13 = out->ptr_;
#line 1547
        (out->ptr_) ++;
#line 1547
        *__cil_tmp13 = lut16->numoutchans;
#line 1547
        (out->rwcnt_) ++;
#line 1547
        tmp___2 = (int )*__cil_tmp13;
      }
#line 1547
      tmp___3 = tmp___2;
    }
#line 1547
    tmp___4 = tmp___3;
  } else {
#line 1547
    tmp___4 = -1;
  }
#line 1547
  if (! (out->flags_ & 7)) {
#line 1547
    if (out->rwlimit_ >= 0L) {
#line 1547
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1547
        out->flags_ |= 4;
#line 1547
        tmp___0 = -1;
      } else {
#line 1547
        goto _L___33;
      }
    } else {
      _L___33: /* CIL Label */ 
#line 1547
      (out->cnt_) --;
#line 1547
      out->bufmode_ |= 32;
#line 1547
      if (out->cnt_ < 0) {
        {
#line 1547
        __cil_tmp7 = jas_stream_flushbuf(out, (int )lut16->numinchans);
#line 1547
        tmp = __cil_tmp7;
        }
      } else {
#line 1547
        __cil_tmp8 = out->ptr_;
#line 1547
        (out->ptr_) ++;
#line 1547
        *__cil_tmp8 = lut16->numinchans;
#line 1547
        (out->rwcnt_) ++;
#line 1547
        tmp = (int )*__cil_tmp8;
      }
#line 1547
      tmp___0 = tmp;
    }
#line 1547
    tmp___1 = tmp___0;
  } else {
#line 1547
    tmp___1 = -1;
  }
#line 1547
  if (tmp___1 == -1) {
#line 1551
    goto error;
  } else
#line 1547
  if (tmp___4 == -1) {
#line 1551
    goto error;
  } else
#line 1547
  if (tmp___7 == -1) {
#line 1551
    goto error;
  } else
#line 1547
  if (tmp___10 == -1) {
#line 1551
    goto error;
  }
#line 1552
  i = 0;
  {
#line 1552
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1552
    if (! (i < 3)) {
#line 1552
      goto while_break;
    }
#line 1553
    j = 0;
    {
#line 1553
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1553
      if (! (j < 3)) {
#line 1553
        goto while_break___0;
      }
      {
#line 1554
      __cil_tmp27 = jas_iccputsint(out, 4, (long long )lut16->e[i][j]);
      }
#line 1554
      if (__cil_tmp27) {
#line 1555
        goto error;
      }
#line 1553
      j ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: 
#line 1552
    i ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1558
  __cil_tmp29 = jas_iccputuint(out, 2, (unsigned long long )lut16->numouttabents);
#line 1558
  __cil_tmp28 = jas_iccputuint(out, 2, (unsigned long long )lut16->numintabents);
  }
#line 1558
  if (__cil_tmp28) {
#line 1560
    goto error;
  } else
#line 1558
  if (__cil_tmp29) {
#line 1560
    goto error;
  }
#line 1561
  n = (int )((unsigned long )lut16->numinchans * lut16->numintabents);
#line 1562
  i = 0;
  {
#line 1562
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1562
    if (! (i < n)) {
#line 1562
      goto while_break___1;
    }
    {
#line 1563
    __cil_tmp30 = jas_iccputuint(out, 2, (unsigned long long )*(lut16->intabsbuf + i));
    }
#line 1563
    if (__cil_tmp30) {
#line 1564
      goto error;
    }
#line 1562
    i ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___1: 
#line 1566
  n = (int )((unsigned long )lut16->numoutchans * lut16->numouttabents);
#line 1567
  i = 0;
  {
#line 1567
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1567
    if (! (i < n)) {
#line 1567
      goto while_break___2;
    }
    {
#line 1568
    __cil_tmp31 = jas_iccputuint(out, 2, (unsigned long long )*(lut16->outtabsbuf + i));
    }
#line 1568
    if (__cil_tmp31) {
#line 1569
      goto error;
    }
#line 1567
    i ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___2: 
  {
#line 1571
  __cil_tmp32 = jas_iccpowi((int )lut16->clutlen, (int )lut16->numinchans);
#line 1571
  n = (int )(__cil_tmp32 * (long )lut16->numoutchans);
#line 1572
  i = 0;
  }
  {
#line 1572
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1572
    if (! (i < n)) {
#line 1572
      goto while_break___3;
    }
    {
#line 1573
    __cil_tmp33 = jas_iccputuint(out, 2, (unsigned long long )*(lut16->clut + i));
    }
#line 1573
    if (__cil_tmp33) {
#line 1574
      goto error;
    }
#line 1572
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___3: ;
#line 1576
  return (0);
  error: 
#line 1578
  return (-1);
}
}
#line 1581 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static void jas_icclut16_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_icclut16_t *lut16 ;
  int i ;
  int j ;

  {
  {
#line 1583
  lut16 = & attrval->data.lut16;
#line 1586
  fprintf(out, "numinchans=%d, numoutchans=%d, clutlen=%d\n", (int )lut16->numinchans,
          (int )lut16->numoutchans, (int )lut16->clutlen);
#line 1588
  i = 0;
  }
  {
#line 1588
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1588
    if (! (i < 3)) {
#line 1588
      goto while_break;
    }
#line 1589
    j = 0;
    {
#line 1589
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1589
      if (! (j < 3)) {
#line 1589
        goto while_break___0;
      }
      {
#line 1590
      fprintf(out, "e[%d][%d]=%f ", i, j, (double )lut16->e[i][j] / 65536.);
#line 1589
      j ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 1592
    fprintf(out, "\n");
#line 1588
    i ++;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1594
  fprintf(out, "numintabents=%d, numouttabents=%d\n", lut16->numintabents, lut16->numouttabents);
  }
#line 1596
  return;
}
}
#line 1602 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint(jas_stream_t *in , int n , unsigned long long *val ) 
{ 
  int i ;
  int c ;
  unsigned long long v ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1607
  v = 0ULL;
#line 1608
  i = n;
  {
#line 1608
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1608
    if (! (i > 0)) {
#line 1608
      goto while_break;
    }
#line 1609
    if (! (in->flags_ & 7)) {
#line 1609
      if (in->rwlimit_ >= 0L) {
#line 1609
        if (in->rwcnt_ >= in->rwlimit_) {
#line 1609
          in->flags_ |= 4;
#line 1609
          tmp___0 = -1;
        } else {
#line 1609
          goto _L___30;
        }
      } else {
        _L___30: /* CIL Label */ 
#line 1609
        (in->cnt_) --;
#line 1609
        if (in->cnt_ < 0) {
          {
#line 1609
          __cil_tmp7 = jas_stream_fillbuf(in, 1);
#line 1609
          tmp = __cil_tmp7;
          }
        } else {
#line 1609
          __cil_tmp8 = in->ptr_;
#line 1609
          (in->ptr_) ++;
#line 1609
          (in->rwcnt_) ++;
#line 1609
          tmp = (int )*__cil_tmp8;
        }
#line 1609
        tmp___0 = tmp;
      }
#line 1609
      tmp___1 = tmp___0;
    } else {
#line 1609
      tmp___1 = -1;
    }
#line 1609
    c = tmp___1;
#line 1609
    if (c == -1) {
#line 1610
      return (-1);
    }
#line 1611
    v = (v << 8) | (unsigned long long )c;
#line 1608
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 1613
  *val = v;
#line 1614
  return (0);
}
}
#line 1617 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint8(jas_stream_t *in , jas_iccuint8_t *val ) 
{ 
  int c ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1620
  if (! (in->flags_ & 7)) {
#line 1620
    if (in->rwlimit_ >= 0L) {
#line 1620
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1620
        in->flags_ |= 4;
#line 1620
        tmp___0 = -1;
      } else {
#line 1620
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ 
#line 1620
      (in->cnt_) --;
#line 1620
      if (in->cnt_ < 0) {
        {
#line 1620
        __cil_tmp4 = jas_stream_fillbuf(in, 1);
#line 1620
        tmp = __cil_tmp4;
        }
      } else {
#line 1620
        __cil_tmp5 = in->ptr_;
#line 1620
        (in->ptr_) ++;
#line 1620
        (in->rwcnt_) ++;
#line 1620
        tmp = (int )*__cil_tmp5;
      }
#line 1620
      tmp___0 = tmp;
    }
#line 1620
    tmp___1 = tmp___0;
  } else {
#line 1620
    tmp___1 = -1;
  }
#line 1620
  c = tmp___1;
#line 1620
  if (c == -1) {
#line 1621
    return (-1);
  }
#line 1622
  *val = (jas_iccuint8_t )c;
#line 1623
  return (0);
}
}
#line 1626 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint16(jas_stream_t *in , jas_iccuint16_t *val ) 
{ 
  unsigned long long tmp ;
  int __cil_tmp4 ;

  {
  {
#line 1629
  __cil_tmp4 = jas_iccgetuint(in, 2, & tmp);
  }
#line 1629
  if (__cil_tmp4) {
#line 1630
    return (-1);
  }
#line 1631
  *val = (jas_iccuint16_t )tmp;
#line 1632
  return (0);
}
}
#line 1635 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccgetsint32(jas_stream_t *in , jas_iccsint32_t *val ) 
{ 
  unsigned long long tmp ;
  int __cil_tmp4 ;
  long long tmp___30 ;

  {
  {
#line 1638
  __cil_tmp4 = jas_iccgetuint(in, 4, & tmp);
  }
#line 1638
  if (__cil_tmp4) {
#line 1639
    return (-1);
  }
#line 1640
  if (tmp & 2147483648ULL) {
#line 1640
    tmp___30 = - ((long long )((~ tmp & 2147483647ULL) + 1ULL));
  } else {
#line 1640
    tmp___30 = (long long )tmp;
  }
#line 1640
  *val = (jas_iccsint32_t )tmp___30;
#line 1642
  return (0);
}
}
#line 1645 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint32(jas_stream_t *in , jas_iccuint32_t *val ) 
{ 
  unsigned long long tmp ;
  int __cil_tmp4 ;

  {
  {
#line 1648
  __cil_tmp4 = jas_iccgetuint(in, 4, & tmp);
  }
#line 1648
  if (__cil_tmp4) {
#line 1649
    return (-1);
  }
#line 1650
  *val = (jas_iccuint32_t )tmp;
#line 1651
  return (0);
}
}
#line 1654 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint64(jas_stream_t *in , jas_iccuint64_t *val ) 
{ 
  unsigned long long tmp ;
  int __cil_tmp4 ;

  {
  {
#line 1657
  __cil_tmp4 = jas_iccgetuint(in, 8, & tmp);
  }
#line 1657
  if (__cil_tmp4) {
#line 1658
    return (-1);
  }
#line 1659
  *val = (jas_iccuint64_t )tmp;
#line 1660
  return (0);
}
}
#line 1663 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccputuint(jas_stream_t *out , int n , unsigned long long val ) 
{ 
  int i ;
  int c ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1667
  i = n;
  {
#line 1667
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1667
    if (! (i > 0)) {
#line 1667
      goto while_break;
    }
#line 1668
    c = (int )((val >> 8 * (i - 1)) & 255ULL);
#line 1669
    if (! (out->flags_ & 7)) {
#line 1669
      if (out->rwlimit_ >= 0L) {
#line 1669
        if (out->rwcnt_ >= out->rwlimit_) {
#line 1669
          out->flags_ |= 4;
#line 1669
          tmp___0 = -1;
        } else {
#line 1669
          goto _L___30;
        }
      } else {
        _L___30: /* CIL Label */ 
#line 1669
        (out->cnt_) --;
#line 1669
        out->bufmode_ |= 32;
#line 1669
        if (out->cnt_ < 0) {
          {
#line 1669
          __cil_tmp6 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 1669
          tmp = __cil_tmp6;
          }
        } else {
#line 1669
          __cil_tmp7 = out->ptr_;
#line 1669
          (out->ptr_) ++;
#line 1669
          *__cil_tmp7 = (unsigned char )c;
#line 1669
          (out->rwcnt_) ++;
#line 1669
          tmp = (int )*__cil_tmp7;
        }
#line 1669
        tmp___0 = tmp;
      }
#line 1669
      tmp___1 = tmp___0;
    } else {
#line 1669
      tmp___1 = -1;
    }
#line 1669
    if (tmp___1 == -1) {
#line 1670
      return (-1);
    }
#line 1667
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1672
  return (0);
}
}
#line 1675 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static int jas_iccputsint(jas_stream_t *out , int n , long long val ) 
{ 
  unsigned long long tmp ;
  long long tmp___31 ;
  int __cil_tmp6 ;

  {
#line 1678
  if (val < 0LL) {
    {
#line 1678
    abort();
#line 1678
    tmp___31 = 0LL;
    }
  } else {
#line 1678
    tmp___31 = val;
  }
  {
#line 1678
  tmp = (unsigned long long )tmp___31;
#line 1679
  __cil_tmp6 = jas_iccputuint(out, n, tmp);
  }
#line 1679
  return (__cil_tmp6);
}
}
#line 1686 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static char *jas_iccsigtostr(int sig , char *buf ) 
{ 
  int n ;
  int c ;
  char *bufptr ;
  unsigned short const   **__cil_tmp6 ;
  unsigned short const   **__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 1691
  bufptr = buf;
#line 1692
  n = 4;
  {
#line 1692
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1692
    if (! (n > 0)) {
#line 1692
      goto while_break;
    }
    {
#line 1693
    c = (sig >> 24) & 255;
#line 1694
    __cil_tmp7 = __ctype_b_loc();
#line 1694
    __cil_tmp6 = __ctype_b_loc();
    }
#line 1694
    if ((int )*(*__cil_tmp6 + c) & 1024) {
#line 1695
      __cil_tmp8 = bufptr;
#line 1695
      bufptr ++;
#line 1695
      *__cil_tmp8 = (char )c;
    } else
#line 1694
    if ((int )*(*__cil_tmp7 + c) & 2048) {
#line 1695
      __cil_tmp8 = bufptr;
#line 1695
      bufptr ++;
#line 1695
      *__cil_tmp8 = (char )c;
    }
#line 1697
    sig <<= 8;
#line 1692
    n --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 1699
  *bufptr = (char )'\000';
#line 1700
  return (buf);
}
}
#line 1703 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static long jas_iccpadtomult(long x , long y ) 
{ 


  {
#line 1705
  return ((((x + y) - 1L) / y) * y);
}
}
#line 1708 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
static long jas_iccpowi(int x , int n ) 
{ 
  long y ;

  {
#line 1711
  y = 1L;
  {
#line 1712
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1712
    n --;
#line 1712
    if (! (n >= 0)) {
#line 1712
      goto while_break;
    }
#line 1713
    y *= (long )x;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1714
  return (y);
}
}
#line 1718 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
jas_iccprof_t *jas_iccprof_createfrombuf(unsigned char *buf , int len ) 
{ 
  jas_stream_t *in ;
  jas_iccprof_t *prof ;

  {
  {
#line 1722
  in = jas_stream_memopen((char *)buf, len);
  }
#line 1722
  if (! in) {
#line 1723
    goto error;
  }
  {
#line 1724
  prof = jas_iccprof_load(in);
  }
#line 1724
  if (! prof) {
#line 1725
    goto error;
  }
  {
#line 1726
  jas_stream_close(in);
  }
#line 1727
  return (prof);
  error: 
#line 1729
  if (in) {
    {
#line 1730
    jas_stream_close(in);
    }
  }
#line 1731
  return ((jas_iccprof_t *)0);
}
}
#line 1734 "/root/patron-new/new_2/src/libjasper/base/jas_icc.c"
jas_iccprof_t *jas_iccprof_createfromclrspc(int clrspc ) 
{ 
  jas_iccprof_t *prof ;

  {
#line 1738
  if (clrspc == ((4 << 8) | 1)) {
#line 1738
    goto case_exp;
  }
#line 1742
  if (clrspc == ((3 << 8) | 1)) {
#line 1742
    goto case_exp___0;
  }
#line 1746
  goto switch_default;
  case_exp: 
  {
#line 1739
  prof = jas_iccprof_createfrombuf(jas_iccprofdata_srgb, jas_iccprofdata_srgblen);
  }
#line 1741
  goto switch_break;
  case_exp___0: 
  {
#line 1743
  prof = jas_iccprof_createfrombuf(jas_iccprofdata_sgray, jas_iccprofdata_sgraylen);
  }
#line 1745
  goto switch_break;
  switch_default: 
#line 1747
  prof = (jas_iccprof_t *)0;
#line 1748
  goto switch_break;
  switch_break: ;
#line 1750
  return (prof);
}
}
#line 112 "../../../src/libjasper/include/jasper/jas_getopt.h"
int jas_optind ;
#line 115
char *jas_optarg ;
#line 118
int jas_opterr ;
#line 125
int jas_getopt(int argc , char **argv , jas_opt_t *opts___0 ) ;
#line 84 "/root/patron-new/new_2/src/libjasper/base/jas_getopt.c"
int jas_optind  =    0;
#line 85 "/root/patron-new/new_2/src/libjasper/base/jas_getopt.c"
int jas_opterr  =    1;
#line 86 "/root/patron-new/new_2/src/libjasper/base/jas_getopt.c"
char *jas_optarg  =    (char *)0;
#line 92 "/root/patron-new/new_2/src/libjasper/base/jas_getopt.c"
static jas_opt_t *jas_optlookup(jas_opt_t *opts___0 , char *name ) 
{ 
  jas_opt_t *opt ;
  int __cil_tmp4 ;

  {
#line 96
  opt = opts___0;
  {
#line 96
  while (1) {
    while_continue: /* CIL Label */ ;

#line 96
    if (opt->name) {
#line 96
      if (! (opt->id >= 0)) {
#line 96
        goto while_break;
      }
    } else {
#line 96
      goto while_break;
    }
    {
#line 97
    __cil_tmp4 = strcmp((char const   *)opt->name, (char const   *)name);
    }
#line 97
    if (! __cil_tmp4) {
#line 98
      return (opt);
    }
#line 96
    opt ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 101
  return ((jas_opt_t *)0);
}
}
#line 104 "/root/patron-new/new_2/src/libjasper/base/jas_getopt.c"
int jas_getopt(int argc , char **argv , jas_opt_t *opts___0 ) 
{ 
  char *cp ;
  int id ;
  int hasarg ;
  jas_opt_t *opt ;
  char *s ;
  int tmp ;
  unsigned long __cil_tmp11 ;

  {
#line 112
  if (! jas_optind) {
#line 113
    if (1 < argc) {
#line 113
      tmp = 1;
    } else {
#line 113
      tmp = argc;
    }
#line 113
    jas_optind = tmp;
  }
  {
#line 115
  while (1) {
    while_continue: /* CIL Label */ ;

#line 115
    if (! (jas_optind < argc)) {
#line 115
      goto while_break;
    }
#line 116
    cp = *(argv + jas_optind);
#line 116
    s = cp;
#line 117
    if ((int )*cp == 45) {
#line 119
      jas_optind ++;
#line 120
      cp ++;
#line 120
      if ((int )*cp == 45) {
#line 122
        cp ++;
#line 123
        if ((int )*cp == 0) {
#line 125
          return (-1);
        }
        {
#line 127
        opt = jas_optlookup(opts___0, cp);
        }
#line 127
        if (! opt) {
#line 128
          if (jas_opterr) {
            {
#line 129
            jas_eprintf("unknown long option %s\n", s);
            }
          }
#line 131
          return ('?');
        }
#line 133
        hasarg = (opt->flags & 1) != 0;
#line 134
        id = opt->id;
      } else {
        {
#line 137
        opt = jas_optlookup(opts___0, cp);
#line 137
        __cil_tmp11 = strlen((char const   *)cp);
        }
#line 137
        if (! opt) {
          _L: 
#line 139
          if (jas_opterr) {
            {
#line 140
            jas_eprintf("unknown short option %s\n\230\001", s);
            }
          }
#line 142
          return ('?');
        } else
#line 137
        if (__cil_tmp11 != 1UL) {
#line 137
          goto _L;
        }
#line 144
        hasarg = (opt->flags & 1) != 0;
#line 145
        id = opt->id;
      }
#line 147
      if (hasarg) {
#line 149
        if (jas_optind >= argc) {
#line 150
          if (jas_opterr) {
            {
#line 151
            jas_eprintf("missing argument for option %s\n", s);
            }
          }
#line 153
          return ('?');
        }
#line 155
        jas_optarg = *(argv + jas_optind);
#line 156
        jas_optind ++;
      } else {
#line 159
        jas_optarg = (char *)0;
      }
#line 161
      return (id);
    } else {
#line 164
      return (-1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 167
  return (-1);
}
}
#line 76 "/root/patron-new/new_2/src/libjasper/base/jas_debug.c"
static int jas_dbglevel  =    0;
#line 84 "/root/patron-new/new_2/src/libjasper/base/jas_debug.c"
int jas_setdbglevel(int dbglevel ) 
{ 
  int olddbglevel ;

  {
#line 89
  olddbglevel = jas_dbglevel;
#line 92
  jas_dbglevel = dbglevel;
#line 95
  return (olddbglevel);
}
}
#line 99 "/root/patron-new/new_2/src/libjasper/base/jas_debug.c"
int jas_getdbglevel(void) 
{ 


  {
#line 101
  return (jas_dbglevel);
}
}
#line 109 "/root/patron-new/new_2/src/libjasper/base/jas_debug.c"
int jas_eprintf(char const   *fmt  , ...) 
{ 
  int ret ;
  va_list ap ;

  {
  {
#line 114
  __builtin_va_start((__builtin_va_list )((void *)ap), fmt);
#line 115
  ret = vfprintf(stderr, fmt, (__gnuc_va_list )((void *)ap));
#line 116
  __builtin_va_end((__builtin_va_list )((void *)ap));
  }
#line 117
  return (ret);
}
}
#line 121 "/root/patron-new/new_2/src/libjasper/base/jas_debug.c"
int jas_memdump(FILE *out , void *data , size_t len ) 
{ 
  size_t i ;
  size_t j ;
  unsigned char *dp ;

  {
#line 126
  dp = (unsigned char *)data;
#line 127
  i = (size_t )0;
  {
#line 127
  while (1) {
    while_continue: /* CIL Label */ ;

#line 127
    if (! (i < len)) {
#line 127
      goto while_break;
    }
    {
#line 128
    fprintf(out, "%04x:", i);
#line 129
    j = (size_t )0;
    }
    {
#line 129
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 129
      if (! (j < 16UL)) {
#line 129
        goto while_break___0;
      }
#line 130
      if (i + j < len) {
        {
#line 131
        fprintf(out, " %02x", (int )*(dp + (i + j)));
        }
      }
#line 129
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 134
    fprintf(out, "\n");
#line 127
    i += 16UL;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 136
  return (0);
}
}
#line 79 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmprof_t *jas_cmprof_create(void) ;
#line 80
static void jas_cmshapmatlut_cleanup(jas_cmshapmatlut_t *lut ) ;
#line 81
static jas_cmreal_t jas_cmshapmatlut_lookup(jas_cmshapmatlut_t *lut , jas_cmreal_t x ) ;
#line 83
static void jas_cmpxform_destroy(jas_cmpxform_t *pxform ) ;
#line 84
static jas_cmpxform_t *jas_cmpxform_copy(jas_cmpxform_t *pxform ) ;
#line 86
static void jas_cmshapmat_destroy(jas_cmpxform_t *pxform ) ;
#line 87
static int jas_cmshapmat_apply(jas_cmpxform_t *pxform , jas_cmreal_t *in , jas_cmreal_t *out ,
                               int cnt ) ;
#line 90
static int jas_cmputint(long **bufptr , int sgnd , int prec , long val ) ;
#line 91
static int jas_cmgetint(long **bufptr , int sgnd , int prec , long *val ) ;
#line 92
static int jas_cmpxformseq_append(jas_cmpxformseq_t *pxformseq , jas_cmpxformseq_t *othpxformseq ) ;
#line 94
static int jas_cmpxformseq_appendcnvt(jas_cmpxformseq_t *pxformseq , int dstclrspc ,
                                      int srcclrspc ) ;
#line 96
static int jas_cmpxformseq_resize(jas_cmpxformseq_t *pxformseq , int n ) ;
#line 98
static int mono(jas_iccprof_t *iccprof , int op , jas_cmpxformseq_t **retpxformseq ) ;
#line 99
static int triclr(jas_iccprof_t *iccprof , int op , jas_cmpxformseq_t **retpxformseq ) ;
#line 101
static void jas_cmpxformseq_destroy(jas_cmpxformseq_t *pxformseq ) ;
#line 102
static int jas_cmpxformseq_delete(jas_cmpxformseq_t *pxformseq , int i ) ;
#line 103
static jas_cmpxformseq_t *jas_cmpxformseq_create(void) ;
#line 104
static jas_cmpxformseq_t *jas_cmpxformseq_copy(jas_cmpxformseq_t *pxformseq ) ;
#line 105
static int jas_cmshapmat_invmat(jas_cmreal_t (*out)[4] , jas_cmreal_t (*in)[4] ) ;
#line 106
static int jas_cmpxformseq_insertpxform(jas_cmpxformseq_t *pxformseq , int i , jas_cmpxform_t *pxform ) ;
#line 131
static int icctoclrspc(int iccclrspc , int refflag ) ;
#line 132
static jas_cmpxform_t *jas_cmpxform_create0(void) ;
#line 133
static jas_cmpxform_t *jas_cmpxform_createshapmat(void) ;
#line 134
static void jas_cmshapmatlut_init(jas_cmshapmatlut_t *lut ) ;
#line 135
static int jas_cmshapmatlut_set(jas_cmshapmatlut_t *lut , jas_icccurv_t *curv ) ;
#line 137 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmpxformops_t shapmat_ops  =    {& jas_cmshapmat_destroy, & jas_cmshapmat_apply, (void (*)(struct jas_cmpxform_s * ))0};
#line 138
static jas_cmprof_t *jas_cmprof_createsycc(void) ;
#line 144 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
jas_cmprof_t *jas_cmprof_createfromclrspc(int clrspc ) 
{ 
  jas_iccprof_t *iccprof ;
  jas_cmprof_t *prof ;

  {
#line 149
  iccprof = (jas_iccprof_t *)0;
#line 150
  prof = (jas_cmprof_t *)0;
#line 152
  if (clrspc == ((5 << 8) | 1)) {
#line 152
    goto case_exp;
  }
#line 156
  goto switch_default;
  case_exp: 
  {
#line 153
  prof = jas_cmprof_createsycc();
  }
#line 153
  if (! prof) {
#line 154
    goto error;
  }
#line 155
  goto switch_break;
  switch_default: 
  {
#line 157
  iccprof = jas_iccprof_createfromclrspc(clrspc);
  }
#line 157
  if (! iccprof) {
#line 158
    goto error;
  }
  {
#line 159
  prof = jas_cmprof_createfromiccprof(iccprof);
  }
#line 159
  if (! prof) {
#line 160
    goto error;
  }
  {
#line 161
  jas_iccprof_destroy(iccprof);
#line 162
  iccprof = (jas_iccprof_t *)0;
  }
#line 163
  if (! (! (clrspc & 255))) {
#line 164
    prof->clrspc = clrspc;
  }
#line 165
  goto switch_break;
  switch_break: ;
#line 167
  return (prof);
  error: 
#line 169
  if (iccprof) {
    {
#line 170
    jas_iccprof_destroy(iccprof);
    }
  }
#line 171
  return ((jas_cmprof_t *)0);
}
}
#line 174 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmprof_t *jas_cmprof_createsycc(void) 
{ 
  jas_cmprof_t *prof ;
  jas_cmpxform_t *fwdpxform ;
  jas_cmpxform_t *revpxform ;
  jas_cmshapmat_t *fwdshapmat ;
  jas_cmshapmat_t *revshapmat ;
  int i ;
  int j ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;

  {
  {
#line 184
  prof = jas_cmprof_createfromclrspc((4 << 8) | 1);
  }
#line 184
  if (! prof) {
#line 185
    goto error;
  }
  {
#line 186
  prof->clrspc = (5 << 8) | 1;
#line 189
  fwdpxform = jas_cmpxform_createshapmat();
  }
#line 189
  if (! fwdpxform) {
#line 190
    goto error;
  }
  {
#line 191
  fwdpxform->numinchans = 3;
#line 192
  fwdpxform->numoutchans = 3;
#line 193
  fwdshapmat = & fwdpxform->data.shapmat;
#line 194
  fwdshapmat->mono = 0;
#line 195
  fwdshapmat->order = 0;
#line 196
  fwdshapmat->useluts = 0;
#line 197
  fwdshapmat->usemat = 1;
#line 198
  fwdshapmat->mat[0][0] = 1.;
#line 199
  fwdshapmat->mat[0][1] = 0.;
#line 200
  fwdshapmat->mat[0][2] = 1.402;
#line 201
  fwdshapmat->mat[1][0] = 1.;
#line 202
  fwdshapmat->mat[1][1] = - 0.34413;
#line 203
  fwdshapmat->mat[1][2] = - 0.71414;
#line 204
  fwdshapmat->mat[2][0] = 1.;
#line 205
  fwdshapmat->mat[2][1] = 1.77200000001;
#line 206
  fwdshapmat->mat[2][2] = 0.;
#line 207
  fwdshapmat->mat[0][3] = - 0.5 * 1.402;
#line 208
  fwdshapmat->mat[1][3] = - 0.5 * (- 0.34413 - 0.71414);
#line 209
  fwdshapmat->mat[2][3] = - 0.5 * 1.77200000001;
#line 210
  revpxform = jas_cmpxform_createshapmat();
  }
#line 210
  if (! revpxform) {
#line 211
    goto error;
  }
  {
#line 212
  revpxform->numinchans = 3;
#line 213
  revpxform->numoutchans = 3;
#line 214
  revshapmat = & revpxform->data.shapmat;
#line 215
  revshapmat->mono = 0;
#line 216
  revshapmat->order = 1;
#line 217
  revshapmat->useluts = 0;
#line 218
  revshapmat->usemat = 1;
#line 219
  jas_cmshapmat_invmat((jas_cmreal_t (*)[4])(revshapmat->mat), (jas_cmreal_t (*)[4])(fwdshapmat->mat));
#line 221
  i = 0;
  }
  {
#line 221
  while (1) {
    while_continue: /* CIL Label */ ;

#line 221
    if (! (i < 4)) {
#line 221
      goto while_break;
    }
#line 222
    j = i;
#line 223
    if (prof->pxformseqs[j]) {
      {
#line 224
      __cil_tmp13 = jas_cmpxformseq_insertpxform(prof->pxformseqs[j], 0, fwdpxform);
      }
#line 224
      if (__cil_tmp13) {
#line 226
        goto error;
      }
    }
#line 228
    j = 4 + i;
#line 229
    if (prof->pxformseqs[j]) {
      {
#line 230
      __cil_tmp14 = jas_cmpxformseq_insertpxform(prof->pxformseqs[j], -1, revpxform);
      }
#line 230
      if (__cil_tmp14) {
#line 232
        goto error;
      }
    }
#line 221
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 236
  jas_cmpxform_destroy(fwdpxform);
#line 237
  jas_cmpxform_destroy(revpxform);
  }
#line 238
  return (prof);
  error: 
#line 240
  return ((jas_cmprof_t *)0);
}
}
#line 243 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
jas_cmprof_t *jas_cmprof_createfromiccprof(jas_iccprof_t *iccprof ) 
{ 
  jas_cmprof_t *prof ;
  jas_icchdr_t icchdr ;
  jas_cmpxformseq_t *fwdpxformseq ;
  jas_cmpxformseq_t *revpxformseq ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;

  {
  {
#line 250
  prof = (jas_cmprof_t *)0;
#line 251
  fwdpxformseq = (jas_cmpxformseq_t *)0;
#line 252
  revpxformseq = (jas_cmpxformseq_t *)0;
#line 254
  prof = jas_cmprof_create();
  }
#line 254
  if (! prof) {
#line 255
    goto error;
  }
  {
#line 256
  jas_iccprof_gethdr(iccprof, & icchdr);
#line 257
  prof->iccprof = jas_iccprof_copy(iccprof);
  }
#line 257
  if (! prof->iccprof) {
#line 258
    goto error;
  }
  {
#line 259
  prof->clrspc = icctoclrspc((int )icchdr.colorspc, 0);
#line 260
  prof->refclrspc = icctoclrspc((int )icchdr.refcolorspc, 1);
#line 261
  prof->numchans = jas_clrspc_numchans(prof->clrspc);
#line 262
  prof->numrefchans = jas_clrspc_numchans(prof->refclrspc);
  }
#line 264
  if (prof->numchans == 1) {
    {
#line 265
    __cil_tmp12 = mono(prof->iccprof, 0, & fwdpxformseq);
    }
#line 265
    if (__cil_tmp12) {
#line 266
      goto error;
    }
    {
#line 267
    __cil_tmp13 = mono(prof->iccprof, 1, & revpxformseq);
    }
#line 267
    if (__cil_tmp13) {
#line 268
      goto error;
    }
  } else
#line 269
  if (prof->numchans == 3) {
    {
#line 270
    __cil_tmp14 = triclr(prof->iccprof, 0, & fwdpxformseq);
    }
#line 270
    if (__cil_tmp14) {
#line 271
      goto error;
    }
    {
#line 272
    __cil_tmp15 = triclr(prof->iccprof, 1, & revpxformseq);
    }
#line 272
    if (__cil_tmp15) {
#line 273
      goto error;
    }
  }
#line 275
  prof->pxformseqs[0] = fwdpxformseq;
#line 276
  prof->pxformseqs[4] = revpxformseq;
#line 295
  return (prof);
  error: 
#line 298
  if (fwdpxformseq) {
    {
#line 299
    jas_cmpxformseq_destroy(fwdpxformseq);
    }
  }
#line 301
  if (revpxformseq) {
    {
#line 302
    jas_cmpxformseq_destroy(revpxformseq);
    }
  }
#line 304
  if (prof) {
    {
#line 305
    jas_cmprof_destroy(prof);
    }
  }
#line 308
  return ((jas_cmprof_t *)0);
}
}
#line 311 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmprof_t *jas_cmprof_create(void) 
{ 
  int i ;
  jas_cmprof_t *prof ;
  void *tmp ;

  {
  {
#line 315
  tmp = jas_malloc(sizeof(jas_cmprof_t ));
#line 315
  prof = (jas_cmprof_t *)tmp;
  }
#line 315
  if (! prof) {
#line 316
    return ((jas_cmprof_t *)0);
  }
  {
#line 317
  memset((void *)prof, 0, sizeof(jas_cmprof_t ));
#line 318
  prof->iccprof = (jas_iccprof_t *)0;
#line 319
  i = 0;
  }
  {
#line 319
  while (1) {
    while_continue: /* CIL Label */ ;

#line 319
    if (! (i < 13)) {
#line 319
      goto while_break;
    }
#line 320
    prof->pxformseqs[i] = (jas_cmpxformseq_t *)0;
#line 319
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 321
  return (prof);
}
}
#line 324 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
void jas_cmprof_destroy(jas_cmprof_t *prof ) 
{ 
  int i ;

  {
#line 327
  i = 0;
  {
#line 327
  while (1) {
    while_continue: /* CIL Label */ ;

#line 327
    if (! (i < 13)) {
#line 327
      goto while_break;
    }
#line 328
    if (prof->pxformseqs[i]) {
      {
#line 329
      jas_cmpxformseq_destroy(prof->pxformseqs[i]);
#line 330
      prof->pxformseqs[i] = (jas_cmpxformseq_t *)0;
      }
    }
#line 327
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 333
  if (prof->iccprof) {
    {
#line 334
    jas_iccprof_destroy(prof->iccprof);
    }
  }
  {
#line 335
  jas_free((void *)prof);
  }
#line 337
  return;
}
}
#line 338 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
jas_cmprof_t *jas_cmprof_copy(jas_cmprof_t *prof ) 
{ 
  jas_cmprof_t *newprof ;
  int i ;

  {
  {
#line 343
  newprof = jas_cmprof_create();
  }
#line 343
  if (! newprof) {
#line 344
    goto error;
  }
  {
#line 345
  newprof->clrspc = prof->clrspc;
#line 346
  newprof->numchans = prof->numchans;
#line 347
  newprof->refclrspc = prof->refclrspc;
#line 348
  newprof->numrefchans = prof->numrefchans;
#line 349
  newprof->iccprof = jas_iccprof_copy(prof->iccprof);
#line 350
  i = 0;
  }
  {
#line 350
  while (1) {
    while_continue: /* CIL Label */ ;

#line 350
    if (! (i < 13)) {
#line 350
      goto while_break;
    }
#line 351
    if (prof->pxformseqs[i]) {
      {
#line 352
      newprof->pxformseqs[i] = jas_cmpxformseq_copy(prof->pxformseqs[i]);
      }
#line 352
      if (! newprof->pxformseqs[i]) {
#line 353
        goto error;
      }
    }
#line 350
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 356
  return (newprof);
  error: 
#line 358
  return ((jas_cmprof_t *)0);
}
}
#line 365 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
jas_cmxform_t *jas_cmxform_create(jas_cmprof_t *inprof , jas_cmprof_t *outprof , jas_cmprof_t *prfprof ,
                                  int op , int intent , int optimize ) 
{ 
  jas_cmxform_t *xform ;
  jas_cmpxformseq_t *inpxformseq ;
  jas_cmpxformseq_t *outpxformseq ;
  jas_cmpxformseq_t *altoutpxformseq ;
  jas_cmpxformseq_t *prfpxformseq ;
  int prfintent ;
  jas_cmpxformseq_t *tmp ;
  jas_cmpxformseq_t *tmp___0 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  jas_cmpxformseq_t *tmp___1 ;
  jas_cmpxformseq_t *tmp___2 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  jas_cmpxformseq_t *tmp___4 ;
  jas_cmpxformseq_t *tmp___5 ;
  jas_cmpxformseq_t *tmp___6 ;
  jas_cmpxformseq_t *tmp___7 ;
  jas_cmpxformseq_t *tmp___8 ;
  int __cil_tmp35 ;
  int __cil_tmp36 ;
  int __cil_tmp37 ;
  int __cil_tmp38 ;
  int __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  jas_cmpxformseq_t *tmp___9 ;
  int __cil_tmp45 ;
  int __cil_tmp46 ;
  int __cil_tmp47 ;
  void *tmp___10 ;

  {
  {
#line 376
  optimize = 0;
#line 378
  prfintent = intent;
#line 380
  tmp___10 = jas_malloc(sizeof(jas_cmxform_t ));
#line 380
  xform = (jas_cmxform_t *)tmp___10;
  }
#line 380
  if (! xform) {
#line 381
    goto error;
  }
  {
#line 382
  xform->pxformseq = jas_cmpxformseq_create();
  }
#line 382
  if (! xform->pxformseq) {
#line 383
    goto error;
  }
#line 386
  if (op == 0) {
#line 386
    goto case_0;
  }
#line 399
  if (op == 1) {
#line 399
    goto case_1;
  }
#line 445
  if (op == 3) {
#line 445
    goto case_3;
  }
#line 385
  goto switch_break;
  case_0: 
#line 387
  if (inprof->pxformseqs[intent]) {
#line 387
    tmp = inprof->pxformseqs[intent];
  } else {
#line 387
    tmp = inprof->pxformseqs[0];
  }
#line 387
  inpxformseq = tmp;
#line 388
  if (outprof->pxformseqs[4 + intent]) {
#line 388
    tmp___0 = outprof->pxformseqs[4 + intent];
  } else {
#line 388
    tmp___0 = outprof->pxformseqs[4];
  }
#line 388
  outpxformseq = tmp___0;
#line 389
  if (! inpxformseq) {
#line 390
    goto error;
  } else
#line 389
  if (! outpxformseq) {
#line 390
    goto error;
  }
  {
#line 391
  __cil_tmp19 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
#line 391
  __cil_tmp18 = jas_cmpxformseq_appendcnvt(xform->pxformseq, inprof->refclrspc, outprof->refclrspc);
#line 391
  __cil_tmp17 = jas_cmpxformseq_append(xform->pxformseq, inpxformseq);
  }
#line 391
  if (__cil_tmp17) {
#line 395
    goto error;
  } else
#line 391
  if (__cil_tmp18) {
#line 395
    goto error;
  } else
#line 391
  if (__cil_tmp19) {
#line 395
    goto error;
  }
  {
#line 396
  xform->numinchans = jas_clrspc_numchans(inprof->clrspc);
#line 397
  xform->numoutchans = jas_clrspc_numchans(outprof->clrspc);
  }
#line 398
  goto switch_break;
  case_1: 
#line 400
  if (outprof->pxformseqs[intent]) {
#line 400
    tmp___1 = outprof->pxformseqs[intent];
  } else {
#line 400
    tmp___1 = outprof->pxformseqs[0];
  }
#line 400
  outpxformseq = tmp___1;
#line 401
  if (inprof->pxformseqs[4 + intent]) {
#line 401
    tmp___2 = inprof->pxformseqs[4 + intent];
  } else {
#line 401
    tmp___2 = inprof->pxformseqs[4];
  }
#line 401
  inpxformseq = tmp___2;
#line 402
  if (! outpxformseq) {
#line 403
    goto error;
  } else
#line 402
  if (! inpxformseq) {
#line 403
    goto error;
  }
  {
#line 404
  __cil_tmp26 = jas_cmpxformseq_append(xform->pxformseq, inpxformseq);
#line 404
  __cil_tmp25 = jas_cmpxformseq_appendcnvt(xform->pxformseq, outprof->refclrspc, inprof->refclrspc);
#line 404
  __cil_tmp24 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
  }
#line 404
  if (__cil_tmp24) {
#line 408
    goto error;
  } else
#line 404
  if (__cil_tmp25) {
#line 408
    goto error;
  } else
#line 404
  if (__cil_tmp26) {
#line 408
    goto error;
  }
  {
#line 409
  xform->numinchans = jas_clrspc_numchans(outprof->clrspc);
#line 410
  xform->numoutchans = jas_clrspc_numchans(inprof->clrspc);
  }
#line 411
  goto switch_break;
#line 414
  if (inprof->pxformseqs[intent]) {
#line 414
    tmp___4 = inprof->pxformseqs[intent];
  } else {
#line 414
    tmp___4 = inprof->pxformseqs[0];
  }
#line 414
  inpxformseq = tmp___4;
#line 415
  if (prfprof->pxformseqs[prfintent]) {
#line 415
    tmp___5 = prfprof->pxformseqs[prfintent];
  } else {
#line 415
    tmp___5 = prfprof->pxformseqs[0];
  }
#line 415
  prfpxformseq = tmp___5;
#line 416
  if (! inpxformseq) {
#line 417
    goto error;
  } else
#line 416
  if (! prfpxformseq) {
#line 417
    goto error;
  }
#line 418
  if (outprof->pxformseqs[8 + intent]) {
#line 418
    tmp___6 = outprof->pxformseqs[8 + intent];
  } else {
#line 418
    tmp___6 = outprof->pxformseqs[8];
  }
#line 418
  outpxformseq = tmp___6;
#line 419
  altoutpxformseq = (jas_cmpxformseq_t *)0;
#line 420
  if (! outpxformseq) {
#line 421
    if (outprof->pxformseqs[4 + intent]) {
#line 421
      tmp___7 = outprof->pxformseqs[4 + intent];
    } else {
#line 421
      tmp___7 = outprof->pxformseqs[4];
    }
#line 421
    outpxformseq = tmp___7;
#line 422
    if (outprof->pxformseqs[intent]) {
#line 422
      tmp___8 = outprof->pxformseqs[intent];
    } else {
#line 422
      tmp___8 = outprof->pxformseqs[0];
    }
#line 422
    altoutpxformseq = tmp___8;
#line 423
    if (! outpxformseq) {
#line 424
      goto error;
    } else
#line 423
    if (! altoutpxformseq) {
#line 424
      goto error;
    }
  }
  {
#line 426
  __cil_tmp36 = jas_cmpxformseq_appendcnvt(xform->pxformseq, inprof->refclrspc, outprof->refclrspc);
#line 426
  __cil_tmp35 = jas_cmpxformseq_append(xform->pxformseq, inpxformseq);
  }
#line 426
  if (__cil_tmp35) {
#line 429
    goto error;
  } else
#line 426
  if (__cil_tmp36) {
#line 429
    goto error;
  }
#line 430
  if (altoutpxformseq) {
    {
#line 431
    __cil_tmp38 = jas_cmpxformseq_append(xform->pxformseq, altoutpxformseq);
#line 431
    __cil_tmp37 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
    }
#line 431
    if (__cil_tmp37) {
#line 433
      goto error;
    } else
#line 431
    if (__cil_tmp38) {
#line 433
      goto error;
    }
  } else {
    {
#line 435
    __cil_tmp39 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
    }
#line 435
    if (__cil_tmp39) {
#line 436
      goto error;
    }
  }
  {
#line 438
  __cil_tmp41 = jas_cmpxformseq_append(xform->pxformseq, prfpxformseq);
#line 438
  __cil_tmp40 = jas_cmpxformseq_appendcnvt(xform->pxformseq, outprof->refclrspc, inprof->refclrspc);
  }
#line 438
  if (__cil_tmp40) {
#line 441
    goto error;
  } else
#line 438
  if (__cil_tmp41) {
#line 441
    goto error;
  }
  {
#line 442
  xform->numinchans = jas_clrspc_numchans(inprof->clrspc);
#line 443
  xform->numoutchans = jas_clrspc_numchans(prfprof->clrspc);
  }
#line 444
  goto switch_break;
  case_3: 
#line 446
  if (inprof->pxformseqs[intent]) {
#line 446
    tmp___9 = inprof->pxformseqs[intent];
  } else {
#line 446
    tmp___9 = inprof->pxformseqs[0];
  }
#line 446
  inpxformseq = tmp___9;
#line 447
  outpxformseq = outprof->pxformseqs[12];
#line 448
  if (! inpxformseq) {
#line 449
    goto error;
  } else
#line 448
  if (! outpxformseq) {
#line 449
    goto error;
  }
  {
#line 450
  __cil_tmp47 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
#line 450
  __cil_tmp46 = jas_cmpxformseq_appendcnvt(xform->pxformseq, inprof->refclrspc, outprof->refclrspc);
#line 450
  __cil_tmp45 = jas_cmpxformseq_append(xform->pxformseq, inpxformseq);
  }
#line 450
  if (__cil_tmp45) {
#line 454
    goto error;
  } else
#line 450
  if (__cil_tmp46) {
#line 454
    goto error;
  } else
#line 450
  if (__cil_tmp47) {
#line 454
    goto error;
  }
  {
#line 455
  xform->numinchans = jas_clrspc_numchans(inprof->clrspc);
#line 456
  xform->numoutchans = 1;
  }
#line 457
  goto switch_break;
  switch_break: ;
#line 459
  return (xform);
  error: 
#line 461
  return ((jas_cmxform_t *)0);
}
}
#line 465 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
int jas_cmxform_apply(jas_cmxform_t *xform , jas_cmpixmap_t *in , jas_cmpixmap_t *out ) 
{ 
  jas_cmcmptfmt_t *fmt ;
  jas_cmreal_t buf[2][2048] ;
  jas_cmpxformseq_t *pxformseq ;
  int i ;
  int j ;
  int width ;
  int height ;
  int total ;
  int n ;
  jas_cmreal_t *inbuf ;
  jas_cmreal_t *outbuf ;
  jas_cmpxform_t *pxform ;
  long *dataptr ;
  int maxchans ;
  int bufmax ;
  int m ;
  int bias ;
  jas_cmreal_t scale ;
  long v ;
  jas_cmreal_t *bufptr ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp27 ;
  jas_cmreal_t *tmp___2 ;
  int __cil_tmp29 ;
  int tmp___3 ;
  int __cil_tmp31 ;

  {
#line 488
  if (xform->numinchans > in->numcmpts) {
#line 489
    goto error;
  } else
#line 488
  if (xform->numoutchans > out->numcmpts) {
#line 489
    goto error;
  }
#line 491
  fmt = in->cmptfmts + 0;
#line 492
  width = fmt->width;
#line 493
  height = fmt->height;
#line 494
  i = 1;
  {
#line 494
  while (1) {
    while_continue: /* CIL Label */ ;

#line 494
    if (! (i < xform->numinchans)) {
#line 494
      goto while_break;
    }
#line 495
    fmt = in->cmptfmts + i;
#line 496
    if (fmt->width != width) {
#line 497
      goto error;
    } else
#line 496
    if (fmt->height != height) {
#line 497
      goto error;
    }
#line 494
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break: 
#line 500
  i = 0;
  {
#line 500
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 500
    if (! (i < xform->numoutchans)) {
#line 500
      goto while_break___0;
    }
#line 501
    fmt = out->cmptfmts + i;
#line 502
    if (fmt->width != width) {
#line 503
      goto error;
    } else
#line 502
    if (fmt->height != height) {
#line 503
      goto error;
    }
#line 500
    i ++;
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break___0: 
#line 507
  maxchans = 0;
#line 508
  pxformseq = xform->pxformseq;
#line 509
  i = 0;
  {
#line 509
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 509
    if (! (i < pxformseq->numpxforms)) {
#line 509
      goto while_break___1;
    }
#line 510
    pxform = *(pxformseq->pxforms + i);
#line 511
    if (pxform->numinchans > maxchans) {
#line 512
      maxchans = pxform->numinchans;
    }
#line 514
    if (pxform->numoutchans > maxchans) {
#line 515
      maxchans = pxform->numoutchans;
    }
#line 509
    i ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___1: 
#line 518
  bufmax = 2048 / maxchans;
#line 521
  total = width * height;
#line 522
  n = 0;
  {
#line 523
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 523
    if (! (n < total)) {
#line 523
      goto while_break___2;
    }
#line 525
    inbuf = & buf[0][0];
#line 526
    if (total - n < bufmax) {
#line 526
      tmp___0 = total - n;
    } else {
#line 526
      tmp___0 = bufmax;
    }
#line 526
    m = tmp___0;
#line 528
    i = 0;
    {
#line 528
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 528
      if (! (i < xform->numinchans)) {
#line 528
        goto while_break___3;
      }
#line 529
      fmt = in->cmptfmts + i;
#line 530
      scale = (double )((1 << fmt->prec) - 1);
#line 531
      if (fmt->sgnd) {
#line 531
        tmp___1 = 1 << (fmt->prec - 1);
      } else {
#line 531
        tmp___1 = 0;
      }
#line 531
      bias = tmp___1;
#line 532
      dataptr = fmt->buf + n;
#line 533
      bufptr = inbuf + i;
#line 534
      j = 0;
      {
#line 534
      while (1) {
        while_continue___4: /* CIL Label */ ;

#line 534
        if (! (j < m)) {
#line 534
          goto while_break___4;
        }
        {
#line 535
        __cil_tmp27 = jas_cmgetint(& dataptr, fmt->sgnd, fmt->prec, & v);
        }
#line 535
        if (__cil_tmp27) {
#line 536
          goto error;
        }
#line 537
        *bufptr = (double )(v - (long )bias) / scale;
#line 538
        bufptr += xform->numinchans;
#line 534
        j ++;
      }
      while_break___13: /* CIL Label */ ;
      }
      while_break___4: 
#line 528
      i ++;
    }
    while_break___12: /* CIL Label */ ;
    }
    while_break___3: 
#line 542
    inbuf = & buf[0][0];
#line 543
    outbuf = inbuf;
#line 544
    i = 0;
    {
#line 544
    while (1) {
      while_continue___5: /* CIL Label */ ;

#line 544
      if (! (i < pxformseq->numpxforms)) {
#line 544
        goto while_break___5;
      }
#line 545
      pxform = *(pxformseq->pxforms + i);
#line 546
      if (pxform->numoutchans > pxform->numinchans) {
#line 547
        if ((unsigned long )inbuf == (unsigned long )(& buf[0][0])) {
#line 547
          tmp___2 = & buf[1][0];
        } else {
#line 547
          tmp___2 = & buf[0][0];
        }
#line 547
        outbuf = tmp___2;
      } else {
#line 549
        outbuf = inbuf;
      }
      {
#line 551
      __cil_tmp29 = (*((pxform->ops)->apply))(pxform, inbuf, outbuf, m);
      }
#line 551
      if (__cil_tmp29) {
#line 552
        goto error;
      }
#line 553
      inbuf = outbuf;
#line 544
      i ++;
    }
    while_break___14: /* CIL Label */ ;
    }
    while_break___5: 
#line 556
    i = 0;
    {
#line 556
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 556
      if (! (i < xform->numoutchans)) {
#line 556
        goto while_break___6;
      }
#line 557
      fmt = out->cmptfmts + i;
#line 558
      scale = (double )((1 << fmt->prec) - 1);
#line 559
      if (fmt->sgnd) {
#line 559
        tmp___3 = 1 << (fmt->prec - 1);
      } else {
#line 559
        tmp___3 = 0;
      }
#line 559
      bias = tmp___3;
#line 560
      bufptr = outbuf + i;
#line 561
      dataptr = fmt->buf + n;
#line 562
      j = 0;
      {
#line 562
      while (1) {
        while_continue___7: /* CIL Label */ ;

#line 562
        if (! (j < m)) {
#line 562
          goto while_break___7;
        }
        {
#line 563
        v = (long )(*bufptr * scale + (double )bias);
#line 564
        bufptr += xform->numoutchans;
#line 565
        __cil_tmp31 = jas_cmputint(& dataptr, fmt->sgnd, fmt->prec, v);
        }
#line 565
        if (__cil_tmp31) {
#line 566
          goto error;
        }
#line 562
        j ++;
      }
      while_break___16: /* CIL Label */ ;
      }
      while_break___7: 
#line 556
      i ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___6: 
#line 570
    n += m;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___2: ;
#line 573
  return (0);
  error: 
#line 575
  return (-1);
}
}
#line 578 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
void jas_cmxform_destroy(jas_cmxform_t *xform ) 
{ 


  {
#line 580
  if (xform->pxformseq) {
    {
#line 581
    jas_cmpxformseq_destroy(xform->pxformseq);
    }
  }
  {
#line 582
  jas_free((void *)xform);
  }
#line 584
  return;
}
}
#line 589 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmpxformseq_t *jas_cmpxformseq_create(void) 
{ 
  jas_cmpxformseq_t *pxformseq ;
  int __cil_tmp3 ;
  void *tmp ;

  {
  {
#line 592
  pxformseq = (jas_cmpxformseq_t *)0;
#line 593
  tmp = jas_malloc(sizeof(jas_cmpxformseq_t ));
#line 593
  pxformseq = (jas_cmpxformseq_t *)tmp;
  }
#line 593
  if (! pxformseq) {
#line 594
    goto error;
  }
  {
#line 595
  pxformseq->pxforms = (jas_cmpxform_t **)0;
#line 596
  pxformseq->numpxforms = 0;
#line 597
  pxformseq->maxpxforms = 0;
#line 598
  __cil_tmp3 = jas_cmpxformseq_resize(pxformseq, 16);
  }
#line 598
  if (__cil_tmp3) {
#line 599
    goto error;
  }
#line 600
  return (pxformseq);
  error: 
#line 602
  if (pxformseq) {
    {
#line 603
    jas_cmpxformseq_destroy(pxformseq);
    }
  }
#line 604
  return ((jas_cmpxformseq_t *)0);
}
}
#line 607 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmpxformseq_t *jas_cmpxformseq_copy(jas_cmpxformseq_t *pxformseq ) 
{ 
  jas_cmpxformseq_t *newpxformseq ;
  int __cil_tmp4 ;

  {
  {
#line 611
  newpxformseq = jas_cmpxformseq_create();
  }
#line 611
  if (! newpxformseq) {
#line 612
    goto error;
  }
  {
#line 613
  __cil_tmp4 = jas_cmpxformseq_append(newpxformseq, pxformseq);
  }
#line 613
  if (__cil_tmp4) {
#line 614
    goto error;
  }
#line 615
  return (newpxformseq);
  error: 
#line 617
  return ((jas_cmpxformseq_t *)0);
}
}
#line 620 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static void jas_cmpxformseq_destroy(jas_cmpxformseq_t *pxformseq ) 
{ 


  {
  {
#line 622
  while (1) {
    while_continue: /* CIL Label */ ;

#line 622
    if (! (pxformseq->numpxforms > 0)) {
#line 622
      goto while_break;
    }
    {
#line 623
    jas_cmpxformseq_delete(pxformseq, pxformseq->numpxforms - 1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 624
  if (pxformseq->pxforms) {
    {
#line 625
    jas_free((void *)pxformseq->pxforms);
    }
  }
  {
#line 626
  jas_free((void *)pxformseq);
  }
#line 628
  return;
}
}
#line 629 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_delete(jas_cmpxformseq_t *pxformseq , int i ) 
{ 


  {
#line 632
  if (i != pxformseq->numpxforms - 1) {
    {
#line 633
    abort();
    }
  }
  {
#line 634
  jas_cmpxform_destroy(*(pxformseq->pxforms + i));
#line 635
  *(pxformseq->pxforms + i) = (jas_cmpxform_t *)0;
#line 636
  (pxformseq->numpxforms) --;
  }
#line 637
  return (0);
}
}
#line 640 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_appendcnvt(jas_cmpxformseq_t *pxformseq , int dstclrspc ,
                                      int srcclrspc ) 
{ 


  {
#line 643
  if (dstclrspc == srcclrspc) {
#line 644
    return (0);
  }
  {
#line 645
  abort();
#line 647
  pxformseq = (jas_cmpxformseq_t *)0;
  }
#line 648
  return (-1);
}
}
#line 651 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_insertpxform(jas_cmpxformseq_t *pxformseq , int i , jas_cmpxform_t *pxform ) 
{ 
  jas_cmpxform_t *tmppxform ;
  int n ;
  int __cil_tmp7 ;

  {
#line 656
  if (i < 0) {
#line 657
    i = pxformseq->numpxforms;
  }
#line 659
  if (pxformseq->numpxforms >= pxformseq->maxpxforms) {
    {
#line 660
    __cil_tmp7 = jas_cmpxformseq_resize(pxformseq, pxformseq->numpxforms + 16);
    }
#line 660
    if (__cil_tmp7) {
#line 662
      goto error;
    }
  }
  {
#line 665
  tmppxform = jas_cmpxform_copy(pxform);
  }
#line 665
  if (! tmppxform) {
#line 666
    goto error;
  }
#line 667
  n = pxformseq->numpxforms - i;
#line 668
  if (n > 0) {
    {
#line 669
    memmove((void *)(pxformseq->pxforms + (i + 1)), (void const   *)(pxformseq->pxforms + i),
            (unsigned long )n * sizeof(jas_cmpxform_t *));
    }
  }
#line 672
  *(pxformseq->pxforms + i) = tmppxform;
#line 673
  (pxformseq->numpxforms) ++;
#line 674
  return (0);
  error: 
#line 676
  return (-1);
}
}
#line 679 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_append(jas_cmpxformseq_t *pxformseq , jas_cmpxformseq_t *othpxformseq ) 
{ 
  int n ;
  int i ;
  jas_cmpxform_t *pxform ;
  jas_cmpxform_t *othpxform ;
  int __cil_tmp7 ;

  {
#line 686
  n = pxformseq->numpxforms + othpxformseq->numpxforms;
#line 687
  if (n > pxformseq->maxpxforms) {
    {
#line 688
    __cil_tmp7 = jas_cmpxformseq_resize(pxformseq, n);
    }
#line 688
    if (__cil_tmp7) {
#line 689
      goto error;
    }
  }
#line 691
  i = 0;
  {
#line 691
  while (1) {
    while_continue: /* CIL Label */ ;

#line 691
    if (! (i < othpxformseq->numpxforms)) {
#line 691
      goto while_break;
    }
    {
#line 692
    othpxform = *(othpxformseq->pxforms + i);
#line 693
    pxform = jas_cmpxform_copy(othpxform);
    }
#line 693
    if (! pxform) {
#line 694
      goto error;
    }
#line 695
    *(pxformseq->pxforms + pxformseq->numpxforms) = pxform;
#line 696
    (pxformseq->numpxforms) ++;
#line 691
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 698
  return (0);
  error: 
#line 700
  return (-1);
}
}
#line 703 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_resize(jas_cmpxformseq_t *pxformseq , int n ) 
{ 
  jas_cmpxform_t **p ;
  void *__cil_tmp5 ;
  void *__cil_tmp6 ;
  void *tmp___0 ;

  {
#line 707
  if (! pxformseq->pxforms) {
    {
#line 707
    __cil_tmp5 = jas_alloc2((size_t )n, sizeof(jas_cmpxform_t *));
#line 707
    tmp___0 = __cil_tmp5;
    }
  } else {
    {
#line 707
    __cil_tmp6 = jas_realloc2((void *)pxformseq->pxforms, (size_t )n, sizeof(jas_cmpxform_t *));
#line 707
    tmp___0 = __cil_tmp6;
    }
  }
#line 707
  p = (jas_cmpxform_t **)tmp___0;
#line 709
  if (! p) {
#line 710
    return (-1);
  }
#line 712
  pxformseq->pxforms = p;
#line 713
  pxformseq->maxpxforms = n;
#line 714
  return (0);
}
}
#line 721 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmpxform_t *jas_cmpxform_create0(void) 
{ 
  jas_cmpxform_t *pxform ;
  void *tmp ;

  {
  {
#line 724
  tmp = jas_malloc(sizeof(jas_cmpxform_t ));
#line 724
  pxform = (jas_cmpxform_t *)tmp;
  }
#line 724
  if (! pxform) {
#line 725
    return ((jas_cmpxform_t *)0);
  }
  {
#line 726
  memset((void *)pxform, 0, sizeof(jas_cmpxform_t ));
#line 727
  pxform->refcnt = 0;
#line 728
  pxform->ops = (jas_cmpxformops_t *)0;
  }
#line 729
  return (pxform);
}
}
#line 732 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static void jas_cmpxform_destroy(jas_cmpxform_t *pxform ) 
{ 


  {
#line 734
  (pxform->refcnt) --;
#line 734
  if (pxform->refcnt <= 0) {
    {
#line 735
    (*((pxform->ops)->destroy))(pxform);
#line 736
    jas_free((void *)pxform);
    }
  }
#line 739
  return;
}
}
#line 740 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmpxform_t *jas_cmpxform_copy(jas_cmpxform_t *pxform ) 
{ 


  {
#line 742
  (pxform->refcnt) ++;
#line 743
  return (pxform);
}
}
#line 750 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmpxform_t *jas_cmpxform_createshapmat(void) 
{ 
  int i ;
  int j ;
  jas_cmpxform_t *pxform ;
  jas_cmshapmat_t *shapmat ;

  {
  {
#line 756
  pxform = jas_cmpxform_create0();
  }
#line 756
  if (! pxform) {
#line 757
    return ((jas_cmpxform_t *)0);
  }
#line 758
  pxform->ops = & shapmat_ops;
#line 759
  shapmat = & pxform->data.shapmat;
#line 760
  shapmat->mono = 0;
#line 761
  shapmat->order = 0;
#line 762
  shapmat->useluts = 0;
#line 763
  shapmat->usemat = 0;
#line 764
  i = 0;
  {
#line 764
  while (1) {
    while_continue: /* CIL Label */ ;

#line 764
    if (! (i < 3)) {
#line 764
      goto while_break;
    }
    {
#line 765
    jas_cmshapmatlut_init(& shapmat->luts[i]);
#line 764
    i ++;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
#line 766
  i = 0;
  {
#line 766
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 766
    if (! (i < 3)) {
#line 766
      goto while_break___0;
    }
#line 767
    j = 0;
    {
#line 767
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 767
      if (! (j < 4)) {
#line 767
        goto while_break___1;
      }
#line 768
      shapmat->mat[i][j] = 0.;
#line 767
      j ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
#line 766
    i ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: 
#line 770
  (pxform->refcnt) ++;
#line 771
  return (pxform);
}
}
#line 774 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static void jas_cmshapmat_destroy(jas_cmpxform_t *pxform ) 
{ 
  jas_cmshapmat_t *shapmat ;
  int i ;

  {
#line 776
  shapmat = & pxform->data.shapmat;
#line 778
  i = 0;
  {
#line 778
  while (1) {
    while_continue: /* CIL Label */ ;

#line 778
    if (! (i < 3)) {
#line 778
      goto while_break;
    }
    {
#line 779
    jas_cmshapmatlut_cleanup(& shapmat->luts[i]);
#line 778
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 782
  return;
}
}
#line 782 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmshapmat_apply(jas_cmpxform_t *pxform , jas_cmreal_t *in , jas_cmreal_t *out ,
                               int cnt ) 
{ 
  jas_cmshapmat_t *shapmat ;
  jas_cmreal_t *src ;
  jas_cmreal_t *dst ;
  jas_cmreal_t a0 ;
  jas_cmreal_t a1 ;
  jas_cmreal_t a2 ;
  jas_cmreal_t b0 ;
  jas_cmreal_t b1 ;
  jas_cmreal_t b2 ;
  jas_cmreal_t *__cil_tmp14 ;
  jas_cmreal_t *__cil_tmp15 ;
  jas_cmreal_t *__cil_tmp16 ;
  jas_cmreal_t *__cil_tmp23 ;
  jas_cmreal_t *__cil_tmp24 ;
  jas_cmreal_t *__cil_tmp25 ;
  jas_cmreal_t *__cil_tmp26 ;
  jas_cmreal_t *__cil_tmp28 ;
  jas_cmreal_t *__cil_tmp29 ;
  jas_cmreal_t *__cil_tmp30 ;
  jas_cmreal_t *__cil_tmp32 ;
  jas_cmreal_t *__cil_tmp36 ;

  {
#line 785
  shapmat = & pxform->data.shapmat;
#line 794
  src = in;
#line 795
  dst = out;
#line 796
  if (! shapmat->mono) {
    {
#line 797
    while (1) {
      while_continue: /* CIL Label */ ;
#line 797
      cnt --;
#line 797
      if (! (cnt >= 0)) {
#line 797
        goto while_break;
      }
#line 798
      __cil_tmp14 = src;
#line 798
      src ++;
#line 798
      a0 = *__cil_tmp14;
#line 799
      __cil_tmp15 = src;
#line 799
      src ++;
#line 799
      a1 = *__cil_tmp15;
#line 800
      __cil_tmp16 = src;
#line 800
      src ++;
#line 800
      a2 = *__cil_tmp16;
#line 801
      if (! shapmat->order) {
#line 801
        if (shapmat->useluts) {
          {
#line 802
          a0 = jas_cmshapmatlut_lookup(& shapmat->luts[0], a0);
#line 803
          a1 = jas_cmshapmatlut_lookup(& shapmat->luts[1], a1);
#line 804
          a2 = jas_cmshapmatlut_lookup(& shapmat->luts[2], a2);
          }
        }
      }
#line 806
      if (shapmat->usemat) {
#line 807
        b0 = ((shapmat->mat[0][0] * a0 + shapmat->mat[0][1] * a1) + shapmat->mat[0][2] * a2) + shapmat->mat[0][3];
#line 811
        b1 = ((shapmat->mat[1][0] * a0 + shapmat->mat[1][1] * a1) + shapmat->mat[1][2] * a2) + shapmat->mat[1][3];
#line 815
        b2 = ((shapmat->mat[2][0] * a0 + shapmat->mat[2][1] * a1) + shapmat->mat[2][2] * a2) + shapmat->mat[2][3];
#line 819
        a0 = b0;
#line 820
        a1 = b1;
#line 821
        a2 = b2;
      }
#line 823
      if (shapmat->order) {
#line 823
        if (shapmat->useluts) {
          {
#line 824
          a0 = jas_cmshapmatlut_lookup(& shapmat->luts[0], a0);
#line 825
          a1 = jas_cmshapmatlut_lookup(& shapmat->luts[1], a1);
#line 826
          a2 = jas_cmshapmatlut_lookup(& shapmat->luts[2], a2);
          }
        }
      }
#line 828
      __cil_tmp23 = dst;
#line 828
      dst ++;
#line 828
      *__cil_tmp23 = a0;
#line 829
      __cil_tmp24 = dst;
#line 829
      dst ++;
#line 829
      *__cil_tmp24 = a1;
#line 830
      __cil_tmp25 = dst;
#line 830
      dst ++;
#line 830
      *__cil_tmp25 = a2;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break: ;
  } else
#line 833
  if (! shapmat->order) {
    {
#line 834
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 834
      cnt --;
#line 834
      if (! (cnt >= 0)) {
#line 834
        goto while_break___0;
      }
#line 835
      __cil_tmp26 = src;
#line 835
      src ++;
#line 835
      a0 = *__cil_tmp26;
#line 836
      if (shapmat->useluts) {
        {
#line 837
        a0 = jas_cmshapmatlut_lookup(& shapmat->luts[0], a0);
        }
      }
#line 838
      a2 = a0 * shapmat->mat[2][0];
#line 839
      a1 = a0 * shapmat->mat[1][0];
#line 840
      a0 *= shapmat->mat[0][0];
#line 841
      __cil_tmp28 = dst;
#line 841
      dst ++;
#line 841
      *__cil_tmp28 = a0;
#line 842
      __cil_tmp29 = dst;
#line 842
      dst ++;
#line 842
      *__cil_tmp29 = a1;
#line 843
      __cil_tmp30 = dst;
#line 843
      dst ++;
#line 843
      *__cil_tmp30 = a2;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: ;
  } else {
    {
#line 847
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 847
      cnt --;
#line 847
      if (! (cnt >= 0)) {
#line 847
        goto while_break___1;
      }
#line 848
      __cil_tmp32 = src;
#line 848
      src ++;
#line 848
      a0 = *__cil_tmp32;
#line 849
      src ++;
#line 850
      src ++;
#line 851
      a0 *= shapmat->mat[0][0];
#line 852
      if (shapmat->useluts) {
        {
#line 853
        a0 = jas_cmshapmatlut_lookup(& shapmat->luts[0], a0);
        }
      }
#line 854
      __cil_tmp36 = dst;
#line 854
      dst ++;
#line 854
      *__cil_tmp36 = a0;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: ;
  }
#line 859
  return (0);
}
}
#line 862 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static void jas_cmshapmatlut_init(jas_cmshapmatlut_t *lut ) 
{ 


  {
#line 864
  lut->data = (jas_cmreal_t *)0;
#line 865
  lut->size = 0;
#line 866
  return;
}
}
#line 868 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static void jas_cmshapmatlut_cleanup(jas_cmshapmatlut_t *lut ) 
{ 


  {
#line 870
  if (lut->data) {
    {
#line 871
    jas_free((void *)lut->data);
#line 872
    lut->data = (jas_cmreal_t *)0;
    }
  }
#line 874
  lut->size = 0;
#line 875
  return;
}
}
#line 877 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static double gammafn(double x , double gamma___0 ) 
{ 
  double __cil_tmp3 ;

  {
#line 879
  if (x == 0.) {
#line 880
    return (0.);
  }
  {
#line 881
  __cil_tmp3 = pow(x, gamma___0);
  }
#line 881
  return (__cil_tmp3);
}
}
#line 884 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmshapmatlut_set(jas_cmshapmatlut_t *lut , jas_icccurv_t *curv ) 
{ 
  jas_cmreal_t gamma___32 ;
  int i ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 888
  gamma___32 = (jas_cmreal_t )0;
#line 889
  jas_cmshapmatlut_cleanup(lut);
  }
#line 890
  if (curv->numents == 0UL) {
    {
#line 891
    lut->size = 2;
#line 892
    tmp = jas_malloc((size_t )lut->size * sizeof(jas_cmreal_t ));
#line 892
    lut->data = (jas_cmreal_t *)tmp;
    }
#line 892
    if (! lut->data) {
#line 893
      goto error;
    }
#line 894
    *(lut->data + 0) = 0.;
#line 895
    *(lut->data + 1) = 1.;
  } else
#line 896
  if (curv->numents == 1UL) {
    {
#line 897
    lut->size = 256;
#line 898
    tmp___0 = jas_malloc((size_t )lut->size * sizeof(jas_cmreal_t ));
#line 898
    lut->data = (jas_cmreal_t *)tmp___0;
    }
#line 898
    if (! lut->data) {
#line 899
      goto error;
    }
#line 900
    gamma___32 = (double )*(curv->ents + 0) / 256.;
#line 901
    i = 0;
    {
#line 901
    while (1) {
      while_continue: /* CIL Label */ ;

#line 901
      if (! (i < lut->size)) {
#line 901
        goto while_break;
      }
      {
#line 902
      *(lut->data + i) = gammafn((double )i / (double )(lut->size - 1), gamma___32);
#line 901
      i ++;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break: ;
  } else {
    {
#line 905
    lut->size = (int )curv->numents;
#line 906
    tmp___1 = jas_malloc((size_t )lut->size * sizeof(jas_cmreal_t ));
#line 906
    lut->data = (jas_cmreal_t *)tmp___1;
    }
#line 906
    if (! lut->data) {
#line 907
      goto error;
    }
#line 908
    i = 0;
    {
#line 908
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 908
      if (! (i < lut->size)) {
#line 908
        goto while_break___0;
      }
#line 909
      *(lut->data + i) = (double )*(curv->ents + i) / 65535.;
#line 908
      i ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
  }
#line 912
  return (0);
  error: 
#line 914
  return (-1);
}
}
#line 917 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static jas_cmreal_t jas_cmshapmatlut_lookup(jas_cmshapmatlut_t *lut , jas_cmreal_t x ) 
{ 
  jas_cmreal_t t ;
  int lo ;
  int hi ;
  double __cil_tmp6 ;
  double __cil_tmp7 ;

  {
  {
#line 922
  t = x * (double )(lut->size - 1);
#line 923
  __cil_tmp6 = floor(t);
#line 923
  lo = (int )__cil_tmp6;
  }
#line 924
  if (lo < 0) {
#line 925
    return (*(lut->data + 0));
  }
  {
#line 926
  __cil_tmp7 = ceil(t);
#line 926
  hi = (int )__cil_tmp7;
  }
#line 927
  if (hi >= lut->size) {
#line 928
    return (*(lut->data + (lut->size - 1)));
  }
#line 929
  return (*(lut->data + lo) + (t - (double )lo) * (*(lut->data + hi) - *(lut->data + lo)));
}
}
#line 932 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmshapmatlut_invert(jas_cmshapmatlut_t *invlut , jas_cmshapmatlut_t *lut ,
                                   int n ) 
{ 
  int i ;
  int j ;
  int k ;
  jas_cmreal_t ax ;
  jas_cmreal_t ay ;
  jas_cmreal_t bx ;
  jas_cmreal_t by ;
  jas_cmreal_t sx ;
  jas_cmreal_t sy ;
  void *tmp___1 ;

  {
#line 945
  if (invlut->data) {
    {
#line 946
    jas_free((void *)invlut->data);
#line 947
    invlut->data = (jas_cmreal_t *)0;
    }
  }
#line 950
  i = 1;
  {
#line 950
  while (1) {
    while_continue: /* CIL Label */ ;

#line 950
    if (! (i < lut->size)) {
#line 950
      goto while_break;
    }
#line 951
    if (*(lut->data + (i - 1)) > *(lut->data + i)) {
#line 953
      return (-1);
    }
#line 950
    i ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: 
  {
#line 956
  tmp___1 = jas_alloc2((size_t )n, sizeof(jas_cmreal_t ));
#line 956
  invlut->data = (jas_cmreal_t *)tmp___1;
  }
#line 956
  if (! invlut->data) {
#line 957
    return (-1);
  }
#line 958
  invlut->size = n;
#line 959
  i = 0;
  {
#line 959
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 959
    if (! (i < invlut->size)) {
#line 959
      goto while_break___0;
    }
#line 960
    sy = (double )i / (double )(invlut->size - 1);
#line 961
    sx = 1.;
#line 962
    j = 0;
    {
#line 962
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 962
      if (! (j < lut->size)) {
#line 962
        goto while_break___1;
      }
#line 963
      ay = *(lut->data + j);
#line 964
      if (sy == ay) {
#line 965
        k = j + 1;
        {
#line 965
        while (1) {
          while_continue___2: /* CIL Label */ ;

#line 965
          if (! (k < lut->size)) {
#line 965
            goto while_break___2;
          }
#line 966
          by = *(lut->data + k);
#line 967
          if (by != sy) {
#line 968
            goto while_break___2;
          }
#line 965
          k ++;
        }
        while_break___6: /* CIL Label */ ;
        }
        while_break___2: ;
#line 973
        if (k < lut->size) {
#line 974
          k --;
#line 975
          ax = (double )j / (double )(lut->size - 1);
#line 976
          bx = (double )k / (double )(lut->size - 1);
#line 977
          sx = (ax + bx) / 2.;
        }
#line 979
        goto while_break___1;
      }
#line 981
      if (j < lut->size - 1) {
#line 982
        by = *(lut->data + (j + 1));
#line 983
        if (sy > ay) {
#line 983
          if (sy < by) {
#line 984
            ax = (double )j / (double )(lut->size - 1);
#line 985
            bx = ((double )j + (double )1) / (double )(lut->size - 1);
#line 986
            sx = ax + ((sy - ay) / (by - ay)) * (bx - ax);
#line 988
            goto while_break___1;
          }
        }
      }
#line 962
      j ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___1: 
#line 992
    *(invlut->data + i) = sx;
#line 959
    i ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___0: ;
#line 1000
  return (0);
}
}
#line 1003 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmshapmat_invmat(jas_cmreal_t (*out)[4] , jas_cmreal_t (*in)[4] ) 
{ 
  jas_cmreal_t d ;
  jas_cmreal_t tmp ;

  {
#line 1006
  d = ((*(in + 0))[0] * ((*(in + 1))[1] * (*(in + 2))[2] - (*(in + 1))[2] * (*(in + 2))[1]) - (*(in + 0))[1] * ((*(in + 1))[0] * (*(in + 2))[2] - (*(in + 1))[2] * (*(in + 2))[0])) + (*(in + 0))[2] * ((*(in + 1))[0] * (*(in + 2))[1] - (*(in + 1))[1] * (*(in + 2))[0]);
#line 1012
  if (d >= (double )0) {
#line 1012
    tmp = d;
  } else {
#line 1012
    tmp = - d;
  }
#line 1012
  if (tmp < 1e-06) {
#line 1013
    return (-1);
  }
#line 1014
  (*(out + 0))[0] = ((*(in + 1))[1] * (*(in + 2))[2] - (*(in + 1))[2] * (*(in + 2))[1]) / d;
#line 1015
  (*(out + 1))[0] = - ((*(in + 1))[0] * (*(in + 2))[2] - (*(in + 1))[2] * (*(in + 2))[0]) / d;
#line 1016
  (*(out + 2))[0] = ((*(in + 1))[0] * (*(in + 2))[1] - (*(in + 1))[1] * (*(in + 2))[0]) / d;
#line 1017
  (*(out + 0))[1] = - ((*(in + 0))[1] * (*(in + 2))[2] - (*(in + 0))[2] * (*(in + 2))[1]) / d;
#line 1018
  (*(out + 1))[1] = ((*(in + 0))[0] * (*(in + 2))[2] - (*(in + 0))[2] * (*(in + 2))[0]) / d;
#line 1019
  (*(out + 2))[1] = - ((*(in + 0))[0] * (*(in + 2))[1] - (*(in + 0))[1] * (*(in + 2))[0]) / d;
#line 1020
  (*(out + 0))[2] = ((*(in + 0))[1] * (*(in + 1))[2] - (*(in + 0))[2] * (*(in + 1))[1]) / d;
#line 1021
  (*(out + 1))[2] = - ((*(in + 0))[0] * (*(in + 1))[2] - (*(in + 1))[0] * (*(in + 0))[2]) / d;
#line 1022
  (*(out + 2))[2] = ((*(in + 0))[0] * (*(in + 1))[1] - (*(in + 0))[1] * (*(in + 1))[0]) / d;
#line 1023
  (*(out + 0))[3] = - (*(in + 0))[3];
#line 1024
  (*(out + 1))[3] = - (*(in + 1))[3];
#line 1025
  (*(out + 2))[3] = - (*(in + 2))[3];
#line 1036
  return (0);
}
}
#line 1043 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int icctoclrspc(int iccclrspc , int refflag ) 
{ 


  {
#line 1045
  if (refflag) {
#line 1047
    if (iccclrspc == 1482250784) {
#line 1047
      goto case_1482250784;
    }
#line 1049
    if (iccclrspc == 1281450528) {
#line 1049
      goto case_1281450528;
    }
#line 1051
    goto switch_default;
    case_1482250784: 
#line 1048
    return ((1 << 8) | 1);
    case_1281450528: 
#line 1050
    return ((2 << 8) | 1);
    switch_default: 
    {
#line 1052
    abort();
    }
#line 1053
    goto switch_break;
    switch_break: ;
  } else {
#line 1057
    if (iccclrspc == 1497588338) {
#line 1057
      goto case_1497588338;
    }
#line 1059
    if (iccclrspc == 1380401696) {
#line 1059
      goto case_1380401696;
    }
#line 1061
    if (iccclrspc == 1196573017) {
#line 1061
      goto case_1196573017;
    }
#line 1063
    goto switch_default___0;
    case_1497588338: 
#line 1058
    return (5 << 8);
    case_1380401696: 
#line 1060
    return (4 << 8);
    case_1196573017: 
#line 1062
    return (3 << 8);
    switch_default___0: 
    {
#line 1064
    abort();
    }
#line 1065
    goto switch_break___0;
    switch_break___0: ;
  }
#line 1069
  return (0);
}
}
#line 1070 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int mono(jas_iccprof_t *iccprof , int op , jas_cmpxformseq_t **retpxformseq ) 
{ 
  jas_iccattrval_t *graytrc ;
  jas_cmshapmat_t *shapmat ;
  jas_cmpxform_t *pxform ;
  jas_cmpxformseq_t *pxformseq ;
  jas_cmshapmatlut_t lut ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;

  {
  {
#line 1078
  jas_cmshapmatlut_init(& lut);
#line 1079
  graytrc = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1800688195);
  }
#line 1079
  if (! graytrc) {
#line 1081
    goto error;
  } else
#line 1079
  if (graytrc->type != 1668641398UL) {
#line 1081
    goto error;
  }
  {
#line 1082
  pxform = jas_cmpxform_createshapmat();
  }
#line 1082
  if (! pxform) {
#line 1083
    goto error;
  }
  {
#line 1084
  shapmat = & pxform->data.shapmat;
#line 1085
  pxformseq = jas_cmpxformseq_create();
  }
#line 1085
  if (! pxformseq) {
#line 1086
    goto error;
  }
  {
#line 1087
  __cil_tmp12 = jas_cmpxformseq_insertpxform(pxformseq, -1, pxform);
  }
#line 1087
  if (__cil_tmp12) {
#line 1088
    goto error;
  }
#line 1090
  pxform->numinchans = 1;
#line 1091
  pxform->numoutchans = 3;
#line 1093
  shapmat->mono = 1;
#line 1094
  shapmat->useluts = 1;
#line 1095
  shapmat->usemat = 1;
#line 1096
  if (! op) {
    {
#line 1097
    shapmat->order = 0;
#line 1098
    shapmat->mat[0][0] = 0.9642;
#line 1099
    shapmat->mat[1][0] = 1.;
#line 1100
    shapmat->mat[2][0] = 0.8249;
#line 1101
    __cil_tmp13 = jas_cmshapmatlut_set(& shapmat->luts[0], & graytrc->data.curv);
    }
#line 1101
    if (__cil_tmp13) {
#line 1102
      goto error;
    }
  } else {
    {
#line 1104
    shapmat->order = 1;
#line 1105
    shapmat->mat[0][0] = 1. / 0.9642;
#line 1106
    shapmat->mat[1][0] = 1.;
#line 1107
    shapmat->mat[2][0] = 1. / 0.8249;
#line 1108
    jas_cmshapmatlut_init(& lut);
#line 1109
    __cil_tmp14 = jas_cmshapmatlut_set(& lut, & graytrc->data.curv);
    }
#line 1109
    if (__cil_tmp14) {
#line 1110
      goto error;
    }
    {
#line 1111
    __cil_tmp15 = jas_cmshapmatlut_invert(& shapmat->luts[0], & lut, lut.size);
    }
#line 1111
    if (__cil_tmp15) {
#line 1112
      goto error;
    }
    {
#line 1113
    jas_cmshapmatlut_cleanup(& lut);
    }
  }
  {
#line 1115
  jas_iccattrval_destroy(graytrc);
#line 1116
  jas_cmpxform_destroy(pxform);
#line 1117
  *retpxformseq = pxformseq;
  }
#line 1118
  return (0);
  error: 
#line 1120
  return (-1);
}
}
#line 1123 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int triclr(jas_iccprof_t *iccprof , int op , jas_cmpxformseq_t **retpxformseq ) 
{ 
  int i ;
  jas_iccattrval_t *trcs[3] ;
  jas_iccattrval_t *cols[3] ;
  jas_cmshapmat_t *shapmat ;
  jas_cmpxform_t *pxform ;
  jas_cmpxformseq_t *pxformseq ;
  jas_cmreal_t mat[3][4] ;
  jas_cmshapmatlut_t lut ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;

  {
#line 1134
  pxform = (jas_cmpxform_t *)0;
#line 1135
  pxformseq = (jas_cmpxformseq_t *)0;
#line 1136
  i = 0;
  {
#line 1136
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1136
    if (! (i < 3)) {
#line 1136
      goto while_break;
    }
#line 1137
    trcs[i] = (jas_iccattrval_t *)0;
#line 1138
    cols[i] = (jas_iccattrval_t *)0;
#line 1136
    i ++;
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1140
  jas_cmshapmatlut_init(& lut);
#line 1142
  cols[2] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1649957210);
#line 1142
  cols[1] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1733843290);
#line 1142
  cols[0] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1918392666);
#line 1142
  trcs[2] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1649693251);
#line 1142
  trcs[1] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1733579331);
#line 1142
  trcs[0] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1918128707);
  }
#line 1142
  if (! trcs[0]) {
#line 1148
    goto error;
  } else
#line 1142
  if (! trcs[1]) {
#line 1148
    goto error;
  } else
#line 1142
  if (! trcs[2]) {
#line 1148
    goto error;
  } else
#line 1142
  if (! cols[0]) {
#line 1148
    goto error;
  } else
#line 1142
  if (! cols[1]) {
#line 1148
    goto error;
  } else
#line 1142
  if (! cols[2]) {
#line 1148
    goto error;
  }
#line 1149
  i = 0;
  {
#line 1149
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 1149
    if (! (i < 3)) {
#line 1149
      goto while_break___0;
    }
#line 1150
    if ((trcs[i])->type != 1668641398UL) {
#line 1152
      goto error;
    } else
#line 1150
    if ((cols[i])->type != 1482250784UL) {
#line 1152
      goto error;
    }
#line 1149
    i ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 1154
  pxform = jas_cmpxform_createshapmat();
  }
#line 1154
  if (! pxform) {
#line 1155
    goto error;
  }
  {
#line 1156
  pxform->numinchans = 3;
#line 1157
  pxform->numoutchans = 3;
#line 1158
  shapmat = & pxform->data.shapmat;
#line 1159
  pxformseq = jas_cmpxformseq_create();
  }
#line 1159
  if (! pxformseq) {
#line 1160
    goto error;
  }
  {
#line 1161
  __cil_tmp20 = jas_cmpxformseq_insertpxform(pxformseq, -1, pxform);
  }
#line 1161
  if (__cil_tmp20) {
#line 1162
    goto error;
  }
#line 1163
  shapmat->mono = 0;
#line 1164
  shapmat->useluts = 1;
#line 1165
  shapmat->usemat = 1;
#line 1166
  if (! op) {
#line 1167
    shapmat->order = 0;
#line 1168
    i = 0;
    {
#line 1168
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 1168
      if (! (i < 3)) {
#line 1168
        goto while_break___1;
      }
#line 1169
      shapmat->mat[0][i] = (double )(cols[i])->data.xyz.x / 65536.;
#line 1170
      shapmat->mat[1][i] = (double )(cols[i])->data.xyz.y / 65536.;
#line 1171
      shapmat->mat[2][i] = (double )(cols[i])->data.xyz.z / 65536.;
#line 1168
      i ++;
    }
    while_break___11: /* CIL Label */ ;
    }
    while_break___1: 
#line 1173
    i = 0;
    {
#line 1173
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 1173
      if (! (i < 3)) {
#line 1173
        goto while_break___2;
      }
#line 1174
      shapmat->mat[i][3] = 0.;
#line 1173
      i ++;
    }
    while_break___12: /* CIL Label */ ;
    }
    while_break___2: 
#line 1175
    i = 0;
    {
#line 1175
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 1175
      if (! (i < 3)) {
#line 1175
        goto while_break___3;
      }
      {
#line 1176
      __cil_tmp21 = jas_cmshapmatlut_set(& shapmat->luts[i], & (trcs[i])->data.curv);
      }
#line 1176
      if (__cil_tmp21) {
#line 1177
        goto error;
      }
#line 1175
      i ++;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___3: ;
  } else {
#line 1180
    shapmat->order = 1;
#line 1181
    i = 0;
    {
#line 1181
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 1181
      if (! (i < 3)) {
#line 1181
        goto while_break___4;
      }
#line 1182
      mat[0][i] = (double )(cols[i])->data.xyz.x / 65536.;
#line 1183
      mat[1][i] = (double )(cols[i])->data.xyz.y / 65536.;
#line 1184
      mat[2][i] = (double )(cols[i])->data.xyz.z / 65536.;
#line 1181
      i ++;
    }
    while_break___14: /* CIL Label */ ;
    }
    while_break___4: 
#line 1186
    i = 0;
    {
#line 1186
    while (1) {
      while_continue___5: /* CIL Label */ ;

#line 1186
      if (! (i < 3)) {
#line 1186
        goto while_break___5;
      }
#line 1187
      mat[i][3] = 0.;
#line 1186
      i ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___5: 
    {
#line 1188
    __cil_tmp22 = jas_cmshapmat_invmat((jas_cmreal_t (*)[4])(shapmat->mat), (jas_cmreal_t (*)[4])(mat));
    }
#line 1188
    if (__cil_tmp22) {
#line 1189
      goto error;
    }
#line 1190
    i = 0;
    {
#line 1190
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 1190
      if (! (i < 3)) {
#line 1190
        goto while_break___6;
      }
      {
#line 1191
      jas_cmshapmatlut_init(& lut);
#line 1192
      __cil_tmp23 = jas_cmshapmatlut_set(& lut, & (trcs[i])->data.curv);
      }
#line 1192
      if (__cil_tmp23) {
#line 1193
        goto error;
      }
      {
#line 1194
      __cil_tmp24 = jas_cmshapmatlut_invert(& shapmat->luts[i], & lut, lut.size);
      }
#line 1194
      if (__cil_tmp24) {
#line 1195
        goto error;
      }
      {
#line 1196
      jas_cmshapmatlut_cleanup(& lut);
#line 1190
      i ++;
      }
    }
    while_break___16: /* CIL Label */ ;
    }
    while_break___6: ;
  }
#line 1199
  i = 0;
  {
#line 1199
  while (1) {
    while_continue___7: /* CIL Label */ ;

#line 1199
    if (! (i < 3)) {
#line 1199
      goto while_break___7;
    }
    {
#line 1200
    jas_iccattrval_destroy(trcs[i]);
#line 1201
    jas_iccattrval_destroy(cols[i]);
#line 1199
    i ++;
    }
  }
  while_break___17: /* CIL Label */ ;
  }
  while_break___7: 
  {
#line 1203
  jas_cmpxform_destroy(pxform);
#line 1204
  *retpxformseq = pxformseq;
  }
#line 1205
  return (0);
  error: 
#line 1209
  i = 0;
  {
#line 1209
  while (1) {
    while_continue___8: /* CIL Label */ ;

#line 1209
    if (! (i < 3)) {
#line 1209
      goto while_break___8;
    }
#line 1210
    if (trcs[i]) {
      {
#line 1211
      jas_iccattrval_destroy(trcs[i]);
      }
    }
#line 1213
    if (cols[i]) {
      {
#line 1214
      jas_iccattrval_destroy(cols[i]);
      }
    }
#line 1209
    i ++;
  }
  while_break___18: /* CIL Label */ ;
  }
  while_break___8: ;
#line 1217
  if (pxformseq) {
    {
#line 1218
    jas_cmpxformseq_destroy(pxformseq);
    }
  }
#line 1220
  if (pxform) {
    {
#line 1221
    jas_cmpxform_destroy(pxform);
    }
  }
#line 1224
  return (-1);
}
}
#line 1227 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmgetint(long **bufptr , int sgnd , int prec , long *val ) 
{ 
  long v ;
  int m ;

  {
#line 1231
  v = *(*bufptr);
#line 1232
  if (sgnd) {
#line 1233
    m = 1 << (prec - 1);
#line 1234
    if (v < (long )(- m)) {
#line 1235
      return (-1);
    } else
#line 1234
    if (v >= (long )m) {
#line 1235
      return (-1);
    }
  } else
#line 1237
  if (v < 0L) {
#line 1238
    return (-1);
  } else
#line 1237
  if (v >= (long )(1 << prec)) {
#line 1238
    return (-1);
  }
#line 1240
  (*bufptr) ++;
#line 1241
  *val = v;
#line 1242
  return (0);
}
}
#line 1245 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
static int jas_cmputint(long **bufptr , int sgnd , int prec , long val ) 
{ 
  int m ;

  {
#line 1248
  if (sgnd) {
#line 1249
    m = 1 << (prec - 1);
#line 1250
    if (val < (long )(- m)) {
#line 1251
      return (-1);
    } else
#line 1250
    if (val >= (long )m) {
#line 1251
      return (-1);
    }
  } else
#line 1253
  if (val < 0L) {
#line 1254
    return (-1);
  } else
#line 1253
  if (val >= (long )(1 << prec)) {
#line 1254
    return (-1);
  }
#line 1256
  *(*bufptr) = val;
#line 1257
  (*bufptr) ++;
#line 1258
  return (0);
}
}
#line 1261 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
int jas_clrspc_numchans(int clrspc ) 
{ 


  {
#line 1267
  if (clrspc >> 8 == 5) {
#line 1267
    goto case_5;
  }
#line 1267
  if (clrspc >> 8 == 4) {
#line 1267
    goto case_5;
  }
#line 1267
  if (clrspc >> 8 == 2) {
#line 1267
    goto case_5;
  }
#line 1267
  if (clrspc >> 8 == 1) {
#line 1267
    goto case_5;
  }
#line 1270
  if (clrspc >> 8 == 3) {
#line 1270
    goto case_3;
  }
#line 1273
  goto switch_default;
  case_5: 
#line 1268
  return (3);
#line 1269
  goto switch_break;
  case_3: 
#line 1271
  return (1);
#line 1272
  goto switch_break;
  switch_default: 
  {
#line 1274
  abort();
  }
#line 1275
  goto switch_break;
  switch_break: ;
#line 1278
  return (0);
}
}
#line 1279 "/root/patron-new/new_2/src/libjasper/base/jas_cm.c"
jas_iccprof_t *jas_iccprof_createfromcmprof(jas_cmprof_t *prof ) 
{ 
  jas_iccprof_t *__cil_tmp2 ;

  {
  {
#line 1281
  __cil_tmp2 = jas_iccprof_copy(prof->iccprof);
  }
#line 1281
  return (__cil_tmp2);
}
}
#line 3 "/root/patron-new/new_2/src/libjasper/dummy.c"
char jas_dummy  ;
#line 95 "/root/patron-new/new_2/src/appl/imginfo.c"
static void usage(void) ;
#line 96
static void cmdinfo(void) ;
#line 102 "/root/patron-new/new_2/src/appl/imginfo.c"
static jas_opt_t opts[5]  = {      {0, (char *)"help", 0}, 
        {1, (char *)"version", 0}, 
        {2, (char *)"verbose", 0}, 
        {3, (char *)"f", 1}, 
        {-1, (char *)0, 0}};
#line 110 "/root/patron-new/new_2/src/appl/imginfo.c"
static char *cmdname  =    (char *)0;
#line 116 "/root/patron-new/new_2/src/appl/imginfo.c"
int main(int argc , char **argv ) 
{ 
  int fmtid ;
  int id ;
  char *infile ;
  jas_stream_t *instream ;
  jas_image_t *image ;
  int width ;
  int height ;
  int depth ;
  int numcmpts ;
  int verbose ;
  char *fmtname ;
  int __cil_tmp14 ;
  uint_fast32_t __cil_tmp21 ;

  {
  {
#line 130
  __cil_tmp14 = jas_init();
  }
#line 130
  if (__cil_tmp14) {
    {
#line 131
    abort();
    }
  }
#line 134
  cmdname = *(argv + 0);
#line 136
  infile = (char *)0;
#line 137
  verbose = 0;
  {
#line 140
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 140
    id = jas_getopt(argc, argv, opts);
    }
#line 140
    if (! (id >= 0)) {
#line 140
      goto while_break;
    }
#line 142
    if (id == 2) {
#line 142
      goto case_2;
    }
#line 145
    if (id == 1) {
#line 145
      goto case_1;
    }
#line 149
    if (id == 3) {
#line 149
      goto case_3;
    }
#line 153
    goto switch_default;
    case_2: 
#line 143
    verbose = 1;
#line 144
    goto switch_break;
    case_1: 
    {
#line 146
    printf("%s\n", "1.900.3");
#line 147
    exit(0);
    }
#line 148
    goto switch_break;
    case_3: 
#line 150
    infile = jas_optarg;
#line 151
    goto switch_break;
    switch_default: 
    {
#line 154
    usage();
    }
#line 155
    goto switch_break;
    switch_break: ;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 160
  if (infile) {
    {
#line 162
    instream = jas_stream_fopen((char const   *)infile, "rb");
    }
#line 162
    if (! instream) {
      {
#line 163
      fprintf(stderr, "cannot open input image file %s\n\230\001", infile);
#line 164
      exit(1);
      }
    }
  } else {
    {
#line 168
    instream = jas_stream_fdopen(0, "rb");
    }
#line 168
    if (! instream) {
      {
#line 169
      fprintf(stderr, "cannot open standard input\n");
#line 170
      exit(1);
      }
    }
  }
  {
#line 174
  fmtid = jas_image_getfmt(instream);
  }
#line 174
  if (fmtid < 0) {
    {
#line 175
    fprintf(stderr, "unknown image format\n");
    }
  }
  {
#line 179
  image = jas_image_decode(instream, fmtid, (char *)0);
  }
#line 179
  if (! image) {
    {
#line 180
    fprintf(stderr, "cannot load image\n");
    }
#line 181
    return (1);
  }
  {
#line 185
  jas_stream_close(instream);
#line 187
  numcmpts = image->numcmpts_;
#line 188
  width = (int )(*(image->cmpts_ + 0))->width_;
#line 189
  height = (int )(*(image->cmpts_ + 0))->height_;
#line 190
  depth = (*(image->cmpts_ + 0))->prec_;
#line 191
  fmtname = jas_image_fmttostr(fmtid);
  }
#line 191
  if (! fmtname) {
    {
#line 192
    abort();
    }
  }
  {
#line 194
  __cil_tmp21 = jas_image_rawsize(image);
#line 194
  printf("%s %d %d %d %d %ld\n", fmtname, numcmpts, width, height, depth, (long )__cil_tmp21);
#line 196
  jas_image_destroy(image);
#line 197
  jas_image_clearfmts();
  }
#line 199
  return (0);
}
}
#line 206 "/root/patron-new/new_2/src/appl/imginfo.c"
static void cmdinfo(void) 
{ 


  {
  {
#line 208
  fprintf(stderr, "Image Information Utility (Version %s).\n\323\001 ", "1.900.3");
#line 210
  fprintf(stderr, "Copyright (c) 2001 Michael David Adams.\nAll rights reserved.\n");
  }
#line 212
  return;
}
}
#line 216 "/root/patron-new/new_2/src/appl/imginfo.c"
static void usage(void) 
{ 


  {
  {
#line 218
  cmdinfo();
#line 219
  fprintf(stderr, "usage:\n");
#line 220
  fprintf(stderr, "%s ", cmdname);
#line 221
  fprintf(stderr, "[-f image_file]\n\220");
#line 222
  exit(1);
  }
}
}
