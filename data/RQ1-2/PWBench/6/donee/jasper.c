/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 46 "/usr/lib/llvm-13/lib/clang/13.0.1/include/stddef.h"
typedef unsigned long size_t;
#line 152 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 153 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 160 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __time_t;
#line 162 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __suseconds_t;
#line 193 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __ssize_t;
#line 108 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __ssize_t ssize_t;
#line 8 "/usr/include/x86_64-linux-gnu/bits/types/struct_timeval.h"
struct timeval {
   __time_t tv_sec ;
   __suseconds_t tv_usec ;
};
#line 14 "/usr/lib/llvm-13/lib/clang/13.0.1/include/stdarg.h"
typedef __builtin_va_list va_list;
#line 32 "/usr/lib/llvm-13/lib/clang/13.0.1/include/stdarg.h"
typedef __builtin_va_list __gnuc_va_list;
#line 4 "/usr/include/x86_64-linux-gnu/bits/types/__FILE.h"
struct _IO_FILE ;
#line 7 "/usr/include/x86_64-linux-gnu/bits/types/FILE.h"
typedef struct _IO_FILE FILE;
#line 36 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
struct _IO_marker ;
#line 37
struct _IO_codecvt ;
#line 38
struct _IO_wide_data ;
#line 43 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
typedef void _IO_lock_t;
#line 49 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   struct _IO_codecvt *_codecvt ;
   struct _IO_wide_data *_wide_data ;
   struct _IO_FILE *_freeres_list ;
   void *_freeres_buf ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[20] ;
};
#line 61 "/usr/include/stdint.h"
typedef long int_fast32_t;
#line 71 "/usr/include/stdint.h"
typedef unsigned char uint_fast8_t;
#line 73 "/usr/include/stdint.h"
typedef unsigned long uint_fast16_t;
#line 74 "/usr/include/stdint.h"
typedef unsigned long uint_fast32_t;
#line 75 "/usr/include/stdint.h"
typedef unsigned long uint_fast64_t;
#line 174 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
typedef void jas_stream_obj_t;
#line 180 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
struct __anonstruct_25 {
   int (*read_)(jas_stream_obj_t * , char * , int  ) ;
   int (*write_)(jas_stream_obj_t * , char * , int  ) ;
   long (*seek_)(jas_stream_obj_t * , long  , int  ) ;
   int (*close_)(jas_stream_obj_t * ) ;
};
#line 194 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
typedef struct __anonstruct_25 jas_stream_ops_t;
#line 200 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
struct __anonstruct_26 {
   int openmode_ ;
   int bufmode_ ;
   int flags_ ;
   unsigned char *bufbase_ ;
   unsigned char *bufstart_ ;
   int bufsize_ ;
   unsigned char *ptr_ ;
   int cnt_ ;
   unsigned char tinybuf_[17] ;
   jas_stream_ops_t *ops_ ;
   jas_stream_obj_t *obj_ ;
   long rwcnt_ ;
   long rwlimit_ ;
};
#line 243 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
typedef struct __anonstruct_26 jas_stream_t;
#line 252 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
struct __anonstruct_27 {
   int fd ;
   int flags ;
   char pathname[21] ;
};
#line 256 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
typedef struct __anonstruct_27 jas_stream_fileobj_t;
#line 265 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
struct __anonstruct_28 {
   unsigned char *buf_ ;
   size_t bufsize_ ;
   int_fast32_t len_ ;
   int_fast32_t pos_ ;
   int growable_ ;
   int myalloc_ ;
};
#line 285 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
typedef struct __anonstruct_28 jas_stream_memobj_t;
#line 101 "/root/patchweave/5/src/libjasper/include/jasper/jas_seq.h"
typedef int_fast32_t jas_seqent_t;
#line 106 "/root/patchweave/5/src/libjasper/include/jasper/jas_seq.h"
typedef int_fast32_t jas_matind_t;
#line 110 "/root/patchweave/5/src/libjasper/include/jasper/jas_seq.h"
struct __anonstruct_29 {
   int flags_ ;
   jas_matind_t xstart_ ;
   jas_matind_t ystart_ ;
   jas_matind_t xend_ ;
   jas_matind_t yend_ ;
   jas_matind_t numrows_ ;
   jas_matind_t numcols_ ;
   jas_seqent_t **rows_ ;
   int_fast32_t maxrows_ ;
   jas_seqent_t *data_ ;
   int_fast32_t datasize_ ;
};
#line 145 "/root/patchweave/5/src/libjasper/include/jasper/jas_seq.h"
typedef struct __anonstruct_29 jas_matrix_t;
#line 147 "/root/patchweave/5/src/libjasper/include/jasper/jas_seq.h"
typedef jas_matrix_t jas_seq2d_t;
#line 215 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast8_t jas_iccuint8_t;
#line 216 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast16_t jas_iccuint16_t;
#line 217 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast32_t jas_iccuint32_t;
#line 218 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef int_fast32_t jas_iccsint32_t;
#line 219 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef int_fast32_t jas_iccs15fixed16_t;
#line 221 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast64_t jas_iccuint64_t;
#line 222 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef uint_fast32_t jas_iccsig_t;
#line 226 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef jas_iccsig_t jas_iccattrname_t;
#line 229 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_30 {
   jas_iccuint16_t year ;
   jas_iccuint16_t month ;
   jas_iccuint16_t day ;
   jas_iccuint16_t hour ;
   jas_iccuint16_t min ;
   jas_iccuint16_t sec ;
};
#line 236 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_30 jas_icctime_t;
#line 239 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_31 {
   jas_iccs15fixed16_t x ;
   jas_iccs15fixed16_t y ;
   jas_iccs15fixed16_t z ;
};
#line 243 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_31 jas_iccxyz_t;
#line 246 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_32 {
   jas_iccuint32_t numents ;
   jas_iccuint16_t *ents ;
};
#line 249 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_32 jas_icccurv_t;
#line 252 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_33 {
   jas_iccuint32_t asclen ;
   char *ascdata ;
   jas_iccuint32_t uclangcode ;
   jas_iccuint32_t uclen ;
   unsigned char *ucdata ;
   jas_iccuint16_t sccode ;
   jas_iccuint8_t maclen ;
   unsigned char macdata[69] ;
};
#line 261 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_33 jas_icctxtdesc_t;
#line 264 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_34 {
   char *string ;
};
#line 266 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_34 jas_icctxt_t;
#line 268 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_35 {
   jas_iccuint8_t numinchans ;
   jas_iccuint8_t numoutchans ;
   jas_iccsint32_t e[3][3] ;
   jas_iccuint8_t clutlen ;
   jas_iccuint8_t *clut ;
   jas_iccuint16_t numintabents ;
   jas_iccuint8_t **intabs ;
   jas_iccuint8_t *intabsbuf ;
   jas_iccuint16_t numouttabents ;
   jas_iccuint8_t **outtabs ;
   jas_iccuint8_t *outtabsbuf ;
};
#line 280 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_35 jas_icclut8_t;
#line 282 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_36 {
   jas_iccuint8_t numinchans ;
   jas_iccuint8_t numoutchans ;
   jas_iccsint32_t e[3][3] ;
   jas_iccuint8_t clutlen ;
   jas_iccuint16_t *clut ;
   jas_iccuint16_t numintabents ;
   jas_iccuint16_t **intabs ;
   jas_iccuint16_t *intabsbuf ;
   jas_iccuint16_t numouttabents ;
   jas_iccuint16_t **outtabs ;
   jas_iccuint16_t *outtabsbuf ;
};
#line 294 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_36 jas_icclut16_t;
#line 296
struct jas_iccattrval_s ;
#line 298 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_37 {
   void (*destroy)(struct jas_iccattrval_s * ) ;
   int (*copy)(struct jas_iccattrval_s * , struct jas_iccattrval_s * ) ;
   int (*input)(struct jas_iccattrval_s * , jas_stream_t * , int  ) ;
   int (*output)(struct jas_iccattrval_s * , jas_stream_t * ) ;
   int (*getsize)(struct jas_iccattrval_s * ) ;
   void (*dump)(struct jas_iccattrval_s * , FILE * ) ;
};
#line 305 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_37 jas_iccattrvalops_t;
#line 312 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
union __anonunion_38 {
   jas_iccxyz_t xyz ;
   jas_icccurv_t curv ;
   jas_icctxtdesc_t txtdesc ;
   jas_icctxt_t txt ;
   jas_icclut8_t lut8 ;
   jas_icclut16_t lut16 ;
};
#line 308 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct jas_iccattrval_s {
   int refcnt ;
   jas_iccsig_t type ;
   jas_iccattrvalops_t *ops ;
   union __anonunion_38 data ;
};
#line 320 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct jas_iccattrval_s jas_iccattrval_t;
#line 323 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_39 {
   jas_iccuint32_t size ;
   jas_iccsig_t cmmtype ;
   jas_iccuint32_t version ;
   jas_iccsig_t clas ;
   jas_iccsig_t colorspc ;
   jas_iccsig_t refcolorspc ;
   jas_icctime_t ctime ;
   jas_iccsig_t magic ;
   jas_iccsig_t platform ;
   jas_iccuint32_t flags ;
   jas_iccsig_t maker ;
   jas_iccsig_t model ;
   jas_iccuint64_t attr ;
   jas_iccsig_t intent ;
   jas_iccxyz_t illum ;
   jas_iccsig_t creator ;
};
#line 340 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_39 jas_icchdr_t;
#line 342 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_40 {
   jas_iccsig_t name ;
   jas_iccattrval_t *val ;
};
#line 345 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_40 jas_iccattr_t;
#line 347 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_41 {
   int numattrs ;
   int maxattrs ;
   jas_iccattr_t *attrs ;
};
#line 351 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_41 jas_iccattrtab_t;
#line 353 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct jas_icctagtabent_s {
   jas_iccuint32_t tag ;
   jas_iccuint32_t off ;
   jas_iccuint32_t len ;
   void *data ;
   struct jas_icctagtabent_s *first ;
};
#line 359 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct jas_icctagtabent_s jas_icctagtabent_t;
#line 361 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_42 {
   jas_iccuint32_t numents ;
   jas_icctagtabent_t *ents ;
};
#line 364 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_42 jas_icctagtab_t;
#line 367 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_43 {
   jas_icchdr_t hdr ;
   jas_icctagtab_t tagtab ;
   jas_iccattrtab_t *attrtab ;
};
#line 371 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_43 jas_iccprof_t;
#line 373 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
struct __anonstruct_44 {
   jas_iccuint32_t type ;
   jas_iccattrvalops_t ops ;
};
#line 376 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
typedef struct __anonstruct_44 jas_iccattrvalinfo_t;
#line 80 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef int jas_clrspc_t;
#line 139 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef double jas_cmreal_t;
#line 141
struct jas_cmpxform_s ;
#line 143 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_45 {
   long *buf ;
   int prec ;
   int sgnd ;
   int width ;
   int height ;
};
#line 149 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_45 jas_cmcmptfmt_t;
#line 151 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_46 {
   int numcmpts ;
   jas_cmcmptfmt_t *cmptfmts ;
};
#line 154 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_46 jas_cmpixmap_t;
#line 156 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_47 {
   void (*destroy)(struct jas_cmpxform_s * ) ;
   int (*apply)(struct jas_cmpxform_s * , jas_cmreal_t * , jas_cmreal_t * , int  ) ;
   void (*dump)(struct jas_cmpxform_s * ) ;
};
#line 160 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_47 jas_cmpxformops_t;
#line 162 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_48 {
   jas_cmreal_t *data ;
   int size ;
};
#line 165 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_48 jas_cmshapmatlut_t;
#line 167 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_49 {
   int mono ;
   int order ;
   int useluts ;
   int usemat ;
   jas_cmshapmatlut_t luts[3] ;
   jas_cmreal_t mat[3][4] ;
};
#line 174 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_49 jas_cmshapmat_t;
#line 176 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_50 {
   int order ;
};
#line 178 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_50 jas_cmshaplut_t;
#line 180 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_51 {
   int inclrspc ;
   int outclrspc ;
};
#line 183 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_51 jas_cmclrspcconv_t;
#line 192 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
union __anonunion_52 {
   double dummy ;
   jas_cmshapmat_t shapmat ;
   jas_cmshaplut_t shaplut ;
   jas_cmclrspcconv_t clrspcconv ;
};
#line 187 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct jas_cmpxform_s {
   int refcnt ;
   jas_cmpxformops_t *ops ;
   int numinchans ;
   int numoutchans ;
   union __anonunion_52 data ;
};
#line 198 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct jas_cmpxform_s jas_cmpxform_t;
#line 200 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_53 {
   int numpxforms ;
   int maxpxforms ;
   jas_cmpxform_t **pxforms ;
};
#line 204 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_53 jas_cmpxformseq_t;
#line 206 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_54 {
   int numinchans ;
   int numoutchans ;
   jas_cmpxformseq_t *pxformseq ;
};
#line 210 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_54 jas_cmxform_t;
#line 217 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
struct __anonstruct_55 {
   int clrspc ;
   int numchans ;
   int refclrspc ;
   int numrefchans ;
   jas_iccprof_t *iccprof ;
   jas_cmpxformseq_t *pxformseqs[13] ;
};
#line 224 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
typedef struct __anonstruct_55 jas_cmprof_t;
#line 128 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
typedef int_fast32_t jas_image_coord_t;
#line 136 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
typedef int_fast32_t jas_image_cmpttype_t;
#line 147 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_56 {
   jas_image_coord_t tlx_ ;
   jas_image_coord_t tly_ ;
   jas_image_coord_t hstep_ ;
   jas_image_coord_t vstep_ ;
   jas_image_coord_t width_ ;
   jas_image_coord_t height_ ;
   int prec_ ;
   int sgnd_ ;
   jas_stream_t *stream_ ;
   int cps_ ;
   jas_image_cmpttype_t type_ ;
};
#line 188 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_56 jas_image_cmpt_t;
#line 192 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_57 {
   jas_image_coord_t tlx_ ;
   jas_image_coord_t tly_ ;
   jas_image_coord_t brx_ ;
   jas_image_coord_t bry_ ;
   int numcmpts_ ;
   int maxcmpts_ ;
   jas_image_cmpt_t **cmpts_ ;
   jas_clrspc_t clrspc_ ;
   jas_cmprof_t *cmprof_ ;
};
#line 224 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_57 jas_image_t;
#line 230 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_58 {
   jas_image_coord_t tlx ;
   jas_image_coord_t tly ;
   jas_image_coord_t hstep ;
   jas_image_coord_t vstep ;
   jas_image_coord_t width ;
   jas_image_coord_t height ;
   int prec ;
   int sgnd ;
};
#line 260 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_58 jas_image_cmptparm_t;
#line 271 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_59 {
   jas_image_t *(*decode)(jas_stream_t * , char const   * ) ;
   int (*encode)(jas_image_t * , jas_stream_t * , char const   * ) ;
   int (*validate)(jas_stream_t * ) ;
};
#line 282 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_59 jas_image_fmtops_t;
#line 286 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
struct __anonstruct_60 {
   int id ;
   char *name ;
   char *ext ;
   char *desc ;
   jas_image_fmtops_t ops ;
};
#line 303 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
typedef struct __anonstruct_60 jas_image_fmtinfo_t;
#line 121 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_61 {
   uint_fast32_t magic ;
};
#line 123 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_61 jp2_jp_t;
#line 132 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_62 {
   uint_fast32_t majver ;
   uint_fast32_t minver ;
   uint_fast32_t numcompatcodes ;
   uint_fast32_t compatcodes[32] ;
};
#line 137 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_62 jp2_ftyp_t;
#line 144 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_63 {
   uint_fast32_t width ;
   uint_fast32_t height ;
   uint_fast16_t numcmpts ;
   uint_fast8_t bpc ;
   uint_fast8_t comptype ;
   uint_fast8_t csunk ;
   uint_fast8_t ipr ;
};
#line 152 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_63 jp2_ihdr_t;
#line 156 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_64 {
   uint_fast16_t numcmpts ;
   uint_fast8_t *bpcs ;
};
#line 159 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_64 jp2_bpcc_t;
#line 171 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_65 {
   uint_fast8_t method ;
   uint_fast8_t pri ;
   uint_fast8_t approx ;
   uint_fast32_t csid ;
   uint_fast8_t *iccp ;
   int iccplen ;
};
#line 179 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_65 jp2_colr_t;
#line 183 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_66 {
   uint_fast16_t numlutents ;
   uint_fast8_t numchans ;
   int_fast32_t *lutdata ;
   uint_fast8_t *bpc ;
};
#line 188 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_66 jp2_pclr_t;
#line 208 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_67 {
   uint_fast16_t channo ;
   uint_fast16_t type ;
   uint_fast16_t assoc ;
};
#line 212 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_67 jp2_cdefchan_t;
#line 216 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_68 {
   uint_fast16_t numchans ;
   jp2_cdefchan_t *ents ;
};
#line 219 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_68 jp2_cdef_t;
#line 221 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_69 {
   uint_fast16_t cmptno ;
   uint_fast8_t map ;
   uint_fast8_t pcol ;
};
#line 225 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_69 jp2_cmapent_t;
#line 227 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_70 {
   uint_fast16_t numchans ;
   jp2_cmapent_t *ents ;
};
#line 230 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_70 jp2_cmap_t;
#line 237
struct jp2_boxops_s ;
#line 241
struct jp2_boxinfo_s ;
#line 251 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
union __anonunion_72 {
   jp2_jp_t jp ;
   jp2_ftyp_t ftyp ;
   jp2_ihdr_t ihdr ;
   jp2_bpcc_t bpcc ;
   jp2_colr_t colr ;
   jp2_pclr_t pclr ;
   jp2_cdef_t cdef ;
   jp2_cmap_t cmap ;
};
#line 238 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct __anonstruct_71 {
   struct jp2_boxops_s *ops ;
   struct jp2_boxinfo_s *info ;
   uint_fast32_t type ;
   uint_fast32_t len ;
   uint_fast32_t datalen ;
   union __anonunion_72 data ;
};
#line 262 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct __anonstruct_71 jp2_box_t;
#line 264 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct jp2_boxops_s {
   void (*init)(jp2_box_t * ) ;
   void (*destroy)(jp2_box_t * ) ;
   int (*getdata)(jp2_box_t * , jas_stream_t * ) ;
   int (*putdata)(jp2_box_t * , jas_stream_t * ) ;
   void (*dumpdata)(jp2_box_t * , FILE * ) ;
};
#line 270 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct jp2_boxops_s jp2_boxops_t;
#line 276 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
struct jp2_boxinfo_s {
   int type ;
   char *name ;
   int flags ;
   jp2_boxops_t ops ;
};
#line 281 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
typedef struct jp2_boxinfo_s jp2_boxinfo_t;
#line 71 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.h"
struct __anonstruct_146 {
   jp2_box_t *pclr ;
   jp2_box_t *cdef ;
   jp2_box_t *ihdr ;
   jp2_box_t *bpcc ;
   jp2_box_t *cmap ;
   jp2_box_t *colr ;
   jas_image_t *image ;
   uint_fast16_t numchans ;
   uint_fast16_t *chantocmptlut ;
};
#line 83 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.h"
typedef struct __anonstruct_146 jp2_dec_t;
#line 88 "/root/patchweave/5/src/libjasper/include/jasper/jas_tvp.h"
struct __anonstruct_192 {
   int id ;
   char *name ;
};
#line 96 "/root/patchweave/5/src/libjasper/include/jasper/jas_tvp.h"
typedef struct __anonstruct_192 jas_taginfo_t;
#line 100 "/root/patchweave/5/src/libjasper/include/jasper/jas_tvp.h"
struct __anonstruct_193 {
   char *buf ;
   char *tag ;
   char *val ;
   char *pos ;
};
#line 114 "/root/patchweave/5/src/libjasper/include/jasper/jas_tvp.h"
typedef struct __anonstruct_193 jas_tvparser_t;
#line 79 "/root/patchweave/5/src/libjasper/include/jasper/jas_tmr.h"
struct __anonstruct_211 {
   struct timeval start ;
   struct timeval stop ;
};
#line 82 "/root/patchweave/5/src/libjasper/include/jasper/jas_tmr.h"
typedef struct __anonstruct_211 jas_tmr_t;
#line 95 "/root/patchweave/5/src/libjasper/include/jasper/jas_getopt.h"
struct __anonstruct_381 {
   int id ;
   char *name ;
   int flags ;
};
#line 106 "/root/patchweave/5/src/libjasper/include/jasper/jas_getopt.h"
typedef struct __anonstruct_381 jas_opt_t;
/* compiler builtin: 
   void __builtin_va_start(__builtin_va_list  ) ;  */
/* compiler builtin: 
   void __builtin_va_end(__builtin_va_list  ) ;  */
#line 104 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) int atoi(char const   *__nptr ) ;
#line 205
extern  __attribute__((__nothrow__)) unsigned long long strtoull(char const   *__nptr ,
                                                                 char **__endptr ,
                                                                 int __base ) ;
#line 539
extern  __attribute__((__nothrow__)) void *malloc(size_t __size ) ;
#line 550
extern  __attribute__((__nothrow__)) void *realloc(void *__ptr , size_t __size ) ;
#line 565
extern  __attribute__((__nothrow__)) void free(void *__ptr ) ;
#line 591
extern  __attribute__((__nothrow__)) void abort(void) ;
#line 595
extern  __attribute__((__nothrow__)) int atexit(void (*__func)(void) ) ;
#line 617
extern  __attribute__((__nothrow__)) void exit(int __status ) ;
#line 830
extern void qsort(void *__base , size_t __nmemb , size_t __size , int (*__compar)(void const   * ,
                                                                                  void const   * ) ) ;
#line 139 "/usr/include/stdio.h"
extern FILE *stderr ;
#line 187
extern  __attribute__((__nothrow__)) char *tmpnam(char *__s ) ;
#line 213
extern int fclose(FILE *__stream ) ;
#line 326
extern int fprintf(FILE *__stream , char const   *__format  , ...) ;
#line 332
extern int printf(char const   *__format  , ...) ;
#line 334
extern  __attribute__((__nothrow__)) int sprintf(char *__s , char const   *__format 
                                                 , ...) ;
#line 341
extern int vfprintf(FILE *__s , char const   *__format , __gnuc_va_list __arg ) ;
#line 354
extern  __attribute__((__nothrow__)) int snprintf(char *__s , size_t __maxlen , char const   *__format 
                                                  , ...) ;
#line 358
extern  __attribute__((__nothrow__)) int vsnprintf(char *__s , size_t __maxlen , char const   *__format ,
                                                   __gnuc_va_list __arg ) ;
#line 391
extern int fscanf(FILE *__stream , char const   *__format  , ...) ;
#line 521
extern int fputc(int __c , FILE *__stream ) ;
#line 626
extern int fputs(char const   *__s , FILE *__stream ) ;
#line 646
extern unsigned long fread(void *__ptr , size_t __size , size_t __n , FILE *__stream ) ;
#line 652
extern unsigned long fwrite(void const   *__ptr , size_t __size , size_t __n , FILE *__s ) ;
#line 684
extern int fseek(FILE *__stream , long __off , int __whence ) ;
#line 759
extern  __attribute__((__nothrow__)) int feof(FILE *__stream ) ;
#line 761
extern  __attribute__((__nothrow__)) int ferror(FILE *__stream ) ;
#line 92 "/root/patchweave/5/src/libjasper/include/jasper/jas_malloc.h"
void *jas_malloc(size_t size ) ;
#line 95
void jas_free(void *ptr ) ;
#line 98
void *jas_realloc(void *ptr , size_t size ) ;
#line 101
void *jas_calloc(size_t num_elements , size_t element_size ) ;
#line 104
void *jas_alloc2(size_t num_elements , size_t element_size ) ;
#line 107
void *jas_alloc3(size_t num_arrays , size_t array_size , size_t element_size ) ;
#line 110
void *jas_realloc2(void *ptr , size_t num_elements , size_t element_size ) ;
#line 168 "/usr/include/fcntl.h"
extern int open(char const   *__file , int __oflag  , ...) ;
#line 43 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) void *memcpy(void *__dest , void const   *__src ,
                                                  size_t __n ) ;
#line 47
extern  __attribute__((__nothrow__)) void *memmove(void *__dest , void const   *__src ,
                                                   size_t __n ) ;
#line 61
extern  __attribute__((__nothrow__)) void *memset(void *__s , int __c , size_t __n ) ;
#line 122
extern  __attribute__((__nothrow__)) char *strcpy(char *__dest , char const   *__src ) ;
#line 130
extern  __attribute__((__nothrow__)) char *strcat(char *__dest , char const   *__src ) ;
#line 133
extern  __attribute__((__nothrow__)) char *strncat(char *__dest , char const   *__src ,
                                                   size_t __n ) ;
#line 137
extern  __attribute__((__nothrow__)) int strcmp(char const   *__s1 , char const   *__s2 ) ;
#line 253
extern  __attribute__((__nothrow__)) char *strrchr(char const   *__s , int __c ) ;
#line 385
extern  __attribute__((__nothrow__)) unsigned long strlen(char const   *__s ) ;
#line 334 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) __off_t lseek(int __fd , __off_t __offset , int __whence ) ;
#line 353
extern int close(int __fd ) ;
#line 360
extern ssize_t read(int __fd , void *__buf , size_t __nbytes ) ;
#line 366
extern ssize_t write(int __fd , void const   *__buf , size_t __n ) ;
#line 825
extern  __attribute__((__nothrow__)) int unlink(char const   *__name ) ;
#line 292 "/root/patchweave/5/src/libjasper/include/jasper/jas_stream.h"
jas_stream_t *jas_stream_fopen(char const   *filename , char const   *mode ) ;
#line 295
jas_stream_t *jas_stream_memopen(char *buf , int bufsize ) ;
#line 299
jas_stream_t *jas_stream_memopen2(char *buf , size_t bufsize ) ;
#line 302
jas_stream_t *jas_stream_fdopen(int fd , char const   *mode ) ;
#line 305
jas_stream_t *jas_stream_freopen(char const   *path , char const   *mode , FILE *fp ) ;
#line 308
jas_stream_t *jas_stream_tmpfile(void) ;
#line 311
int jas_stream_close(jas_stream_t *stream ) ;
#line 341
long jas_stream_setrwcount(jas_stream_t *stream , long rwcnt ) ;
#line 362
int jas_stream_read(jas_stream_t *stream , void *buf , int cnt ) ;
#line 365
int jas_stream_write(jas_stream_t *stream , void const   *buf , int cnt ) ;
#line 368
int jas_stream_printf(jas_stream_t *stream , char const   *fmt  , ...) ;
#line 371
int jas_stream_puts(jas_stream_t *stream , char const   *s ) ;
#line 374
char *jas_stream_gets(jas_stream_t *stream , char *buf , int bufsize ) ;
#line 383
int jas_stream_ungetc(jas_stream_t *stream , int c ) ;
#line 390
int jas_stream_isseekable(jas_stream_t *stream ) ;
#line 393
long jas_stream_seek(jas_stream_t *stream , long offset , int origin ) ;
#line 396
long jas_stream_tell(jas_stream_t *stream ) ;
#line 399
int jas_stream_rewind(jas_stream_t *stream ) ;
#line 406
int jas_stream_flush(jas_stream_t *stream ) ;
#line 413
int jas_stream_copy(jas_stream_t *out , jas_stream_t *in , int n ) ;
#line 416
int jas_stream_display(jas_stream_t *stream , FILE *fp , int n ) ;
#line 419
int jas_stream_gobble(jas_stream_t *stream , int n ) ;
#line 422
int jas_stream_pad(jas_stream_t *stream , int n , int c ) ;
#line 426
long jas_stream_length(jas_stream_t *stream ) ;
#line 460
int jas_stream_fillbuf(jas_stream_t *stream , int getflag ) ;
#line 461
int jas_stream_flushbuf(jas_stream_t *stream , int c ) ;
#line 462
int jas_stream_getc_func(jas_stream_t *stream ) ;
#line 463
int jas_stream_putc_func(jas_stream_t *stream , int c ) ;
#line 152 "/root/patchweave/5/src/libjasper/include/jasper/jas_math.h"
__inline static int jas_fast32_asr(int_fast32_t x , int n ) 
{ 


  {
#line 161
  return ((int )(x >> n));
}
}
#line 165 "/root/patchweave/5/src/libjasper/include/jasper/jas_math.h"
__inline static int jas_fast32_asl(int_fast32_t x , int n ) 
{ 


  {
#line 174
  return ((int )(x << n));
}
}
#line 182 "/root/patchweave/5/src/libjasper/include/jasper/jas_math.h"
__inline static int jas_safe_size_mul(size_t x , size_t y , size_t *result ) 
{ 


  {
#line 185
  if (x) {
#line 185
    if (y > 0xffffffffffffffffUL / x) {
#line 187
      return (0);
    }
  }
#line 189
  if (result) {
#line 190
    *result = x * y;
  }
#line 192
  return (1);
}
}
#line 195 "/root/patchweave/5/src/libjasper/include/jasper/jas_math.h"
__inline static int jas_safe_size_mul3(size_t a , size_t b , size_t c , size_t *result ) 
{ 
  size_t tmp ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 199
  __cil_tmp7 = jas_safe_size_mul(tmp, c, & tmp);
#line 199
  __cil_tmp6 = jas_safe_size_mul(a, b, & tmp);
  }
#line 199
  if (! __cil_tmp6) {
#line 201
    return (0);
  } else
#line 199
  if (! __cil_tmp7) {
#line 201
    return (0);
  }
#line 203
  if (result) {
#line 204
    *result = tmp;
  }
#line 206
  return (1);
}
}
#line 234 "/root/patchweave/5/src/libjasper/include/jasper/jas_math.h"
__inline static int jas_safe_intfast32_mul(int_fast32_t x , int_fast32_t y , int_fast32_t *result ) 
{ 


  {
#line 237
  if (x > 0L) {
#line 239
    if (y > 0L) {
#line 241
      if (x > -1L / y) {
#line 242
        return (0);
      }
    } else
#line 246
    if (y < 0L / x) {
#line 247
      return (0);
    }
  } else
#line 252
  if (y > 0L) {
#line 254
    if (x < 0L / y) {
#line 255
      return (0);
    }
  } else
#line 258
  if (x != 0L) {
#line 258
    if (y < -1L / x) {
#line 259
      return (0);
    }
  }
#line 264
  if (result) {
#line 265
    *result = x * y;
  }
#line 267
  return (1);
}
}
#line 270 "/root/patchweave/5/src/libjasper/include/jasper/jas_math.h"
__inline static int jas_safe_intfast32_mul3(int_fast32_t a , int_fast32_t b , int_fast32_t c ,
                                            int_fast32_t *result ) 
{ 
  int_fast32_t tmp ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 274
  __cil_tmp7 = jas_safe_intfast32_mul(tmp, c, & tmp);
#line 274
  __cil_tmp6 = jas_safe_intfast32_mul(a, b, & tmp);
  }
#line 274
  if (! __cil_tmp6) {
#line 276
    return (0);
  } else
#line 274
  if (! __cil_tmp7) {
#line 276
    return (0);
  }
#line 278
  if (result) {
#line 279
    *result = tmp;
  }
#line 281
  return (1);
}
}
#line 285 "/root/patchweave/5/src/libjasper/include/jasper/jas_math.h"
__inline static int jas_safe_intfast32_add(int_fast32_t x , int_fast32_t y , int_fast32_t *result ) 
{ 


  {
#line 288
  if (y > 0L) {
#line 288
    if (x > -1L - y) {
#line 290
      return (0);
    } else {
#line 288
      goto _L;
    }
  } else
  _L: 
#line 288
  if (y < 0L) {
#line 288
    if (x < 0L - y) {
#line 290
      return (0);
    }
  }
#line 292
  if (result) {
#line 293
    *result = x + y;
  }
#line 295
  return (1);
}
}
#line 195 "/root/patchweave/5/src/libjasper/include/jasper/jas_seq.h"
jas_matrix_t *jas_matrix_create(jas_matind_t numrows , jas_matind_t numcols ) ;
#line 198
void jas_matrix_destroy(jas_matrix_t *matrix ) ;
#line 201
int jas_matrix_resize(jas_matrix_t *matrix , jas_matind_t numrows , jas_matind_t numcols ) ;
#line 206
void jas_matrix_bindsub(jas_matrix_t *mat0 , jas_matrix_t *mat1 , jas_matind_t r0 ,
                        jas_matind_t c0 , jas_matind_t r1 , jas_matind_t c1 ) ;
#line 218
void jas_matrix_clip(jas_matrix_t *matrix , jas_seqent_t minval , jas_seqent_t maxval ) ;
#line 222
void jas_matrix_asl(jas_matrix_t *matrix , int n ) ;
#line 225
void jas_matrix_asr(jas_matrix_t *matrix , int n ) ;
#line 228
void jas_matrix_divpow2(jas_matrix_t *matrix , int n ) ;
#line 231
void jas_matrix_setall(jas_matrix_t *matrix , jas_seqent_t val ) ;
#line 242
int jas_matrix_cmp(jas_matrix_t *mat0 , jas_matrix_t *mat1 ) ;
#line 244
jas_matrix_t *jas_matrix_copy(jas_matrix_t *x ) ;
#line 255
jas_seq2d_t *jas_seq2d_copy(jas_seq2d_t *x ) ;
#line 257
jas_matrix_t *jas_seq2d_create(jas_matind_t xstart , jas_matind_t ystart , jas_matind_t xend ,
                               jas_matind_t yend ) ;
#line 288
void jas_seq2d_bindsub(jas_matrix_t *s , jas_matrix_t *s1 , jas_matind_t xstart ,
                       jas_matind_t ystart , jas_matind_t xend , jas_matind_t yend ) ;
#line 378 "/root/patchweave/5/src/libjasper/include/jasper/jas_icc.h"
jas_iccprof_t *jas_iccprof_load(jas_stream_t *in ) ;
#line 379
int jas_iccprof_save(jas_iccprof_t *prof , jas_stream_t *out ) ;
#line 380
void jas_iccprof_destroy(jas_iccprof_t *prof ) ;
#line 381
jas_iccattrval_t *jas_iccprof_getattr(jas_iccprof_t *prof , jas_iccattrname_t name ) ;
#line 383
int jas_iccprof_setattr(jas_iccprof_t *prof , jas_iccattrname_t name , jas_iccattrval_t *val ) ;
#line 385
void jas_iccprof_dump(jas_iccprof_t *prof , FILE *out ) ;
#line 386
jas_iccprof_t *jas_iccprof_copy(jas_iccprof_t *prof ) ;
#line 387
int jas_iccprof_gethdr(jas_iccprof_t *prof , jas_icchdr_t *hdr ) ;
#line 388
int jas_iccprof_sethdr(jas_iccprof_t *prof , jas_icchdr_t *hdr ) ;
#line 390
void jas_iccattrval_destroy(jas_iccattrval_t *attrval ) ;
#line 391
void jas_iccattrval_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 392
int jas_iccattrval_allowmodify(jas_iccattrval_t **attrvalx ) ;
#line 393
jas_iccattrval_t *jas_iccattrval_clone(jas_iccattrval_t *attrval ) ;
#line 394
jas_iccattrval_t *jas_iccattrval_create(jas_iccuint32_t type ) ;
#line 396
void jas_iccattrtab_dump(jas_iccattrtab_t *attrtab , FILE *out ) ;
#line 398
unsigned char jas_iccprofdata_srgb[3144] ;
#line 399
int jas_iccprofdata_srgblen ;
#line 400
unsigned char jas_iccprofdata_sgray[394] ;
#line 401
int jas_iccprofdata_sgraylen ;
#line 402
jas_iccprof_t *jas_iccprof_createfrombuf(unsigned char *buf , int len ) ;
#line 403
jas_iccprof_t *jas_iccprof_createfromclrspc(int clrspc ) ;
#line 240 "/root/patchweave/5/src/libjasper/include/jasper/jas_cm.h"
jas_cmxform_t *jas_cmxform_create(jas_cmprof_t *inprof , jas_cmprof_t *outprof , jas_cmprof_t *prfprof ,
                                  int op , int intent , int optimize ) ;
#line 243
void jas_cmxform_destroy(jas_cmxform_t *xform ) ;
#line 246
int jas_cmxform_apply(jas_cmxform_t *xform , jas_cmpixmap_t *in , jas_cmpixmap_t *out ) ;
#line 252
jas_cmprof_t *jas_cmprof_createfromiccprof(jas_iccprof_t *iccprof ) ;
#line 253
jas_cmprof_t *jas_cmprof_createfromclrspc(int clrspc ) ;
#line 256
void jas_cmprof_destroy(jas_cmprof_t *prof ) ;
#line 258
int jas_clrspc_numchans(int clrspc ) ;
#line 259
jas_iccprof_t *jas_iccprof_createfromcmprof(jas_cmprof_t *prof ) ;
#line 262
jas_cmprof_t *jas_cmprof_copy(jas_cmprof_t *prof ) ;
#line 310 "/root/patchweave/5/src/libjasper/include/jasper/jas_image.h"
jas_image_t *jas_image_create(int numcmpts , jas_image_cmptparm_t *cmptparms , int clrspc ) ;
#line 314
jas_image_t *jas_image_create0(void) ;
#line 317
jas_image_t *jas_image_copy(jas_image_t *image ) ;
#line 320
void jas_image_destroy(jas_image_t *image ) ;
#line 412
int jas_image_cmpt_domains_same(jas_image_t *image ) ;
#line 416
uint_fast32_t jas_image_rawsize(jas_image_t *image ) ;
#line 419
jas_image_t *jas_image_decode(jas_stream_t *in , int fmt , char const   *optstr ) ;
#line 422
int jas_image_encode(jas_image_t *image , jas_stream_t *out , int fmt , char const   *optstr ) ;
#line 428
int jas_image_readcmpt(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                       jas_image_coord_t width , jas_image_coord_t height , jas_matrix_t *data ) ;
#line 433
int jas_image_writecmpt(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                        jas_image_coord_t width , jas_image_coord_t height , jas_matrix_t *data ) ;
#line 438
void jas_image_delcmpt(jas_image_t *image , int cmptno ) ;
#line 441
int jas_image_addcmpt(jas_image_t *image , int cmptno , jas_image_cmptparm_t *cmptparm ) ;
#line 445
int jas_image_copycmpt(jas_image_t *dstimage , int dstcmptno , jas_image_t *srcimage ,
                       int srccmptno ) ;
#line 456
int jas_image_depalettize(jas_image_t *image , int cmptno , int numlutents , int_fast32_t *lutents ,
                          int dtype , int newcmptno ) ;
#line 459
int jas_image_readcmptsample(jas_image_t *image , int cmptno , int x , int y ) ;
#line 460
void jas_image_writecmptsample(jas_image_t *image , int cmptno , int x , int y , int_fast32_t v ) ;
#line 463
int jas_image_getcmptbytype(jas_image_t *image , int ctype ) ;
#line 470
void jas_image_clearfmts(void) ;
#line 473
int jas_image_addfmt(int id , char *name , char *ext , char *desc , jas_image_fmtops_t *ops ) ;
#line 477
int jas_image_strtofmt(char *name ) ;
#line 480
char *jas_image_fmttostr(int fmt ) ;
#line 483
jas_image_fmtinfo_t *jas_image_lookupfmtbyid(int id ) ;
#line 486
jas_image_fmtinfo_t *jas_image_lookupfmtbyname(char const   *name ) ;
#line 489
int jas_image_fmtfromname(char *name ) ;
#line 492
int jas_image_getfmt(jas_stream_t *in ) ;
#line 496
int jas_image_ishomosamp(jas_image_t *image ) ;
#line 497
int jas_image_sampcmpt(jas_image_t *image , int cmptno , int newcmptno , jas_image_coord_t ho ,
                       jas_image_coord_t vo , jas_image_coord_t hs , jas_image_coord_t vs ,
                       int sgnd , int prec ) ;
#line 500
int jas_image_writecmpt2(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                         jas_image_coord_t width , jas_image_coord_t height , long *buf ) ;
#line 503
int jas_image_readcmpt2(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                        jas_image_coord_t width , jas_image_coord_t height , long *buf ) ;
#line 508
jas_image_t *jas_image_chclrspc(jas_image_t *image , jas_cmprof_t *outprof , int intent ) ;
#line 510
void jas_image_dump(jas_image_t *image , FILE *out ) ;
#line 518
extern jas_image_t *jpg_decode(jas_stream_t *in , char const   *optstr ) ;
#line 519
extern int jpg_encode(jas_image_t *image , jas_stream_t *out , char const   *optstr ) ;
#line 520
extern int jpg_validate(jas_stream_t *in ) ;
#line 525
extern jas_image_t *mif_decode(jas_stream_t *in , char const   *optstr ) ;
#line 526
extern int mif_encode(jas_image_t *image , jas_stream_t *out , char const   *optstr ) ;
#line 527
extern int mif_validate(jas_stream_t *in ) ;
#line 532
extern jas_image_t *pnm_decode(jas_stream_t *in , char const   *optstr ) ;
#line 533
extern int pnm_encode(jas_image_t *image , jas_stream_t *out , char const   *optstr ) ;
#line 534
extern int pnm_validate(jas_stream_t *in ) ;
#line 539
extern jas_image_t *ras_decode(jas_stream_t *in , char const   *optstr ) ;
#line 540
extern int ras_encode(jas_image_t *image , jas_stream_t *out , char const   *optstr ) ;
#line 541
extern int ras_validate(jas_stream_t *in ) ;
#line 546
extern jas_image_t *bmp_decode(jas_stream_t *in , char const   *optstr ) ;
#line 547
extern int bmp_encode(jas_image_t *image , jas_stream_t *out , char const   *optstr ) ;
#line 548
extern int bmp_validate(jas_stream_t *in ) ;
#line 553
jas_image_t *jp2_decode(jas_stream_t *in , char const   *optstr ) ;
#line 554
int jp2_encode(jas_image_t *image , jas_stream_t *out , char const   *optstr ) ;
#line 555
int jp2_validate(jas_stream_t *in ) ;
#line 560
extern jas_image_t *jpc_decode(jas_stream_t *in , char const   *optstr ) ;
#line 561
extern int jpc_encode(jas_image_t *image , jas_stream_t *out , char const   *optstr ) ;
#line 562
extern int jpc_validate(jas_stream_t *in ) ;
#line 567
extern jas_image_t *pgx_decode(jas_stream_t *in , char const   *optstr ) ;
#line 568
extern int pgx_encode(jas_image_t *image , jas_stream_t *out , char const   *optstr ) ;
#line 569
extern int pgx_validate(jas_stream_t *in ) ;
#line 287 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.h"
jp2_box_t *jp2_box_create(int type ) ;
#line 288
void jp2_box_destroy(jp2_box_t *box ) ;
#line 289
jp2_box_t *jp2_box_get(jas_stream_t *in ) ;
#line 290
int jp2_box_put(jp2_box_t *box , jas_stream_t *out ) ;
#line 301
jp2_cdefchan_t *jp2_cdef_lookup(jp2_cdef_t *cdef , int channo ) ;
#line 82 "/root/patchweave/5/src/libjasper/jp2/jp2_enc.c"
static uint_fast32_t jp2_gettypeasoc(int colorspace , int ctype ) ;
#line 83
static int clrspctojp2(jas_clrspc_t clrspc ) ;
#line 132
int jas_eprintf(char const   *fmt  , ...) ;
#line 89 "/root/patchweave/5/src/libjasper/jp2/jp2_enc.c"
int jp2_encode(jas_image_t *image , jas_stream_t *out , char const   *optstr ) 
{ 
  jp2_box_t *box ;
  jp2_ftyp_t *ftyp ;
  jp2_ihdr_t *ihdr ;
  jas_stream_t *tmpstream ;
  int allcmptssame ;
  jp2_bpcc_t *bpcc ;
  long len ;
  uint_fast16_t cmptno ;
  jp2_colr_t *colr ;
  char buf[4096] ;
  uint_fast32_t overhead ;
  jp2_cdefchan_t *cdefchanent ;
  jp2_cdef_t *cdef ;
  int i ;
  uint_fast32_t typeasoc ;
  jas_iccprof_t *iccprof ;
  jas_stream_t *iccstream ;
  int pos ;
  int needcdef ;
  int prec ;
  int sgnd ;
  int __cil_tmp26 ;
  int __cil_tmp28 ;
  int tmp ;
  int __cil_tmp32 ;
  int __cil_tmp35 ;
  int __cil_tmp37 ;
  int __cil_tmp40 ;
  long __cil_tmp41 ;
  int __cil_tmp43 ;
  int __cil_tmp44 ;
  int __cil_tmp48 ;
  int tmp___0 ;
  int __cil_tmp52 ;
  int __cil_tmp53 ;
  int __cil_tmp55 ;
  char const   *tmp___1 ;
  int __cil_tmp57 ;
  void *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;

  {
#line 113
  box = (jp2_box_t *)0;
#line 114
  tmpstream = (jas_stream_t *)0;
#line 115
  iccstream = (jas_stream_t *)0;
#line 116
  iccprof = (jas_iccprof_t *)0;
#line 118
  allcmptssame = 1;
#line 119
  sgnd = (*(image->cmpts_ + 0))->sgnd_;
#line 120
  prec = (*(image->cmpts_ + 0))->prec_;
#line 121
  i = 1;
  {
#line 121
  while (1) {
    while_continue: /* CIL Label */ ;

#line 121
    if (! (i < image->numcmpts_)) {
#line 121
      goto while_break;
    }
#line 122
    if ((*(image->cmpts_ + i))->sgnd_ != sgnd) {
#line 124
      allcmptssame = 0;
#line 125
      goto while_break;
    } else
#line 122
    if ((*(image->cmpts_ + i))->prec_ != prec) {
#line 124
      allcmptssame = 0;
#line 125
      goto while_break;
    }
#line 121
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
  {
#line 131
  box = jp2_box_create(1783636000);
  }
#line 131
  if (! box) {
    {
#line 132
    jas_eprintf("cannot create JP box\n");
    }
#line 133
    goto error;
  }
  {
#line 135
  box->data.jp.magic = (uint_fast32_t )218793738;
#line 136
  __cil_tmp26 = jp2_box_put(box, out);
  }
#line 136
  if (__cil_tmp26) {
    {
#line 137
    jas_eprintf("cannot write JP box\n");
    }
#line 138
    goto error;
  }
  {
#line 140
  jp2_box_destroy(box);
#line 141
  box = (jp2_box_t *)0;
#line 145
  box = jp2_box_create(1718909296);
  }
#line 145
  if (! box) {
    {
#line 146
    jas_eprintf("cannot create FTYP box\n");
    }
#line 147
    goto error;
  }
  {
#line 149
  ftyp = & box->data.ftyp;
#line 150
  ftyp->majver = (uint_fast32_t )1785737760;
#line 151
  ftyp->minver = (uint_fast32_t )0;
#line 152
  ftyp->numcompatcodes = (uint_fast32_t )1;
#line 153
  ftyp->compatcodes[0] = (uint_fast32_t )1785737760;
#line 154
  __cil_tmp28 = jp2_box_put(box, out);
  }
#line 154
  if (__cil_tmp28) {
    {
#line 155
    jas_eprintf("cannot write FTYP box\n");
    }
#line 156
    goto error;
  }
  {
#line 158
  jp2_box_destroy(box);
#line 159
  box = (jp2_box_t *)0;
#line 168
  tmpstream = jas_stream_memopen((char *)0, 0);
  }
#line 168
  if (! tmpstream) {
    {
#line 169
    jas_eprintf("cannot create temporary stream\n");
    }
#line 170
    goto error;
  }
  {
#line 175
  box = jp2_box_create(1768449138);
  }
#line 175
  if (! box) {
    {
#line 176
    jas_eprintf("cannot create IHDR box\n");
    }
#line 177
    goto error;
  }
#line 179
  ihdr = & box->data.ihdr;
#line 180
  ihdr->width = (uint_fast32_t )(image->brx_ - image->tlx_);
#line 181
  ihdr->height = (uint_fast32_t )(image->bry_ - image->tly_);
#line 182
  ihdr->numcmpts = (uint_fast16_t )image->numcmpts_;
#line 183
  if (allcmptssame) {
#line 183
    tmp = (((*(image->cmpts_ + 0))->prec_ - 1) & 127) | (((*(image->cmpts_ + 0))->sgnd_ & 1) << 7);
  } else {
#line 183
    tmp = 255;
  }
  {
#line 183
  ihdr->bpc = (uint_fast8_t )tmp;
#line 185
  ihdr->comptype = (uint_fast8_t )7;
#line 186
  ihdr->csunk = (uint_fast8_t )0;
#line 187
  ihdr->ipr = (uint_fast8_t )0;
#line 188
  __cil_tmp32 = jp2_box_put(box, tmpstream);
  }
#line 188
  if (__cil_tmp32) {
    {
#line 189
    jas_eprintf("cannot write IHDR box\n");
    }
#line 190
    goto error;
  }
  {
#line 192
  jp2_box_destroy(box);
#line 193
  box = (jp2_box_t *)0;
  }
#line 197
  if (! allcmptssame) {
    {
#line 198
    box = jp2_box_create(1651532643);
    }
#line 198
    if (! box) {
      {
#line 199
      jas_eprintf("cannot create BPCC box\n");
      }
#line 200
      goto error;
    }
    {
#line 202
    bpcc = & box->data.bpcc;
#line 203
    bpcc->numcmpts = (uint_fast16_t )image->numcmpts_;
#line 204
    tmp___2 = jas_alloc2(bpcc->numcmpts, sizeof(uint_fast8_t ));
#line 204
    bpcc->bpcs = (uint_fast8_t *)tmp___2;
    }
#line 204
    if (! bpcc->bpcs) {
      {
#line 206
      jas_eprintf("memory allocation failed\n");
      }
#line 207
      goto error;
    }
#line 209
    cmptno = (uint_fast16_t )0;
    {
#line 209
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 209
      if (! (cmptno < bpcc->numcmpts)) {
#line 209
        goto while_break___0;
      }
#line 210
      *(bpcc->bpcs + cmptno) = (uint_fast8_t )((((*(image->cmpts_ + cmptno))->prec_ - 1) & 127) | (((*(image->cmpts_ + cmptno))->sgnd_ & 1) << 7));
#line 209
      cmptno ++;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 213
    __cil_tmp35 = jp2_box_put(box, tmpstream);
    }
#line 213
    if (__cil_tmp35) {
      {
#line 214
      jas_eprintf("cannot write BPCC box\n");
      }
#line 215
      goto error;
    }
    {
#line 217
    jp2_box_destroy(box);
#line 218
    box = (jp2_box_t *)0;
    }
  }
  {
#line 223
  box = jp2_box_create(1668246642);
  }
#line 223
  if (! box) {
    {
#line 224
    jas_eprintf("cannot create COLR box\n");
    }
#line 225
    goto error;
  }
#line 227
  colr = & box->data.colr;
#line 231
  if (image->clrspc_ == ((3 << 8) | 1)) {
#line 231
    goto case_exp;
  }
#line 231
  if (image->clrspc_ == ((5 << 8) | 1)) {
#line 231
    goto case_exp;
  }
#line 231
  if (image->clrspc_ == ((4 << 8) | 1)) {
#line 231
    goto case_exp;
  }
#line 237
  goto switch_default;
  case_exp: 
  {
#line 232
  colr->method = (uint_fast8_t )1;
#line 233
  __cil_tmp37 = clrspctojp2(image->clrspc_);
#line 233
  colr->csid = (uint_fast32_t )__cil_tmp37;
#line 234
  colr->pri = (uint_fast8_t )0;
#line 235
  colr->approx = (uint_fast8_t )0;
  }
#line 236
  goto switch_break;
  switch_default: 
#line 238
  colr->method = (uint_fast8_t )2;
#line 239
  colr->pri = (uint_fast8_t )0;
#line 240
  colr->approx = (uint_fast8_t )0;
#line 242
  if (! image->cmprof_) {
    {
#line 243
    jas_eprintf("CM profile is null\n");
    }
#line 244
    goto error;
  }
  {
#line 246
  iccprof = jas_iccprof_createfromcmprof(image->cmprof_);
  }
#line 246
  if (! iccprof) {
    {
#line 248
    jas_eprintf("cannot create ICC profile\n");
    }
#line 249
    goto error;
  }
  {
#line 251
  iccstream = jas_stream_memopen((char *)0, 0);
  }
#line 251
  if (! iccstream) {
    {
#line 252
    jas_eprintf("cannot create temporary stream\n");
    }
#line 253
    goto error;
  }
  {
#line 255
  __cil_tmp40 = jas_iccprof_save(iccprof, iccstream);
  }
#line 255
  if (__cil_tmp40) {
    {
#line 256
    jas_eprintf("cannot write ICC profile\n");
    }
#line 257
    goto error;
  }
  {
#line 259
  __cil_tmp41 = jas_stream_tell(iccstream);
#line 259
  pos = (int )__cil_tmp41;
  }
#line 259
  if (pos < 0) {
    {
#line 260
    jas_eprintf("cannot get stream position\n");
    }
#line 261
    goto error;
  }
  {
#line 263
  colr->iccplen = pos;
#line 264
  tmp___3 = jas_malloc((size_t )pos);
#line 264
  colr->iccp = (uint_fast8_t *)tmp___3;
  }
#line 264
  if (! colr->iccp) {
    {
#line 265
    jas_eprintf("memory allocation failed\n");
    }
#line 266
    goto error;
  }
  {
#line 268
  jas_stream_rewind(iccstream);
#line 269
  __cil_tmp43 = jas_stream_read(iccstream, (void *)colr->iccp, colr->iccplen);
  }
#line 269
  if (__cil_tmp43 != colr->iccplen) {
    {
#line 271
    jas_eprintf("cannot read temporary stream\n");
    }
#line 272
    goto error;
  }
  {
#line 274
  jas_stream_close(iccstream);
#line 275
  iccstream = (jas_stream_t *)0;
#line 276
  jas_iccprof_destroy(iccprof);
#line 277
  iccprof = (jas_iccprof_t *)0;
  }
#line 278
  goto switch_break;
  switch_break: 
  {
#line 280
  __cil_tmp44 = jp2_box_put(box, tmpstream);
  }
#line 280
  if (__cil_tmp44) {
    {
#line 281
    jas_eprintf("cannot write box\n");
    }
#line 282
    goto error;
  }
  {
#line 284
  jp2_box_destroy(box);
#line 285
  box = (jp2_box_t *)0;
#line 287
  needcdef = 1;
  }
#line 289
  if (image->clrspc_ >> 8 == 4) {
#line 289
    goto case_4;
  }
#line 298
  if (image->clrspc_ >> 8 == 5) {
#line 298
    goto case_5;
  }
#line 307
  if (image->clrspc_ >> 8 == 3) {
#line 307
    goto case_3;
  }
#line 312
  goto switch_default___0;
  case_4: 
#line 290
  if ((*(image->cmpts_ + 0))->type_ == 0L) {
#line 290
    if ((*(image->cmpts_ + 1))->type_ == 1L) {
#line 290
      if ((*(image->cmpts_ + 2))->type_ == 2L) {
#line 296
        needcdef = 0;
      }
    }
  }
#line 297
  goto switch_break___0;
  case_5: 
#line 299
  if ((*(image->cmpts_ + 0))->type_ == 0L) {
#line 299
    if ((*(image->cmpts_ + 1))->type_ == 1L) {
#line 299
      if ((*(image->cmpts_ + 2))->type_ == 2L) {
#line 305
        needcdef = 0;
      }
    }
  }
#line 306
  goto switch_break___0;
  case_3: 
#line 308
  if ((*(image->cmpts_ + 0))->type_ == 0L) {
#line 310
    needcdef = 0;
  }
#line 311
  goto switch_break___0;
  switch_default___0: 
  {
#line 313
  abort();
  }
#line 314
  goto switch_break___0;
  switch_break___0: ;
#line 317
  if (needcdef) {
    {
#line 318
    box = jp2_box_create(1667523942);
    }
#line 318
    if (! box) {
      {
#line 319
      jas_eprintf("cannot create CDEF box\n");
      }
#line 320
      goto error;
    }
    {
#line 322
    cdef = & box->data.cdef;
#line 323
    cdef->numchans = (uint_fast16_t )image->numcmpts_;
#line 324
    tmp___4 = jas_alloc2(cdef->numchans, sizeof(jp2_cdefchan_t ));
#line 324
    cdef->ents = (jp2_cdefchan_t *)tmp___4;
#line 325
    i = 0;
    }
    {
#line 325
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 325
      if (! (i < image->numcmpts_)) {
#line 325
        goto while_break___1;
      }
      {
#line 326
      cdefchanent = cdef->ents + i;
#line 327
      cdefchanent->channo = (uint_fast16_t )i;
#line 328
      typeasoc = jp2_gettypeasoc(image->clrspc_, (int )(*(image->cmpts_ + i))->type_);
#line 329
      cdefchanent->type = typeasoc >> 16;
#line 330
      cdefchanent->assoc = typeasoc & 32767UL;
#line 325
      i ++;
      }
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
    {
#line 332
    __cil_tmp48 = jp2_box_put(box, tmpstream);
    }
#line 332
    if (__cil_tmp48) {
      {
#line 333
      jas_eprintf("cannot write CDEF box\n");
      }
#line 334
      goto error;
    }
    {
#line 336
    jp2_box_destroy(box);
#line 337
    box = (jp2_box_t *)0;
    }
  }
  {
#line 342
  len = jas_stream_tell(tmpstream);
#line 343
  jas_stream_rewind(tmpstream);
#line 349
  box = jp2_box_create(1785737832);
  }
#line 349
  if (! box) {
    {
#line 350
    jas_eprintf("cannot create JP2H box\n");
    }
#line 351
    goto error;
  }
  {
#line 353
  tmp___0 = 8;
#line 353
  box->len = (uint_fast32_t )(len + (long )tmp___0);
#line 354
  __cil_tmp52 = jp2_box_put(box, out);
  }
#line 354
  if (__cil_tmp52) {
    {
#line 355
    jas_eprintf("cannot write JP2H box\n");
    }
#line 356
    goto error;
  }
  {
#line 358
  jp2_box_destroy(box);
#line 359
  box = (jp2_box_t *)0;
#line 361
  __cil_tmp53 = jas_stream_copy(out, tmpstream, (int )len);
  }
#line 361
  if (__cil_tmp53) {
    {
#line 362
    jas_eprintf("cannot copy stream\n");
    }
#line 363
    goto error;
  }
  {
#line 366
  jas_stream_close(tmpstream);
#line 367
  tmpstream = (jas_stream_t *)0;
#line 373
  box = jp2_box_create(1785737827);
  }
#line 373
  if (! box) {
    {
#line 374
    jas_eprintf("cannot create JP2C box\n");
    }
#line 375
    goto error;
  }
  {
#line 377
  box->len = (uint_fast32_t )0;
#line 378
  __cil_tmp55 = jp2_box_put(box, out);
  }
#line 378
  if (__cil_tmp55) {
    {
#line 379
    jas_eprintf("cannot write JP2C box\n");
    }
#line 380
    goto error;
  }
  {
#line 382
  jp2_box_destroy(box);
#line 383
  box = (jp2_box_t *)0;
#line 387
  overhead = (uint_fast32_t )out->rwcnt_;
  }
#line 388
  if (optstr) {
#line 388
    tmp___1 = optstr;
  } else {
#line 388
    tmp___1 = "\220";
  }
  {
#line 388
  sprintf(buf, "%s\n_jp2overhead=%lu\n", tmp___1, overhead);
#line 391
  __cil_tmp57 = jpc_encode(image, out, (char const   *)(buf));
  }
#line 391
  if (__cil_tmp57) {
    {
#line 392
    jas_eprintf("jpc_encode failed\n");
    }
#line 393
    goto error;
  }
#line 396
  return (0);
  error: 
#line 400
  if (iccprof) {
    {
#line 401
    jas_iccprof_destroy(iccprof);
    }
  }
#line 403
  if (iccstream) {
    {
#line 404
    jas_stream_close(iccstream);
    }
  }
#line 406
  if (box) {
    {
#line 407
    jp2_box_destroy(box);
    }
  }
#line 409
  if (tmpstream) {
    {
#line 410
    jas_stream_close(tmpstream);
    }
  }
#line 412
  return (-1);
}
}
#line 415 "/root/patchweave/5/src/libjasper/jp2/jp2_enc.c"
static uint_fast32_t jp2_gettypeasoc(int colorspace , int ctype ) 
{ 
  int type ;
  int asoc ;

  {
#line 420
  if (ctype & 32768) {
#line 421
    type = 1;
#line 422
    asoc = 0;
#line 423
    goto done;
  }
#line 426
  type = 65535;
#line 427
  asoc = 65535;
#line 429
  if (colorspace >> 8 == 4) {
#line 429
    goto case_4;
  }
#line 431
  if (colorspace >> 8 == 0) {
#line 431
    goto case_0;
  }
#line 435
  if (colorspace >> 8 == 1) {
#line 435
    goto case_1;
  }
#line 439
  if (colorspace >> 8 == 2) {
#line 439
    goto case_2;
  }
#line 445
  if (colorspace >> 8 == 5) {
#line 445
    goto case_5;
  }
#line 447
  if (colorspace >> 8 == 0) {
#line 447
    goto case_0___0;
  }
#line 451
  if (colorspace >> 8 == 1) {
#line 451
    goto case_1___0;
  }
#line 455
  if (colorspace >> 8 == 2) {
#line 455
    goto case_2___0;
  }
#line 461
  if (colorspace >> 8 == 3) {
#line 461
    goto case_3;
  }
#line 428
  goto switch_break;
  case_4: 
#line 431
  if ((ctype & 32767) == 0) {
#line 431
    goto case_0;
  }
#line 435
  if ((ctype & 32767) == 1) {
#line 435
    goto case_1;
  }
#line 439
  if ((ctype & 32767) == 2) {
#line 439
    goto case_2;
  }
#line 430
  goto switch_break___0;
  case_0: 
#line 432
  type = 0;
#line 433
  asoc = 1;
#line 434
  goto switch_break___0;
  case_1: 
#line 436
  type = 0;
#line 437
  asoc = 2;
#line 438
  goto switch_break___0;
  case_2: 
#line 440
  type = 0;
#line 441
  asoc = 3;
#line 442
  goto switch_break___0;
  switch_break___0: ;
#line 444
  goto switch_break;
  case_5: 
#line 447
  if ((ctype & 32767) == 0) {
#line 447
    goto case_0___0;
  }
#line 451
  if ((ctype & 32767) == 1) {
#line 451
    goto case_1___0;
  }
#line 455
  if ((ctype & 32767) == 2) {
#line 455
    goto case_2___0;
  }
#line 446
  goto switch_break___1;
  case_0___0: 
#line 448
  type = 0;
#line 449
  asoc = 1;
#line 450
  goto switch_break___1;
  case_1___0: 
#line 452
  type = 0;
#line 453
  asoc = 2;
#line 454
  goto switch_break___1;
  case_2___0: 
#line 456
  type = 0;
#line 457
  asoc = 3;
#line 458
  goto switch_break___1;
  switch_break___1: ;
#line 460
  goto switch_break;
  case_3: 
#line 462
  type = 0;
#line 463
  asoc = 1;
#line 464
  goto switch_break;
  switch_break: ;
  done: 
#line 468
  return ((uint_fast32_t )((type << 16) | asoc));
}
}
#line 471 "/root/patchweave/5/src/libjasper/jp2/jp2_enc.c"
static int clrspctojp2(jas_clrspc_t clrspc ) 
{ 


  {
#line 474
  if (clrspc == ((4 << 8) | 1)) {
#line 474
    goto case_exp;
  }
#line 476
  if (clrspc == ((5 << 8) | 1)) {
#line 476
    goto case_exp___0;
  }
#line 478
  if (clrspc == ((3 << 8) | 1)) {
#line 478
    goto case_exp___1;
  }
#line 480
  goto switch_default;
  case_exp: 
#line 475
  return (16);
  case_exp___0: 
#line 477
  return (18);
  case_exp___1: 
#line 479
  return (17);
  switch_default: 
  {
#line 481
  abort();
  }
#line 482
  goto switch_break;
  switch_break: ;
#line 485
  return (0);
}
}
#line 101 "/root/patchweave/5/src/libjasper/include/jasper/jas_debug.h"
int jas_getdbglevel(void) ;
#line 104
int jas_setdbglevel(int dbglevel ) ;
#line 110
int jas_memdump(FILE *out , void *data , size_t len ) ;
#line 113
void jas_deprecated(char const   *s ) ;
#line 112 "/root/patchweave/5/src/libjasper/include/jasper/jas_version.h"
char const   *jas_getversion(void) ;
#line 87 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.c"
static jp2_dec_t *jp2_dec_create(void) ;
#line 88
static void jp2_dec_destroy(jp2_dec_t *dec ) ;
#line 89
static int jp2_getcs(jp2_colr_t *colr ) ;
#line 90
static int fromiccpcs(int cs ) ;
#line 91
static int jp2_getct(int colorspace , int type , int assoc ) ;
#line 97 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.c"
jas_image_t *jp2_decode(jas_stream_t *in , char const   *optstr ) 
{ 
  jp2_box_t *box ;
  int found ;
  jas_image_t *image ;
  jp2_dec_t *dec ;
  int samedtype ;
  int dtype ;
  unsigned int i ;
  jp2_cmap_t *cmapd ;
  jp2_pclr_t *pclrd ;
  jp2_cdef_t *cdefd ;
  unsigned int channo ;
  int newcmptno ;
  int_fast32_t *lutents ;
  jp2_cmapent_t *cmapent ;
  jas_icchdr_t icchdr ;
  jas_iccprof_t *iccprof ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int tmp ;
  int __cil_tmp26 ;
  uint_fast16_t tmp___1 ;
  int __cil_tmp36 ;
  int __cil_tmp37 ;
  void *tmp___2 ;
  void *tmp___3 ;

  {
  {
#line 120
  dec = (jp2_dec_t *)0;
#line 121
  box = (jp2_box_t *)0;
#line 122
  image = (jas_image_t *)0;
#line 124
  __cil_tmp19 = jas_getdbglevel();
  }
#line 124
  if (__cil_tmp19 >= 100) {
    {
#line 124
    __cil_tmp20 = jas_eprintf("jp2_decode(%p, \"%s\")\n", in, optstr);
#line 124
    tmp = __cil_tmp20;
    }
  } else {
#line 124
    tmp = 0;
  }
  {
#line 126
  dec = jp2_dec_create();
  }
#line 126
  if (! dec) {
#line 127
    goto error;
  }
  {
#line 131
  box = jp2_box_get(in);
  }
#line 131
  if (! box) {
    {
#line 132
    jas_eprintf("error: cannot get box\n");
    }
#line 133
    goto error;
  }
#line 135
  if (box->type != 1783636000UL) {
    {
#line 136
    jas_eprintf("error: expecting signature box\n");
    }
#line 137
    goto error;
  }
#line 139
  if (box->data.jp.magic != 218793738UL) {
    {
#line 140
    jas_eprintf("incorrect magic number\n");
    }
#line 141
    goto error;
  }
  {
#line 143
  jp2_box_destroy(box);
#line 144
  box = (jp2_box_t *)0;
#line 147
  box = jp2_box_get(in);
  }
#line 147
  if (! box) {
#line 148
    goto error;
  }
#line 150
  if (box->type != 1718909296UL) {
    {
#line 151
    jas_eprintf("expecting file type box\n\220");
    }
#line 152
    goto error;
  }
  {
#line 154
  jp2_box_destroy(box);
#line 155
  box = (jp2_box_t *)0;
#line 158
  found = 0;
  }
  {
#line 159
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 159
    box = jp2_box_get(in);
    }
#line 159
    if (! box) {
#line 159
      goto while_break;
    }
    {
#line 160
    __cil_tmp26 = jas_getdbglevel();
    }
#line 160
    if (__cil_tmp26 >= 1) {
      {
#line 161
      jas_eprintf("got box type %s\n\230\001", (box->info)->name);
      }
    }
#line 164
    if (box->type == 1785737827UL) {
#line 164
      goto case_1785737827;
    }
#line 167
    if (box->type == 1768449138UL) {
#line 167
      goto case_1768449138;
    }
#line 173
    if (box->type == 1651532643UL) {
#line 173
      goto case_1651532643;
    }
#line 179
    if (box->type == 1667523942UL) {
#line 179
      goto case_1667523942;
    }
#line 185
    if (box->type == 1885564018UL) {
#line 185
      goto case_1885564018;
    }
#line 191
    if (box->type == 1668112752UL) {
#line 191
      goto case_1668112752;
    }
#line 197
    if (box->type == 1668246642UL) {
#line 197
      goto case_1668246642;
    }
#line 163
    goto switch_break;
    case_1785737827: 
#line 165
    found = 1;
#line 166
    goto switch_break;
    case_1768449138: 
#line 168
    if (! dec->ihdr) {
#line 169
      dec->ihdr = box;
#line 170
      box = (jp2_box_t *)0;
    }
#line 172
    goto switch_break;
    case_1651532643: 
#line 174
    if (! dec->bpcc) {
#line 175
      dec->bpcc = box;
#line 176
      box = (jp2_box_t *)0;
    }
#line 178
    goto switch_break;
    case_1667523942: 
#line 180
    if (! dec->cdef) {
#line 181
      dec->cdef = box;
#line 182
      box = (jp2_box_t *)0;
    }
#line 184
    goto switch_break;
    case_1885564018: 
#line 186
    if (! dec->pclr) {
#line 187
      dec->pclr = box;
#line 188
      box = (jp2_box_t *)0;
    }
#line 190
    goto switch_break;
    case_1668112752: 
#line 192
    if (! dec->cmap) {
#line 193
      dec->cmap = box;
#line 194
      box = (jp2_box_t *)0;
    }
#line 196
    goto switch_break;
    case_1668246642: 
#line 198
    if (! dec->colr) {
#line 199
      dec->colr = box;
#line 200
      box = (jp2_box_t *)0;
    }
#line 202
    goto switch_break;
    switch_break: ;
#line 204
    if (box) {
      {
#line 205
      jp2_box_destroy(box);
#line 206
      box = (jp2_box_t *)0;
      }
    }
#line 208
    if (found) {
#line 209
      goto while_break;
    }
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break: ;
#line 213
  if (! found) {
    {
#line 214
    jas_eprintf("error: no code stream found\n");
    }
#line 215
    goto error;
  }
  {
#line 218
  dec->image = jpc_decode(in, optstr);
  }
#line 218
  if (! dec->image) {
    {
#line 219
    jas_eprintf("error: cannot decode code stream\n");
    }
#line 220
    goto error;
  }
#line 224
  if (! dec->ihdr) {
    {
#line 225
    jas_eprintf("error: missing IHDR box\n\220");
    }
#line 226
    goto error;
  }
#line 231
  if ((dec->ihdr)->data.ihdr.numcmpts != (unsigned long )((unsigned int )(dec->image)->numcmpts_)) {
    {
#line 233
    jas_eprintf("warning: number of components mismatch\n");
    }
  }
#line 237
  if (! (dec->image)->numcmpts_) {
    {
#line 238
    jas_eprintf("error: no components\n");
    }
#line 239
    goto error;
  }
#line 243
  samedtype = 1;
#line 244
  dtype = (((*((dec->image)->cmpts_ + 0))->sgnd_ & 1) << 7) | ((*((dec->image)->cmpts_ + 0))->prec_ & 127);
#line 245
  i = 1U;
  {
#line 245
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 245
    if (! (i < (unsigned int )(dec->image)->numcmpts_)) {
#line 245
      goto while_break___0;
    }
#line 246
    if (((((*((dec->image)->cmpts_ + i))->sgnd_ & 1) << 7) | ((*((dec->image)->cmpts_ + i))->prec_ & 127)) != dtype) {
#line 247
      samedtype = 0;
#line 248
      goto while_break___0;
    }
#line 245
    i ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___0: ;
#line 254
  if (samedtype) {
#line 254
    if ((int )(dec->ihdr)->data.ihdr.bpc != ((((dtype >> 7) & 1) << 7) | ((dtype & 127) - 1))) {
      {
#line 256
      jas_eprintf("warning: component data type mismatch\n");
      }
    } else {
#line 254
      goto _L;
    }
  } else
  _L: 
#line 254
  if (! samedtype) {
#line 254
    if ((int )(dec->ihdr)->data.ihdr.bpc != 255) {
      {
#line 256
      jas_eprintf("warning: component data type mismatch\n");
      }
    }
  }
#line 260
  if ((int )(dec->ihdr)->data.ihdr.comptype != 7) {
    {
#line 261
    jas_eprintf("error: unsupported compression type\n");
    }
#line 262
    goto error;
  }
#line 265
  if (dec->bpcc) {
#line 268
    if ((dec->bpcc)->data.bpcc.numcmpts != (unsigned long )((unsigned int )(dec->image)->numcmpts_)) {
      {
#line 270
      jas_eprintf("warning: number of components mismatch\n");
      }
    }
#line 274
    if (! samedtype) {
#line 275
      i = 0U;
      {
#line 275
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 275
        if (! (i < (unsigned int )(dec->image)->numcmpts_)) {
#line 275
          goto while_break___1;
        }
#line 277
        if (((((*((dec->image)->cmpts_ + i))->sgnd_ & 1) << 7) | ((*((dec->image)->cmpts_ + i))->prec_ & 127)) != (((((int )*((dec->bpcc)->data.bpcc.bpcs + i) >> 7) & 1) << 7) | ((((int )*((dec->bpcc)->data.bpcc.bpcs + i) & 127) + 1) & 127))) {
          {
#line 279
          jas_eprintf("warning: component data type mismatch\n");
          }
        }
#line 276
        i ++;
      }
      while_break___12: /* CIL Label */ ;
      }
      while_break___1: ;
    } else {
      {
#line 283
      jas_eprintf("warning: superfluous BPCC box\n");
      }
    }
  }
#line 288
  if (! dec->colr) {
    {
#line 289
    jas_eprintf("error: no COLR box\n");
    }
#line 290
    goto error;
  }
#line 294
  if ((int )(dec->colr)->data.colr.method == 1) {
#line 294
    goto case_1;
  }
#line 297
  if ((int )(dec->colr)->data.colr.method == 2) {
#line 297
    goto case_2;
  }
#line 293
  goto switch_break___0;
  case_1: 
  {
#line 295
  (dec->image)->clrspc_ = jp2_getcs(& (dec->colr)->data.colr);
  }
#line 296
  goto switch_break___0;
  case_2: 
  {
#line 298
  iccprof = jas_iccprof_createfrombuf((dec->colr)->data.colr.iccp, (dec->colr)->data.colr.iccplen);
  }
#line 300
  if (! iccprof) {
    {
#line 301
    jas_eprintf("error: failed to parse ICC profile\n");
    }
#line 302
    goto error;
  }
  {
#line 304
  jas_iccprof_gethdr(iccprof, & icchdr);
#line 305
  jas_eprintf("ICC Profile CS %08x\n", icchdr.colorspc);
#line 306
  (dec->image)->clrspc_ = fromiccpcs((int )icchdr.colorspc);
#line 307
  (dec->image)->cmprof_ = jas_cmprof_createfromiccprof(iccprof);
#line 309
  jas_iccprof_destroy(iccprof);
  }
#line 310
  goto switch_break___0;
  switch_break___0: ;
#line 314
  if (dec->cmap) {
#line 314
    if (! dec->pclr) {
      {
#line 315
      jas_eprintf("warning: missing PCLR box or superfluous CMAP box\n");
#line 316
      jp2_box_destroy(dec->cmap);
#line 317
      dec->cmap = (jp2_box_t *)0;
      }
    }
  }
#line 321
  if (! dec->cmap) {
#line 321
    if (dec->pclr) {
      {
#line 322
      jas_eprintf("warning: missing CMAP box or superfluous PCLR box\n");
#line 323
      jp2_box_destroy(dec->pclr);
#line 324
      dec->pclr = (jp2_box_t *)0;
      }
    }
  }
#line 329
  if (dec->cmap) {
#line 329
    tmp___1 = (dec->cmap)->data.cmap.numchans;
  } else {
#line 329
    tmp___1 = (unsigned long )((unsigned int )(dec->image)->numcmpts_);
  }
#line 329
  dec->numchans = tmp___1;
#line 333
  if (dec->cmap) {
#line 334
    i = 0U;
    {
#line 334
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 334
      if (! ((unsigned long )i < dec->numchans)) {
#line 334
        goto while_break___2;
      }
#line 336
      if (((dec->cmap)->data.cmap.ents + i)->cmptno >= (unsigned long )((unsigned int )(dec->image)->numcmpts_)) {
        {
#line 338
        jas_eprintf("error: invalid component number in CMAP box\n");
        }
#line 339
        goto error;
      }
#line 342
      if ((int )((dec->cmap)->data.cmap.ents + i)->pcol >= (int )(dec->pclr)->data.pclr.numchans) {
        {
#line 344
        jas_eprintf("error: invalid CMAP LUT index\n");
        }
#line 345
        goto error;
      }
#line 334
      i ++;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___2: ;
  }
  {
#line 351
  tmp___2 = jas_alloc2(dec->numchans, sizeof(uint_fast16_t ));
#line 351
  dec->chantocmptlut = (uint_fast16_t *)tmp___2;
  }
#line 351
  if (! dec->chantocmptlut) {
    {
#line 353
    jas_eprintf("error: no memory\n");
    }
#line 354
    goto error;
  }
#line 357
  if (! dec->cmap) {
#line 358
    i = 0U;
    {
#line 358
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 358
      if (! ((unsigned long )i < dec->numchans)) {
#line 358
        goto while_break___3;
      }
#line 359
      *(dec->chantocmptlut + i) = (uint_fast16_t )i;
#line 358
      i ++;
    }
    while_break___14: /* CIL Label */ ;
    }
    while_break___3: ;
  } else {
#line 362
    cmapd = & (dec->cmap)->data.cmap;
#line 363
    pclrd = & (dec->pclr)->data.pclr;
#line 364
    cdefd = & (dec->cdef)->data.cdef;
#line 365
    channo = 0U;
    {
#line 365
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 365
      if (! ((unsigned long )channo < cmapd->numchans)) {
#line 365
        goto while_break___4;
      }
#line 366
      cmapent = cmapd->ents + channo;
#line 367
      if ((int )cmapent->map == 0) {
#line 368
        *(dec->chantocmptlut + channo) = (uint_fast16_t )channo;
      } else
#line 369
      if ((int )cmapent->map == 1) {
        {
#line 370
        tmp___3 = jas_alloc2(pclrd->numlutents, sizeof(int_fast32_t ));
#line 370
        lutents = (int_fast32_t *)tmp___3;
#line 371
        i = 0U;
        }
        {
#line 371
        while (1) {
          while_continue___5: /* CIL Label */ ;

#line 371
          if (! ((unsigned long )i < pclrd->numlutents)) {
#line 371
            goto while_break___5;
          }
#line 372
          *(lutents + i) = *(pclrd->lutdata + ((unsigned int )cmapent->pcol + i * (unsigned int )pclrd->numchans));
#line 371
          i ++;
        }
        while_break___16: /* CIL Label */ ;
        }
        while_break___5: 
        {
#line 374
        newcmptno = (dec->image)->numcmpts_;
#line 375
        jas_image_depalettize(dec->image, (int )cmapent->cmptno, (int )pclrd->numlutents,
                              lutents, ((((int )*(pclrd->bpc + (int )cmapent->pcol) >> 7) & 1) << 7) | ((((int )*(pclrd->bpc + (int )cmapent->pcol) & 127) + 1) & 127),
                              newcmptno);
#line 378
        *(dec->chantocmptlut + channo) = (uint_fast16_t )newcmptno;
#line 379
        jas_free((void *)lutents);
        }
      }
#line 365
      channo ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___4: ;
  }
#line 397
  i = 0U;
  {
#line 397
  while (1) {
    while_continue___6: /* CIL Label */ ;

#line 397
    if (! (i < (unsigned int )(dec->image)->numcmpts_)) {
#line 397
      goto while_break___6;
    }
#line 398
    (*((dec->image)->cmpts_ + i))->type_ = (jas_image_cmpttype_t )65536;
#line 397
    i ++;
  }
  while_break___17: /* CIL Label */ ;
  }
  while_break___6: ;
#line 402
  if (dec->cdef) {
#line 403
    i = 0U;
    {
#line 403
    while (1) {
      while_continue___7: /* CIL Label */ ;

#line 403
      if (! ((unsigned long )i < dec->numchans)) {
#line 403
        goto while_break___7;
      }
#line 405
      if (((dec->cdef)->data.cdef.ents + i)->channo >= dec->numchans) {
        {
#line 406
        jas_eprintf("error: invalid channel number in CDEF box\n");
        }
#line 407
        goto error;
      }
      {
#line 409
      __cil_tmp36 = jp2_getct((dec->image)->clrspc_, (int )((dec->cdef)->data.cdef.ents + i)->type,
                              (int )((dec->cdef)->data.cdef.ents + i)->assoc);
#line 409
      (*((dec->image)->cmpts_ + *(dec->chantocmptlut + ((dec->cdef)->data.cdef.ents + i)->channo)))->type_ = (jas_image_cmpttype_t )__cil_tmp36;
#line 403
      i ++;
      }
    }
    while_break___18: /* CIL Label */ ;
    }
    while_break___7: ;
  } else {
#line 416
    i = 0U;
    {
#line 416
    while (1) {
      while_continue___8: /* CIL Label */ ;

#line 416
      if (! ((unsigned long )i < dec->numchans)) {
#line 416
        goto while_break___8;
      }
      {
#line 417
      __cil_tmp37 = jp2_getct((dec->image)->clrspc_, 0, (int )(i + 1U));
#line 417
      (*((dec->image)->cmpts_ + *(dec->chantocmptlut + i)))->type_ = (jas_image_cmpttype_t )__cil_tmp37;
#line 416
      i ++;
      }
    }
    while_break___19: /* CIL Label */ ;
    }
    while_break___8: ;
  }
#line 423
  i = (unsigned int )(dec->image)->numcmpts_;
  {
#line 423
  while (1) {
    while_continue___9: /* CIL Label */ ;

#line 423
    if (! (i > 0U)) {
#line 423
      goto while_break___9;
    }
#line 424
    if ((*((dec->image)->cmpts_ + (i - 1U)))->type_ == 65536L) {
      {
#line 425
      jas_image_delcmpt(dec->image, (int )(i - 1U));
      }
    }
#line 423
    i --;
  }
  while_break___20: /* CIL Label */ ;
  }
  while_break___9: ;
#line 430
  if (! (dec->image)->numcmpts_) {
    {
#line 431
    jas_eprintf("error: no components\n");
    }
#line 432
    goto error;
  }
  {
#line 439
  image = dec->image;
#line 440
  dec->image = (jas_image_t *)0;
#line 442
  jp2_dec_destroy(dec);
  }
#line 444
  return (image);
  error: 
#line 447
  if (box) {
    {
#line 448
    jp2_box_destroy(box);
    }
  }
#line 450
  if (dec) {
    {
#line 451
    jp2_dec_destroy(dec);
    }
  }
#line 453
  return ((jas_image_t *)0);
}
}
#line 456 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.c"
int jp2_validate(jas_stream_t *in ) 
{ 
  char buf[16] ;
  int i ;
  int n ;
  int tmp___1 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int tmp___2 ;

  {
  {
#line 470
  tmp___1 = 16;
#line 470
  __cil_tmp8 = jas_stream_read(in, (void *)(buf), tmp___1);
#line 470
  n = __cil_tmp8;
  }
#line 470
  if (n < 0) {
#line 471
    return (-1);
  }
#line 476
  i = n - 1;
  {
#line 476
  while (1) {
    while_continue: /* CIL Label */ ;

#line 476
    if (! (i >= 0)) {
#line 476
      goto while_break;
    }
    {
#line 477
    __cil_tmp9 = jas_stream_ungetc(in, (int )buf[i]);
    }
#line 477
    if (__cil_tmp9 == -1) {
#line 478
      return (-1);
    }
#line 476
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 483
  tmp___2 = 16;
#line 483
  if (n < tmp___2) {
#line 484
    return (-1);
  }
#line 488
  if ((((((int )buf[4] << 24) | ((int )buf[5] << 16)) | ((int )buf[6] << 8)) | (int )buf[7]) != 1783636000) {
#line 491
    return (-1);
  }
#line 494
  return (0);
}
}
#line 497 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.c"
static jp2_dec_t *jp2_dec_create(void) 
{ 
  jp2_dec_t *dec ;
  void *tmp ;

  {
  {
#line 501
  tmp = jas_malloc(sizeof(jp2_dec_t ));
#line 501
  dec = (jp2_dec_t *)tmp;
  }
#line 501
  if (! dec) {
#line 502
    return ((jp2_dec_t *)0);
  }
#line 504
  dec->ihdr = (jp2_box_t *)0;
#line 505
  dec->bpcc = (jp2_box_t *)0;
#line 506
  dec->cdef = (jp2_box_t *)0;
#line 507
  dec->pclr = (jp2_box_t *)0;
#line 508
  dec->image = (jas_image_t *)0;
#line 509
  dec->chantocmptlut = (uint_fast16_t *)0;
#line 510
  dec->cmap = (jp2_box_t *)0;
#line 511
  dec->colr = (jp2_box_t *)0;
#line 512
  return (dec);
}
}
#line 515 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.c"
static void jp2_dec_destroy(jp2_dec_t *dec ) 
{ 


  {
#line 517
  if (dec->ihdr) {
    {
#line 518
    jp2_box_destroy(dec->ihdr);
    }
  }
#line 520
  if (dec->bpcc) {
    {
#line 521
    jp2_box_destroy(dec->bpcc);
    }
  }
#line 523
  if (dec->cdef) {
    {
#line 524
    jp2_box_destroy(dec->cdef);
    }
  }
#line 526
  if (dec->pclr) {
    {
#line 527
    jp2_box_destroy(dec->pclr);
    }
  }
#line 529
  if (dec->image) {
    {
#line 530
    jas_image_destroy(dec->image);
    }
  }
#line 532
  if (dec->cmap) {
    {
#line 533
    jp2_box_destroy(dec->cmap);
    }
  }
#line 535
  if (dec->colr) {
    {
#line 536
    jp2_box_destroy(dec->colr);
    }
  }
#line 538
  if (dec->chantocmptlut) {
    {
#line 539
    jas_free((void *)dec->chantocmptlut);
    }
  }
  {
#line 541
  jas_free((void *)dec);
  }
#line 543
  return;
}
}
#line 544 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.c"
static int jp2_getct(int colorspace , int type , int assoc ) 
{ 


  {
#line 546
  if (type == 1) {
#line 546
    if (assoc == 0) {
#line 547
      return (32768);
    }
  }
#line 549
  if (type == 0) {
#line 549
    if (assoc >= 1) {
#line 549
      if (assoc <= 65534) {
#line 551
        if (colorspace == 4) {
#line 551
          goto case_4;
        }
#line 553
        if (colorspace == 1) {
#line 553
          goto case_1;
        }
#line 556
        if (colorspace == 2) {
#line 556
          goto case_2;
        }
#line 559
        if (colorspace == 3) {
#line 559
          goto case_3;
        }
#line 564
        if (colorspace == 5) {
#line 564
          goto case_5;
        }
#line 566
        if (colorspace == 1) {
#line 566
          goto case_1___0;
        }
#line 569
        if (colorspace == 2) {
#line 569
          goto case_2___0;
        }
#line 572
        if (colorspace == 3) {
#line 572
          goto case_3___0;
        }
#line 577
        if (colorspace == 3) {
#line 577
          goto case_3___1;
        }
#line 579
        if (colorspace == 1) {
#line 579
          goto case_1___1;
        }
#line 584
        goto switch_default;
        case_4: 
#line 553
        if (assoc == 1) {
#line 553
          goto case_1;
        }
#line 556
        if (assoc == 2) {
#line 556
          goto case_2;
        }
#line 559
        if (assoc == 3) {
#line 559
          goto case_3;
        }
#line 552
        goto switch_break___0;
        case_1: 
#line 554
        return (0);
#line 555
        goto switch_break___0;
        case_2: 
#line 557
        return (1);
#line 558
        goto switch_break___0;
        case_3: 
#line 560
        return (2);
#line 561
        goto switch_break___0;
        switch_break___0: ;
#line 563
        goto switch_break;
        case_5: 
#line 566
        if (assoc == 1) {
#line 566
          goto case_1___0;
        }
#line 569
        if (assoc == 2) {
#line 569
          goto case_2___0;
        }
#line 572
        if (assoc == 3) {
#line 572
          goto case_3___0;
        }
#line 565
        goto switch_break___1;
        case_1___0: 
#line 567
        return (0);
#line 568
        goto switch_break___1;
        case_2___0: 
#line 570
        return (1);
#line 571
        goto switch_break___1;
        case_3___0: 
#line 573
        return (2);
#line 574
        goto switch_break___1;
        switch_break___1: ;
#line 576
        goto switch_break;
        case_3___1: 
#line 579
        if (assoc == 1) {
#line 579
          goto case_1___1;
        }
#line 578
        goto switch_break___2;
        case_1___1: 
#line 580
        return (0);
#line 581
        goto switch_break___2;
        switch_break___2: ;
#line 583
        goto switch_break;
        switch_default: 
#line 585
        return ((assoc - 1) & 32767);
#line 586
        goto switch_break;
        switch_break: ;
      }
    }
  }
#line 589
  return (65536);
}
}
#line 592 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.c"
static int jp2_getcs(jp2_colr_t *colr ) 
{ 


  {
#line 594
  if ((int )colr->method == 1) {
#line 596
    if (colr->csid == 16UL) {
#line 596
      goto case_16;
    }
#line 599
    if (colr->csid == 18UL) {
#line 599
      goto case_18;
    }
#line 602
    if (colr->csid == 17UL) {
#line 602
      goto case_17;
    }
#line 595
    goto switch_break;
    case_16: 
#line 597
    return ((4 << 8) | 1);
#line 598
    goto switch_break;
    case_18: 
#line 600
    return ((5 << 8) | 1);
#line 601
    goto switch_break;
    case_17: 
#line 603
    return ((3 << 8) | 1);
#line 604
    goto switch_break;
    switch_break: ;
  }
#line 607
  return (16384);
}
}
#line 610 "/root/patchweave/5/src/libjasper/jp2/jp2_dec.c"
static int fromiccpcs(int cs ) 
{ 


  {
#line 613
  if (cs == 1380401696) {
#line 613
    goto case_1380401696;
  }
#line 616
  if (cs == 1497588338) {
#line 616
    goto case_1497588338;
  }
#line 619
  if (cs == 1196573017) {
#line 619
    goto case_1196573017;
  }
#line 612
  goto switch_break;
  case_1380401696: 
#line 614
  return (4 << 8);
#line 615
  goto switch_break;
  case_1497588338: 
#line 617
  return (5 << 8);
#line 618
  goto switch_break;
  case_1196573017: 
#line 620
  return (3 << 8);
#line 621
  goto switch_break;
  switch_break: ;
#line 623
  return (16384);
}
}
#line 90 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
jp2_boxinfo_t *jp2_boxinfolookup(int type ) ;
#line 92
static int jp2_getuint8(jas_stream_t *in , uint_fast8_t *val ) ;
#line 93
static int jp2_getuint16(jas_stream_t *in , uint_fast16_t *val ) ;
#line 94
static int jp2_getuint32(jas_stream_t *in , uint_fast32_t *val ) ;
#line 95
static int jp2_getuint64(jas_stream_t *in , uint_fast64_t *val ) ;
#line 96
static int jp2_putuint8(jas_stream_t *out , uint_fast8_t val ) ;
#line 97
static int jp2_putuint16(jas_stream_t *out , uint_fast16_t val ) ;
#line 98
static int jp2_putuint32(jas_stream_t *out , uint_fast32_t val ) ;
#line 99
static int jp2_putuint64(jas_stream_t *out , uint_fast64_t val ) ;
#line 101
static int jp2_getint(jas_stream_t *in , int s , int n , int_fast32_t *val ) ;
#line 104
void jp2_box_dump(jp2_box_t *box , FILE *out ) ;
#line 106
static int jp2_jp_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 107
static int jp2_jp_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 108
static int jp2_ftyp_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 109
static int jp2_ftyp_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 110
static int jp2_ihdr_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 111
static int jp2_ihdr_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 112
static void jp2_bpcc_destroy(jp2_box_t *box ) ;
#line 113
static int jp2_bpcc_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 114
static int jp2_bpcc_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 115
static int jp2_colr_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 116
static int jp2_colr_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 117
static void jp2_colr_dumpdata(jp2_box_t *box , FILE *out ) ;
#line 118
static void jp2_colr_destroy(jp2_box_t *box ) ;
#line 119
static void jp2_cdef_destroy(jp2_box_t *box ) ;
#line 120
static int jp2_cdef_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 121
static int jp2_cdef_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 122
static void jp2_cdef_dumpdata(jp2_box_t *box , FILE *out ) ;
#line 123
static void jp2_cmap_destroy(jp2_box_t *box ) ;
#line 124
static int jp2_cmap_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 125
static int jp2_cmap_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 126
static void jp2_cmap_dumpdata(jp2_box_t *box , FILE *out ) ;
#line 127
static void jp2_pclr_destroy(jp2_box_t *box ) ;
#line 128
static int jp2_pclr_getdata(jp2_box_t *box , jas_stream_t *in ) ;
#line 129
static int jp2_pclr_putdata(jp2_box_t *box , jas_stream_t *out ) ;
#line 130
static void jp2_pclr_dumpdata(jp2_box_t *box , FILE *out ) ;
#line 136 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
jp2_boxinfo_t jp2_boxinfos[20]  = 
#line 136
  {      {1783636000, (char *)"JP", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0,
                                    & jp2_jp_getdata, & jp2_jp_putdata, (void (*)(jp2_box_t * ,
                                                                                  FILE * ))0}}, 
        {1718909296,
      (char *)"FTYP", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, & jp2_ftyp_getdata,
                          & jp2_ftyp_putdata, (void (*)(jp2_box_t * , FILE * ))0}}, 
        {1785737832,
      (char *)"JP2H", 1, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1768449138,
      (char *)"IHDR", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, & jp2_ihdr_getdata,
                          & jp2_ihdr_putdata, (void (*)(jp2_box_t * , FILE * ))0}}, 
        {1651532643,
      (char *)"BPCC", 0, {(void (*)(jp2_box_t * ))0, & jp2_bpcc_destroy, & jp2_bpcc_getdata,
                          & jp2_bpcc_putdata, (void (*)(jp2_box_t * , FILE * ))0}}, 
        {1668246642,
      (char *)"COLR", 0, {(void (*)(jp2_box_t * ))0, & jp2_colr_destroy, & jp2_colr_getdata,
                          & jp2_colr_putdata, & jp2_colr_dumpdata}}, 
        {1885564018, (char *)"PCLR", 0, {(void (*)(jp2_box_t * ))0, & jp2_pclr_destroy,
                                      & jp2_pclr_getdata, & jp2_pclr_putdata, & jp2_pclr_dumpdata}}, 
        {1668112752,
      (char *)"CMAP", 0, {(void (*)(jp2_box_t * ))0, & jp2_cmap_destroy, & jp2_cmap_getdata,
                          & jp2_cmap_putdata, & jp2_cmap_dumpdata}}, 
        {1667523942, (char *)"CDEF", 0, {(void (*)(jp2_box_t * ))0, & jp2_cdef_destroy,
                                      & jp2_cdef_getdata, & jp2_cdef_putdata, & jp2_cdef_dumpdata}}, 
        {1919251232,
      (char *)"RES", 1, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                        jas_stream_t * ))0,
                         (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                              FILE * ))0}}, 
        {1919251299,
      (char *)"RESC", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1919251300,
      (char *)"RESD", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1785737827,
      (char *)"JP2C", 2, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1785737833,
      (char *)"JP2I", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {2020437024,
      (char *)"XML", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                        jas_stream_t * ))0,
                         (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                              FILE * ))0}}, 
        {1970628964,
      (char *)"UUID", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1969843814,
      (char *)"UINF", 1, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1969451892,
      (char *)"ULST", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                         jas_stream_t * ))0,
                          (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                               FILE * ))0}}, 
        {1970433056,
      (char *)"URL", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                        jas_stream_t * ))0,
                         (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                              FILE * ))0}}, 
        {0,
      (char *)0, 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0, (int (*)(jp2_box_t * ,
                                                                                    jas_stream_t * ))0,
                     (int (*)(jp2_box_t * , jas_stream_t * ))0, (void (*)(jp2_box_t * ,
                                                                          FILE * ))0}}};
#line 178 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
jp2_boxinfo_t jp2_boxinfo_unk  =    {0, (char *)"Unknown", 0, {(void (*)(jp2_box_t * ))0, (void (*)(jp2_box_t * ))0,
                              (int (*)(jp2_box_t * , jas_stream_t * ))0, (int (*)(jp2_box_t * ,
                                                                                  jas_stream_t * ))0,
                              (void (*)(jp2_box_t * , FILE * ))0}};
#line 186 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
jp2_box_t *jp2_box_create(int type ) 
{ 
  jp2_box_t *box ;
  jp2_boxinfo_t *boxinfo ;
  void *tmp ;

  {
  {
#line 191
  tmp = jas_malloc(sizeof(jp2_box_t ));
#line 191
  box = (jp2_box_t *)tmp;
  }
#line 191
  if (! box) {
#line 192
    return ((jp2_box_t *)0);
  }
  {
#line 194
  memset((void *)box, 0, sizeof(jp2_box_t ));
#line 195
  box->type = (uint_fast32_t )type;
#line 196
  box->len = (uint_fast32_t )0;
#line 197
  boxinfo = jp2_boxinfolookup(type);
  }
#line 197
  if (! boxinfo) {
#line 198
    return ((jp2_box_t *)0);
  }
#line 200
  box->info = boxinfo;
#line 201
  box->ops = & boxinfo->ops;
#line 202
  return (box);
}
}
#line 209 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
void jp2_box_destroy(jp2_box_t *box ) 
{ 


  {
#line 211
  if ((box->ops)->destroy) {
    {
#line 212
    (*((box->ops)->destroy))(box);
    }
  }
  {
#line 214
  jas_free((void *)box);
  }
#line 216
  return;
}
}
#line 217 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static void jp2_bpcc_destroy(jp2_box_t *box ) 
{ 
  jp2_bpcc_t *bpcc ;

  {
#line 219
  bpcc = & box->data.bpcc;
#line 220
  if (bpcc->bpcs) {
    {
#line 221
    jas_free((void *)bpcc->bpcs);
#line 222
    bpcc->bpcs = (uint_fast8_t *)0;
    }
  }
#line 225
  return;
}
}
#line 226 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static void jp2_cdef_destroy(jp2_box_t *box ) 
{ 
  jp2_cdef_t *cdef ;

  {
#line 228
  cdef = & box->data.cdef;
#line 229
  if (cdef->ents) {
    {
#line 230
    jas_free((void *)cdef->ents);
#line 231
    cdef->ents = (jp2_cdefchan_t *)0;
    }
  }
#line 234
  return;
}
}
#line 239 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
jp2_box_t *jp2_box_get(jas_stream_t *in ) 
{ 
  jp2_box_t *box ;
  jp2_boxinfo_t *boxinfo ;
  jas_stream_t *tmpstream ;
  uint_fast32_t len ;
  uint_fast64_t extlen ;
  int dataflag ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int tmp ;
  int __cil_tmp15 ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  void *tmp___2 ;

  {
  {
#line 248
  box = (jp2_box_t *)0;
#line 249
  tmpstream = (jas_stream_t *)0;
#line 251
  tmp___2 = jas_malloc(sizeof(jp2_box_t ));
#line 251
  box = (jp2_box_t *)tmp___2;
  }
#line 251
  if (! box) {
#line 252
    goto error;
  }
  {
#line 257
  box->ops = & jp2_boxinfo_unk.ops;
#line 259
  __cil_tmp10 = jp2_getuint32(in, & box->type);
#line 259
  __cil_tmp9 = jp2_getuint32(in, & len);
  }
#line 259
  if (__cil_tmp9) {
#line 260
    goto error;
  } else
#line 259
  if (__cil_tmp10) {
#line 260
    goto error;
  }
  {
#line 262
  boxinfo = jp2_boxinfolookup((int )box->type);
#line 263
  box->info = boxinfo;
#line 264
  box->len = len;
#line 265
  __cil_tmp12 = jas_getdbglevel();
  }
#line 265
  if (__cil_tmp12 >= 10) {
    {
#line 265
    __cil_tmp13 = jas_eprintf("preliminary processing of JP2 box: type=%c%s%c (0x%08x); length=%d\n",
                              '\"', boxinfo->name, '\"', box->type, box->len);
#line 265
    tmp = __cil_tmp13;
    }
  } else {
#line 265
    tmp = 0;
  }
#line 269
  if (box->len == 1UL) {
    {
#line 270
    __cil_tmp15 = jp2_getuint64(in, & extlen);
    }
#line 270
    if (__cil_tmp15) {
#line 271
      goto error;
    }
#line 273
    if (extlen > 4294967295UL) {
      {
#line 274
      jas_eprintf("warning: cannot handle large 64-bit box length\n");
#line 275
      extlen = 4294967295UL;
      }
    }
#line 277
    box->len = extlen;
#line 278
    tmp___0 = 16;
#line 278
    box->datalen = extlen - (unsigned long )tmp___0;
  } else {
#line 280
    tmp___1 = 8;
#line 280
    box->datalen = box->len - (unsigned long )tmp___1;
  }
#line 282
  if (box->len != 0UL) {
#line 282
    if (box->len < 8UL) {
#line 283
      goto error;
    }
  }
#line 286
  dataflag = ! ((box->info)->flags & 3);
#line 288
  if (dataflag) {
    {
#line 289
    tmpstream = jas_stream_memopen((char *)0, 0);
    }
#line 289
    if (! tmpstream) {
#line 290
      goto error;
    }
    {
#line 292
    __cil_tmp19 = jas_stream_copy(tmpstream, in, (int )box->datalen);
    }
#line 292
    if (__cil_tmp19) {
      {
#line 293
      jas_eprintf("cannot copy box data\n");
      }
#line 294
      goto error;
    }
    {
#line 296
    jas_stream_rewind(tmpstream);
#line 300
    box->ops = & boxinfo->ops;
    }
#line 302
    if ((box->ops)->getdata) {
      {
#line 303
      __cil_tmp20 = (*((box->ops)->getdata))(box, tmpstream);
      }
#line 303
      if (__cil_tmp20) {
        {
#line 304
        jas_eprintf("cannot parse box data\n");
        }
#line 305
        goto error;
      }
    }
    {
#line 308
    jas_stream_close(tmpstream);
    }
  }
  {
#line 311
  __cil_tmp21 = jas_getdbglevel();
  }
#line 311
  if (__cil_tmp21 >= 1) {
    {
#line 312
    jp2_box_dump(box, stderr);
    }
  }
#line 315
  return (box);
  error: 
#line 318
  if (box) {
    {
#line 319
    jp2_box_destroy(box);
    }
  }
#line 321
  if (tmpstream) {
    {
#line 322
    jas_stream_close(tmpstream);
    }
  }
#line 324
  return ((jp2_box_t *)0);
}
}
#line 327 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
void jp2_box_dump(jp2_box_t *box , FILE *out ) 
{ 
  jp2_boxinfo_t *boxinfo ;

  {
  {
#line 330
  boxinfo = jp2_boxinfolookup((int )box->type);
#line 333
  fprintf(out, "JP2 box: ");
#line 334
  fprintf(out, "type=%c%s%c (0x%08lx); length=%lu\n\b\033\225U", '\"', boxinfo->name,
          '\"', box->type, box->len);
  }
#line 336
  if ((box->ops)->dumpdata) {
    {
#line 337
    (*((box->ops)->dumpdata))(box, out);
    }
  }
#line 340
  return;
}
}
#line 341 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_jp_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_jp_t *jp ;
  int __cil_tmp4 ;

  {
  {
#line 343
  jp = & box->data.jp;
#line 344
  __cil_tmp4 = jp2_getuint32(in, & jp->magic);
  }
#line 344
  if (__cil_tmp4) {
#line 345
    return (-1);
  }
#line 347
  return (0);
}
}
#line 350 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_ftyp_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_ftyp_t *ftyp ;
  unsigned int i ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 352
  ftyp = & box->data.ftyp;
#line 354
  __cil_tmp6 = jp2_getuint32(in, & ftyp->minver);
#line 354
  __cil_tmp5 = jp2_getuint32(in, & ftyp->majver);
  }
#line 354
  if (__cil_tmp5) {
#line 355
    return (-1);
  } else
#line 354
  if (__cil_tmp6) {
#line 355
    return (-1);
  }
#line 357
  ftyp->numcompatcodes = (box->datalen - 8UL) / 4UL;
#line 358
  if (ftyp->numcompatcodes > 32UL) {
#line 359
    return (-1);
  }
#line 361
  i = 0U;
  {
#line 361
  while (1) {
    while_continue: /* CIL Label */ ;

#line 361
    if (! ((unsigned long )i < ftyp->numcompatcodes)) {
#line 361
      goto while_break;
    }
    {
#line 362
    __cil_tmp7 = jp2_getuint32(in, & ftyp->compatcodes[i]);
    }
#line 362
    if (__cil_tmp7) {
#line 363
      return (-1);
    }
#line 361
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 366
  return (0);
}
}
#line 369 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_ihdr_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_ihdr_t *ihdr ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 371
  ihdr = & box->data.ihdr;
#line 372
  __cil_tmp10 = jp2_getuint8(in, & ihdr->ipr);
#line 372
  __cil_tmp9 = jp2_getuint8(in, & ihdr->csunk);
#line 372
  __cil_tmp8 = jp2_getuint8(in, & ihdr->comptype);
#line 372
  __cil_tmp7 = jp2_getuint8(in, & ihdr->bpc);
#line 372
  __cil_tmp6 = jp2_getuint16(in, & ihdr->numcmpts);
#line 372
  __cil_tmp5 = jp2_getuint32(in, & ihdr->width);
#line 372
  __cil_tmp4 = jp2_getuint32(in, & ihdr->height);
  }
#line 372
  if (__cil_tmp4) {
#line 376
    return (-1);
  } else
#line 372
  if (__cil_tmp5) {
#line 376
    return (-1);
  } else
#line 372
  if (__cil_tmp6) {
#line 376
    return (-1);
  } else
#line 372
  if (__cil_tmp7) {
#line 376
    return (-1);
  } else
#line 372
  if (__cil_tmp8) {
#line 376
    return (-1);
  } else
#line 372
  if (__cil_tmp9) {
#line 376
    return (-1);
  } else
#line 372
  if (__cil_tmp10) {
#line 376
    return (-1);
  }
#line 378
  return (0);
}
}
#line 381 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_bpcc_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_bpcc_t *bpcc ;
  unsigned int i ;
  int __cil_tmp6 ;
  void *tmp ;

  {
  {
#line 383
  bpcc = & box->data.bpcc;
#line 385
  bpcc->numcmpts = box->datalen;
#line 386
  tmp = jas_alloc2(bpcc->numcmpts, sizeof(uint_fast8_t ));
#line 386
  bpcc->bpcs = (uint_fast8_t *)tmp;
  }
#line 386
  if (! bpcc->bpcs) {
#line 387
    return (-1);
  }
#line 389
  i = 0U;
  {
#line 389
  while (1) {
    while_continue: /* CIL Label */ ;

#line 389
    if (! ((unsigned long )i < bpcc->numcmpts)) {
#line 389
      goto while_break;
    }
    {
#line 390
    __cil_tmp6 = jp2_getuint8(in, bpcc->bpcs + i);
    }
#line 390
    if (__cil_tmp6) {
#line 391
      return (-1);
    }
#line 389
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 394
  return (0);
}
}
#line 397 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static void jp2_colr_dumpdata(jp2_box_t *box , FILE *out ) 
{ 
  jp2_colr_t *colr ;

  {
  {
#line 399
  colr = & box->data.colr;
#line 400
  fprintf(out, "method=%d; pri=%d; approx=%d\nU", (int )colr->method, (int )colr->pri,
          (int )colr->approx);
  }
#line 402
  if ((int )colr->method == 1) {
#line 402
    goto case_1;
  }
#line 405
  if ((int )colr->method == 2) {
#line 405
    goto case_2;
  }
#line 401
  goto switch_break;
  case_1: 
  {
#line 403
  fprintf(out, "csid=%d\n\230\001", (int )colr->csid);
  }
#line 404
  goto switch_break;
  case_2: 
  {
#line 406
  jas_memdump(out, (void *)colr->iccp, (size_t )colr->iccplen);
  }
#line 407
  goto switch_break;
  switch_break: ;
#line 410
  return;
}
}
#line 411 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_colr_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_colr_t *colr ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp9 ;
  void *tmp ;

  {
  {
#line 413
  colr = & box->data.colr;
#line 414
  colr->csid = (uint_fast32_t )0;
#line 415
  colr->iccp = (uint_fast8_t *)0;
#line 416
  colr->iccplen = 0;
#line 418
  __cil_tmp6 = jp2_getuint8(in, & colr->approx);
#line 418
  __cil_tmp5 = jp2_getuint8(in, & colr->pri);
#line 418
  __cil_tmp4 = jp2_getuint8(in, & colr->method);
  }
#line 418
  if (__cil_tmp4) {
#line 420
    return (-1);
  } else
#line 418
  if (__cil_tmp5) {
#line 420
    return (-1);
  } else
#line 418
  if (__cil_tmp6) {
#line 420
    return (-1);
  }
#line 423
  if ((int )colr->method == 1) {
#line 423
    goto case_1;
  }
#line 428
  if ((int )colr->method == 2) {
#line 428
    goto case_2;
  }
#line 422
  goto switch_break;
  case_1: 
  {
#line 424
  __cil_tmp7 = jp2_getuint32(in, & colr->csid);
  }
#line 424
  if (__cil_tmp7) {
#line 425
    return (-1);
  }
#line 427
  goto switch_break;
  case_2: 
  {
#line 429
  colr->iccplen = (int )(box->datalen - 3UL);
#line 430
  tmp = jas_alloc2((size_t )colr->iccplen, sizeof(uint_fast8_t ));
#line 430
  colr->iccp = (uint_fast8_t *)tmp;
  }
#line 430
  if (! colr->iccp) {
#line 431
    return (-1);
  }
  {
#line 433
  __cil_tmp9 = jas_stream_read(in, (void *)colr->iccp, colr->iccplen);
  }
#line 433
  if (__cil_tmp9 != colr->iccplen) {
#line 434
    return (-1);
  }
#line 436
  goto switch_break;
  switch_break: ;
#line 438
  return (0);
}
}
#line 441 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static void jp2_cdef_dumpdata(jp2_box_t *box , FILE *out ) 
{ 
  jp2_cdef_t *cdef ;
  unsigned int i ;

  {
#line 443
  cdef = & box->data.cdef;
#line 445
  i = 0U;
  {
#line 445
  while (1) {
    while_continue: /* CIL Label */ ;

#line 445
    if (! ((unsigned long )i < cdef->numchans)) {
#line 445
      goto while_break;
    }
    {
#line 446
    fprintf(out, "channo=%lu; type=%lu; assoc=%lu\n", (cdef->ents + i)->channo, (cdef->ents + i)->type,
            (cdef->ents + i)->assoc);
#line 445
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 449
  return;
}
}
#line 452 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static void jp2_colr_destroy(jp2_box_t *box ) 
{ 
  jp2_colr_t *colr ;

  {
#line 454
  colr = & box->data.colr;
#line 455
  if (colr->iccp) {
    {
#line 456
    jas_free((void *)colr->iccp);
    }
  }
#line 459
  return;
}
}
#line 460 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_cdef_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_cdef_t *cdef ;
  jp2_cdefchan_t *chan ;
  unsigned int channo ;
  int __cil_tmp6 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  void *tmp ;

  {
  {
#line 462
  cdef = & box->data.cdef;
#line 465
  __cil_tmp6 = jp2_getuint16(in, & cdef->numchans);
  }
#line 465
  if (__cil_tmp6) {
#line 466
    return (-1);
  }
  {
#line 468
  tmp = jas_alloc2(cdef->numchans, sizeof(jp2_cdefchan_t ));
#line 468
  cdef->ents = (jp2_cdefchan_t *)tmp;
  }
#line 468
  if (! cdef->ents) {
#line 469
    return (-1);
  }
#line 471
  channo = 0U;
  {
#line 471
  while (1) {
    while_continue: /* CIL Label */ ;

#line 471
    if (! ((unsigned long )channo < cdef->numchans)) {
#line 471
      goto while_break;
    }
    {
#line 472
    chan = cdef->ents + channo;
#line 473
    __cil_tmp10 = jp2_getuint16(in, & chan->assoc);
#line 473
    __cil_tmp9 = jp2_getuint16(in, & chan->type);
#line 473
    __cil_tmp8 = jp2_getuint16(in, & chan->channo);
    }
#line 473
    if (__cil_tmp8) {
#line 475
      return (-1);
    } else
#line 473
    if (__cil_tmp9) {
#line 475
      return (-1);
    } else
#line 473
    if (__cil_tmp10) {
#line 475
      return (-1);
    }
#line 471
    channo ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 478
  return (0);
}
}
#line 485 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
int jp2_box_put(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jas_stream_t *tmpstream ;
  int extlen ;
  int dataflag ;
  int __cil_tmp7 ;
  long __cil_tmp8 ;
  int tmp ;
  unsigned long tmp___0 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int tmp___1 ;
  int __cil_tmp15 ;

  {
#line 491
  tmpstream = (jas_stream_t *)0;
#line 493
  dataflag = ! ((box->info)->flags & 3);
#line 495
  if (dataflag) {
    {
#line 496
    tmpstream = jas_stream_memopen((char *)0, 0);
    }
#line 496
    if (! tmpstream) {
#line 497
      goto error;
    }
#line 499
    if ((box->ops)->putdata) {
      {
#line 500
      __cil_tmp7 = (*((box->ops)->putdata))(box, tmpstream);
      }
#line 500
      if (__cil_tmp7) {
#line 501
        goto error;
      }
    }
    {
#line 504
    tmp = 8;
#line 504
    __cil_tmp8 = jas_stream_tell(tmpstream);
#line 504
    box->len = (uint_fast32_t )(__cil_tmp8 + (long )tmp);
#line 505
    jas_stream_rewind(tmpstream);
    }
  }
#line 507
  extlen = (box->len >= 1UL << 32) != 0;
#line 508
  if (extlen) {
#line 508
    tmp___0 = 1UL;
  } else {
#line 508
    tmp___0 = box->len;
  }
  {
#line 508
  __cil_tmp11 = jp2_putuint32(out, tmp___0);
  }
#line 508
  if (__cil_tmp11) {
#line 509
    goto error;
  }
  {
#line 511
  __cil_tmp12 = jp2_putuint32(out, box->type);
  }
#line 511
  if (__cil_tmp12) {
#line 512
    goto error;
  }
#line 514
  if (extlen) {
    {
#line 515
    __cil_tmp13 = jp2_putuint64(out, box->len);
    }
#line 515
    if (__cil_tmp13) {
#line 516
      goto error;
    }
  }
#line 520
  if (dataflag) {
    {
#line 521
    tmp___1 = 8;
#line 521
    __cil_tmp15 = jas_stream_copy(out, tmpstream, (int )(box->len - (unsigned long )tmp___1));
    }
#line 521
    if (__cil_tmp15) {
#line 522
      goto error;
    }
    {
#line 524
    jas_stream_close(tmpstream);
    }
  }
#line 527
  return (0);
  error: 
#line 531
  if (tmpstream) {
    {
#line 532
    jas_stream_close(tmpstream);
    }
  }
#line 534
  return (-1);
}
}
#line 537 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_jp_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_jp_t *jp ;
  int __cil_tmp4 ;

  {
  {
#line 539
  jp = & box->data.jp;
#line 540
  __cil_tmp4 = jp2_putuint32(out, jp->magic);
  }
#line 540
  if (__cil_tmp4) {
#line 541
    return (-1);
  }
#line 543
  return (0);
}
}
#line 546 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_ftyp_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_ftyp_t *ftyp ;
  unsigned int i ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 548
  ftyp = & box->data.ftyp;
#line 550
  __cil_tmp6 = jp2_putuint32(out, ftyp->minver);
#line 550
  __cil_tmp5 = jp2_putuint32(out, ftyp->majver);
  }
#line 550
  if (__cil_tmp5) {
#line 551
    return (-1);
  } else
#line 550
  if (__cil_tmp6) {
#line 551
    return (-1);
  }
#line 553
  i = 0U;
  {
#line 553
  while (1) {
    while_continue: /* CIL Label */ ;

#line 553
    if (! ((unsigned long )i < ftyp->numcompatcodes)) {
#line 553
      goto while_break;
    }
    {
#line 554
    __cil_tmp7 = jp2_putuint32(out, ftyp->compatcodes[i]);
    }
#line 554
    if (__cil_tmp7) {
#line 555
      return (-1);
    }
#line 553
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 558
  return (0);
}
}
#line 561 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_ihdr_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_ihdr_t *ihdr ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 563
  ihdr = & box->data.ihdr;
#line 564
  __cil_tmp10 = jp2_putuint8(out, ihdr->ipr);
#line 564
  __cil_tmp9 = jp2_putuint8(out, ihdr->csunk);
#line 564
  __cil_tmp8 = jp2_putuint8(out, ihdr->comptype);
#line 564
  __cil_tmp7 = jp2_putuint8(out, ihdr->bpc);
#line 564
  __cil_tmp6 = jp2_putuint16(out, ihdr->numcmpts);
#line 564
  __cil_tmp5 = jp2_putuint32(out, ihdr->width);
#line 564
  __cil_tmp4 = jp2_putuint32(out, ihdr->height);
  }
#line 564
  if (__cil_tmp4) {
#line 568
    return (-1);
  } else
#line 564
  if (__cil_tmp5) {
#line 568
    return (-1);
  } else
#line 564
  if (__cil_tmp6) {
#line 568
    return (-1);
  } else
#line 564
  if (__cil_tmp7) {
#line 568
    return (-1);
  } else
#line 564
  if (__cil_tmp8) {
#line 568
    return (-1);
  } else
#line 564
  if (__cil_tmp9) {
#line 568
    return (-1);
  } else
#line 564
  if (__cil_tmp10) {
#line 568
    return (-1);
  }
#line 570
  return (0);
}
}
#line 573 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_bpcc_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_bpcc_t *bpcc ;
  unsigned int i ;
  int __cil_tmp5 ;

  {
#line 575
  bpcc = & box->data.bpcc;
#line 577
  i = 0U;
  {
#line 577
  while (1) {
    while_continue: /* CIL Label */ ;

#line 577
    if (! ((unsigned long )i < bpcc->numcmpts)) {
#line 577
      goto while_break;
    }
    {
#line 578
    __cil_tmp5 = jp2_putuint8(out, *(bpcc->bpcs + i));
    }
#line 578
    if (__cil_tmp5) {
#line 579
      return (-1);
    }
#line 577
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 582
  return (0);
}
}
#line 585 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_colr_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_colr_t *colr ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
  {
#line 587
  colr = & box->data.colr;
#line 588
  __cil_tmp6 = jp2_putuint8(out, colr->approx);
#line 588
  __cil_tmp5 = jp2_putuint8(out, colr->pri);
#line 588
  __cil_tmp4 = jp2_putuint8(out, colr->method);
  }
#line 588
  if (__cil_tmp4) {
#line 590
    return (-1);
  } else
#line 588
  if (__cil_tmp5) {
#line 590
    return (-1);
  } else
#line 588
  if (__cil_tmp6) {
#line 590
    return (-1);
  }
#line 593
  if ((int )colr->method == 1) {
#line 593
    goto case_1;
  }
#line 598
  if ((int )colr->method == 2) {
#line 598
    goto case_2;
  }
#line 592
  goto switch_break;
  case_1: 
  {
#line 594
  __cil_tmp7 = jp2_putuint32(out, colr->csid);
  }
#line 594
  if (__cil_tmp7) {
#line 595
    return (-1);
  }
#line 597
  goto switch_break;
  case_2: 
  {
#line 599
  __cil_tmp8 = jas_stream_write(out, (void const   *)colr->iccp, colr->iccplen);
  }
#line 599
  if (__cil_tmp8 != colr->iccplen) {
#line 601
    return (-1);
  }
#line 602
  goto switch_break;
  switch_break: ;
#line 604
  return (0);
}
}
#line 607 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_cdef_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 
  jp2_cdef_t *cdef ;
  unsigned int i ;
  jp2_cdefchan_t *ent ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;

  {
  {
#line 609
  cdef = & box->data.cdef;
#line 613
  __cil_tmp6 = jp2_putuint16(out, cdef->numchans);
  }
#line 613
  if (__cil_tmp6) {
#line 614
    return (-1);
  }
#line 617
  i = 0U;
  {
#line 617
  while (1) {
    while_continue: /* CIL Label */ ;

#line 617
    if (! ((unsigned long )i < cdef->numchans)) {
#line 617
      goto while_break;
    }
    {
#line 618
    ent = cdef->ents + i;
#line 619
    __cil_tmp9 = jp2_putuint16(out, ent->assoc);
#line 619
    __cil_tmp8 = jp2_putuint16(out, ent->type);
#line 619
    __cil_tmp7 = jp2_putuint16(out, ent->channo);
    }
#line 619
    if (__cil_tmp7) {
#line 622
      return (-1);
    } else
#line 619
    if (__cil_tmp8) {
#line 622
      return (-1);
    } else
#line 619
    if (__cil_tmp9) {
#line 622
      return (-1);
    }
#line 617
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 625
  return (0);
}
}
#line 632 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_getuint8(jas_stream_t *in , uint_fast8_t *val ) 
{ 
  int c ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 635
  if (! (in->flags_ & 7)) {
#line 635
    if (in->rwlimit_ >= 0L) {
#line 635
      if (in->rwcnt_ >= in->rwlimit_) {
#line 635
        in->flags_ |= 4;
#line 635
        tmp___0 = -1;
      } else {
#line 635
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 635
      (in->cnt_) --;
#line 635
      if (in->cnt_ < 0) {
        {
#line 635
        __cil_tmp4 = jas_stream_fillbuf(in, 1);
#line 635
        tmp = __cil_tmp4;
        }
      } else {
#line 635
        __cil_tmp5 = in->ptr_;
#line 635
        (in->ptr_) ++;
#line 635
        (in->rwcnt_) ++;
#line 635
        tmp = (int )*__cil_tmp5;
      }
#line 635
      tmp___0 = tmp;
    }
#line 635
    tmp___1 = tmp___0;
  } else {
#line 635
    tmp___1 = -1;
  }
#line 635
  c = tmp___1;
#line 635
  if (c == -1) {
#line 636
    return (-1);
  }
#line 638
  if (val) {
#line 639
    *val = (uint_fast8_t )c;
  }
#line 641
  return (0);
}
}
#line 644 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_getuint16(jas_stream_t *in , uint_fast16_t *val ) 
{ 
  uint_fast16_t v ;
  int c ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 648
  if (! (in->flags_ & 7)) {
#line 648
    if (in->rwlimit_ >= 0L) {
#line 648
      if (in->rwcnt_ >= in->rwlimit_) {
#line 648
        in->flags_ |= 4;
#line 648
        tmp___0 = -1;
      } else {
#line 648
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 648
      (in->cnt_) --;
#line 648
      if (in->cnt_ < 0) {
        {
#line 648
        __cil_tmp5 = jas_stream_fillbuf(in, 1);
#line 648
        tmp = __cil_tmp5;
        }
      } else {
#line 648
        __cil_tmp6 = in->ptr_;
#line 648
        (in->ptr_) ++;
#line 648
        (in->rwcnt_) ++;
#line 648
        tmp = (int )*__cil_tmp6;
      }
#line 648
      tmp___0 = tmp;
    }
#line 648
    tmp___1 = tmp___0;
  } else {
#line 648
    tmp___1 = -1;
  }
#line 648
  c = tmp___1;
#line 648
  if (c == -1) {
#line 649
    return (-1);
  }
#line 651
  v = (uint_fast16_t )c;
#line 652
  if (! (in->flags_ & 7)) {
#line 652
    if (in->rwlimit_ >= 0L) {
#line 652
      if (in->rwcnt_ >= in->rwlimit_) {
#line 652
        in->flags_ |= 4;
#line 652
        tmp___3 = -1;
      } else {
#line 652
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
#line 652
      (in->cnt_) --;
#line 652
      if (in->cnt_ < 0) {
        {
#line 652
        __cil_tmp10 = jas_stream_fillbuf(in, 1);
#line 652
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 652
        __cil_tmp11 = in->ptr_;
#line 652
        (in->ptr_) ++;
#line 652
        (in->rwcnt_) ++;
#line 652
        tmp___2 = (int )*__cil_tmp11;
      }
#line 652
      tmp___3 = tmp___2;
    }
#line 652
    tmp___4 = tmp___3;
  } else {
#line 652
    tmp___4 = -1;
  }
#line 652
  c = tmp___4;
#line 652
  if (c == -1) {
#line 653
    return (-1);
  }
#line 655
  v = (v << 8) | (unsigned long )c;
#line 656
  if (val) {
#line 657
    *val = v;
  }
#line 659
  return (0);
}
}
#line 662 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_getuint32(jas_stream_t *in , uint_fast32_t *val ) 
{ 
  uint_fast32_t v ;
  int c ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp20 ;
  unsigned char *__cil_tmp21 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;

  {
#line 666
  if (! (in->flags_ & 7)) {
#line 666
    if (in->rwlimit_ >= 0L) {
#line 666
      if (in->rwcnt_ >= in->rwlimit_) {
#line 666
        in->flags_ |= 4;
#line 666
        tmp___0 = -1;
      } else {
#line 666
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 666
      (in->cnt_) --;
#line 666
      if (in->cnt_ < 0) {
        {
#line 666
        __cil_tmp5 = jas_stream_fillbuf(in, 1);
#line 666
        tmp = __cil_tmp5;
        }
      } else {
#line 666
        __cil_tmp6 = in->ptr_;
#line 666
        (in->ptr_) ++;
#line 666
        (in->rwcnt_) ++;
#line 666
        tmp = (int )*__cil_tmp6;
      }
#line 666
      tmp___0 = tmp;
    }
#line 666
    tmp___1 = tmp___0;
  } else {
#line 666
    tmp___1 = -1;
  }
#line 666
  c = tmp___1;
#line 666
  if (c == -1) {
#line 667
    return (-1);
  }
#line 669
  v = (uint_fast32_t )c;
#line 670
  if (! (in->flags_ & 7)) {
#line 670
    if (in->rwlimit_ >= 0L) {
#line 670
      if (in->rwcnt_ >= in->rwlimit_) {
#line 670
        in->flags_ |= 4;
#line 670
        tmp___3 = -1;
      } else {
#line 670
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
#line 670
      (in->cnt_) --;
#line 670
      if (in->cnt_ < 0) {
        {
#line 670
        __cil_tmp10 = jas_stream_fillbuf(in, 1);
#line 670
        tmp___2 = __cil_tmp10;
        }
      } else {
#line 670
        __cil_tmp11 = in->ptr_;
#line 670
        (in->ptr_) ++;
#line 670
        (in->rwcnt_) ++;
#line 670
        tmp___2 = (int )*__cil_tmp11;
      }
#line 670
      tmp___3 = tmp___2;
    }
#line 670
    tmp___4 = tmp___3;
  } else {
#line 670
    tmp___4 = -1;
  }
#line 670
  c = tmp___4;
#line 670
  if (c == -1) {
#line 671
    return (-1);
  }
#line 673
  v = (v << 8) | (unsigned long )c;
#line 674
  if (! (in->flags_ & 7)) {
#line 674
    if (in->rwlimit_ >= 0L) {
#line 674
      if (in->rwcnt_ >= in->rwlimit_) {
#line 674
        in->flags_ |= 4;
#line 674
        tmp___6 = -1;
      } else {
#line 674
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ 
#line 674
      (in->cnt_) --;
#line 674
      if (in->cnt_ < 0) {
        {
#line 674
        __cil_tmp15 = jas_stream_fillbuf(in, 1);
#line 674
        tmp___5 = __cil_tmp15;
        }
      } else {
#line 674
        __cil_tmp16 = in->ptr_;
#line 674
        (in->ptr_) ++;
#line 674
        (in->rwcnt_) ++;
#line 674
        tmp___5 = (int )*__cil_tmp16;
      }
#line 674
      tmp___6 = tmp___5;
    }
#line 674
    tmp___7 = tmp___6;
  } else {
#line 674
    tmp___7 = -1;
  }
#line 674
  c = tmp___7;
#line 674
  if (c == -1) {
#line 675
    return (-1);
  }
#line 677
  v = (v << 8) | (unsigned long )c;
#line 678
  if (! (in->flags_ & 7)) {
#line 678
    if (in->rwlimit_ >= 0L) {
#line 678
      if (in->rwcnt_ >= in->rwlimit_) {
#line 678
        in->flags_ |= 4;
#line 678
        tmp___9 = -1;
      } else {
#line 678
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 678
      (in->cnt_) --;
#line 678
      if (in->cnt_ < 0) {
        {
#line 678
        __cil_tmp20 = jas_stream_fillbuf(in, 1);
#line 678
        tmp___8 = __cil_tmp20;
        }
      } else {
#line 678
        __cil_tmp21 = in->ptr_;
#line 678
        (in->ptr_) ++;
#line 678
        (in->rwcnt_) ++;
#line 678
        tmp___8 = (int )*__cil_tmp21;
      }
#line 678
      tmp___9 = tmp___8;
    }
#line 678
    tmp___10 = tmp___9;
  } else {
#line 678
    tmp___10 = -1;
  }
#line 678
  c = tmp___10;
#line 678
  if (c == -1) {
#line 679
    return (-1);
  }
#line 681
  v = (v << 8) | (unsigned long )c;
#line 682
  if (val) {
#line 683
    *val = v;
  }
#line 685
  return (0);
}
}
#line 688 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_getuint64(jas_stream_t *in , uint_fast64_t *val ) 
{ 
  uint_fast64_t tmpval ;
  int i ;
  int c ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 694
  tmpval = (uint_fast64_t )0;
#line 695
  i = 0;
  {
#line 695
  while (1) {
    while_continue: /* CIL Label */ ;

#line 695
    if (! (i < 8)) {
#line 695
      goto while_break;
    }
#line 696
    tmpval <<= 8;
#line 697
    if (! (in->flags_ & 7)) {
#line 697
      if (in->rwlimit_ >= 0L) {
#line 697
        if (in->rwcnt_ >= in->rwlimit_) {
#line 697
          in->flags_ |= 4;
#line 697
          tmp___0 = -1;
        } else {
#line 697
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 697
        (in->cnt_) --;
#line 697
        if (in->cnt_ < 0) {
          {
#line 697
          __cil_tmp6 = jas_stream_fillbuf(in, 1);
#line 697
          tmp = __cil_tmp6;
          }
        } else {
#line 697
          __cil_tmp7 = in->ptr_;
#line 697
          (in->ptr_) ++;
#line 697
          (in->rwcnt_) ++;
#line 697
          tmp = (int )*__cil_tmp7;
        }
#line 697
        tmp___0 = tmp;
      }
#line 697
      tmp___1 = tmp___0;
    } else {
#line 697
      tmp___1 = -1;
    }
#line 697
    c = tmp___1;
#line 697
    if (c == -1) {
#line 698
      return (-1);
    }
#line 700
    tmpval |= (unsigned long )(c & 255);
#line 695
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 702
  *val = tmpval;
#line 704
  return (0);
}
}
#line 711 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_putuint8(jas_stream_t *out , uint_fast8_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 713
  if (! (out->flags_ & 7)) {
#line 713
    if (out->rwlimit_ >= 0L) {
#line 713
      if (out->rwcnt_ >= out->rwlimit_) {
#line 713
        out->flags_ |= 4;
#line 713
        tmp___0 = -1;
      } else {
#line 713
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 713
      (out->cnt_) --;
#line 713
      out->bufmode_ |= 32;
#line 713
      if (out->cnt_ < 0) {
        {
#line 713
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )((int )val & 255)));
#line 713
        tmp = __cil_tmp3;
        }
      } else {
#line 713
        __cil_tmp4 = out->ptr_;
#line 713
        (out->ptr_) ++;
#line 713
        *__cil_tmp4 = (unsigned char )((int )val & 255);
#line 713
        (out->rwcnt_) ++;
#line 713
        tmp = (int )*__cil_tmp4;
      }
#line 713
      tmp___0 = tmp;
    }
#line 713
    tmp___1 = tmp___0;
  } else {
#line 713
    tmp___1 = -1;
  }
#line 713
  if (tmp___1 == -1) {
#line 714
    return (-1);
  }
#line 716
  return (0);
}
}
#line 719 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_putuint16(jas_stream_t *out , uint_fast16_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 721
  if (! (out->flags_ & 7)) {
#line 721
    if (out->rwlimit_ >= 0L) {
#line 721
      if (out->rwcnt_ >= out->rwlimit_) {
#line 721
        out->flags_ |= 4;
#line 721
        tmp___3 = -1;
      } else {
#line 721
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 721
      (out->cnt_) --;
#line 721
      out->bufmode_ |= 32;
#line 721
      if (out->cnt_ < 0) {
        {
#line 721
        __cil_tmp8 = jas_stream_flushbuf(out, (int )((unsigned char )(val & 255UL)));
#line 721
        tmp___2 = __cil_tmp8;
        }
      } else {
#line 721
        __cil_tmp9 = out->ptr_;
#line 721
        (out->ptr_) ++;
#line 721
        *__cil_tmp9 = (unsigned char )(val & 255UL);
#line 721
        (out->rwcnt_) ++;
#line 721
        tmp___2 = (int )*__cil_tmp9;
      }
#line 721
      tmp___3 = tmp___2;
    }
#line 721
    tmp___4 = tmp___3;
  } else {
#line 721
    tmp___4 = -1;
  }
#line 721
  if (! (out->flags_ & 7)) {
#line 721
    if (out->rwlimit_ >= 0L) {
#line 721
      if (out->rwcnt_ >= out->rwlimit_) {
#line 721
        out->flags_ |= 4;
#line 721
        tmp___0 = -1;
      } else {
#line 721
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
#line 721
      (out->cnt_) --;
#line 721
      out->bufmode_ |= 32;
#line 721
      if (out->cnt_ < 0) {
        {
#line 721
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 8) & 255UL)));
#line 721
        tmp = __cil_tmp3;
        }
      } else {
#line 721
        __cil_tmp4 = out->ptr_;
#line 721
        (out->ptr_) ++;
#line 721
        *__cil_tmp4 = (unsigned char )((val >> 8) & 255UL);
#line 721
        (out->rwcnt_) ++;
#line 721
        tmp = (int )*__cil_tmp4;
      }
#line 721
      tmp___0 = tmp;
    }
#line 721
    tmp___1 = tmp___0;
  } else {
#line 721
    tmp___1 = -1;
  }
#line 721
  if (tmp___1 == -1) {
#line 723
    return (-1);
  } else
#line 721
  if (tmp___4 == -1) {
#line 723
    return (-1);
  }
#line 725
  return (0);
}
}
#line 728 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_putuint32(jas_stream_t *out , uint_fast32_t val ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp13 ;
  unsigned char *__cil_tmp14 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp18 ;
  unsigned char *__cil_tmp19 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;

  {
#line 730
  if (! (out->flags_ & 7)) {
#line 730
    if (out->rwlimit_ >= 0L) {
#line 730
      if (out->rwcnt_ >= out->rwlimit_) {
#line 730
        out->flags_ |= 4;
#line 730
        tmp___9 = -1;
      } else {
#line 730
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 730
      (out->cnt_) --;
#line 730
      out->bufmode_ |= 32;
#line 730
      if (out->cnt_ < 0) {
        {
#line 730
        __cil_tmp18 = jas_stream_flushbuf(out, (int )((unsigned char )(val & 255UL)));
#line 730
        tmp___8 = __cil_tmp18;
        }
      } else {
#line 730
        __cil_tmp19 = out->ptr_;
#line 730
        (out->ptr_) ++;
#line 730
        *__cil_tmp19 = (unsigned char )(val & 255UL);
#line 730
        (out->rwcnt_) ++;
#line 730
        tmp___8 = (int )*__cil_tmp19;
      }
#line 730
      tmp___9 = tmp___8;
    }
#line 730
    tmp___10 = tmp___9;
  } else {
#line 730
    tmp___10 = -1;
  }
#line 730
  if (! (out->flags_ & 7)) {
#line 730
    if (out->rwlimit_ >= 0L) {
#line 730
      if (out->rwcnt_ >= out->rwlimit_) {
#line 730
        out->flags_ |= 4;
#line 730
        tmp___6 = -1;
      } else {
#line 730
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
#line 730
      (out->cnt_) --;
#line 730
      out->bufmode_ |= 32;
#line 730
      if (out->cnt_ < 0) {
        {
#line 730
        __cil_tmp13 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 8) & 255UL)));
#line 730
        tmp___5 = __cil_tmp13;
        }
      } else {
#line 730
        __cil_tmp14 = out->ptr_;
#line 730
        (out->ptr_) ++;
#line 730
        *__cil_tmp14 = (unsigned char )((val >> 8) & 255UL);
#line 730
        (out->rwcnt_) ++;
#line 730
        tmp___5 = (int )*__cil_tmp14;
      }
#line 730
      tmp___6 = tmp___5;
    }
#line 730
    tmp___7 = tmp___6;
  } else {
#line 730
    tmp___7 = -1;
  }
#line 730
  if (! (out->flags_ & 7)) {
#line 730
    if (out->rwlimit_ >= 0L) {
#line 730
      if (out->rwcnt_ >= out->rwlimit_) {
#line 730
        out->flags_ |= 4;
#line 730
        tmp___3 = -1;
      } else {
#line 730
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ 
#line 730
      (out->cnt_) --;
#line 730
      out->bufmode_ |= 32;
#line 730
      if (out->cnt_ < 0) {
        {
#line 730
        __cil_tmp8 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 16) & 255UL)));
#line 730
        tmp___2 = __cil_tmp8;
        }
      } else {
#line 730
        __cil_tmp9 = out->ptr_;
#line 730
        (out->ptr_) ++;
#line 730
        *__cil_tmp9 = (unsigned char )((val >> 16) & 255UL);
#line 730
        (out->rwcnt_) ++;
#line 730
        tmp___2 = (int )*__cil_tmp9;
      }
#line 730
      tmp___3 = tmp___2;
    }
#line 730
    tmp___4 = tmp___3;
  } else {
#line 730
    tmp___4 = -1;
  }
#line 730
  if (! (out->flags_ & 7)) {
#line 730
    if (out->rwlimit_ >= 0L) {
#line 730
      if (out->rwcnt_ >= out->rwlimit_) {
#line 730
        out->flags_ |= 4;
#line 730
        tmp___0 = -1;
      } else {
#line 730
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 730
      (out->cnt_) --;
#line 730
      out->bufmode_ |= 32;
#line 730
      if (out->cnt_ < 0) {
        {
#line 730
        __cil_tmp3 = jas_stream_flushbuf(out, (int )((unsigned char )((val >> 24) & 255UL)));
#line 730
        tmp = __cil_tmp3;
        }
      } else {
#line 730
        __cil_tmp4 = out->ptr_;
#line 730
        (out->ptr_) ++;
#line 730
        *__cil_tmp4 = (unsigned char )((val >> 24) & 255UL);
#line 730
        (out->rwcnt_) ++;
#line 730
        tmp = (int )*__cil_tmp4;
      }
#line 730
      tmp___0 = tmp;
    }
#line 730
    tmp___1 = tmp___0;
  } else {
#line 730
    tmp___1 = -1;
  }
#line 730
  if (tmp___1 == -1) {
#line 734
    return (-1);
  } else
#line 730
  if (tmp___4 == -1) {
#line 734
    return (-1);
  } else
#line 730
  if (tmp___7 == -1) {
#line 734
    return (-1);
  } else
#line 730
  if (tmp___10 == -1) {
#line 734
    return (-1);
  }
#line 736
  return (0);
}
}
#line 739 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_putuint64(jas_stream_t *out , uint_fast64_t val ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;

  {
  {
#line 741
  __cil_tmp4 = jp2_putuint32(out, val & 4294967295UL);
#line 741
  __cil_tmp3 = jp2_putuint32(out, (val >> 32) & 4294967295UL);
  }
#line 741
  if (__cil_tmp3) {
#line 743
    return (-1);
  } else
#line 741
  if (__cil_tmp4) {
#line 743
    return (-1);
  }
#line 745
  return (0);
}
}
#line 752 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
jp2_boxinfo_t *jp2_boxinfolookup(int type ) 
{ 
  jp2_boxinfo_t *boxinfo ;

  {
#line 755
  boxinfo = jp2_boxinfos;
  {
#line 755
  while (1) {
    while_continue: /* CIL Label */ ;

#line 755
    if (! boxinfo->name) {
#line 755
      goto while_break;
    }
#line 756
    if (boxinfo->type == type) {
#line 757
      return (boxinfo);
    }
#line 755
    boxinfo ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 760
  return (& jp2_boxinfo_unk);
}
}
#line 767 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static void jp2_cmap_destroy(jp2_box_t *box ) 
{ 
  jp2_cmap_t *cmap ;

  {
#line 769
  cmap = & box->data.cmap;
#line 770
  if (cmap->ents) {
    {
#line 771
    jas_free((void *)cmap->ents);
    }
  }
#line 774
  return;
}
}
#line 775 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_cmap_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_cmap_t *cmap ;
  jp2_cmapent_t *ent ;
  unsigned int i ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  void *tmp ;

  {
  {
#line 777
  cmap = & box->data.cmap;
#line 781
  cmap->numchans = box->datalen / 4UL;
#line 782
  tmp = jas_alloc2(cmap->numchans, sizeof(jp2_cmapent_t ));
#line 782
  cmap->ents = (jp2_cmapent_t *)tmp;
  }
#line 782
  if (! cmap->ents) {
#line 783
    return (-1);
  }
#line 785
  i = 0U;
  {
#line 785
  while (1) {
    while_continue: /* CIL Label */ ;

#line 785
    if (! ((unsigned long )i < cmap->numchans)) {
#line 785
      goto while_break;
    }
    {
#line 786
    ent = cmap->ents + i;
#line 787
    __cil_tmp9 = jp2_getuint8(in, & ent->pcol);
#line 787
    __cil_tmp8 = jp2_getuint8(in, & ent->map);
#line 787
    __cil_tmp7 = jp2_getuint16(in, & ent->cmptno);
    }
#line 787
    if (__cil_tmp7) {
#line 790
      return (-1);
    } else
#line 787
    if (__cil_tmp8) {
#line 790
      return (-1);
    } else
#line 787
    if (__cil_tmp9) {
#line 790
      return (-1);
    }
#line 785
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 794
  return (0);
}
}
#line 797 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_cmap_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 


  {
#line 800
  box = (jp2_box_t *)0;
#line 801
  out = (jas_stream_t *)0;
#line 803
  return (-1);
}
}
#line 806 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static void jp2_cmap_dumpdata(jp2_box_t *box , FILE *out ) 
{ 
  jp2_cmap_t *cmap ;
  unsigned int i ;
  jp2_cmapent_t *ent ;

  {
  {
#line 808
  cmap = & box->data.cmap;
#line 811
  fprintf(out, "numchans = %d\n", (int )cmap->numchans);
#line 812
  i = 0U;
  }
  {
#line 812
  while (1) {
    while_continue: /* CIL Label */ ;

#line 812
    if (! ((unsigned long )i < cmap->numchans)) {
#line 812
      goto while_break;
    }
    {
#line 813
    ent = cmap->ents + i;
#line 814
    fprintf(out, "cmptno=%d; map=%d; pcol=%d\n", (int )ent->cmptno, (int )ent->map,
            (int )ent->pcol);
#line 812
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 816
  return;
}
}
#line 819 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static void jp2_pclr_destroy(jp2_box_t *box ) 
{ 
  jp2_pclr_t *pclr ;

  {
#line 821
  pclr = & box->data.pclr;
#line 822
  if (pclr->lutdata) {
    {
#line 823
    jas_free((void *)pclr->lutdata);
    }
  }
#line 825
  if (pclr->bpc) {
    {
#line 826
    jas_free((void *)pclr->bpc);
    }
  }
#line 829
  return;
}
}
#line 829 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_pclr_getdata(jp2_box_t *box , jas_stream_t *in ) 
{ 
  jp2_pclr_t *pclr ;
  int lutsize ;
  unsigned int i ;
  unsigned int j ;
  int_fast32_t x ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  void *tmp ;
  void *tmp___0 ;

  {
  {
#line 831
  pclr = & box->data.pclr;
#line 837
  pclr->lutdata = (int_fast32_t *)0;
#line 839
  __cil_tmp9 = jp2_getuint8(in, & pclr->numchans);
#line 839
  __cil_tmp8 = jp2_getuint16(in, & pclr->numlutents);
  }
#line 839
  if (__cil_tmp8) {
#line 841
    return (-1);
  } else
#line 839
  if (__cil_tmp9) {
#line 841
    return (-1);
  }
  {
#line 843
  lutsize = (int )(pclr->numlutents * (unsigned long )pclr->numchans);
#line 844
  tmp = jas_alloc2((size_t )lutsize, sizeof(int_fast32_t ));
#line 844
  pclr->lutdata = (int_fast32_t *)tmp;
  }
#line 844
  if (! pclr->lutdata) {
#line 845
    return (-1);
  }
  {
#line 847
  tmp___0 = jas_alloc2((size_t )pclr->numchans, sizeof(uint_fast8_t ));
#line 847
  pclr->bpc = (uint_fast8_t *)tmp___0;
  }
#line 847
  if (! pclr->bpc) {
#line 848
    return (-1);
  }
#line 850
  i = 0U;
  {
#line 850
  while (1) {
    while_continue: /* CIL Label */ ;

#line 850
    if (! (i < (unsigned int )pclr->numchans)) {
#line 850
      goto while_break;
    }
    {
#line 851
    __cil_tmp12 = jp2_getuint8(in, pclr->bpc + i);
    }
#line 851
    if (__cil_tmp12) {
#line 852
      return (-1);
    }
#line 850
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
#line 855
  i = 0U;
  {
#line 855
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 855
    if (! ((unsigned long )i < pclr->numlutents)) {
#line 855
      goto while_break___0;
    }
#line 856
    j = 0U;
    {
#line 856
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 856
      if (! (j < (unsigned int )pclr->numchans)) {
#line 856
        goto while_break___1;
      }
      {
#line 857
      __cil_tmp13 = jp2_getint(in, ((int )*(pclr->bpc + j) & 128) != 0, ((int )*(pclr->bpc + j) & 127) + 1,
                               & x);
      }
#line 857
      if (__cil_tmp13) {
#line 859
        return (-1);
      }
#line 861
      *(pclr->lutdata + (i * (unsigned int )pclr->numchans + j)) = x;
#line 856
      j ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
#line 855
    i ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: ;
#line 864
  return (0);
}
}
#line 867 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_pclr_putdata(jp2_box_t *box , jas_stream_t *out ) 
{ 


  {
#line 873
  box = (jp2_box_t *)0;
#line 874
  out = (jas_stream_t *)0;
#line 875
  return (-1);
}
}
#line 878 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static void jp2_pclr_dumpdata(jp2_box_t *box , FILE *out ) 
{ 
  jp2_pclr_t *pclr ;
  unsigned int i ;
  int j ;

  {
  {
#line 880
  pclr = & box->data.pclr;
#line 883
  fprintf(out, "numents=%d; numchans=%d\n\230\001", (int )pclr->numlutents, (int )pclr->numchans);
#line 885
  i = 0U;
  }
  {
#line 885
  while (1) {
    while_continue: /* CIL Label */ ;

#line 885
    if (! ((unsigned long )i < pclr->numlutents)) {
#line 885
      goto while_break;
    }
#line 886
    j = 0;
    {
#line 886
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 886
      if (! (j < (int )pclr->numchans)) {
#line 886
        goto while_break___0;
      }
      {
#line 887
      fprintf(out, "LUT[%d][%d]=%li\n", i, j, *(pclr->lutdata + (i * (unsigned int )pclr->numchans + (unsigned int )j)));
#line 886
      j ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 885
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 889
  return;
}
}
#line 893 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
static int jp2_getint(jas_stream_t *in , int s , int n , int_fast32_t *val ) 
{ 
  int c ;
  int i ;
  uint_fast32_t v ;
  int m ;
  int __cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int sb ;

  {
#line 900
  m = (n + 7) / 8;
#line 902
  v = (uint_fast32_t )0;
#line 903
  i = 0;
  {
#line 903
  while (1) {
    while_continue: /* CIL Label */ ;

#line 903
    if (! (i < m)) {
#line 903
      goto while_break;
    }
#line 904
    if (! (in->flags_ & 7)) {
#line 904
      if (in->rwlimit_ >= 0L) {
#line 904
        if (in->rwcnt_ >= in->rwlimit_) {
#line 904
          in->flags_ |= 4;
#line 904
          tmp___0 = -1;
        } else {
#line 904
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 904
        (in->cnt_) --;
#line 904
        if (in->cnt_ < 0) {
          {
#line 904
          __cil_tmp9 = jas_stream_fillbuf(in, 1);
#line 904
          tmp = __cil_tmp9;
          }
        } else {
#line 904
          __cil_tmp10 = in->ptr_;
#line 904
          (in->ptr_) ++;
#line 904
          (in->rwcnt_) ++;
#line 904
          tmp = (int )*__cil_tmp10;
        }
#line 904
        tmp___0 = tmp;
      }
#line 904
      tmp___1 = tmp___0;
    } else {
#line 904
      tmp___1 = -1;
    }
#line 904
    c = tmp___1;
#line 904
    if (c == -1) {
#line 905
      return (-1);
    }
#line 907
    v = (v << 8) | (unsigned long )c;
#line 903
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 909
  v &= (unsigned long )((1 << n) - 1);
#line 910
  if (s) {
#line 912
    sb = (int )(v & (unsigned long )(1 << (8 * m - 1)));
#line 913
    *val = (int_fast32_t )((~ v + 1UL) & (unsigned long )((1 << 8 * m) - 1));
#line 914
    if (sb) {
#line 915
      *val = - *val;
    }
  } else {
#line 918
    *val = (int_fast32_t )v;
  }
#line 921
  return (0);
}
}
#line 924 "/root/patchweave/5/src/libjasper/jp2/jp2_cod.c"
jp2_cdefchan_t *jp2_cdef_lookup(jp2_cdef_t *cdef , int channo ) 
{ 
  unsigned int i ;
  jp2_cdefchan_t *cdefent ;

  {
#line 928
  i = 0U;
  {
#line 928
  while (1) {
    while_continue: /* CIL Label */ ;

#line 928
    if (! ((unsigned long )i < cdef->numchans)) {
#line 928
      goto while_break;
    }
#line 929
    cdefent = cdef->ents + i;
#line 930
    if (cdefent->channo == (unsigned long )((unsigned int )channo)) {
#line 931
      return (cdefent);
    }
#line 928
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 934
  return ((jp2_cdefchan_t *)0);
}
}
#line 64 "/root/patchweave/5/src/libjasper/base/jas_version.c"
char const   *jas_getversion(void) 
{ 


  {
#line 66
  return ("2.0.12");
}
}
#line 79 "/usr/include/ctype.h"
extern  __attribute__((__nothrow__)) unsigned short const   **__ctype_b_loc(void) ;
#line 91 "/root/patchweave/5/src/libjasper/include/jasper/jas_string.h"
char *jas_strdup(char const   *s ) ;
#line 121 "/root/patchweave/5/src/libjasper/include/jasper/jas_tvp.h"
jas_taginfo_t *jas_taginfos_lookup(jas_taginfo_t *taginfos , char const   *name ) ;
#line 127
jas_taginfo_t *jas_taginfo_nonull(jas_taginfo_t *taginfo ) ;
#line 134
jas_tvparser_t *jas_tvparser_create(char const   *s ) ;
#line 137
void jas_tvparser_destroy(jas_tvparser_t *tvp ) ;
#line 140
int jas_tvparser_next(jas_tvparser_t *tvp ) ;
#line 143
char *jas_tvparser_gettag(jas_tvparser_t *tvp ) ;
#line 146
char *jas_tvparser_getval(jas_tvparser_t *tvp ) ;
#line 93 "/root/patchweave/5/src/libjasper/base/jas_tvp.c"
jas_tvparser_t *jas_tvparser_create(char const   *s ) 
{ 
  jas_tvparser_t *tvp ;
  void *tmp ;

  {
  {
#line 96
  tmp = jas_malloc(sizeof(jas_tvparser_t ));
#line 96
  tvp = (jas_tvparser_t *)tmp;
  }
#line 96
  if (! tvp) {
#line 97
    return ((jas_tvparser_t *)0);
  }
  {
#line 99
  tvp->buf = jas_strdup(s);
  }
#line 99
  if (! tvp->buf) {
    {
#line 100
    jas_tvparser_destroy(tvp);
    }
#line 101
    return ((jas_tvparser_t *)0);
  }
#line 103
  tvp->pos = tvp->buf;
#line 104
  tvp->tag = (char *)0;
#line 105
  tvp->val = (char *)0;
#line 106
  return (tvp);
}
}
#line 109 "/root/patchweave/5/src/libjasper/base/jas_tvp.c"
void jas_tvparser_destroy(jas_tvparser_t *tvp ) 
{ 


  {
#line 111
  if (tvp->buf) {
    {
#line 112
    jas_free((void *)tvp->buf);
    }
  }
  {
#line 114
  jas_free((void *)tvp);
  }
#line 116
  return;
}
}
#line 122 "/root/patchweave/5/src/libjasper/base/jas_tvp.c"
int jas_tvparser_next(jas_tvparser_t *tvp ) 
{ 
  char *p ;
  char *tag ;
  char *val ;
  unsigned short const   **__cil_tmp5 ;
  unsigned short const   **__cil_tmp6 ;
  unsigned short const   **__cil_tmp7 ;
  unsigned short const   **__cil_tmp8 ;
  unsigned short const   **__cil_tmp9 ;
  unsigned short const   **__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  unsigned short const   **__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
#line 129
  p = tvp->pos;
  {
#line 130
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 130
    __cil_tmp5 = __ctype_b_loc();
    }
#line 130
    if ((int )*p != 0) {
#line 130
      if (! ((int )*(*__cil_tmp5 + (int )*p) & 8192)) {
#line 130
        goto while_break;
      }
    } else {
#line 130
      goto while_break;
    }
#line 131
    p ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 135
  if ((int )*p == 0) {
#line 137
    tvp->pos = p;
#line 138
    return (1);
  }
  {
#line 142
  __cil_tmp7 = __ctype_b_loc();
#line 142
  __cil_tmp6 = __ctype_b_loc();
  }
#line 142
  if (! ((int )*(*__cil_tmp6 + (int )*p) & 1024)) {
#line 142
    if (! ((int )*p == 95)) {
#line 142
      if (! ((int )*(*__cil_tmp7 + (int )*p) & 2048)) {
#line 143
        return (-1);
      }
    }
  }
#line 147
  tag = p;
  {
#line 150
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 150
    __cil_tmp9 = __ctype_b_loc();
#line 150
    __cil_tmp8 = __ctype_b_loc();
    }
#line 150
    if ((int )*p != 0) {
#line 150
      if (! ((int )*(*__cil_tmp8 + (int )*p) & 1024)) {
#line 150
        if (! ((int )*p == 95)) {
#line 150
          if (! ((int )*(*__cil_tmp9 + (int )*p) & 2048)) {
#line 150
            goto while_break___0;
          }
        }
      }
    } else {
#line 150
      goto while_break___0;
    }
#line 151
    p ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: ;
#line 155
  if ((int )*p == 0) {
#line 157
    tvp->tag = tag;
#line 158
    tvp->val = (char *)"\220";
#line 159
    tvp->pos = p;
#line 160
    return (0);
  }
#line 164
  if ((int )*p != 61) {
    {
#line 165
    __cil_tmp10 = __ctype_b_loc();
    }
#line 165
    if ((int )*p != 0) {
#line 165
      if (! ((int )*(*__cil_tmp10 + (int )*p) & 8192)) {
#line 166
        return (-1);
      }
    }
#line 168
    __cil_tmp11 = p;
#line 168
    p ++;
#line 168
    *__cil_tmp11 = (char )'\000';
#line 169
    tvp->tag = tag;
#line 170
    tvp->val = (char *)"\220";
#line 171
    tvp->pos = p;
#line 172
    return (0);
  }
#line 175
  __cil_tmp12 = p;
#line 175
  p ++;
#line 175
  *__cil_tmp12 = (char )'\000';
#line 177
  val = p;
  {
#line 178
  while (1) {
    while_continue___1: /* CIL Label */ ;
    {
#line 178
    __cil_tmp13 = __ctype_b_loc();
    }
#line 178
    if ((int )*p != 0) {
#line 178
      if (! (! ((int )*(*__cil_tmp13 + (int )*p) & 8192))) {
#line 178
        goto while_break___1;
      }
    } else {
#line 178
      goto while_break___1;
    }
#line 179
    p ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___1: ;
#line 182
  if ((int )*p != 0) {
#line 183
    __cil_tmp14 = p;
#line 183
    p ++;
#line 183
    *__cil_tmp14 = (char )'\000';
  }
#line 186
  tvp->pos = p;
#line 187
  tvp->tag = tag;
#line 188
  tvp->val = val;
#line 190
  return (0);
}
}
#line 198 "/root/patchweave/5/src/libjasper/base/jas_tvp.c"
char *jas_tvparser_gettag(jas_tvparser_t *tvp ) 
{ 


  {
#line 200
  return (tvp->tag);
}
}
#line 204 "/root/patchweave/5/src/libjasper/base/jas_tvp.c"
char *jas_tvparser_getval(jas_tvparser_t *tvp ) 
{ 


  {
#line 206
  return (tvp->val);
}
}
#line 214 "/root/patchweave/5/src/libjasper/base/jas_tvp.c"
jas_taginfo_t *jas_taginfos_lookup(jas_taginfo_t *taginfos , char const   *name ) 
{ 
  jas_taginfo_t *taginfo ;
  int __cil_tmp4 ;

  {
#line 217
  taginfo = taginfos;
  {
#line 218
  while (1) {
    while_continue: /* CIL Label */ ;

#line 218
    if (! (taginfo->id >= 0)) {
#line 218
      goto while_break;
    }
    {
#line 219
    __cil_tmp4 = strcmp((char const   *)taginfo->name, name);
    }
#line 219
    if (! __cil_tmp4) {
#line 220
      return (taginfo);
    }
#line 222
    taginfo ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 224
  return ((jas_taginfo_t *)0);
}
}
#line 232 "/root/patchweave/5/src/libjasper/base/jas_tvp.c"
static jas_taginfo_t invalidtaginfo  ;
#line 230 "/root/patchweave/5/src/libjasper/base/jas_tvp.c"
jas_taginfo_t *jas_taginfo_nonull(jas_taginfo_t *taginfo ) 
{ 
  jas_taginfo_t *tmp ;

  {
#line 232
  invalidtaginfo.id = -1;
#line 232
  invalidtaginfo.name = (char *)0;
#line 236
  if (taginfo) {
#line 236
    tmp = taginfo;
  } else {
#line 236
    tmp = & invalidtaginfo;
  }
#line 236
  return (tmp);
}
}
#line 66 "/usr/include/x86_64-linux-gnu/sys/time.h"
extern  __attribute__((__nothrow__)) int gettimeofday(struct timeval *__tv , void *__tz ) ;
#line 97 "/root/patchweave/5/src/libjasper/include/jasper/jas_tmr.h"
void jas_tmr_start(jas_tmr_t *tmr ) ;
#line 98
void jas_tmr_stop(jas_tmr_t *tmr ) ;
#line 99
double jas_tmr_get(jas_tmr_t *tmr ) ;
#line 87 "/root/patchweave/5/src/libjasper/base/jas_tmr.c"
void jas_tmr_start(jas_tmr_t *tmr ) 
{ 
  int __cil_tmp2 ;

  {
  {
#line 89
  __cil_tmp2 = gettimeofday(& tmr->start, (void *)0);
  }
#line 89
  if (__cil_tmp2) {
    {
#line 90
    abort();
    }
  }
#line 93
  return;
}
}
#line 94 "/root/patchweave/5/src/libjasper/base/jas_tmr.c"
void jas_tmr_stop(jas_tmr_t *tmr ) 
{ 
  int __cil_tmp2 ;

  {
  {
#line 96
  __cil_tmp2 = gettimeofday(& tmr->stop, (void *)0);
  }
#line 96
  if (__cil_tmp2) {
    {
#line 97
    abort();
    }
  }
#line 100
  return;
}
}
#line 101 "/root/patchweave/5/src/libjasper/base/jas_tmr.c"
double jas_tmr_get(jas_tmr_t *tmr ) 
{ 
  double t0 ;
  double t1 ;

  {
#line 105
  t0 = (double )tmr->start.tv_sec + (double )tmr->start.tv_usec / 1000000.;
#line 106
  t1 = (double )tmr->stop.tv_sec + (double )tmr->stop.tv_usec / 1000000.;
#line 107
  return (t1 - t0);
}
}
#line 86 "/root/patchweave/5/src/libjasper/base/jas_string.c"
char *jas_strdup(char const   *s ) 
{ 
  size_t n ;
  char *p ;
  unsigned long __cil_tmp4 ;
  void *tmp ;

  {
  {
#line 90
  __cil_tmp4 = strlen(s);
#line 90
  n = __cil_tmp4 + 1UL;
#line 91
  tmp = jas_malloc(n);
#line 91
  p = (char *)tmp;
  }
#line 91
  if (! p) {
#line 92
    return ((char *)0);
  }
  {
#line 94
  strcpy(p, s);
  }
#line 95
  return (p);
}
}
#line 102 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int jas_strtoopenmode(char const   *s ) ;
#line 103
static void jas_stream_destroy(jas_stream_t *stream ) ;
#line 104
static jas_stream_t *jas_stream_create(void) ;
#line 105
static void jas_stream_initbuf(jas_stream_t *stream , int bufmode , char *buf , int bufsize ) ;
#line 108
static int mem_read(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 109
static int mem_write(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 110
static long mem_seek(jas_stream_obj_t *obj , long offset , int origin ) ;
#line 111
static int mem_close(jas_stream_obj_t *obj ) ;
#line 113
static int sfile_read(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 114
static int sfile_write(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 115
static long sfile_seek(jas_stream_obj_t *obj , long offset , int origin ) ;
#line 116
static int sfile_close(jas_stream_obj_t *obj ) ;
#line 118
static int file_read(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 119
static int file_write(jas_stream_obj_t *obj , char *buf , int cnt ) ;
#line 120
static long file_seek(jas_stream_obj_t *obj , long offset , int origin ) ;
#line 121
static int file_close(jas_stream_obj_t *obj ) ;
#line 127 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static jas_stream_ops_t jas_stream_fileops  =    {& file_read, & file_write, & file_seek, & file_close};
#line 134 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static jas_stream_ops_t jas_stream_sfileops  =    {& sfile_read, & sfile_write, & sfile_seek, & sfile_close};
#line 141 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static jas_stream_ops_t jas_stream_memops  =    {& mem_read, & mem_write, & mem_seek, & mem_close};
#line 152 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static jas_stream_t *jas_stream_create(void) 
{ 
  jas_stream_t *stream ;
  void *tmp ;

  {
  {
#line 156
  tmp = jas_malloc(sizeof(jas_stream_t ));
#line 156
  stream = (jas_stream_t *)tmp;
  }
#line 156
  if (! stream) {
#line 157
    return ((jas_stream_t *)0);
  }
#line 159
  stream->openmode_ = 0;
#line 160
  stream->bufmode_ = 0;
#line 161
  stream->flags_ = 0;
#line 162
  stream->bufbase_ = (unsigned char *)0;
#line 163
  stream->bufstart_ = (unsigned char *)0;
#line 164
  stream->bufsize_ = 0;
#line 165
  stream->ptr_ = (unsigned char *)0;
#line 166
  stream->cnt_ = 0;
#line 167
  stream->ops_ = (jas_stream_ops_t *)0;
#line 168
  stream->obj_ = (jas_stream_obj_t *)0;
#line 169
  stream->rwcnt_ = 0L;
#line 170
  stream->rwlimit_ = -1L;
#line 172
  return (stream);
}
}
#line 263 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_memopen2(char *buf , size_t bufsize ) 
{ 
  jas_stream_t *stream ;
  jas_stream_memobj_t *obj ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int tmp___1 ;
  void *tmp___2 ;
  void *tmp___3 ;

  {
  {
#line 268
  __cil_tmp5 = jas_getdbglevel();
  }
#line 268
  if (__cil_tmp5 >= 100) {
    {
#line 268
    __cil_tmp6 = jas_eprintf("jas_stream_memopen2(%p, %zu)\n", buf, bufsize);
#line 268
    tmp = __cil_tmp6;
    }
  } else {
#line 268
    tmp = 0;
  }
  {
#line 272
  stream = jas_stream_create();
  }
#line 272
  if (! stream) {
#line 273
    return ((jas_stream_t *)0);
  }
  {
#line 278
  stream->openmode_ = 11;
#line 283
  jas_stream_initbuf(stream, 2, (char *)0, 0);
#line 286
  stream->ops_ = & jas_stream_memops;
#line 289
  tmp___2 = jas_malloc(sizeof(jas_stream_memobj_t ));
#line 289
  obj = (jas_stream_memobj_t *)tmp___2;
  }
#line 289
  if (! obj) {
    {
#line 290
    jas_stream_destroy(stream);
    }
#line 291
    return ((jas_stream_t *)0);
  }
#line 293
  stream->obj_ = (void *)obj;
#line 296
  obj->myalloc_ = 0;
#line 297
  obj->buf_ = (unsigned char *)0;
#line 301
  if (! bufsize) {
#line 302
    obj->bufsize_ = (size_t )1024;
#line 303
    obj->growable_ = 1;
  } else {
#line 305
    obj->bufsize_ = bufsize;
#line 306
    obj->growable_ = 0;
  }
#line 308
  if (buf) {
#line 309
    obj->buf_ = (unsigned char *)buf;
  } else {
    {
#line 311
    tmp___3 = jas_malloc(obj->bufsize_);
#line 311
    obj->buf_ = (unsigned char *)tmp___3;
#line 312
    obj->myalloc_ = 1;
    }
  }
#line 314
  if (! obj->buf_) {
    {
#line 315
    jas_stream_close(stream);
    }
#line 316
    return ((jas_stream_t *)0);
  }
  {
#line 318
  __cil_tmp12 = jas_getdbglevel();
  }
#line 318
  if (__cil_tmp12 >= 100) {
    {
#line 318
    __cil_tmp13 = jas_eprintf("jas_stream_memopen2 buffer buf=%p myalloc=%d\n", obj->buf_,
                              obj->myalloc_);
#line 318
    tmp___1 = __cil_tmp13;
    }
  } else {
#line 318
    tmp___1 = 0;
  }
#line 321
  if (buf) {
#line 321
    if (bufsize > 0UL) {
#line 324
      obj->len_ = (int_fast32_t )bufsize;
    } else {
#line 327
      obj->len_ = (int_fast32_t )0;
    }
  } else {
#line 327
    obj->len_ = (int_fast32_t )0;
  }
#line 329
  obj->pos_ = (int_fast32_t )0;
#line 331
  return (stream);
}
}
#line 351 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_memopen(char *buf , int bufsize ) 
{ 
  char *new_buf ;
  size_t new_bufsize ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  jas_stream_t *__cil_tmp8 ;

  {
  {
#line 356
  __cil_tmp5 = jas_getdbglevel();
  }
#line 356
  if (__cil_tmp5 >= 100) {
    {
#line 356
    __cil_tmp6 = jas_eprintf("jas_stream_memopen(%p, %d)\n", buf, bufsize);
#line 356
    tmp = __cil_tmp6;
    }
  } else {
#line 356
    tmp = 0;
  }
#line 357
  if (bufsize < 0) {
    {
#line 358
    jas_deprecated("negative buffer size for jas_stream_memopen\033\225U");
    }
  }
#line 360
  if (buf) {
#line 360
    if (bufsize <= 0) {
      {
#line 362
      jas_eprintf("Invalid use of jas_stream_memopen detected.\n\225U");
#line 363
      jas_deprecated("A user-provided buffer for jas_stream_memopen cannot be growable.\n");
      }
    }
  }
#line 366
  if (bufsize <= 0) {
#line 367
    new_bufsize = (size_t )0;
#line 368
    new_buf = (char *)0;
  } else {
#line 370
    new_bufsize = (size_t )bufsize;
#line 371
    new_buf = buf;
  }
  {
#line 373
  __cil_tmp8 = jas_stream_memopen2(new_buf, new_bufsize);
  }
#line 373
  return (__cil_tmp8);
}
}
#line 378 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_fopen(char const   *filename , char const   *mode ) 
{ 
  jas_stream_t *stream ;
  jas_stream_fileobj_t *obj ;
  int openflags ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int tmp ;
  void *tmp___0 ;

  {
  {
#line 384
  __cil_tmp6 = jas_getdbglevel();
  }
#line 384
  if (__cil_tmp6 >= 100) {
    {
#line 384
    __cil_tmp7 = jas_eprintf("jas_stream_fopen(\"%s\", \"%s\")\nU", filename, mode);
#line 384
    tmp = __cil_tmp7;
    }
  } else {
#line 384
    tmp = 0;
  }
  {
#line 387
  stream = jas_stream_create();
  }
#line 387
  if (! stream) {
#line 388
    return ((jas_stream_t *)0);
  }
  {
#line 392
  stream->openmode_ = jas_strtoopenmode(mode);
  }
#line 395
  if (stream->openmode_ & 1) {
#line 395
    if (stream->openmode_ & 2) {
#line 397
      openflags = 2;
    } else {
#line 395
      goto _L;
    }
  } else
  _L: 
#line 398
  if (stream->openmode_ & 1) {
#line 399
    openflags = 0;
  } else
#line 400
  if (stream->openmode_ & 2) {
#line 401
    openflags = 1;
  } else {
#line 403
    openflags = 0;
  }
#line 405
  if (stream->openmode_ & 4) {
#line 406
    openflags |= 1024;
  }
#line 408
  if (stream->openmode_ & 8) {
#line 409
    openflags = openflags;
  }
#line 411
  if (stream->openmode_ & 16) {
#line 412
    openflags |= 576;
  }
  {
#line 416
  tmp___0 = jas_malloc(sizeof(jas_stream_fileobj_t ));
#line 416
  obj = (jas_stream_fileobj_t *)tmp___0;
  }
#line 416
  if (! obj) {
    {
#line 417
    jas_stream_destroy(stream);
    }
#line 418
    return ((jas_stream_t *)0);
  }
  {
#line 420
  obj->fd = -1;
#line 421
  obj->flags = 0;
#line 422
  obj->pathname[0] = (char )'\000';
#line 423
  stream->obj_ = (void *)obj;
#line 426
  stream->ops_ = & jas_stream_fileops;
#line 429
  obj->fd = open(filename, openflags, 438);
  }
#line 429
  if (obj->fd < 0) {
    {
#line 432
    jas_free((void *)obj);
#line 433
    jas_stream_destroy(stream);
    }
#line 434
    return ((jas_stream_t *)0);
  }
  {
#line 438
  jas_stream_initbuf(stream, 2, (char *)0, 0);
  }
#line 440
  return (stream);
}
}
#line 443 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_freopen(char const   *path , char const   *mode , FILE *fp ) 
{ 
  jas_stream_t *stream ;
  int openflags ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int tmp ;

  {
  {
#line 448
  __cil_tmp6 = jas_getdbglevel();
  }
#line 448
  if (__cil_tmp6 >= 100) {
    {
#line 448
    __cil_tmp7 = jas_eprintf("jas_stream_freopen(\"%s\", \"%s\", %p)\n", path, mode,
                             fp);
#line 448
    tmp = __cil_tmp7;
    }
  } else {
#line 448
    tmp = 0;
  }
  {
#line 452
  path = (char const   *)0;
#line 455
  stream = jas_stream_create();
  }
#line 455
  if (! stream) {
#line 456
    return ((jas_stream_t *)0);
  }
  {
#line 460
  stream->openmode_ = jas_strtoopenmode(mode);
  }
#line 463
  if (stream->openmode_ & 1) {
#line 463
    if (stream->openmode_ & 2) {
#line 465
      openflags = 2;
    } else {
#line 463
      goto _L;
    }
  } else
  _L: 
#line 466
  if (stream->openmode_ & 1) {
#line 467
    openflags = 0;
  } else
#line 468
  if (stream->openmode_ & 2) {
#line 469
    openflags = 1;
  } else {
#line 471
    openflags = 0;
  }
#line 473
  if (stream->openmode_ & 4) {
#line 474
    openflags |= 1024;
  }
#line 476
  if (stream->openmode_ & 8) {
#line 477
    openflags = openflags;
  }
#line 479
  if (stream->openmode_ & 16) {
#line 480
    openflags |= 576;
  }
  {
#line 483
  stream->obj_ = (void *)fp;
#line 486
  stream->ops_ = & jas_stream_sfileops;
#line 489
  jas_stream_initbuf(stream, 2, (char *)0, 0);
  }
#line 491
  return (stream);
}
}
#line 494 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_tmpfile(void) 
{ 
  jas_stream_t *stream ;
  jas_stream_fileobj_t *obj ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int tmp ;
  int __cil_tmp9 ;
  void *tmp___0 ;

  {
  {
#line 499
  __cil_tmp3 = jas_getdbglevel();
  }
#line 499
  if (__cil_tmp3 >= 100) {
    {
#line 499
    __cil_tmp4 = jas_eprintf("jas_stream_tmpfile()\n");
#line 499
    tmp = __cil_tmp4;
    }
  } else {
#line 499
    tmp = 0;
  }
  {
#line 501
  stream = jas_stream_create();
  }
#line 501
  if (! stream) {
#line 502
    return ((jas_stream_t *)0);
  }
  {
#line 507
  stream->openmode_ = 11;
#line 510
  tmp___0 = jas_malloc(sizeof(jas_stream_fileobj_t ));
#line 510
  obj = (jas_stream_fileobj_t *)tmp___0;
  }
#line 510
  if (! obj) {
    {
#line 511
    jas_stream_destroy(stream);
    }
#line 512
    return ((jas_stream_t *)0);
  }
  {
#line 514
  obj->fd = -1;
#line 515
  obj->flags = 0;
#line 516
  obj->pathname[0] = (char )'\000';
#line 517
  stream->obj_ = (jas_stream_obj_t *)obj;
#line 520
  tmpnam(obj->pathname);
#line 523
  obj->fd = open((char const   *)(obj->pathname), 706, 438);
  }
#line 523
  if (obj->fd < 0) {
    {
#line 525
    jas_stream_destroy(stream);
    }
#line 526
    return ((jas_stream_t *)0);
  }
  {
#line 535
  __cil_tmp9 = unlink((char const   *)(obj->pathname));
  }
#line 535
  if (__cil_tmp9) {
#line 537
    obj->flags |= 1;
  }
  {
#line 541
  jas_stream_initbuf(stream, 2, (char *)0, 0);
#line 543
  stream->ops_ = & jas_stream_fileops;
  }
#line 545
  return (stream);
}
}
#line 548 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
jas_stream_t *jas_stream_fdopen(int fd , char const   *mode ) 
{ 
  jas_stream_t *stream ;
  jas_stream_fileobj_t *obj ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  void *tmp___0 ;

  {
  {
#line 553
  __cil_tmp5 = jas_getdbglevel();
  }
#line 553
  if (__cil_tmp5 >= 100) {
    {
#line 553
    __cil_tmp6 = jas_eprintf("jas_stream_fdopen(%d, \"%s\")\n\225U", fd, mode);
#line 553
    tmp = __cil_tmp6;
    }
  } else {
#line 553
    tmp = 0;
  }
  {
#line 556
  stream = jas_stream_create();
  }
#line 556
  if (! stream) {
#line 557
    return ((jas_stream_t *)0);
  }
  {
#line 561
  stream->openmode_ = jas_strtoopenmode(mode);
#line 581
  tmp___0 = jas_malloc(sizeof(jas_stream_fileobj_t ));
#line 581
  obj = (jas_stream_fileobj_t *)tmp___0;
  }
#line 581
  if (! obj) {
    {
#line 582
    jas_stream_destroy(stream);
    }
#line 583
    return ((jas_stream_t *)0);
  }
  {
#line 585
  obj->fd = fd;
#line 586
  obj->flags = 0;
#line 587
  obj->pathname[0] = (char )'\000';
#line 588
  stream->obj_ = (void *)obj;
#line 592
  obj->flags |= 2;
#line 595
  jas_stream_initbuf(stream, 2, (char *)0, 0);
#line 598
  stream->ops_ = & jas_stream_fileops;
  }
#line 600
  return (stream);
}
}
#line 603 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static void jas_stream_destroy(jas_stream_t *stream ) 
{ 
  int __cil_tmp2 ;
  int __cil_tmp3 ;
  int tmp ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp___0 ;

  {
  {
#line 605
  __cil_tmp2 = jas_getdbglevel();
  }
#line 605
  if (__cil_tmp2 >= 100) {
    {
#line 605
    __cil_tmp3 = jas_eprintf("jas_stream_destroy(%p)\n", stream);
#line 605
    tmp = __cil_tmp3;
    }
  } else {
#line 605
    tmp = 0;
  }
#line 609
  if (stream->bufbase_) {
#line 609
    if (stream->bufmode_ & 8) {
      {
#line 610
      __cil_tmp5 = jas_getdbglevel();
      }
#line 610
      if (__cil_tmp5 >= 100) {
        {
#line 610
        __cil_tmp6 = jas_eprintf("jas_stream_destroy freeing buffer %p\n", stream->bufbase_);
#line 610
        tmp___0 = __cil_tmp6;
        }
      } else {
#line 610
        tmp___0 = 0;
      }
      {
#line 612
      jas_free((void *)stream->bufbase_);
#line 613
      stream->bufbase_ = (unsigned char *)0;
      }
    }
  }
  {
#line 615
  jas_free((void *)stream);
  }
#line 617
  return;
}
}
#line 618 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_close(jas_stream_t *stream ) 
{ 
  int __cil_tmp2 ;
  int __cil_tmp3 ;
  int tmp ;

  {
  {
#line 620
  __cil_tmp2 = jas_getdbglevel();
  }
#line 620
  if (__cil_tmp2 >= 100) {
    {
#line 620
    __cil_tmp3 = jas_eprintf("jas_stream_close(%p)\nU", stream);
#line 620
    tmp = __cil_tmp3;
    }
  } else {
#line 620
    tmp = 0;
  }
  {
#line 623
  jas_stream_flush(stream);
#line 626
  (*((stream->ops_)->close_))(stream->obj_);
#line 628
  jas_stream_destroy(stream);
  }
#line 630
  return (0);
}
}
#line 637 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_getc_func(jas_stream_t *stream ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 641
  if (! (stream->flags_ & 7)) {
#line 641
    if (stream->rwlimit_ >= 0L) {
#line 641
      if (stream->rwcnt_ >= stream->rwlimit_) {
#line 641
        stream->flags_ |= 4;
#line 641
        tmp___1 = -1;
      } else {
#line 641
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 641
      (stream->cnt_) --;
#line 641
      if (stream->cnt_ < 0) {
        {
#line 641
        __cil_tmp3 = jas_stream_fillbuf(stream, 1);
#line 641
        tmp___0 = __cil_tmp3;
        }
      } else {
#line 641
        __cil_tmp4 = stream->ptr_;
#line 641
        (stream->ptr_) ++;
#line 641
        (stream->rwcnt_) ++;
#line 641
        tmp___0 = (int )*__cil_tmp4;
      }
#line 641
      tmp___1 = tmp___0;
    }
#line 641
    tmp___2 = tmp___1;
  } else {
#line 641
    tmp___2 = -1;
  }
#line 641
  return (tmp___2);
}
}
#line 644 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_putc_func(jas_stream_t *stream , int c ) 
{ 
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 647
  if (! (stream->flags_ & 7)) {
#line 647
    if (stream->rwlimit_ >= 0L) {
#line 647
      if (stream->rwcnt_ >= stream->rwlimit_) {
#line 647
        stream->flags_ |= 4;
#line 647
        tmp___1 = -1;
      } else {
#line 647
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 647
      (stream->cnt_) --;
#line 647
      stream->bufmode_ |= 32;
#line 647
      if (stream->cnt_ < 0) {
        {
#line 647
        __cil_tmp4 = jas_stream_flushbuf(stream, (int )((unsigned char )c));
#line 647
        tmp___0 = __cil_tmp4;
        }
      } else {
#line 647
        __cil_tmp5 = stream->ptr_;
#line 647
        (stream->ptr_) ++;
#line 647
        *__cil_tmp5 = (unsigned char )c;
#line 647
        (stream->rwcnt_) ++;
#line 647
        tmp___0 = (int )*__cil_tmp5;
      }
#line 647
      tmp___1 = tmp___0;
    }
#line 647
    tmp___2 = tmp___1;
  } else {
#line 647
    tmp___2 = -1;
  }
#line 647
  return (tmp___2);
}
}
#line 650 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_ungetc(jas_stream_t *stream , int c ) 
{ 


  {
#line 652
  if (! stream->ptr_) {
#line 653
    return (-1);
  } else
#line 652
  if ((unsigned long )stream->ptr_ == (unsigned long )stream->bufbase_) {
#line 653
    return (-1);
  }
#line 658
  stream->flags_ &= -2;
#line 660
  (stream->rwcnt_) --;
#line 661
  (stream->ptr_) --;
#line 662
  (stream->cnt_) ++;
#line 663
  *(stream->ptr_) = (unsigned char )c;
#line 664
  return (0);
}
}
#line 667 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_read(jas_stream_t *stream , void *buf , int cnt ) 
{ 
  int n ;
  int c ;
  char *bufptr ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int tmp ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp15 ;

  {
  {
#line 673
  __cil_tmp7 = jas_getdbglevel();
  }
#line 673
  if (__cil_tmp7 >= 100) {
    {
#line 673
    __cil_tmp8 = jas_eprintf("jas_stream_read(%p, %p, %d)\n\225U", stream, buf, cnt);
#line 673
    tmp = __cil_tmp8;
    }
  } else {
#line 673
    tmp = 0;
  }
#line 675
  if (cnt < 0) {
    {
#line 676
    jas_deprecated("negative count for jas_stream_readR\033\225U");
    }
  }
#line 679
  bufptr = (char *)buf;
#line 681
  n = 0;
  {
#line 682
  while (1) {
    while_continue: /* CIL Label */ ;

#line 682
    if (! (n < cnt)) {
#line 682
      goto while_break;
    }
#line 683
    if (! (stream->flags_ & 7)) {
#line 683
      if (stream->rwlimit_ >= 0L) {
#line 683
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 683
          stream->flags_ |= 4;
#line 683
          tmp___1 = -1;
        } else {
#line 683
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 683
        (stream->cnt_) --;
#line 683
        if (stream->cnt_ < 0) {
          {
#line 683
          __cil_tmp10 = jas_stream_fillbuf(stream, 1);
#line 683
          tmp___0 = __cil_tmp10;
          }
        } else {
#line 683
          __cil_tmp11 = stream->ptr_;
#line 683
          (stream->ptr_) ++;
#line 683
          (stream->rwcnt_) ++;
#line 683
          tmp___0 = (int )*__cil_tmp11;
        }
#line 683
        tmp___1 = tmp___0;
      }
#line 683
      tmp___2 = tmp___1;
    } else {
#line 683
      tmp___2 = -1;
    }
#line 683
    c = tmp___2;
#line 683
    if (c == -1) {
#line 684
      return (n);
    }
#line 686
    __cil_tmp15 = bufptr;
#line 686
    bufptr ++;
#line 686
    *__cil_tmp15 = (char )c;
#line 687
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 690
  return (n);
}
}
#line 693 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_write(jas_stream_t *stream , void const   *buf , int cnt ) 
{ 
  int n ;
  char const   *bufptr ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int tmp ;
  int __cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 698
  __cil_tmp6 = jas_getdbglevel();
  }
#line 698
  if (__cil_tmp6 >= 100) {
    {
#line 698
    __cil_tmp7 = jas_eprintf("jas_stream_write(%p, %p, %d)\nU", stream, buf, cnt);
#line 698
    tmp = __cil_tmp7;
    }
  } else {
#line 698
    tmp = 0;
  }
#line 700
  if (cnt < 0) {
    {
#line 701
    jas_deprecated("negative count for jas_stream_write");
    }
  }
#line 704
  bufptr = (char const   *)buf;
#line 706
  n = 0;
  {
#line 707
  while (1) {
    while_continue: /* CIL Label */ ;

#line 707
    if (! (n < cnt)) {
#line 707
      goto while_break;
    }
#line 708
    if (! (stream->flags_ & 7)) {
#line 708
      if (stream->rwlimit_ >= 0L) {
#line 708
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 708
          stream->flags_ |= 4;
#line 708
          tmp___1 = -1;
        } else {
#line 708
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 708
        (stream->cnt_) --;
#line 708
        stream->bufmode_ |= 32;
#line 708
        if (stream->cnt_ < 0) {
          {
#line 708
          __cil_tmp9 = jas_stream_flushbuf(stream, (int )((unsigned char )*bufptr));
#line 708
          tmp___0 = __cil_tmp9;
          }
        } else {
#line 708
          __cil_tmp10 = stream->ptr_;
#line 708
          (stream->ptr_) ++;
#line 708
          *__cil_tmp10 = (unsigned char )*bufptr;
#line 708
          (stream->rwcnt_) ++;
#line 708
          tmp___0 = (int )*__cil_tmp10;
        }
#line 708
        tmp___1 = tmp___0;
      }
#line 708
      tmp___2 = tmp___1;
    } else {
#line 708
      tmp___2 = -1;
    }
#line 708
    if (tmp___2 == -1) {
#line 709
      return (n);
    }
#line 711
    bufptr ++;
#line 712
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 715
  return (n);
}
}
#line 721 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_printf(jas_stream_t *stream , char const   *fmt  , ...) 
{ 
  va_list ap ;
  char buf[4096] ;
  int ret ;

  {
  {
#line 727
  __builtin_va_start((__builtin_va_list )((void *)ap), fmt);
#line 728
  ret = vsnprintf(buf, sizeof(buf), fmt, (__gnuc_va_list )((void *)ap));
#line 729
  jas_stream_puts(stream, (char const   *)(buf));
#line 730
  __builtin_va_end((__builtin_va_list )((void *)ap));
  }
#line 731
  return (ret);
}
}
#line 734 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_puts(jas_stream_t *stream , char const   *s ) 
{ 
  int __cil_tmp3 ;
  unsigned char *__cil_tmp4 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 736
  while (1) {
    while_continue: /* CIL Label */ ;

#line 736
    if (! ((int )*s != 0)) {
#line 736
      goto while_break;
    }
#line 737
    if (! (stream->flags_ & 7)) {
#line 737
      if (stream->rwlimit_ >= 0L) {
#line 737
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 737
          stream->flags_ |= 4;
#line 737
          tmp___0 = -1;
        } else {
#line 737
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 737
        (stream->cnt_) --;
#line 737
        stream->bufmode_ |= 32;
#line 737
        if (stream->cnt_ < 0) {
          {
#line 737
          __cil_tmp3 = jas_stream_flushbuf(stream, (int )((unsigned char )*s));
#line 737
          tmp = __cil_tmp3;
          }
        } else {
#line 737
          __cil_tmp4 = stream->ptr_;
#line 737
          (stream->ptr_) ++;
#line 737
          *__cil_tmp4 = (unsigned char )*s;
#line 737
          (stream->rwcnt_) ++;
#line 737
          tmp = (int )*__cil_tmp4;
        }
#line 737
        tmp___0 = tmp;
      }
#line 737
      tmp___1 = tmp___0;
    } else {
#line 737
      tmp___1 = -1;
    }
#line 737
    if (tmp___1 == -1) {
#line 738
      return (-1);
    }
#line 740
    s ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 742
  return (0);
}
}
#line 745 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
char *jas_stream_gets(jas_stream_t *stream , char *buf , int bufsize ) 
{ 
  int c ;
  char *bufptr ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int tmp___0 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  char *__cil_tmp15 ;

  {
  {
#line 751
  __cil_tmp7 = jas_getdbglevel();
  }
#line 751
  if (__cil_tmp7 >= 100) {
    {
#line 751
    __cil_tmp8 = jas_eprintf("jas_stream_gets(%p, %p, %d)\n\225U", stream, buf, bufsize);
#line 751
    tmp___0 = __cil_tmp8;
    }
  } else {
#line 751
    tmp___0 = 0;
  }
#line 753
  bufptr = buf;
  {
#line 754
  while (1) {
    while_continue: /* CIL Label */ ;

#line 754
    if (! (bufsize > 1)) {
#line 754
      goto while_break;
    }
#line 755
    if (! (stream->flags_ & 7)) {
#line 755
      if (stream->rwlimit_ >= 0L) {
#line 755
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 755
          stream->flags_ |= 4;
#line 755
          tmp___2 = -1;
        } else {
#line 755
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 755
        (stream->cnt_) --;
#line 755
        if (stream->cnt_ < 0) {
          {
#line 755
          __cil_tmp10 = jas_stream_fillbuf(stream, 1);
#line 755
          tmp___1 = __cil_tmp10;
          }
        } else {
#line 755
          __cil_tmp11 = stream->ptr_;
#line 755
          (stream->ptr_) ++;
#line 755
          (stream->rwcnt_) ++;
#line 755
          tmp___1 = (int )*__cil_tmp11;
        }
#line 755
        tmp___2 = tmp___1;
      }
#line 755
      tmp___3 = tmp___2;
    } else {
#line 755
      tmp___3 = -1;
    }
#line 755
    c = tmp___3;
#line 755
    if (c == -1) {
#line 756
      goto while_break;
    }
#line 758
    __cil_tmp15 = bufptr;
#line 758
    bufptr ++;
#line 758
    *__cil_tmp15 = (char )c;
#line 759
    bufsize --;
#line 760
    if (c == 10) {
#line 761
      goto while_break;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 764
  *bufptr = (char )'\000';
#line 765
  return (buf);
}
}
#line 768 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_gobble(jas_stream_t *stream , int n ) 
{ 
  int m ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int tmp ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 772
  __cil_tmp4 = jas_getdbglevel();
  }
#line 772
  if (__cil_tmp4 >= 100) {
    {
#line 772
    __cil_tmp5 = jas_eprintf("jas_stream_gobble(%p, %d)\nR\033\225U", stream, n);
#line 772
    tmp = __cil_tmp5;
    }
  } else {
#line 772
    tmp = 0;
  }
#line 774
  if (n < 0) {
    {
#line 775
    jas_deprecated("negative count for jas_stream_gobble");
    }
  }
#line 777
  m = n;
#line 778
  m = n;
  {
#line 778
  while (1) {
    while_continue: /* CIL Label */ ;

#line 778
    if (! (m > 0)) {
#line 778
      goto while_break;
    }
#line 779
    if (! (stream->flags_ & 7)) {
#line 779
      if (stream->rwlimit_ >= 0L) {
#line 779
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 779
          stream->flags_ |= 4;
#line 779
          tmp___1 = -1;
        } else {
#line 779
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 779
        (stream->cnt_) --;
#line 779
        if (stream->cnt_ < 0) {
          {
#line 779
          __cil_tmp7 = jas_stream_fillbuf(stream, 1);
#line 779
          tmp___0 = __cil_tmp7;
          }
        } else {
#line 779
          __cil_tmp8 = stream->ptr_;
#line 779
          (stream->ptr_) ++;
#line 779
          (stream->rwcnt_) ++;
#line 779
          tmp___0 = (int )*__cil_tmp8;
        }
#line 779
        tmp___1 = tmp___0;
      }
#line 779
      tmp___2 = tmp___1;
    } else {
#line 779
      tmp___2 = -1;
    }
#line 779
    if (tmp___2 == -1) {
#line 780
      return (n - m);
    }
#line 778
    m --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 783
  return (n);
}
}
#line 786 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_pad(jas_stream_t *stream , int n , int c ) 
{ 
  int m ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 790
  __cil_tmp5 = jas_getdbglevel();
  }
#line 790
  if (__cil_tmp5 >= 100) {
    {
#line 790
    __cil_tmp6 = jas_eprintf("jas_stream_pad(%p, %d, %d)\n\033\225U", stream, n, c);
#line 790
    tmp = __cil_tmp6;
    }
  } else {
#line 790
    tmp = 0;
  }
#line 792
  if (n < 0) {
    {
#line 793
    jas_deprecated("negative count for jas_stream_padsR\033\225U");
    }
  }
#line 795
  m = n;
#line 796
  m = n;
  {
#line 796
  while (1) {
    while_continue: /* CIL Label */ ;

#line 796
    if (! (m > 0)) {
#line 796
      goto while_break;
    }
#line 797
    if (! (stream->flags_ & 7)) {
#line 797
      if (stream->rwlimit_ >= 0L) {
#line 797
        if (stream->rwcnt_ >= stream->rwlimit_) {
#line 797
          stream->flags_ |= 4;
#line 797
          tmp___1 = -1;
        } else {
#line 797
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 797
        (stream->cnt_) --;
#line 797
        stream->bufmode_ |= 32;
#line 797
        if (stream->cnt_ < 0) {
          {
#line 797
          __cil_tmp8 = jas_stream_flushbuf(stream, (int )((unsigned char )c));
#line 797
          tmp___0 = __cil_tmp8;
          }
        } else {
#line 797
          __cil_tmp9 = stream->ptr_;
#line 797
          (stream->ptr_) ++;
#line 797
          *__cil_tmp9 = (unsigned char )c;
#line 797
          (stream->rwcnt_) ++;
#line 797
          tmp___0 = (int )*__cil_tmp9;
        }
#line 797
        tmp___1 = tmp___0;
      }
#line 797
      tmp___2 = tmp___1;
    } else {
#line 797
      tmp___2 = -1;
    }
#line 797
    if (tmp___2 == -1) {
#line 798
      return (n - m);
    }
#line 796
    m --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 800
  return (n);
}
}
#line 807 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_isseekable(jas_stream_t *stream ) 
{ 
  long __cil_tmp2 ;

  {
#line 809
  if ((unsigned long )stream->ops_ == (unsigned long )(& jas_stream_memops)) {
#line 810
    return (1);
  } else
#line 811
  if ((unsigned long )stream->ops_ == (unsigned long )(& jas_stream_fileops)) {
    {
#line 812
    __cil_tmp2 = (*((stream->ops_)->seek_))(stream->obj_, 0L, 1);
    }
#line 812
    if (__cil_tmp2 < 0L) {
#line 813
      return (0);
    }
#line 815
    return (1);
  } else {
#line 817
    return (0);
  }
}
}
#line 821 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_rewind(jas_stream_t *stream ) 
{ 
  int __cil_tmp2 ;
  int __cil_tmp3 ;
  int tmp ;
  long __cil_tmp5 ;

  {
  {
#line 823
  __cil_tmp2 = jas_getdbglevel();
  }
#line 823
  if (__cil_tmp2 >= 100) {
    {
#line 823
    __cil_tmp3 = jas_eprintf("jas_stream_rewind(%p)\n", stream);
#line 823
    tmp = __cil_tmp3;
    }
  } else {
#line 823
    tmp = 0;
  }
  {
#line 824
  __cil_tmp5 = jas_stream_seek(stream, 0L, 0);
  }
#line 824
  return ((int )__cil_tmp5);
}
}
#line 827 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
long jas_stream_seek(jas_stream_t *stream , long offset , int origin ) 
{ 
  long newpos ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  int __cil_tmp9 ;

  {
  {
#line 831
  __cil_tmp5 = jas_getdbglevel();
  }
#line 831
  if (__cil_tmp5 >= 100) {
    {
#line 831
    __cil_tmp6 = jas_eprintf("jas_stream_seek(%p, %ld, %d)\nU", stream, offset, origin);
#line 831
    tmp = __cil_tmp6;
    }
  } else {
#line 831
    tmp = 0;
  }
#line 839
  stream->flags_ &= -2;
#line 841
  if (stream->bufmode_ & 16) {
#line 842
    if (origin == 1) {
#line 843
      offset -= (long )stream->cnt_;
    }
  } else
#line 845
  if (stream->bufmode_ & 32) {
    {
#line 846
    __cil_tmp9 = jas_stream_flush(stream);
    }
#line 846
    if (__cil_tmp9) {
#line 847
      return (-1L);
    }
  }
  {
#line 850
  stream->cnt_ = 0;
#line 851
  stream->ptr_ = stream->bufstart_;
#line 852
  stream->bufmode_ &= -49;
#line 854
  newpos = (*((stream->ops_)->seek_))(stream->obj_, offset, origin);
  }
#line 854
  if (newpos < 0L) {
#line 856
    return (-1L);
  }
#line 859
  return (newpos);
}
}
#line 862 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
long jas_stream_tell(jas_stream_t *stream ) 
{ 
  int adjust ;
  int offset ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int tmp ;
  long __cil_tmp7 ;

  {
  {
#line 867
  __cil_tmp4 = jas_getdbglevel();
  }
#line 867
  if (__cil_tmp4 >= 100) {
    {
#line 867
    __cil_tmp5 = jas_eprintf("jas_stream_tell(%p)\n\225U", stream);
#line 867
    tmp = __cil_tmp5;
    }
  } else {
#line 867
    tmp = 0;
  }
#line 869
  if (stream->bufmode_ & 16) {
#line 870
    adjust = - stream->cnt_;
  } else
#line 871
  if (stream->bufmode_ & 32) {
#line 872
    adjust = (int )(stream->ptr_ - stream->bufstart_);
  } else {
#line 874
    adjust = 0;
  }
  {
#line 877
  __cil_tmp7 = (*((stream->ops_)->seek_))(stream->obj_, 0L, 1);
#line 877
  offset = (int )__cil_tmp7;
  }
#line 877
  if (offset < 0) {
#line 878
    return (-1L);
  }
#line 881
  return ((long )(offset + adjust));
}
}
#line 888 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static void jas_stream_initbuf(jas_stream_t *stream , int bufmode , char *buf , int bufsize ) 
{ 
  void *tmp___2 ;

  {
#line 895
  if (bufmode != 0) {
#line 897
    if (! buf) {
      {
#line 900
      tmp___2 = jas_malloc((size_t )8208);
#line 900
      stream->bufbase_ = (unsigned char *)tmp___2;
      }
#line 900
      if (stream->bufbase_) {
#line 902
        stream->bufmode_ |= 8;
#line 903
        stream->bufsize_ = 8192;
      } else {
#line 907
        stream->bufbase_ = stream->tinybuf_;
#line 908
        stream->bufsize_ = 1;
      }
    } else {
#line 915
      stream->bufbase_ = (unsigned char *)buf;
#line 916
      stream->bufsize_ = bufsize - 16;
    }
  } else {
#line 923
    stream->bufbase_ = stream->tinybuf_;
#line 924
    stream->bufsize_ = 1;
  }
#line 926
  stream->bufstart_ = stream->bufbase_ + 16;
#line 927
  stream->ptr_ = stream->bufstart_;
#line 928
  stream->cnt_ = 0;
#line 929
  stream->bufmode_ |= bufmode & 15;
#line 930
  return;
}
}
#line 936 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_flush(jas_stream_t *stream ) 
{ 
  int __cil_tmp2 ;

  {
#line 938
  if (stream->bufmode_ & 16) {
#line 939
    return (0);
  }
  {
#line 941
  __cil_tmp2 = jas_stream_flushbuf(stream, -1);
  }
#line 941
  return (__cil_tmp2);
}
}
#line 944 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_fillbuf(jas_stream_t *stream , int getflag ) 
{ 
  int c ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___2 ;
  int tmp___3 ;

  {
#line 949
  if ((stream->flags_ & 7) != 0) {
#line 950
    return (-1);
  }
#line 954
  if ((stream->openmode_ & 1) == 0) {
#line 955
    return (-1);
  }
  {
#line 966
  stream->bufmode_ |= 16;
#line 969
  stream->ptr_ = stream->bufstart_;
#line 970
  stream->cnt_ = (*((stream->ops_)->read_))(stream->obj_, (char *)stream->bufstart_,
                                            stream->bufsize_);
  }
#line 970
  if (stream->cnt_ <= 0) {
#line 972
    if (stream->cnt_ < 0) {
#line 973
      stream->flags_ |= 2;
    } else {
#line 975
      stream->flags_ |= 1;
    }
#line 977
    stream->cnt_ = 0;
#line 978
    return (-1);
  }
#line 983
  if (getflag) {
#line 983
    (stream->cnt_) --;
#line 983
    if (stream->cnt_ < 0) {
      {
#line 983
      __cil_tmp8 = jas_stream_fillbuf(stream, 1);
#line 983
      tmp___2 = __cil_tmp8;
      }
    } else {
#line 983
      __cil_tmp9 = stream->ptr_;
#line 983
      (stream->ptr_) ++;
#line 983
      (stream->rwcnt_) ++;
#line 983
      tmp___2 = (int )*__cil_tmp9;
    }
#line 983
    tmp___3 = tmp___2;
  } else {
#line 983
    tmp___3 = (int )*(stream->ptr_);
  }
#line 983
  c = tmp___3;
#line 985
  return (c);
}
}
#line 988 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_flushbuf(jas_stream_t *stream , int c ) 
{ 
  int len ;
  int n ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___1 ;

  {
#line 994
  if ((stream->flags_ & 7) != 0) {
#line 995
    return (-1);
  }
#line 999
  if ((stream->openmode_ & 6) == 0) {
#line 1000
    return (-1);
  }
#line 1009
  len = (int )(stream->ptr_ - stream->bufstart_);
#line 1010
  if (len > 0) {
    {
#line 1011
    n = (*((stream->ops_)->write_))(stream->obj_, (char *)stream->bufstart_, len);
    }
#line 1013
    if (n != len) {
#line 1014
      stream->flags_ |= 2;
#line 1015
      return (-1);
    }
  }
#line 1018
  stream->cnt_ = stream->bufsize_;
#line 1019
  stream->ptr_ = stream->bufstart_;
#line 1021
  stream->bufmode_ |= 32;
#line 1023
  if (c != -1) {
#line 1025
    (stream->cnt_) --;
#line 1025
    stream->bufmode_ |= 32;
#line 1025
    if (stream->cnt_ < 0) {
      {
#line 1025
      __cil_tmp8 = jas_stream_flushbuf(stream, (int )((unsigned char )c));
#line 1025
      tmp___1 = __cil_tmp8;
      }
    } else {
#line 1025
      __cil_tmp9 = stream->ptr_;
#line 1025
      (stream->ptr_) ++;
#line 1025
      *__cil_tmp9 = (unsigned char )c;
#line 1025
      (stream->rwcnt_) ++;
#line 1025
      tmp___1 = (int )*__cil_tmp9;
    }
#line 1025
    return (tmp___1);
  }
#line 1028
  return (0);
}
}
#line 1035 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int jas_strtoopenmode(char const   *s ) 
{ 
  int openmode ;

  {
#line 1037
  openmode = 0;
  {
#line 1038
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1038
    if (! ((int )*s != 0)) {
#line 1038
      goto while_break;
    }
#line 1040
    if ((int )*s == 114) {
#line 1040
      goto case_114;
    }
#line 1043
    if ((int )*s == 119) {
#line 1043
      goto case_119;
    }
#line 1046
    if ((int )*s == 98) {
#line 1046
      goto case_98;
    }
#line 1049
    if ((int )*s == 97) {
#line 1049
      goto case_97;
    }
#line 1052
    if ((int )*s == 43) {
#line 1052
      goto case_43;
    }
#line 1055
    goto switch_default;
    case_114: 
#line 1041
    openmode |= 1;
#line 1042
    goto switch_break;
    case_119: 
#line 1044
    openmode |= 18;
#line 1045
    goto switch_break;
    case_98: 
#line 1047
    openmode |= 8;
#line 1048
    goto switch_break;
    case_97: 
#line 1050
    openmode |= 4;
#line 1051
    goto switch_break;
    case_43: 
#line 1053
    openmode |= 3;
#line 1054
    goto switch_break;
    switch_default: 
#line 1056
    goto switch_break;
    switch_break: 
#line 1058
    s ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1060
  return (openmode);
}
}
#line 1063 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_copy(jas_stream_t *out , jas_stream_t *in , int n ) 
{ 
  int all ;
  int c ;
  int m ;
  int tmp ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int __cil_tmp14 ;
  unsigned char *__cil_tmp15 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
#line 1069
  if (n < 0) {
#line 1069
    tmp = 1;
  } else {
#line 1069
    tmp = 0;
  }
#line 1069
  all = tmp;
#line 1071
  m = n;
  {
#line 1072
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1072
    if (! all) {
#line 1072
      if (! (m > 0)) {
#line 1072
        goto while_break;
      }
    }
#line 1073
    if (! (in->flags_ & 7)) {
#line 1073
      if (in->rwlimit_ >= 0L) {
#line 1073
        if (in->rwcnt_ >= in->rwlimit_) {
#line 1073
          in->flags_ |= 4;
#line 1073
          tmp___1 = -1;
        } else {
#line 1073
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 1073
        (in->cnt_) --;
#line 1073
        if (in->cnt_ < 0) {
          {
#line 1073
          __cil_tmp8 = jas_stream_fillbuf(in, 1);
#line 1073
          tmp___0 = __cil_tmp8;
          }
        } else {
#line 1073
          __cil_tmp9 = in->ptr_;
#line 1073
          (in->ptr_) ++;
#line 1073
          (in->rwcnt_) ++;
#line 1073
          tmp___0 = (int )*__cil_tmp9;
        }
#line 1073
        tmp___1 = tmp___0;
      }
#line 1073
      tmp___2 = tmp___1;
    } else {
#line 1073
      tmp___2 = -1;
    }
#line 1073
    c = tmp___2;
#line 1073
    if (c == -1) {
#line 1078
      if (! all) {
#line 1078
        tmp___3 = -1;
      } else
#line 1078
      if ((in->flags_ & 2) != 0) {
#line 1078
        tmp___3 = -1;
      } else {
#line 1078
        tmp___3 = 0;
      }
#line 1078
      return (tmp___3);
    }
#line 1080
    if (! (out->flags_ & 7)) {
#line 1080
      if (out->rwlimit_ >= 0L) {
#line 1080
        if (out->rwcnt_ >= out->rwlimit_) {
#line 1080
          out->flags_ |= 4;
#line 1080
          tmp___5 = -1;
        } else {
#line 1080
          goto _L___1;
        }
      } else {
        _L___1: /* CIL Label */ 
#line 1080
        (out->cnt_) --;
#line 1080
        out->bufmode_ |= 32;
#line 1080
        if (out->cnt_ < 0) {
          {
#line 1080
          __cil_tmp14 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 1080
          tmp___4 = __cil_tmp14;
          }
        } else {
#line 1080
          __cil_tmp15 = out->ptr_;
#line 1080
          (out->ptr_) ++;
#line 1080
          *__cil_tmp15 = (unsigned char )c;
#line 1080
          (out->rwcnt_) ++;
#line 1080
          tmp___4 = (int )*__cil_tmp15;
        }
#line 1080
        tmp___5 = tmp___4;
      }
#line 1080
      tmp___6 = tmp___5;
    } else {
#line 1080
      tmp___6 = -1;
    }
#line 1080
    if (tmp___6 == -1) {
#line 1081
      return (-1);
    }
#line 1083
    m --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1085
  return (0);
}
}
#line 1088 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
long jas_stream_setrwcount(jas_stream_t *stream , long rwcnt ) 
{ 
  int old ;

  {
#line 1092
  old = (int )stream->rwcnt_;
#line 1093
  stream->rwcnt_ = rwcnt;
#line 1094
  return ((long )old);
}
}
#line 1097 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
int jas_stream_display(jas_stream_t *stream , FILE *fp , int n ) 
{ 
  unsigned char buf[16] ;
  int i ;
  int j ;
  int m ;
  int c ;
  int display ;
  int cnt ;
  int tmp ;
  int tmp___0 ;
  int __cil_tmp13 ;
  unsigned char *__cil_tmp14 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  unsigned short const   **__cil_tmp18 ;

  {
#line 1107
  cnt = n - n % 16;
#line 1108
  display = 1;
#line 1110
  i = 0;
  {
#line 1110
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1110
    if (! (i < n)) {
#line 1110
      goto while_break;
    }
#line 1111
    if (n > 16) {
#line 1111
      if (i > 0) {
#line 1112
        if (i >= cnt) {
#line 1112
          tmp = 1;
        } else {
#line 1112
          tmp = 0;
        }
#line 1112
        display = tmp;
      }
    }
#line 1114
    if (display) {
      {
#line 1115
      fprintf(fp, "%08x:", i);
      }
    }
#line 1117
    if (n - i < 16) {
#line 1117
      tmp___0 = n - i;
    } else {
#line 1117
      tmp___0 = 16;
    }
#line 1117
    m = tmp___0;
#line 1118
    j = 0;
    {
#line 1118
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1118
      if (! (j < m)) {
#line 1118
        goto while_break___0;
      }
#line 1119
      if (! (stream->flags_ & 7)) {
#line 1119
        if (stream->rwlimit_ >= 0L) {
#line 1119
          if (stream->rwcnt_ >= stream->rwlimit_) {
#line 1119
            stream->flags_ |= 4;
#line 1119
            tmp___2 = -1;
          } else {
#line 1119
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ 
#line 1119
          (stream->cnt_) --;
#line 1119
          if (stream->cnt_ < 0) {
            {
#line 1119
            __cil_tmp13 = jas_stream_fillbuf(stream, 1);
#line 1119
            tmp___1 = __cil_tmp13;
            }
          } else {
#line 1119
            __cil_tmp14 = stream->ptr_;
#line 1119
            (stream->ptr_) ++;
#line 1119
            (stream->rwcnt_) ++;
#line 1119
            tmp___1 = (int )*__cil_tmp14;
          }
#line 1119
          tmp___2 = tmp___1;
        }
#line 1119
        tmp___3 = tmp___2;
      } else {
#line 1119
        tmp___3 = -1;
      }
#line 1119
      c = tmp___3;
#line 1119
      if (c == -1) {
        {
#line 1120
        abort();
        }
#line 1121
        return (-1);
      }
#line 1123
      buf[j] = (unsigned char )c;
#line 1118
      j ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: ;
#line 1125
    if (display) {
#line 1126
      j = 0;
      {
#line 1126
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 1126
        if (! (j < m)) {
#line 1126
          goto while_break___1;
        }
        {
#line 1127
        fprintf(fp, " %02xU", (int )buf[j]);
#line 1126
        j ++;
        }
      }
      while_break___6: /* CIL Label */ ;
      }
      while_break___1: 
      {
#line 1129
      fputc(' ', fp);
      }
      {
#line 1130
      while (1) {
        while_continue___2: /* CIL Label */ ;

#line 1130
        if (! (j < 16)) {
#line 1130
          goto while_break___2;
        }
        {
#line 1131
        fprintf(fp, "   \033\225U");
#line 1130
        j ++;
        }
      }
      while_break___7: /* CIL Label */ ;
      }
      while_break___2: 
#line 1133
      j = 0;
      {
#line 1133
      while (1) {
        while_continue___3: /* CIL Label */ ;

#line 1133
        if (! (j < m)) {
#line 1133
          goto while_break___3;
        }
        {
#line 1134
        __cil_tmp18 = __ctype_b_loc();
        }
#line 1134
        if ((int )*(*__cil_tmp18 + (int )buf[j]) & 16384) {
          {
#line 1135
          fputc((int )buf[j], fp);
          }
        } else {
          {
#line 1137
          fputc(' ', fp);
          }
        }
#line 1133
        j ++;
      }
      while_break___8: /* CIL Label */ ;
      }
      while_break___3: 
      {
#line 1140
      fprintf(fp, "\n\267S\033\225U");
      }
    }
#line 1110
    i += 16;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: ;
#line 1145
  return (0);
}
}
#line 1148 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
long jas_stream_length(jas_stream_t *stream ) 
{ 
  long oldpos ;
  long pos ;
  long __cil_tmp5 ;
  long __cil_tmp7 ;

  {
  {
#line 1152
  oldpos = jas_stream_tell(stream);
  }
#line 1152
  if (oldpos < 0L) {
#line 1153
    return (-1L);
  }
  {
#line 1155
  __cil_tmp5 = jas_stream_seek(stream, 0L, 2);
  }
#line 1155
  if (__cil_tmp5 < 0L) {
#line 1156
    return (-1L);
  }
  {
#line 1158
  pos = jas_stream_tell(stream);
  }
#line 1158
  if (pos < 0L) {
#line 1159
    return (-1L);
  }
  {
#line 1161
  __cil_tmp7 = jas_stream_seek(stream, oldpos, 0);
  }
#line 1161
  if (__cil_tmp7 < 0L) {
#line 1162
    return (-1L);
  }
#line 1164
  return (pos);
}
}
#line 1171 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int mem_read(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  ssize_t n ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int tmp___1 ;
  jas_stream_memobj_t *m ;
  ssize_t tmp___2 ;

  {
  {
#line 1177
  __cil_tmp7 = jas_getdbglevel();
  }
#line 1177
  if (__cil_tmp7 >= 100) {
    {
#line 1177
    __cil_tmp8 = jas_eprintf("mem_read(%p, %p, %d)\n", obj, buf, cnt);
#line 1177
    tmp___1 = __cil_tmp8;
    }
  } else {
#line 1177
    tmp___1 = 0;
  }
#line 1178
  m = (jas_stream_memobj_t *)obj;
#line 1179
  n = m->len_ - m->pos_;
#line 1180
  if (n < (long )cnt) {
#line 1180
    tmp___2 = n;
  } else {
#line 1180
    tmp___2 = (long )cnt;
  }
  {
#line 1180
  cnt = (int )tmp___2;
#line 1181
  memcpy((void *)buf, (void const   *)(m->buf_ + m->pos_), (unsigned long )cnt);
#line 1182
  m->pos_ += (long )cnt;
  }
#line 1183
  return (cnt);
}
}
#line 1186 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int mem_resize(jas_stream_memobj_t *m , size_t bufsize ) 
{ 
  unsigned char *buf ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int tmp ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int tmp___0 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int tmp___1 ;
  void *tmp___2 ;

  {
  {
#line 1193
  __cil_tmp4 = jas_getdbglevel();
  }
#line 1193
  if (__cil_tmp4 >= 100) {
    {
#line 1193
    __cil_tmp5 = jas_eprintf("mem_resize(%p, %zu)\n\225U", m, bufsize);
#line 1193
    tmp = __cil_tmp5;
    }
  } else {
#line 1193
    tmp = 0;
  }
#line 1194
  if (! bufsize) {
    {
#line 1195
    jas_eprintf("mem_resize was not really designed to handle a buffer of size 0\nThis may not work.\n");
    }
  }
  {
#line 1201
  tmp___2 = jas_realloc2((void *)m->buf_, bufsize, sizeof(unsigned char ));
#line 1201
  buf = (unsigned char *)tmp___2;
  }
#line 1201
  if (! buf) {
#line 1201
    if (bufsize) {
      {
#line 1203
      __cil_tmp8 = jas_getdbglevel();
      }
#line 1203
      if (__cil_tmp8 >= 100) {
        {
#line 1203
        __cil_tmp9 = jas_eprintf("mem_resize realloc failed\n");
#line 1203
        tmp___0 = __cil_tmp9;
        }
      } else {
#line 1203
        tmp___0 = 0;
      }
#line 1204
      return (-1);
    }
  }
  {
#line 1206
  __cil_tmp11 = jas_getdbglevel();
  }
#line 1206
  if (__cil_tmp11 >= 100) {
    {
#line 1206
    __cil_tmp12 = jas_eprintf("mem_resize realloc succeeded\n");
#line 1206
    tmp___1 = __cil_tmp12;
    }
  } else {
#line 1206
    tmp___1 = 0;
  }
#line 1207
  m->buf_ = buf;
#line 1208
  m->bufsize_ = bufsize;
#line 1209
  return (0);
}
}
#line 1212 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int mem_write(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  size_t n ;
  int ret ;
  jas_stream_memobj_t *m ;
  size_t newbufsize ;
  size_t newpos ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int tmp___1 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int tmp___2 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int tmp___3 ;
  int __cil_tmp22 ;
  unsigned long tmp___5 ;
  size_t tmp___6 ;

  {
  {
#line 1216
  m = (jas_stream_memobj_t *)obj;
#line 1223
  __cil_tmp11 = jas_getdbglevel();
  }
#line 1223
  if (__cil_tmp11 >= 100) {
    {
#line 1223
    __cil_tmp12 = jas_eprintf("mem_write(%p, %p, %d)\n", obj, buf, cnt);
#line 1223
    tmp___1 = __cil_tmp12;
    }
  } else {
#line 1223
    tmp___1 = 0;
  }
#line 1224
  newpos = (size_t )(m->pos_ + (long )cnt);
#line 1225
  if (newpos > m->bufsize_) {
#line 1225
    if (m->growable_) {
#line 1226
      newbufsize = m->bufsize_;
      {
#line 1227
      while (1) {
        while_continue: /* CIL Label */ ;

#line 1227
        if (! (newbufsize < newpos)) {
#line 1227
          goto while_break;
        }
        {
#line 1229
        __cil_tmp14 = jas_safe_size_mul(newbufsize, (size_t )2, & newbufsize);
        }
#line 1229
        if (! __cil_tmp14) {
          {
#line 1230
          __cil_tmp15 = jas_getdbglevel();
          }
#line 1230
          if (__cil_tmp15 >= 100) {
            {
#line 1230
            __cil_tmp16 = jas_eprintf("new buffer size would cause overflow\nU");
#line 1230
            tmp___2 = __cil_tmp16;
            }
          } else {
#line 1230
            tmp___2 = 0;
          }
#line 1231
          return (-1);
        }
      }
      while_break___0: /* CIL Label */ ;
      }
      while_break: 
      {
#line 1234
      __cil_tmp18 = jas_getdbglevel();
      }
#line 1234
      if (__cil_tmp18 >= 100) {
        {
#line 1234
        __cil_tmp19 = jas_eprintf("mem_write resizing from %d to %zu\nS\033\225U",
                                  m->bufsize_, newbufsize);
#line 1234
        tmp___3 = __cil_tmp19;
        }
      } else {
#line 1234
        tmp___3 = 0;
      }
      {
#line 1237
      __cil_tmp22 = mem_resize(m, newbufsize);
      }
#line 1237
      if (__cil_tmp22) {
#line 1238
        return (-1);
      }
    }
  }
#line 1241
  if (m->pos_ > m->len_) {
#line 1244
    if ((unsigned long )m->pos_ < m->bufsize_) {
#line 1244
      tmp___5 = (unsigned long )m->pos_;
    } else {
#line 1244
      tmp___5 = m->bufsize_;
    }
#line 1244
    n = tmp___5 - (unsigned long )m->len_;
#line 1245
    if (n > 0UL) {
      {
#line 1246
      memset((void *)(m->buf_ + m->len_), 0, n);
#line 1247
      m->len_ = (int_fast32_t )((size_t )m->len_ + n);
      }
    }
#line 1249
    if (m->pos_ != m->len_) {
#line 1251
      return (0);
    }
  }
#line 1254
  n = m->bufsize_ - (unsigned long )m->pos_;
#line 1255
  if (n < (unsigned long )cnt) {
#line 1255
    tmp___6 = n;
  } else {
#line 1255
    tmp___6 = (unsigned long )cnt;
  }
#line 1255
  ret = (int )tmp___6;
#line 1256
  if (ret > 0) {
    {
#line 1257
    memcpy((void *)(m->buf_ + m->pos_), (void const   *)buf, (unsigned long )ret);
#line 1258
    m->pos_ += (long )ret;
    }
  }
#line 1260
  if (m->pos_ > m->len_) {
#line 1261
    m->len_ = m->pos_;
  }
#line 1264
  return (ret);
}
}
#line 1267 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static long mem_seek(jas_stream_obj_t *obj , long offset , int origin ) 
{ 
  jas_stream_memobj_t *m ;
  size_t newpos ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int tmp ;

  {
  {
#line 1269
  m = (jas_stream_memobj_t *)obj;
#line 1272
  __cil_tmp6 = jas_getdbglevel();
  }
#line 1272
  if (__cil_tmp6 >= 100) {
    {
#line 1272
    __cil_tmp7 = jas_eprintf("mem_seek(%p, %ld, %d)\n", obj, offset, origin);
#line 1272
    tmp = __cil_tmp7;
    }
  } else {
#line 1272
    tmp = 0;
  }
#line 1274
  if (origin == 0) {
#line 1274
    goto case_0;
  }
#line 1277
  if (origin == 2) {
#line 1277
    goto case_2;
  }
#line 1280
  if (origin == 1) {
#line 1280
    goto case_1;
  }
#line 1283
  goto switch_default;
  case_0: 
#line 1275
  newpos = (size_t )offset;
#line 1276
  goto switch_break;
  case_2: 
#line 1278
  newpos = (size_t )(m->len_ - offset);
#line 1279
  goto switch_break;
  case_1: 
#line 1281
  newpos = (size_t )(m->pos_ + offset);
#line 1282
  goto switch_break;
  switch_default: 
  {
#line 1284
  abort();
  }
#line 1285
  goto switch_break;
  switch_break: ;
#line 1287
  if (newpos < 0UL) {
#line 1288
    return (-1L);
  }
#line 1290
  m->pos_ = (int_fast32_t )newpos;
#line 1292
  return (m->pos_);
}
}
#line 1295 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int mem_close(jas_stream_obj_t *obj ) 
{ 
  int __cil_tmp2 ;
  int __cil_tmp3 ;
  int tmp ;
  jas_stream_memobj_t *m ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int tmp___0 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int tmp___1 ;

  {
  {
#line 1297
  __cil_tmp2 = jas_getdbglevel();
  }
#line 1297
  if (__cil_tmp2 >= 100) {
    {
#line 1297
    __cil_tmp3 = jas_eprintf("mem_close(%p)\n", obj);
#line 1297
    tmp = __cil_tmp3;
    }
  } else {
#line 1297
    tmp = 0;
  }
  {
#line 1298
  m = (jas_stream_memobj_t *)obj;
#line 1299
  __cil_tmp6 = jas_getdbglevel();
  }
#line 1299
  if (__cil_tmp6 >= 100) {
    {
#line 1299
    __cil_tmp7 = jas_eprintf("mem_close myalloc=%d\n", m->myalloc_);
#line 1299
    tmp___0 = __cil_tmp7;
    }
  } else {
#line 1299
    tmp___0 = 0;
  }
#line 1300
  if (m->buf_) {
#line 1300
    if (m->myalloc_) {
      {
#line 1301
      __cil_tmp9 = jas_getdbglevel();
      }
#line 1301
      if (__cil_tmp9 >= 100) {
        {
#line 1301
        __cil_tmp10 = jas_eprintf("mem_close freeing buffer %p\n\225U", m->buf_);
#line 1301
        tmp___1 = __cil_tmp10;
        }
      } else {
#line 1301
        tmp___1 = 0;
      }
      {
#line 1302
      jas_free((void *)m->buf_);
#line 1303
      m->buf_ = (unsigned char *)0;
      }
    }
  }
  {
#line 1305
  jas_free(obj);
  }
#line 1306
  return (0);
}
}
#line 1313 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int file_read(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  jas_stream_fileobj_t *fileobj ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  ssize_t __cil_tmp8 ;

  {
  {
#line 1316
  __cil_tmp5 = jas_getdbglevel();
  }
#line 1316
  if (__cil_tmp5 >= 100) {
    {
#line 1316
    __cil_tmp6 = jas_eprintf("file_read(%p, %p, %d)\n", obj, buf, cnt);
#line 1316
    tmp = __cil_tmp6;
    }
  } else {
#line 1316
    tmp = 0;
  }
  {
#line 1317
  fileobj = (jas_stream_fileobj_t *)obj;
#line 1318
  __cil_tmp8 = read(fileobj->fd, (void *)buf, (size_t )cnt);
  }
#line 1318
  return ((int )__cil_tmp8);
}
}
#line 1321 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int file_write(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  jas_stream_fileobj_t *fileobj ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  ssize_t __cil_tmp8 ;

  {
  {
#line 1324
  __cil_tmp5 = jas_getdbglevel();
  }
#line 1324
  if (__cil_tmp5 >= 100) {
    {
#line 1324
    __cil_tmp6 = jas_eprintf("file_write(%p, %p, %d)\n", obj, buf, cnt);
#line 1324
    tmp = __cil_tmp6;
    }
  } else {
#line 1324
    tmp = 0;
  }
  {
#line 1325
  fileobj = (jas_stream_fileobj_t *)obj;
#line 1326
  __cil_tmp8 = write(fileobj->fd, (void const   *)buf, (size_t )cnt);
  }
#line 1326
  return ((int )__cil_tmp8);
}
}
#line 1329 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static long file_seek(jas_stream_obj_t *obj , long offset , int origin ) 
{ 
  jas_stream_fileobj_t *fileobj ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  __off_t __cil_tmp8 ;

  {
  {
#line 1332
  __cil_tmp5 = jas_getdbglevel();
  }
#line 1332
  if (__cil_tmp5 >= 100) {
    {
#line 1332
    __cil_tmp6 = jas_eprintf("file_seek(%p, %ld, %d)\n", obj, offset, origin);
#line 1332
    tmp = __cil_tmp6;
    }
  } else {
#line 1332
    tmp = 0;
  }
  {
#line 1333
  fileobj = (jas_stream_fileobj_t *)obj;
#line 1334
  __cil_tmp8 = lseek(fileobj->fd, offset, origin);
  }
#line 1334
  return (__cil_tmp8);
}
}
#line 1337 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int file_close(jas_stream_obj_t *obj ) 
{ 
  jas_stream_fileobj_t *fileobj ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int tmp ;
  int ret ;

  {
  {
#line 1340
  __cil_tmp3 = jas_getdbglevel();
  }
#line 1340
  if (__cil_tmp3 >= 100) {
    {
#line 1340
    __cil_tmp4 = jas_eprintf("file_close(%p)\n", obj);
#line 1340
    tmp = __cil_tmp4;
    }
  } else {
#line 1340
    tmp = 0;
  }
  {
#line 1341
  fileobj = (jas_stream_fileobj_t *)obj;
#line 1343
  ret = close(fileobj->fd);
  }
#line 1344
  if (fileobj->flags & 1) {
    {
#line 1345
    unlink((char const   *)(fileobj->pathname));
    }
  }
  {
#line 1347
  jas_free((void *)fileobj);
  }
#line 1348
  return (ret);
}
}
#line 1355 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int sfile_read(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  FILE *fp ;
  size_t n ;
  int result ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int tmp ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int tmp___0 ;

  {
  {
#line 1360
  __cil_tmp7 = jas_getdbglevel();
  }
#line 1360
  if (__cil_tmp7 >= 100) {
    {
#line 1360
    __cil_tmp8 = jas_eprintf("sfile_read(%p, %p, %d)\n", obj, buf, cnt);
#line 1360
    tmp = __cil_tmp8;
    }
  } else {
#line 1360
    tmp = 0;
  }
  {
#line 1361
  fp = (FILE *)obj;
#line 1362
  n = fread((void *)buf, 1UL, (unsigned long )cnt, fp);
  }
#line 1363
  if (n != (unsigned long )cnt) {
    {
#line 1364
    __cil_tmp12 = feof(fp);
#line 1364
    __cil_tmp11 = ferror(fp);
    }
#line 1364
    if (! __cil_tmp11) {
#line 1364
      if (__cil_tmp12) {
#line 1364
        tmp___0 = 0;
      } else {
#line 1364
        tmp___0 = -1;
      }
    } else {
#line 1364
      tmp___0 = -1;
    }
#line 1364
    result = tmp___0;
  }
#line 1366
  result = (int )n;
#line 1367
  return (result);
}
}
#line 1370 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int sfile_write(jas_stream_obj_t *obj , char *buf , int cnt ) 
{ 
  FILE *fp ;
  size_t n ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 1374
  __cil_tmp6 = jas_getdbglevel();
  }
#line 1374
  if (__cil_tmp6 >= 100) {
    {
#line 1374
    __cil_tmp7 = jas_eprintf("sfile_write(%p, %p, %d)\n\230\001", obj, buf, cnt);
#line 1374
    tmp = __cil_tmp7;
    }
  } else {
#line 1374
    tmp = 0;
  }
  {
#line 1375
  fp = (FILE *)obj;
#line 1376
  n = fwrite((void const   *)buf, 1UL, (unsigned long )cnt, fp);
  }
#line 1377
  if (n != (size_t )cnt) {
#line 1377
    tmp___0 = -1;
  } else {
#line 1377
    tmp___0 = cnt;
  }
#line 1377
  return (tmp___0);
}
}
#line 1380 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static long sfile_seek(jas_stream_obj_t *obj , long offset , int origin ) 
{ 
  FILE *fp ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  int __cil_tmp8 ;

  {
  {
#line 1383
  __cil_tmp5 = jas_getdbglevel();
  }
#line 1383
  if (__cil_tmp5 >= 100) {
    {
#line 1383
    __cil_tmp6 = jas_eprintf("sfile_seek(%p, %ld, %d)\n\230\001", obj, offset, origin);
#line 1383
    tmp = __cil_tmp6;
    }
  } else {
#line 1383
    tmp = 0;
  }
  {
#line 1384
  fp = (FILE *)obj;
#line 1385
  __cil_tmp8 = fseek(fp, offset, origin);
  }
#line 1385
  return ((long )__cil_tmp8);
}
}
#line 1388 "/root/patchweave/5/src/libjasper/base/jas_stream.c"
static int sfile_close(jas_stream_obj_t *obj ) 
{ 
  FILE *fp ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int tmp ;
  int __cil_tmp6 ;

  {
  {
#line 1391
  __cil_tmp3 = jas_getdbglevel();
  }
#line 1391
  if (__cil_tmp3 >= 100) {
    {
#line 1391
    __cil_tmp4 = jas_eprintf("sfile_close(%p)\n\230\001", obj);
#line 1391
    tmp = __cil_tmp4;
    }
  } else {
#line 1391
    tmp = 0;
  }
  {
#line 1392
  fp = (FILE *)obj;
#line 1393
  __cil_tmp6 = fclose(fp);
  }
#line 1393
  return (__cil_tmp6);
}
}
#line 140 "/usr/include/x86_64-linux-gnu/bits/mathcalls.h"
extern  __attribute__((__nothrow__)) double pow(double __x , double __y ) ;
#line 159
extern  __attribute__((__nothrow__)) double ceil(double __x ) ;
#line 165
extern  __attribute__((__nothrow__)) double floor(double __x ) ;
#line 87 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
jas_matrix_t *jas_seq2d_create(jas_matind_t xstart , jas_matind_t ystart , jas_matind_t xend ,
                               jas_matind_t yend ) 
{ 
  jas_matrix_t *matrix ;

  {
  {
#line 92
  matrix = jas_matrix_create(yend - ystart, xend - xstart);
  }
#line 92
  if (! matrix) {
#line 93
    return ((jas_matrix_t *)0);
  }
#line 95
  matrix->xstart_ = xstart;
#line 96
  matrix->ystart_ = ystart;
#line 97
  matrix->xend_ = xend;
#line 98
  matrix->yend_ = yend;
#line 99
  return (matrix);
}
}
#line 102 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
jas_matrix_t *jas_matrix_create(jas_matind_t numrows , jas_matind_t numcols ) 
{ 
  jas_matrix_t *matrix ;
  jas_matind_t i ;
  size_t size ;
  int __cil_tmp7 ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;

  {
#line 108
  matrix = (jas_matrix_t *)0;
#line 110
  if (numrows < 0L) {
#line 111
    goto error;
  } else
#line 110
  if (numcols < 0L) {
#line 111
    goto error;
  }
  {
#line 114
  tmp = jas_malloc(sizeof(jas_matrix_t ));
#line 114
  matrix = (jas_matrix_t *)tmp;
  }
#line 114
  if (! matrix) {
#line 115
    goto error;
  }
  {
#line 117
  matrix->flags_ = 0;
#line 118
  matrix->numrows_ = numrows;
#line 119
  matrix->numcols_ = numcols;
#line 120
  matrix->rows_ = (jas_seqent_t **)0;
#line 121
  matrix->maxrows_ = numrows;
#line 122
  matrix->data_ = (jas_seqent_t *)0;
#line 123
  matrix->datasize_ = (int_fast32_t )0;
#line 126
  __cil_tmp7 = jas_safe_size_mul((size_t )numrows, (size_t )numcols, & size);
  }
#line 126
  if (! __cil_tmp7) {
#line 127
    goto error;
  }
#line 129
  matrix->datasize_ = (int_fast32_t )size;
#line 131
  if (matrix->maxrows_ > 0L) {
    {
#line 132
    tmp___0 = jas_alloc2((size_t )matrix->maxrows_, sizeof(jas_seqent_t *));
#line 132
    matrix->rows_ = (jas_seqent_t **)tmp___0;
    }
#line 132
    if (! matrix->rows_) {
#line 134
      goto error;
    }
  }
#line 138
  if (matrix->datasize_ > 0L) {
    {
#line 139
    tmp___1 = jas_alloc2((size_t )matrix->datasize_, sizeof(jas_seqent_t ));
#line 139
    matrix->data_ = (jas_seqent_t *)tmp___1;
    }
#line 139
    if (! matrix->data_) {
#line 141
      goto error;
    }
  }
#line 145
  i = (jas_matind_t )0;
  {
#line 145
  while (1) {
    while_continue: /* CIL Label */ ;

#line 145
    if (! (i < numrows)) {
#line 145
      goto while_break;
    }
#line 146
    *(matrix->rows_ + i) = matrix->data_ + i * matrix->numcols_;
#line 145
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 149
  i = (jas_matind_t )0;
  {
#line 149
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 149
    if (! (i < matrix->datasize_)) {
#line 149
      goto while_break___0;
    }
#line 150
    *(matrix->data_ + i) = (jas_seqent_t )0;
#line 149
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: 
#line 153
  matrix->xstart_ = (jas_matind_t )0;
#line 154
  matrix->ystart_ = (jas_matind_t )0;
#line 155
  matrix->xend_ = matrix->numcols_;
#line 156
  matrix->yend_ = matrix->numrows_;
#line 158
  return (matrix);
  error: 
#line 161
  if (matrix) {
    {
#line 162
    jas_matrix_destroy(matrix);
    }
  }
#line 164
  return ((jas_matrix_t *)0);
}
}
#line 167 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
void jas_matrix_destroy(jas_matrix_t *matrix ) 
{ 


  {
#line 169
  if (matrix->data_) {
    {
#line 171
    jas_free((void *)matrix->data_);
#line 172
    matrix->data_ = (jas_seqent_t *)0;
    }
  }
#line 174
  if (matrix->rows_) {
    {
#line 175
    jas_free((void *)matrix->rows_);
#line 176
    matrix->rows_ = (jas_seqent_t **)0;
    }
  }
  {
#line 178
  jas_free((void *)matrix);
  }
#line 180
  return;
}
}
#line 181 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
jas_seq2d_t *jas_seq2d_copy(jas_seq2d_t *x ) 
{ 
  jas_matrix_t *y ;
  jas_matind_t i ;
  jas_matind_t j ;

  {
  {
#line 186
  y = jas_seq2d_create(x->xstart_, x->ystart_, x->xend_, x->yend_);
#line 189
  i = (jas_matind_t )0;
  }
  {
#line 189
  while (1) {
    while_continue: /* CIL Label */ ;

#line 189
    if (! (i < x->numrows_)) {
#line 189
      goto while_break;
    }
#line 190
    j = (jas_matind_t )0;
    {
#line 190
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 190
      if (! (j < x->numcols_)) {
#line 190
        goto while_break___0;
      }
#line 191
      *(*(y->rows_ + i) + j) = *(*(x->rows_ + i) + j);
#line 190
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 189
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 194
  return (y);
}
}
#line 197 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
jas_matrix_t *jas_matrix_copy(jas_matrix_t *x ) 
{ 
  jas_matrix_t *y ;
  jas_matind_t i ;
  jas_matind_t j ;

  {
  {
#line 202
  y = jas_matrix_create(x->numrows_, x->numcols_);
#line 203
  i = (jas_matind_t )0;
  }
  {
#line 203
  while (1) {
    while_continue: /* CIL Label */ ;

#line 203
    if (! (i < x->numrows_)) {
#line 203
      goto while_break;
    }
#line 204
    j = (jas_matind_t )0;
    {
#line 204
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 204
      if (! (j < x->numcols_)) {
#line 204
        goto while_break___0;
      }
#line 205
      *(*(y->rows_ + i) + j) = *(*(x->rows_ + i) + j);
#line 204
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 203
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 208
  return (y);
}
}
#line 215 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
void jas_seq2d_bindsub(jas_matrix_t *s , jas_matrix_t *s1 , jas_matind_t xstart ,
                       jas_matind_t ystart , jas_matind_t xend , jas_matind_t yend ) 
{ 


  {
  {
#line 218
  jas_matrix_bindsub(s, s1, ystart - s1->ystart_, xstart - s1->xstart_, (yend - s1->ystart_) - 1L,
                     (xend - s1->xstart_) - 1L);
  }
#line 221
  return;
}
}
#line 222 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
void jas_matrix_bindsub(jas_matrix_t *mat0 , jas_matrix_t *mat1 , jas_matind_t r0 ,
                        jas_matind_t c0 , jas_matind_t r1 , jas_matind_t c1 ) 
{ 
  jas_matind_t i ;
  void *tmp ;

  {
#line 227
  if (mat0->data_) {
#line 228
    if (! (mat0->flags_ & 1)) {
      {
#line 229
      jas_free((void *)mat0->data_);
      }
    }
#line 231
    mat0->data_ = (jas_seqent_t *)0;
#line 232
    mat0->datasize_ = (int_fast32_t )0;
  }
#line 234
  if (mat0->rows_) {
    {
#line 235
    jas_free((void *)mat0->rows_);
#line 236
    mat0->rows_ = (jas_seqent_t **)0;
    }
  }
  {
#line 238
  mat0->flags_ |= 1;
#line 239
  mat0->numrows_ = (r1 - r0) + 1L;
#line 240
  mat0->numcols_ = (c1 - c0) + 1L;
#line 241
  mat0->maxrows_ = mat0->numrows_;
#line 242
  tmp = jas_alloc2((size_t )mat0->maxrows_, sizeof(jas_seqent_t *));
#line 242
  mat0->rows_ = (jas_seqent_t **)tmp;
  }
#line 242
  if (! mat0->rows_) {
    {
#line 250
    abort();
    }
  }
#line 253
  i = (jas_matind_t )0;
  {
#line 253
  while (1) {
    while_continue: /* CIL Label */ ;

#line 253
    if (! (i < mat0->numrows_)) {
#line 253
      goto while_break;
    }
#line 254
    *(mat0->rows_ + i) = *(mat1->rows_ + (r0 + i)) + c0;
#line 253
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 257
  mat0->xstart_ = mat1->xstart_ + c0;
#line 258
  mat0->ystart_ = mat1->ystart_ + r0;
#line 259
  mat0->xend_ = mat0->xstart_ + mat0->numcols_;
#line 260
  mat0->yend_ = mat0->ystart_ + mat0->numrows_;
#line 261
  return;
}
}
#line 267 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
int jas_matrix_cmp(jas_matrix_t *mat0 , jas_matrix_t *mat1 ) 
{ 
  jas_matind_t i ;
  jas_matind_t j ;

  {
#line 272
  if (mat0->numrows_ != mat1->numrows_) {
#line 274
    return (1);
  } else
#line 272
  if (mat0->numcols_ != mat1->numcols_) {
#line 274
    return (1);
  }
#line 276
  i = (jas_matind_t )0;
  {
#line 276
  while (1) {
    while_continue: /* CIL Label */ ;

#line 276
    if (! (i < mat0->numrows_)) {
#line 276
      goto while_break;
    }
#line 277
    j = (jas_matind_t )0;
    {
#line 277
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 277
      if (! (j < mat0->numcols_)) {
#line 277
        goto while_break___0;
      }
#line 278
      if (*(*(mat0->rows_ + i) + j) != *(*(mat1->rows_ + i) + j)) {
#line 279
        return (1);
      }
#line 277
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 276
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 283
  return (0);
}
}
#line 286 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
void jas_matrix_divpow2(jas_matrix_t *matrix , int n ) 
{ 
  jas_matind_t i ;
  jas_matind_t j ;
  jas_seqent_t *rowstart ;
  jas_matind_t rowstep ;
  jas_seqent_t *data ;
  jas_seqent_t *tmp___0 ;
  jas_seqent_t tmp___1 ;

  {
#line 294
  if (matrix->numrows_ > 0L) {
#line 294
    if (matrix->numcols_ > 0L) {
#line 296
      if (matrix->numrows_ > 1L) {
#line 296
        tmp___0 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 296
        tmp___0 = (jas_seqent_t *)0L;
      }
#line 296
      rowstep = (jas_matind_t )((int )tmp___0);
#line 297
      rowstart = *(matrix->rows_ + 0);
#line 297
      i = matrix->numrows_;
      {
#line 297
      while (1) {
        while_continue: /* CIL Label */ ;

#line 297
        if (! (i > 0L)) {
#line 297
          goto while_break;
        }
#line 299
        data = rowstart;
#line 299
        j = matrix->numcols_;
        {
#line 299
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 299
          if (! (j > 0L)) {
#line 299
            goto while_break___0;
          }
#line 301
          if (*data >= 0L) {
#line 301
            tmp___1 = *data >> n;
          } else {
#line 301
            tmp___1 = - (- *data >> n);
          }
#line 301
          *data = tmp___1;
#line 299
          data ++;
#line 299
          j --;
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 297
        rowstart += rowstep;
#line 297
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 303
  return;
}
}
#line 308 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
void jas_matrix_clip(jas_matrix_t *matrix , jas_seqent_t minval , jas_seqent_t maxval ) 
{ 
  jas_matind_t i ;
  jas_matind_t j ;
  jas_seqent_t v ;
  jas_seqent_t *rowstart ;
  jas_seqent_t *data ;
  jas_matind_t rowstep ;
  jas_seqent_t *tmp___0 ;

  {
#line 318
  if (matrix->numrows_ > 0L) {
#line 318
    if (matrix->numcols_ > 0L) {
#line 320
      if (matrix->numrows_ > 1L) {
#line 320
        tmp___0 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 320
        tmp___0 = (jas_seqent_t *)0L;
      }
#line 320
      rowstep = (jas_matind_t )((int )tmp___0);
#line 321
      rowstart = *(matrix->rows_ + 0);
#line 321
      i = matrix->numrows_;
      {
#line 321
      while (1) {
        while_continue: /* CIL Label */ ;

#line 321
        if (! (i > 0L)) {
#line 321
          goto while_break;
        }
#line 323
        data = rowstart;
#line 324
        data = rowstart;
#line 324
        j = matrix->numcols_;
        {
#line 324
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 324
          if (! (j > 0L)) {
#line 324
            goto while_break___0;
          }
#line 326
          v = *data;
#line 327
          if (v < minval) {
#line 328
            *data = minval;
          } else
#line 329
          if (v > maxval) {
#line 330
            *data = maxval;
          }
#line 324
          data ++;
#line 324
          j --;
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 321
        rowstart += rowstep;
#line 321
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 327
  return;
}
}
#line 337 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
void jas_matrix_asr(jas_matrix_t *matrix , int n ) 
{ 
  jas_matind_t i ;
  jas_matind_t j ;
  jas_seqent_t *rowstart ;
  jas_matind_t rowstep ;
  jas_seqent_t *data ;
  jas_seqent_t *tmp___1 ;
  int __cil_tmp11 ;

  {
#line 346
  if (matrix->numrows_ > 0L) {
#line 346
    if (matrix->numcols_ > 0L) {
#line 348
      if (matrix->numrows_ > 1L) {
#line 348
        tmp___1 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 348
        tmp___1 = (jas_seqent_t *)0L;
      }
#line 348
      rowstep = (jas_matind_t )((int )tmp___1);
#line 349
      rowstart = *(matrix->rows_ + 0);
#line 349
      i = matrix->numrows_;
      {
#line 349
      while (1) {
        while_continue: /* CIL Label */ ;

#line 349
        if (! (i > 0L)) {
#line 349
          goto while_break;
        }
#line 351
        data = rowstart;
#line 351
        j = matrix->numcols_;
        {
#line 351
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 351
          if (! (j > 0L)) {
#line 351
            goto while_break___0;
          }
          {
#line 354
          __cil_tmp11 = jas_fast32_asr(*data, n);
#line 354
          *data = (jas_seqent_t )__cil_tmp11;
#line 351
          data ++;
#line 351
          j --;
          }
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 349
        rowstart += rowstep;
#line 349
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 355
  return;
}
}
#line 360 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
void jas_matrix_asl(jas_matrix_t *matrix , int n ) 
{ 
  jas_matind_t i ;
  jas_matind_t j ;
  jas_seqent_t *rowstart ;
  jas_matind_t rowstep ;
  jas_seqent_t *data ;
  jas_seqent_t *tmp___0 ;
  int __cil_tmp10 ;

  {
#line 368
  if (matrix->numrows_ > 0L) {
#line 368
    if (matrix->numcols_ > 0L) {
#line 370
      if (matrix->numrows_ > 1L) {
#line 370
        tmp___0 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 370
        tmp___0 = (jas_seqent_t *)0L;
      }
#line 370
      rowstep = (jas_matind_t )((int )tmp___0);
#line 371
      rowstart = *(matrix->rows_ + 0);
#line 371
      i = matrix->numrows_;
      {
#line 371
      while (1) {
        while_continue: /* CIL Label */ ;

#line 371
        if (! (i > 0L)) {
#line 371
          goto while_break;
        }
#line 373
        data = rowstart;
#line 373
        j = matrix->numcols_;
        {
#line 373
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 373
          if (! (j > 0L)) {
#line 373
            goto while_break___0;
          }
          {
#line 376
          __cil_tmp10 = jas_fast32_asl(*data, n);
#line 376
          *data = (jas_seqent_t )__cil_tmp10;
#line 373
          data ++;
#line 373
          j --;
          }
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 371
        rowstart += rowstep;
#line 371
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 377
  return;
}
}
#line 386 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
int jas_matrix_resize(jas_matrix_t *matrix , jas_matind_t numrows , jas_matind_t numcols ) 
{ 
  jas_matind_t size ;
  jas_matind_t i ;

  {
#line 392
  size = numrows * numcols;
#line 393
  if (size > matrix->datasize_) {
#line 394
    return (-1);
  } else
#line 393
  if (numrows > matrix->maxrows_) {
#line 394
    return (-1);
  }
#line 397
  matrix->numrows_ = numrows;
#line 398
  matrix->numcols_ = numcols;
#line 400
  i = (jas_matind_t )0;
  {
#line 400
  while (1) {
    while_continue: /* CIL Label */ ;

#line 400
    if (! (i < numrows)) {
#line 400
      goto while_break;
    }
#line 401
    *(matrix->rows_ + i) = matrix->data_ + numcols * i;
#line 400
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 404
  return (0);
}
}
#line 407 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
void jas_matrix_setall(jas_matrix_t *matrix , jas_seqent_t val ) 
{ 
  jas_matind_t i ;
  jas_matind_t j ;
  jas_seqent_t *rowstart ;
  jas_matind_t rowstep ;
  jas_seqent_t *data ;
  jas_seqent_t *tmp___0 ;

  {
#line 415
  if (matrix->numrows_ > 0L) {
#line 415
    if (matrix->numcols_ > 0L) {
#line 417
      if (matrix->numrows_ > 1L) {
#line 417
        tmp___0 = (jas_seqent_t *)(*(matrix->rows_ + 1) - *(matrix->rows_ + 0));
      } else {
#line 417
        tmp___0 = (jas_seqent_t *)0L;
      }
#line 417
      rowstep = (jas_matind_t )((int )tmp___0);
#line 418
      rowstart = *(matrix->rows_ + 0);
#line 418
      i = matrix->numrows_;
      {
#line 418
      while (1) {
        while_continue: /* CIL Label */ ;

#line 418
        if (! (i > 0L)) {
#line 418
          goto while_break;
        }
#line 420
        data = rowstart;
#line 420
        j = matrix->numcols_;
        {
#line 420
        while (1) {
          while_continue___0: /* CIL Label */ ;

#line 420
          if (! (j > 0L)) {
#line 420
            goto while_break___0;
          }
#line 422
          *data = val;
#line 420
          data ++;
#line 420
          j --;
        }
        while_break___2: /* CIL Label */ ;
        }
        while_break___0: 
#line 418
        rowstart += rowstep;
#line 418
        i --;
      }
      while_break___1: /* CIL Label */ ;
      }
      while_break: ;
    }
  }
#line 424
  return;
}
}
#line 428 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
jas_matrix_t *jas_seq2d_input(FILE *in ) 
{ 
  jas_matrix_t *matrix ;
  jas_matind_t i ;
  jas_matind_t j ;
  long x ;
  jas_matind_t numrows ;
  jas_matind_t numcols ;
  jas_matind_t xoff ;
  jas_matind_t yoff ;
  long tmp_xoff ;
  long tmp_yoff ;
  long tmp_numrows ;
  long tmp_numcols ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp17 ;

  {
  {
#line 443
  __cil_tmp14 = fscanf(in, "%ld %ld", & tmp_xoff, & tmp_yoff);
  }
#line 443
  if (__cil_tmp14 != 2) {
#line 444
    return ((jas_matrix_t *)0);
  }
  {
#line 446
  xoff = tmp_xoff;
#line 447
  yoff = tmp_yoff;
#line 448
  __cil_tmp15 = fscanf(in, "%ld %ld", & tmp_numcols, & tmp_numrows);
  }
#line 448
  if (__cil_tmp15 != 2) {
#line 449
    return ((jas_matrix_t *)0);
  }
  {
#line 451
  numrows = tmp_numrows;
#line 452
  numcols = tmp_numcols;
#line 453
  matrix = jas_seq2d_create(xoff, yoff, xoff + numcols, yoff + numrows);
  }
#line 453
  if (! matrix) {
#line 455
    return ((jas_matrix_t *)0);
  }
#line 458
  if (matrix->numrows_ != numrows) {
    {
#line 460
    abort();
    }
  } else
#line 458
  if (matrix->numcols_ != numcols) {
    {
#line 460
    abort();
    }
  }
#line 464
  i = (jas_matind_t )0;
  {
#line 464
  while (1) {
    while_continue: /* CIL Label */ ;

#line 464
    if (! (i < matrix->numrows_)) {
#line 464
      goto while_break;
    }
#line 465
    j = (jas_matind_t )0;
    {
#line 465
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 465
      if (! (j < matrix->numcols_)) {
#line 465
        goto while_break___0;
      }
      {
#line 466
      __cil_tmp17 = fscanf(in, "%ld", & x);
      }
#line 466
      if (__cil_tmp17 != 1) {
        {
#line 467
        jas_matrix_destroy(matrix);
        }
#line 468
        return ((jas_matrix_t *)0);
      }
#line 470
      *(*(matrix->rows_ + i) + j) = x;
#line 465
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 464
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 474
  return (matrix);
}
}
#line 477 "/root/patchweave/5/src/libjasper/base/jas_seq.c"
int jas_seq2d_output(jas_matrix_t *matrix , FILE *out ) 
{ 
  jas_matind_t i ;
  jas_matind_t j ;
  jas_seqent_t x ;
  char buf[81] ;
  char sbuf[81] ;
  int n ;
  unsigned long __cil_tmp9 ;
  char const   *tmp ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;

  {
  {
#line 487
  fprintf(out, "%li %li\n\230\001", matrix->xstart_, matrix->ystart_);
#line 489
  fprintf(out, "%li %li\n\230\001", matrix->numcols_, matrix->numrows_);
#line 492
  buf[0] = (char )'\000';
#line 493
  i = (jas_matind_t )0;
  }
  {
#line 493
  while (1) {
    while_continue: /* CIL Label */ ;

#line 493
    if (! (i < matrix->numrows_)) {
#line 493
      goto while_break;
    }
#line 494
    j = (jas_matind_t )0;
    {
#line 494
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 494
      if (! (j < matrix->numcols_)) {
#line 494
        goto while_break___0;
      }
      {
#line 495
      x = *(*(matrix->rows_ + i) + j);
#line 496
      __cil_tmp9 = strlen((char const   *)(buf));
      }
#line 496
      if (__cil_tmp9 > 0UL) {
#line 496
        tmp = " \316m\033\225U";
      } else {
#line 496
        tmp = "\220";
      }
      {
#line 496
      sprintf(sbuf, "%s%4ld", tmp, x);
#line 498
      __cil_tmp11 = strlen((char const   *)(buf));
#line 498
      n = (int )__cil_tmp11;
#line 499
      __cil_tmp12 = strlen((char const   *)(sbuf));
      }
#line 499
      if (n + (int )__cil_tmp12 > 80) {
        {
#line 500
        fputs((char const   *)(buf), out);
#line 501
        fputs("\n\250m\033\225U", out);
#line 502
        buf[0] = (char )'\000';
        }
      }
      {
#line 504
      strcat(buf, (char const   *)(sbuf));
      }
#line 505
      if (j == matrix->numcols_ - 1L) {
        {
#line 506
        fputs((char const   *)(buf), out);
#line 507
        fputs("\n", out);
#line 508
        buf[0] = (char )'\000';
        }
      }
#line 494
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 493
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 512
  fputs((char const   *)(buf), out);
  }
#line 514
  return (0);
}
}
#line 238 "/root/patchweave/5/src/libjasper/base/jas_malloc.c"
void *jas_malloc(size_t size ) 
{ 
  void *result ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int tmp ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int tmp___0 ;

  {
  {
#line 241
  __cil_tmp3 = jas_getdbglevel();
  }
#line 241
  if (__cil_tmp3 >= 101) {
    {
#line 241
    __cil_tmp4 = jas_eprintf("jas_malloc(%zu)\n\230\001", size);
#line 241
    tmp = __cil_tmp4;
    }
  } else {
#line 241
    tmp = 0;
  }
  {
#line 242
  result = malloc(size);
#line 243
  __cil_tmp7 = jas_getdbglevel();
  }
#line 243
  if (__cil_tmp7 >= 100) {
    {
#line 243
    __cil_tmp8 = jas_eprintf("jas_malloc(%zu) -> %p\n", size, result);
#line 243
    tmp___0 = __cil_tmp8;
    }
  } else {
#line 243
    tmp___0 = 0;
  }
#line 244
  return (result);
}
}
#line 247 "/root/patchweave/5/src/libjasper/base/jas_malloc.c"
void *jas_realloc(void *ptr , size_t size ) 
{ 
  void *result ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int tmp ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int tmp___0 ;

  {
  {
#line 250
  __cil_tmp4 = jas_getdbglevel();
  }
#line 250
  if (__cil_tmp4 >= 101) {
    {
#line 250
    __cil_tmp5 = jas_eprintf("jas_realloc(%p, %zu)\nU", ptr, size);
#line 250
    tmp = __cil_tmp5;
    }
  } else {
#line 250
    tmp = 0;
  }
  {
#line 251
  result = realloc(ptr, size);
#line 252
  __cil_tmp8 = jas_getdbglevel();
  }
#line 252
  if (__cil_tmp8 >= 100) {
    {
#line 252
    __cil_tmp9 = jas_eprintf("jas_realloc(%p, %zu) -> %p\n", ptr, size, result);
#line 252
    tmp___0 = __cil_tmp9;
    }
  } else {
#line 252
    tmp___0 = 0;
  }
#line 253
  return (result);
}
}
#line 256 "/root/patchweave/5/src/libjasper/base/jas_malloc.c"
void jas_free(void *ptr ) 
{ 
  int __cil_tmp2 ;
  int __cil_tmp3 ;
  int tmp ;

  {
  {
#line 258
  __cil_tmp2 = jas_getdbglevel();
  }
#line 258
  if (__cil_tmp2 >= 100) {
    {
#line 258
    __cil_tmp3 = jas_eprintf("jas_free(%p)\n", ptr);
#line 258
    tmp = __cil_tmp3;
    }
  } else {
#line 258
    tmp = 0;
  }
  {
#line 259
  free(ptr);
  }
#line 261
  return;
}
}
#line 269 "/root/patchweave/5/src/libjasper/base/jas_malloc.c"
void *jas_alloc2(size_t num_elements , size_t element_size ) 
{ 
  size_t size ;
  int __cil_tmp4 ;
  void *__cil_tmp5 ;

  {
  {
#line 272
  __cil_tmp4 = jas_safe_size_mul(num_elements, element_size, & size);
  }
#line 272
  if (! __cil_tmp4) {
#line 273
    return ((void *)0);
  }
  {
#line 275
  __cil_tmp5 = jas_malloc(size);
  }
#line 275
  return (__cil_tmp5);
}
}
#line 278 "/root/patchweave/5/src/libjasper/base/jas_malloc.c"
void *jas_alloc3(size_t num_arrays , size_t array_size , size_t element_size ) 
{ 
  size_t size ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  void *__cil_tmp7 ;

  {
  {
#line 281
  __cil_tmp6 = jas_safe_size_mul(size, num_arrays, & size);
#line 281
  __cil_tmp5 = jas_safe_size_mul(array_size, element_size, & size);
  }
#line 281
  if (! __cil_tmp5) {
#line 283
    return ((void *)0);
  } else
#line 281
  if (! __cil_tmp6) {
#line 283
    return ((void *)0);
  }
  {
#line 285
  __cil_tmp7 = jas_malloc(size);
  }
#line 285
  return (__cil_tmp7);
}
}
#line 288 "/root/patchweave/5/src/libjasper/base/jas_malloc.c"
void *jas_realloc2(void *ptr , size_t num_elements , size_t element_size ) 
{ 
  size_t size ;
  int __cil_tmp5 ;
  void *__cil_tmp6 ;

  {
  {
#line 291
  __cil_tmp5 = jas_safe_size_mul(num_elements, element_size, & size);
  }
#line 291
  if (! __cil_tmp5) {
#line 292
    return ((void *)0);
  }
  {
#line 294
  __cil_tmp6 = jas_realloc(ptr, size);
  }
#line 294
  return (__cil_tmp6);
}
}
#line 297 "/root/patchweave/5/src/libjasper/base/jas_malloc.c"
void *jas_calloc(size_t num_elements , size_t element_size ) 
{ 
  void *ptr ;
  size_t size ;
  int __cil_tmp5 ;

  {
  {
#line 301
  __cil_tmp5 = jas_safe_size_mul(num_elements, element_size, & size);
  }
#line 301
  if (! __cil_tmp5) {
#line 302
    return ((void *)0);
  }
  {
#line 304
  ptr = jas_malloc(size);
  }
#line 304
  if (! ptr) {
#line 305
    return ((void *)0);
  }
  {
#line 307
  memset(ptr, 0, size);
  }
#line 308
  return (ptr);
}
}
#line 76 "/root/patchweave/5/src/libjasper/include/jasper/jas_init.h"
int jas_init(void) ;
#line 78
void jas_cleanup(void) ;
#line 75 "/root/patchweave/5/src/libjasper/base/jas_init.c"
int jas_init(void) 
{ 
  jas_image_fmtops_t fmtops ;
  int fmtid ;

  {
  {
#line 80
  fmtid = 0;
#line 83
  fmtops.decode = & mif_decode;
#line 84
  fmtops.encode = & mif_encode;
#line 85
  fmtops.validate = & mif_validate;
#line 86
  jas_image_addfmt(fmtid, (char *)"mif", (char *)"mif", (char *)"My Image Format (MIF)",
                   & fmtops);
#line 87
  fmtid ++;
#line 91
  fmtops.decode = & pnm_decode;
#line 92
  fmtops.encode = & pnm_encode;
#line 93
  fmtops.validate = & pnm_validate;
#line 94
  jas_image_addfmt(fmtid, (char *)"pnm", (char *)"pnm", (char *)"Portable Graymap/Pixmap (PNM)",
                   & fmtops);
#line 96
  jas_image_addfmt(fmtid, (char *)"pnm", (char *)"pgm", (char *)"Portable Graymap/Pixmap (PNM)",
                   & fmtops);
#line 98
  jas_image_addfmt(fmtid, (char *)"pnm", (char *)"ppm", (char *)"Portable Graymap/Pixmap (PNM)",
                   & fmtops);
#line 100
  fmtid ++;
#line 104
  fmtops.decode = & bmp_decode;
#line 105
  fmtops.encode = & bmp_encode;
#line 106
  fmtops.validate = & bmp_validate;
#line 107
  jas_image_addfmt(fmtid, (char *)"bmp", (char *)"bmp", (char *)"Microsoft Bitmap (BMP)",
                   & fmtops);
#line 108
  fmtid ++;
#line 112
  fmtops.decode = & ras_decode;
#line 113
  fmtops.encode = & ras_encode;
#line 114
  fmtops.validate = & ras_validate;
#line 115
  jas_image_addfmt(fmtid, (char *)"ras", (char *)"ras", (char *)"Sun Rasterfile (RAS)",
                   & fmtops);
#line 116
  fmtid ++;
#line 120
  fmtops.decode = & jp2_decode;
#line 121
  fmtops.encode = & jp2_encode;
#line 122
  fmtops.validate = & jp2_validate;
#line 123
  jas_image_addfmt(fmtid, (char *)"jp2", (char *)"jp2", (char *)"JPEG-2000 JP2 File Format Syntax (ISO/IEC 15444-1)",
                   & fmtops);
#line 125
  fmtid ++;
#line 126
  fmtops.decode = & jpc_decode;
#line 127
  fmtops.encode = & jpc_encode;
#line 128
  fmtops.validate = & jpc_validate;
#line 129
  jas_image_addfmt(fmtid, (char *)"jpc", (char *)"jpc", (char *)"JPEG-2000 Code Stream Syntax (ISO/IEC 15444-1)",
                   & fmtops);
#line 131
  fmtid ++;
#line 135
  fmtops.decode = & jpg_decode;
#line 136
  fmtops.encode = & jpg_encode;
#line 137
  fmtops.validate = & jpg_validate;
#line 138
  jas_image_addfmt(fmtid, (char *)"jpg", (char *)"jpg", (char *)"JPEG (ISO/IEC 10918-1)",
                   & fmtops);
#line 139
  fmtid ++;
#line 143
  fmtops.decode = & pgx_decode;
#line 144
  fmtops.encode = & pgx_encode;
#line 145
  fmtops.validate = & pgx_validate;
#line 146
  jas_image_addfmt(fmtid, (char *)"pgx", (char *)"pgx", (char *)"JPEG-2000 VM Format (PGX)",
                   & fmtops);
#line 147
  fmtid ++;
#line 154
  atexit(& jas_cleanup);
  }
#line 156
  return (0);
}
}
#line 159 "/root/patchweave/5/src/libjasper/base/jas_init.c"
void jas_cleanup(void) 
{ 


  {
  {
#line 161
  jas_image_clearfmts();
  }
#line 163
  return;
}
}
#line 99 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static jas_image_cmpt_t *jas_image_cmpt_create0(void) ;
#line 100
static void jas_image_cmpt_destroy(jas_image_cmpt_t *cmpt ) ;
#line 101
static jas_image_cmpt_t *jas_image_cmpt_create(int_fast32_t tlx , int_fast32_t tly ,
                                               int_fast32_t hstep , int_fast32_t vstep ,
                                               int_fast32_t width , int_fast32_t height ,
                                               uint_fast16_t depth , int sgnd , uint_fast32_t inmem ) ;
#line 105
static void jas_image_setbbox(jas_image_t *image ) ;
#line 106
static jas_image_cmpt_t *jas_image_cmpt_copy(jas_image_cmpt_t *cmpt ) ;
#line 107
static int jas_image_growcmpts(jas_image_t *image , int maxcmpts ) ;
#line 108
static uint_fast32_t inttobits(jas_seqent_t v , int prec , int sgnd ) ;
#line 109
static jas_seqent_t bitstoint(uint_fast32_t v , int prec , int sgnd ) ;
#line 110
static int putint(jas_stream_t *out , int sgnd , int prec , long val ) ;
#line 111
static int getint(jas_stream_t *in , int sgnd , int prec , long *val ) ;
#line 112
static void jas_image_calcbbox2(jas_image_t *image , jas_image_coord_t *tlx , jas_image_coord_t *tly ,
                                jas_image_coord_t *brx , jas_image_coord_t *bry ) ;
#line 114
static long uptomult(long x , long y ) ;
#line 115
static long downtomult(long x , long y ) ;
#line 116
static long convert(long val , int oldsgnd , int oldprec , int newsgnd , int newprec ) ;
#line 125 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static int jas_image_numfmts  =    0;
#line 126 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static jas_image_fmtinfo_t jas_image_fmtinfos[32]  ;
#line 132 "/root/patchweave/5/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_create(int numcmpts , jas_image_cmptparm_t *cmptparms , int clrspc ) 
{ 
  jas_image_t *image ;
  size_t rawsize ;
  uint_fast32_t inmem ;
  int cmptno ;
  jas_image_cmptparm_t *cmptparm ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int tmp ;
  int __cil_tmp14 ;
  void *tmp___0 ;

  {
  {
#line 141
  image = (jas_image_t *)0;
#line 143
  __cil_tmp9 = jas_getdbglevel();
  }
#line 143
  if (__cil_tmp9 >= 100) {
    {
#line 143
    __cil_tmp10 = jas_eprintf("jas_image_create(%d, %p, %d)\n", numcmpts, cmptparms,
                              clrspc);
#line 143
    tmp = __cil_tmp10;
    }
  } else {
#line 143
    tmp = 0;
  }
  {
#line 146
  image = jas_image_create0();
  }
#line 146
  if (! image) {
#line 147
    goto error;
  }
  {
#line 150
  image->clrspc_ = clrspc;
#line 151
  image->maxcmpts_ = numcmpts;
#line 155
  tmp___0 = jas_alloc2((size_t )image->maxcmpts_, sizeof(jas_image_cmpt_t *));
#line 155
  image->cmpts_ = (jas_image_cmpt_t **)tmp___0;
  }
#line 155
  if (! image->cmpts_) {
#line 157
    goto error;
  }
#line 160
  cmptno = 0;
  {
#line 160
  while (1) {
    while_continue: /* CIL Label */ ;

#line 160
    if (! (cmptno < image->maxcmpts_)) {
#line 160
      goto while_break;
    }
#line 161
    *(image->cmpts_ + cmptno) = (jas_image_cmpt_t *)0;
#line 160
    cmptno ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
#line 178
  cmptparm = cmptparms;
#line 178
  cmptno = 0;
  {
#line 178
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 178
    if (! (cmptno < numcmpts)) {
#line 178
      goto while_break___0;
    }
    {
#line 180
    __cil_tmp14 = jas_safe_size_mul3((size_t )cmptparm->width, (size_t )cmptparm->height,
                                     (size_t )(cmptparm->prec + 7), & rawsize);
    }
#line 180
    if (! __cil_tmp14) {
#line 182
      goto error;
    }
    {
#line 184
    rawsize /= 8UL;
#line 185
    inmem = (uint_fast32_t )(rawsize < 268435456UL);
#line 186
    *(image->cmpts_ + cmptno) = jas_image_cmpt_create(cmptparm->tlx, cmptparm->tly,
                                                      cmptparm->hstep, cmptparm->vstep,
                                                      cmptparm->width, cmptparm->height,
                                                      (uint_fast16_t )cmptparm->prec,
                                                      cmptparm->sgnd, inmem);
    }
#line 186
    if (! *(image->cmpts_ + cmptno)) {
#line 190
      goto error;
    }
#line 192
    (image->numcmpts_) ++;
#line 178
    cmptparm ++;
#line 178
    cmptno ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 197
  jas_image_setbbox(image);
  }
#line 199
  return (image);
  error: 
#line 202
  if (image) {
    {
#line 203
    jas_image_destroy(image);
    }
  }
#line 205
  return ((jas_image_t *)0);
}
}
#line 208 "/root/patchweave/5/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_create0(void) 
{ 
  jas_image_t *image ;
  void *tmp ;

  {
  {
#line 212
  tmp = jas_malloc(sizeof(jas_image_t ));
#line 212
  image = (jas_image_t *)tmp;
  }
#line 212
  if (! image) {
#line 213
    return ((jas_image_t *)0);
  }
#line 216
  image->tlx_ = (jas_image_coord_t )0;
#line 217
  image->tly_ = (jas_image_coord_t )0;
#line 218
  image->brx_ = (jas_image_coord_t )0;
#line 219
  image->bry_ = (jas_image_coord_t )0;
#line 220
  image->clrspc_ = 16384;
#line 221
  image->numcmpts_ = 0;
#line 222
  image->maxcmpts_ = 0;
#line 223
  image->cmpts_ = (jas_image_cmpt_t **)0;
#line 225
  image->cmprof_ = (jas_cmprof_t *)0;
#line 227
  return (image);
}
}
#line 230 "/root/patchweave/5/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_copy(jas_image_t *image ) 
{ 
  jas_image_t *newimage ;
  int cmptno ;
  int __cil_tmp5 ;

  {
  {
#line 235
  newimage = jas_image_create0();
  }
#line 235
  if (! newimage) {
#line 236
    goto error;
  }
  {
#line 239
  __cil_tmp5 = jas_image_growcmpts(newimage, image->numcmpts_);
  }
#line 239
  if (__cil_tmp5) {
#line 240
    goto error;
  }
#line 242
  cmptno = 0;
  {
#line 242
  while (1) {
    while_continue: /* CIL Label */ ;

#line 242
    if (! (cmptno < image->numcmpts_)) {
#line 242
      goto while_break;
    }
    {
#line 243
    *(newimage->cmpts_ + cmptno) = jas_image_cmpt_copy(*(image->cmpts_ + cmptno));
    }
#line 243
    if (! *(newimage->cmpts_ + cmptno)) {
#line 244
      goto error;
    }
#line 246
    (newimage->numcmpts_) ++;
#line 242
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 249
  jas_image_setbbox(newimage);
  }
#line 251
  if (image->cmprof_) {
    {
#line 252
    newimage->cmprof_ = jas_cmprof_copy(image->cmprof_);
    }
#line 252
    if (! newimage->cmprof_) {
#line 253
      goto error;
    }
  }
#line 256
  return (newimage);
  error: 
#line 258
  if (newimage) {
    {
#line 259
    jas_image_destroy(newimage);
    }
  }
#line 261
  return ((jas_image_t *)0);
}
}
#line 264 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static jas_image_cmpt_t *jas_image_cmpt_create0(void) 
{ 
  jas_image_cmpt_t *cmpt ;
  void *tmp ;

  {
  {
#line 267
  tmp = jas_malloc(sizeof(jas_image_cmpt_t ));
#line 267
  cmpt = (jas_image_cmpt_t *)tmp;
  }
#line 267
  if (! cmpt) {
#line 268
    return ((jas_image_cmpt_t *)0);
  }
  {
#line 270
  memset((void *)cmpt, 0, sizeof(jas_image_cmpt_t ));
#line 271
  cmpt->type_ = (jas_image_cmpttype_t )65536;
  }
#line 272
  return (cmpt);
}
}
#line 275 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static jas_image_cmpt_t *jas_image_cmpt_copy(jas_image_cmpt_t *cmpt ) 
{ 
  jas_image_cmpt_t *newcmpt ;
  long __cil_tmp5 ;
  int __cil_tmp6 ;
  long __cil_tmp7 ;

  {
  {
#line 279
  newcmpt = jas_image_cmpt_create0();
  }
#line 279
  if (! newcmpt) {
#line 280
    return ((jas_image_cmpt_t *)0);
  }
  {
#line 282
  newcmpt->tlx_ = cmpt->tlx_;
#line 283
  newcmpt->tly_ = cmpt->tly_;
#line 284
  newcmpt->hstep_ = cmpt->hstep_;
#line 285
  newcmpt->vstep_ = cmpt->vstep_;
#line 286
  newcmpt->width_ = cmpt->width_;
#line 287
  newcmpt->height_ = cmpt->height_;
#line 288
  newcmpt->prec_ = cmpt->prec_;
#line 289
  newcmpt->sgnd_ = cmpt->sgnd_;
#line 290
  newcmpt->cps_ = cmpt->cps_;
#line 291
  newcmpt->type_ = cmpt->type_;
#line 292
  newcmpt->stream_ = jas_stream_memopen((char *)0, 0);
  }
#line 292
  if (! newcmpt->stream_) {
#line 293
    goto error;
  }
  {
#line 295
  __cil_tmp5 = jas_stream_seek(cmpt->stream_, 0L, 0);
  }
#line 295
  if (__cil_tmp5) {
#line 296
    goto error;
  }
  {
#line 298
  __cil_tmp6 = jas_stream_copy(newcmpt->stream_, cmpt->stream_, -1);
  }
#line 298
  if (__cil_tmp6) {
#line 299
    goto error;
  }
  {
#line 301
  __cil_tmp7 = jas_stream_seek(newcmpt->stream_, 0L, 0);
  }
#line 301
  if (__cil_tmp7) {
#line 302
    goto error;
  }
#line 304
  return (newcmpt);
  error: 
#line 306
  if (newcmpt) {
    {
#line 307
    jas_image_cmpt_destroy(newcmpt);
    }
  }
#line 309
  return ((jas_image_cmpt_t *)0);
}
}
#line 312 "/root/patchweave/5/src/libjasper/base/jas_image.c"
void jas_image_destroy(jas_image_t *image ) 
{ 
  int i ;

  {
#line 316
  if (image->cmpts_) {
#line 317
    i = 0;
    {
#line 317
    while (1) {
      while_continue: /* CIL Label */ ;

#line 317
      if (! (i < image->numcmpts_)) {
#line 317
        goto while_break;
      }
      {
#line 318
      jas_image_cmpt_destroy(*(image->cmpts_ + i));
#line 319
      *(image->cmpts_ + i) = (jas_image_cmpt_t *)0;
#line 317
      i ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 321
    jas_free((void *)image->cmpts_);
    }
  }
#line 323
  if (image->cmprof_) {
    {
#line 324
    jas_cmprof_destroy(image->cmprof_);
    }
  }
  {
#line 325
  jas_free((void *)image);
  }
#line 327
  return;
}
}
#line 328 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static jas_image_cmpt_t *jas_image_cmpt_create(int_fast32_t tlx , int_fast32_t tly ,
                                               int_fast32_t hstep , int_fast32_t vstep ,
                                               int_fast32_t width , int_fast32_t height ,
                                               uint_fast16_t depth , int sgnd , uint_fast32_t inmem ) 
{ 
  jas_image_cmpt_t *cmpt ;
  size_t size ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int tmp ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp19 ;
  jas_stream_t *__cil_tmp20 ;
  jas_stream_t *__cil_tmp21 ;
  jas_stream_t *tmp___0 ;
  long __cil_tmp23 ;
  int __cil_tmp24 ;
  unsigned char *__cil_tmp25 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  long __cil_tmp29 ;
  void *tmp___4 ;

  {
  {
#line 336
  __cil_tmp12 = jas_getdbglevel();
  }
#line 336
  if (__cil_tmp12 >= 100) {
    {
#line 336
    __cil_tmp13 = jas_eprintf("jas_image_cmpt_create(%ld, %ld, %ld, %ld, %ld, %ld, %d, %d, %d)\n\230\001",
                              tlx, tly, hstep, vstep, width, height, (int )depth,
                              sgnd, inmem);
#line 336
    tmp = __cil_tmp13;
    }
  } else {
#line 336
    tmp = 0;
  }
#line 349
  cmpt = (jas_image_cmpt_t *)0;
#line 350
  if (width < 0L) {
#line 351
    goto error;
  } else
#line 350
  if (height < 0L) {
#line 351
    goto error;
  } else
#line 350
  if (hstep <= 0L) {
#line 351
    goto error;
  } else
#line 350
  if (vstep <= 0L) {
#line 351
    goto error;
  }
  {
#line 353
  __cil_tmp16 = jas_safe_intfast32_add(tly, height, (int_fast32_t *)0);
#line 353
  __cil_tmp15 = jas_safe_intfast32_add(tlx, width, (int_fast32_t *)0);
  }
#line 353
  if (! __cil_tmp15) {
#line 355
    goto error;
  } else
#line 353
  if (! __cil_tmp16) {
#line 355
    goto error;
  }
  {
#line 357
  __cil_tmp17 = jas_safe_intfast32_mul3(width, height, (int_fast32_t )depth, (int_fast32_t *)0);
  }
#line 357
  if (! __cil_tmp17) {
#line 358
    goto error;
  }
  {
#line 361
  tmp___4 = jas_malloc(sizeof(jas_image_cmpt_t ));
#line 361
  cmpt = (jas_image_cmpt_t *)tmp___4;
  }
#line 361
  if (! cmpt) {
#line 362
    goto error;
  }
  {
#line 365
  cmpt->type_ = (jas_image_cmpttype_t )65536;
#line 366
  cmpt->tlx_ = tlx;
#line 367
  cmpt->tly_ = tly;
#line 368
  cmpt->hstep_ = hstep;
#line 369
  cmpt->vstep_ = vstep;
#line 370
  cmpt->width_ = width;
#line 371
  cmpt->height_ = height;
#line 372
  cmpt->prec_ = (int )depth;
#line 373
  cmpt->sgnd_ = sgnd;
#line 374
  cmpt->stream_ = (jas_stream_t *)0;
#line 375
  cmpt->cps_ = (int )((depth + 7UL) / 8UL);
#line 380
  __cil_tmp19 = jas_safe_size_mul3((size_t )cmpt->width_, (size_t )cmpt->height_,
                                   (size_t )cmpt->cps_, & size);
  }
#line 380
  if (! __cil_tmp19) {
#line 381
    goto error;
  }
#line 383
  if (inmem) {
    {
#line 383
    __cil_tmp20 = jas_stream_memopen2((char *)0, size);
#line 383
    tmp___0 = __cil_tmp20;
    }
  } else {
    {
#line 383
    __cil_tmp21 = jas_stream_tmpfile();
#line 383
    tmp___0 = __cil_tmp21;
    }
  }
#line 383
  cmpt->stream_ = tmp___0;
#line 385
  if (! cmpt->stream_) {
#line 386
    goto error;
  }
#line 392
  if (size > 0UL) {
#line 393
    if (size - 1UL > 0xffffffffffffffffUL) {
#line 394
      goto error;
    }
    {
#line 396
    __cil_tmp29 = jas_stream_seek(cmpt->stream_, 0L, 0);
    }
#line 396
    if (! ((cmpt->stream_)->flags_ & 7)) {
#line 396
      if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 396
        if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 396
          (cmpt->stream_)->flags_ |= 4;
#line 396
          tmp___2 = -1;
        } else {
#line 396
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 396
        ((cmpt->stream_)->cnt_) --;
#line 396
        (cmpt->stream_)->bufmode_ |= 32;
#line 396
        if ((cmpt->stream_)->cnt_ < 0) {
          {
#line 396
          __cil_tmp24 = jas_stream_flushbuf(cmpt->stream_, 0);
#line 396
          tmp___1 = __cil_tmp24;
          }
        } else {
#line 396
          __cil_tmp25 = (cmpt->stream_)->ptr_;
#line 396
          ((cmpt->stream_)->ptr_) ++;
#line 396
          *__cil_tmp25 = (unsigned char)0;
#line 396
          ((cmpt->stream_)->rwcnt_) ++;
#line 396
          tmp___1 = (int )*__cil_tmp25;
        }
#line 396
        tmp___2 = tmp___1;
      }
#line 396
      tmp___3 = tmp___2;
    } else {
#line 396
      tmp___3 = -1;
    }
    {
#line 396
    __cil_tmp23 = jas_stream_seek(cmpt->stream_, (long )(size - 1UL), 0);
    }
#line 396
    if (__cil_tmp23 < 0L) {
#line 399
      goto error;
    } else
#line 396
    if (tmp___3 == -1) {
#line 399
      goto error;
    } else
#line 396
    if (__cil_tmp29 < 0L) {
#line 399
      goto error;
    }
  }
#line 403
  return (cmpt);
  error: 
#line 406
  if (cmpt) {
    {
#line 407
    jas_image_cmpt_destroy(cmpt);
    }
  }
#line 409
  return ((jas_image_cmpt_t *)0);
}
}
#line 412 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static void jas_image_cmpt_destroy(jas_image_cmpt_t *cmpt ) 
{ 


  {
#line 414
  if (cmpt->stream_) {
    {
#line 415
    jas_stream_close(cmpt->stream_);
    }
  }
  {
#line 417
  jas_free((void *)cmpt);
  }
#line 419
  return;
}
}
#line 424 "/root/patchweave/5/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_decode(jas_stream_t *in , int fmt , char const   *optstr ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;
  jas_image_t *image ;

  {
#line 429
  image = (jas_image_t *)0;
#line 432
  if (fmt < 0) {
    {
#line 433
    fmt = jas_image_getfmt(in);
    }
#line 433
    if (fmt < 0) {
#line 434
      goto error;
    }
  }
  {
#line 438
  fmtinfo = jas_image_lookupfmtbyid(fmt);
  }
#line 438
  if (! fmtinfo) {
#line 439
    goto error;
  }
#line 440
  if (! fmtinfo->ops.decode) {
#line 441
    goto error;
  }
  {
#line 444
  image = (*(fmtinfo->ops.decode))(in, optstr);
  }
#line 444
  if (! image) {
#line 445
    goto error;
  }
#line 448
  if (! image->cmprof_) {
#line 448
    if (! (image->clrspc_ & 16384)) {
#line 448
      if (! (! (image->clrspc_ & 255))) {
        {
#line 450
        image->cmprof_ = jas_cmprof_createfromclrspc(image->clrspc_);
        }
#line 450
        if (! image->cmprof_) {
#line 452
          goto error;
        }
      }
    }
  }
#line 455
  return (image);
  error: 
#line 457
  if (image) {
    {
#line 458
    jas_image_destroy(image);
    }
  }
#line 459
  return ((jas_image_t *)0);
}
}
#line 462 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_encode(jas_image_t *image , jas_stream_t *out , int fmt , char const   *optstr ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;
  int __cil_tmp7 ;
  int tmp ;

  {
  {
#line 466
  fmtinfo = jas_image_lookupfmtbyid(fmt);
  }
#line 466
  if (! fmtinfo) {
    {
#line 467
    jas_eprintf("format lookup failed\n");
    }
#line 468
    return (-1);
  }
#line 470
  if (fmtinfo->ops.encode) {
    {
#line 470
    __cil_tmp7 = (*(fmtinfo->ops.encode))(image, out, optstr);
#line 470
    tmp = __cil_tmp7;
    }
  } else {
#line 470
    tmp = -1;
  }
#line 470
  return (tmp);
}
}
#line 478 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_readcmpt(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                       jas_image_coord_t width , jas_image_coord_t height , jas_matrix_t *data ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t i ;
  jas_image_coord_t j ;
  int k ;
  jas_seqent_t v ;
  int c ;
  jas_seqent_t *dr ;
  jas_seqent_t *d ;
  int drs ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int tmp ;
  int __cil_tmp20 ;
  jas_seqent_t *tmp___0 ;
  long __cil_tmp22 ;
  int __cil_tmp23 ;
  unsigned char *__cil_tmp24 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
  {
#line 492
  __cil_tmp17 = jas_getdbglevel();
  }
#line 492
  if (__cil_tmp17 >= 100) {
    {
#line 492
    __cil_tmp18 = jas_eprintf("jas_image_readcmpt(%p, %d, %ld, %ld, %ld, %ld, %p)\n",
                              image, cmptno, x, y, width, height, data);
#line 492
    tmp = __cil_tmp18;
    }
  } else {
#line 492
    tmp = 0;
  }
#line 496
  if (cmptno < 0) {
#line 497
    return (-1);
  } else
#line 496
  if (cmptno >= image->numcmpts_) {
#line 497
    return (-1);
  }
#line 500
  cmpt = *(image->cmpts_ + cmptno);
#line 501
  if (x >= cmpt->width_) {
#line 504
    return (-1);
  } else
#line 501
  if (y >= cmpt->height_) {
#line 504
    return (-1);
  } else
#line 501
  if (x + width > cmpt->width_) {
#line 504
    return (-1);
  } else
#line 501
  if (y + height > cmpt->height_) {
#line 504
    return (-1);
  }
#line 507
  if (! data->numrows_) {
#line 508
    return (-1);
  } else
#line 507
  if (! data->numcols_) {
#line 508
    return (-1);
  }
#line 511
  if (data->numrows_ != height) {
    _L: 
    {
#line 512
    __cil_tmp20 = jas_matrix_resize(data, height, width);
    }
#line 512
    if (__cil_tmp20) {
#line 513
      return (-1);
    }
  } else
#line 511
  if (data->numcols_ != width) {
#line 511
    goto _L;
  }
#line 517
  dr = *(data->rows_ + 0) + 0;
#line 518
  if (data->numrows_ > 1L) {
#line 518
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 518
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 518
  drs = (int )tmp___0;
#line 519
  i = (jas_image_coord_t )0;
  {
#line 519
  while (1) {
    while_continue: /* CIL Label */ ;

#line 519
    if (! (i < height)) {
#line 519
      goto while_break;
    }
    {
#line 520
    d = dr;
#line 521
    __cil_tmp22 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (y + i) + x) * (long )cmpt->cps_,
                                  0);
    }
#line 521
    if (__cil_tmp22 < 0L) {
#line 523
      return (-1);
    }
#line 525
    j = width;
    {
#line 525
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 525
      if (! (j > 0L)) {
#line 525
        goto while_break___0;
      }
#line 526
      v = (jas_seqent_t )0;
#line 527
      k = cmpt->cps_;
      {
#line 527
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 527
        if (! (k > 0)) {
#line 527
          goto while_break___1;
        }
#line 528
        if (! ((cmpt->stream_)->flags_ & 7)) {
#line 528
          if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 528
            if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 528
              (cmpt->stream_)->flags_ |= 4;
#line 528
              tmp___2 = -1;
            } else {
#line 528
              goto _L___0;
            }
          } else {
            _L___0: /* CIL Label */ 
#line 528
            ((cmpt->stream_)->cnt_) --;
#line 528
            if ((cmpt->stream_)->cnt_ < 0) {
              {
#line 528
              __cil_tmp23 = jas_stream_fillbuf(cmpt->stream_, 1);
#line 528
              tmp___1 = __cil_tmp23;
              }
            } else {
#line 528
              __cil_tmp24 = (cmpt->stream_)->ptr_;
#line 528
              ((cmpt->stream_)->ptr_) ++;
#line 528
              ((cmpt->stream_)->rwcnt_) ++;
#line 528
              tmp___1 = (int )*__cil_tmp24;
            }
#line 528
            tmp___2 = tmp___1;
          }
#line 528
          tmp___3 = tmp___2;
        } else {
#line 528
          tmp___3 = -1;
        }
#line 528
        c = tmp___3;
#line 528
        if (c == -1) {
#line 529
          return (-1);
        }
#line 531
        v = (v << 8) | (long )(c & 255);
#line 527
        k --;
      }
      while_break___4: /* CIL Label */ ;
      }
      while_break___1: 
      {
#line 533
      *d = bitstoint((uint_fast32_t )v, cmpt->prec_, cmpt->sgnd_);
#line 525
      d ++;
#line 525
      j --;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
#line 519
    dr += drs;
#line 519
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 537
  return (0);
}
}
#line 540 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_writecmpt(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                        jas_image_coord_t width , jas_image_coord_t height , jas_matrix_t *data ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t i ;
  jas_image_coord_t j ;
  jas_seqent_t *d ;
  jas_seqent_t *dr ;
  int drs ;
  jas_seqent_t v ;
  int k ;
  int c ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int tmp ;
  jas_seqent_t *tmp___0 ;
  long __cil_tmp21 ;
  uint_fast32_t __cil_tmp22 ;
  int __cil_tmp23 ;
  unsigned char *__cil_tmp24 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
  {
#line 554
  __cil_tmp17 = jas_getdbglevel();
  }
#line 554
  if (__cil_tmp17 >= 100) {
    {
#line 554
    __cil_tmp18 = jas_eprintf("jas_image_writecmpt(%p, %d, %ld, %ld, %ld, %ld, %p)\n",
                              image, cmptno, x, y, width, height, data);
#line 554
    tmp = __cil_tmp18;
    }
  } else {
#line 554
    tmp = 0;
  }
#line 558
  if (cmptno < 0) {
#line 559
    return (-1);
  } else
#line 558
  if (cmptno >= image->numcmpts_) {
#line 559
    return (-1);
  }
#line 562
  cmpt = *(image->cmpts_ + cmptno);
#line 563
  if (x >= cmpt->width_) {
#line 566
    return (-1);
  } else
#line 563
  if (y >= cmpt->height_) {
#line 566
    return (-1);
  } else
#line 563
  if (x + width > cmpt->width_) {
#line 566
    return (-1);
  } else
#line 563
  if (y + height > cmpt->height_) {
#line 566
    return (-1);
  }
#line 569
  if (! data->numrows_) {
#line 570
    return (-1);
  } else
#line 569
  if (! data->numcols_) {
#line 570
    return (-1);
  }
#line 573
  if (data->numrows_ != height) {
#line 575
    return (-1);
  } else
#line 573
  if (data->numcols_ != width) {
#line 575
    return (-1);
  }
#line 578
  dr = *(data->rows_ + 0) + 0;
#line 579
  if (data->numrows_ > 1L) {
#line 579
    tmp___0 = (jas_seqent_t *)(*(data->rows_ + 1) - *(data->rows_ + 0));
  } else {
#line 579
    tmp___0 = (jas_seqent_t *)0L;
  }
#line 579
  drs = (int )tmp___0;
#line 580
  i = (jas_image_coord_t )0;
  {
#line 580
  while (1) {
    while_continue: /* CIL Label */ ;

#line 580
    if (! (i < height)) {
#line 580
      goto while_break;
    }
    {
#line 581
    d = dr;
#line 582
    __cil_tmp21 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (y + i) + x) * (long )cmpt->cps_,
                                  0);
    }
#line 582
    if (__cil_tmp21 < 0L) {
#line 584
      return (-1);
    }
#line 586
    j = width;
    {
#line 586
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 586
      if (! (j > 0L)) {
#line 586
        goto while_break___0;
      }
      {
#line 587
      __cil_tmp22 = inttobits(*d, cmpt->prec_, cmpt->sgnd_);
#line 587
      v = (jas_seqent_t )__cil_tmp22;
#line 588
      k = cmpt->cps_;
      }
      {
#line 588
      while (1) {
        while_continue___1: /* CIL Label */ ;

#line 588
        if (! (k > 0)) {
#line 588
          goto while_break___1;
        }
#line 589
        c = (int )((v >> 8 * (cmpt->cps_ - 1)) & 255L);
#line 590
        if (! ((cmpt->stream_)->flags_ & 7)) {
#line 590
          if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 590
            if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 590
              (cmpt->stream_)->flags_ |= 4;
#line 590
              tmp___2 = -1;
            } else {
#line 590
              goto _L___0;
            }
          } else {
            _L___0: /* CIL Label */ 
#line 590
            ((cmpt->stream_)->cnt_) --;
#line 590
            (cmpt->stream_)->bufmode_ |= 32;
#line 590
            if ((cmpt->stream_)->cnt_ < 0) {
              {
#line 590
              __cil_tmp23 = jas_stream_flushbuf(cmpt->stream_, (int )((unsigned char )c));
#line 590
              tmp___1 = __cil_tmp23;
              }
            } else {
#line 590
              __cil_tmp24 = (cmpt->stream_)->ptr_;
#line 590
              ((cmpt->stream_)->ptr_) ++;
#line 590
              *__cil_tmp24 = (unsigned char )c;
#line 590
              ((cmpt->stream_)->rwcnt_) ++;
#line 590
              tmp___1 = (int )*__cil_tmp24;
            }
#line 590
            tmp___2 = tmp___1;
          }
#line 590
          tmp___3 = tmp___2;
        } else {
#line 590
          tmp___3 = -1;
        }
#line 590
        if (tmp___3 == -1) {
#line 592
          return (-1);
        }
#line 594
        v <<= 8;
#line 588
        k --;
      }
      while_break___4: /* CIL Label */ ;
      }
      while_break___1: 
#line 586
      d ++;
#line 586
      j --;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
#line 580
    dr += drs;
#line 580
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 599
  return (0);
}
}
#line 606 "/root/patchweave/5/src/libjasper/base/jas_image.c"
void jas_image_clearfmts(void) 
{ 
  int i ;
  jas_image_fmtinfo_t *fmtinfo ;

  {
#line 610
  i = 0;
  {
#line 610
  while (1) {
    while_continue: /* CIL Label */ ;

#line 610
    if (! (i < jas_image_numfmts)) {
#line 610
      goto while_break;
    }
#line 611
    fmtinfo = & jas_image_fmtinfos[i];
#line 612
    if (fmtinfo->name) {
      {
#line 613
      jas_free((void *)fmtinfo->name);
#line 614
      fmtinfo->name = (char *)0;
      }
    }
#line 616
    if (fmtinfo->ext) {
      {
#line 617
      jas_free((void *)fmtinfo->ext);
#line 618
      fmtinfo->ext = (char *)0;
      }
    }
#line 620
    if (fmtinfo->desc) {
      {
#line 621
      jas_free((void *)fmtinfo->desc);
#line 622
      fmtinfo->desc = (char *)0;
      }
    }
#line 610
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 625
  jas_image_numfmts = 0;
#line 626
  return;
}
}
#line 628 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_addfmt(int id , char *name , char *ext , char *desc , jas_image_fmtops_t *ops ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;

  {
#line 633
  if (jas_image_numfmts >= 32) {
#line 634
    return (-1);
  }
  {
#line 636
  fmtinfo = & jas_image_fmtinfos[jas_image_numfmts];
#line 637
  fmtinfo->id = id;
#line 638
  fmtinfo->name = jas_strdup((char const   *)name);
  }
#line 638
  if (! fmtinfo->name) {
#line 639
    return (-1);
  }
  {
#line 641
  fmtinfo->ext = jas_strdup((char const   *)ext);
  }
#line 641
  if (! fmtinfo->ext) {
    {
#line 642
    jas_free((void *)fmtinfo->name);
    }
#line 643
    return (-1);
  }
  {
#line 645
  fmtinfo->desc = jas_strdup((char const   *)desc);
  }
#line 645
  if (! fmtinfo->desc) {
    {
#line 646
    jas_free((void *)fmtinfo->name);
#line 647
    jas_free((void *)fmtinfo->ext);
    }
#line 648
    return (-1);
  }
#line 650
  fmtinfo->ops = *ops;
#line 651
  jas_image_numfmts ++;
#line 652
  return (0);
}
}
#line 655 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_strtofmt(char *name ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;

  {
  {
#line 658
  fmtinfo = jas_image_lookupfmtbyname((char const   *)name);
  }
#line 658
  if (! fmtinfo) {
#line 659
    return (-1);
  }
#line 661
  return (fmtinfo->id);
}
}
#line 664 "/root/patchweave/5/src/libjasper/base/jas_image.c"
char *jas_image_fmttostr(int fmt ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;

  {
  {
#line 667
  fmtinfo = jas_image_lookupfmtbyid(fmt);
  }
#line 667
  if (! fmtinfo) {
#line 668
    return ((char *)0);
  }
#line 670
  return (fmtinfo->name);
}
}
#line 673 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_getfmt(jas_stream_t *in ) 
{ 
  jas_image_fmtinfo_t *fmtinfo ;
  int found ;
  int i ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int tmp ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int tmp___0 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 680
  found = 0;
#line 681
  fmtinfo = jas_image_fmtinfos;
#line 681
  i = 0;
  {
#line 681
  while (1) {
    while_continue: /* CIL Label */ ;

#line 681
    if (! (i < jas_image_numfmts)) {
#line 681
      goto while_break;
    }
#line 683
    if (fmtinfo->ops.validate) {
      {
#line 685
      __cil_tmp5 = jas_getdbglevel();
      }
#line 685
      if (__cil_tmp5 >= 20) {
        {
#line 685
        __cil_tmp6 = jas_eprintf("testing for format %s ... ", fmtinfo->name);
#line 685
        tmp = __cil_tmp6;
        }
      } else {
#line 685
        tmp = 0;
      }
      {
#line 686
      __cil_tmp8 = (*(fmtinfo->ops.validate))(in);
      }
#line 686
      if (! __cil_tmp8) {
        {
#line 687
        __cil_tmp9 = jas_getdbglevel();
        }
#line 687
        if (__cil_tmp9 >= 20) {
          {
#line 687
          __cil_tmp10 = jas_eprintf("test succeeded\n");
#line 687
          tmp___0 = __cil_tmp10;
          }
        } else {
#line 687
          tmp___0 = 0;
        }
#line 688
        found = 1;
#line 689
        goto while_break;
      }
      {
#line 691
      __cil_tmp12 = jas_getdbglevel();
      }
#line 691
      if (__cil_tmp12 >= 20) {
        {
#line 691
        __cil_tmp13 = jas_eprintf("test failed\n\225U");
#line 691
        tmp___1 = __cil_tmp13;
        }
      } else {
#line 691
        tmp___1 = 0;
      }
    }
#line 681
    fmtinfo ++;
#line 681
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 694
  if (found) {
#line 694
    tmp___2 = fmtinfo->id;
  } else {
#line 694
    tmp___2 = -1;
  }
#line 694
  return (tmp___2);
}
}
#line 697 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_fmtfromname(char *name ) 
{ 
  int i ;
  char *ext ;
  jas_image_fmtinfo_t *fmtinfo ;
  int __cil_tmp6 ;

  {
  {
#line 703
  ext = strrchr((char const   *)name, '.');
  }
#line 703
  if (! ext) {
#line 704
    return (-1);
  }
#line 706
  ext ++;
#line 708
  fmtinfo = jas_image_fmtinfos;
#line 708
  i = 0;
  {
#line 708
  while (1) {
    while_continue: /* CIL Label */ ;

#line 708
    if (! (i < jas_image_numfmts)) {
#line 708
      goto while_break;
    }
    {
#line 711
    __cil_tmp6 = strcmp((char const   *)ext, (char const   *)fmtinfo->ext);
    }
#line 711
    if (! __cil_tmp6) {
#line 712
      return (fmtinfo->id);
    }
#line 708
    fmtinfo ++;
#line 708
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 715
  return (-1);
}
}
#line 722 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_cmpt_domains_same(jas_image_t *image ) 
{ 
  int cmptno ;
  jas_image_cmpt_t *cmpt ;
  jas_image_cmpt_t *cmpt0 ;

  {
#line 728
  cmpt0 = *(image->cmpts_ + 0);
#line 729
  cmptno = 1;
  {
#line 729
  while (1) {
    while_continue: /* CIL Label */ ;

#line 729
    if (! (cmptno < image->numcmpts_)) {
#line 729
      goto while_break;
    }
#line 730
    cmpt = *(image->cmpts_ + cmptno);
#line 731
    if (cmpt->tlx_ != cmpt0->tlx_) {
#line 734
      return (0);
    } else
#line 731
    if (cmpt->tly_ != cmpt0->tly_) {
#line 734
      return (0);
    } else
#line 731
    if (cmpt->hstep_ != cmpt0->hstep_) {
#line 734
      return (0);
    } else
#line 731
    if (cmpt->vstep_ != cmpt0->vstep_) {
#line 734
      return (0);
    } else
#line 731
    if (cmpt->width_ != cmpt0->width_) {
#line 734
      return (0);
    } else
#line 731
    if (cmpt->height_ != cmpt0->height_) {
#line 734
      return (0);
    }
#line 729
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 737
  return (1);
}
}
#line 740 "/root/patchweave/5/src/libjasper/base/jas_image.c"
uint_fast32_t jas_image_rawsize(jas_image_t *image ) 
{ 
  uint_fast32_t rawsize ;
  int cmptno ;
  jas_image_cmpt_t *cmpt ;

  {
#line 746
  rawsize = (uint_fast32_t )0;
#line 747
  cmptno = 0;
  {
#line 747
  while (1) {
    while_continue: /* CIL Label */ ;

#line 747
    if (! (cmptno < image->numcmpts_)) {
#line 747
      goto while_break;
    }
#line 748
    cmpt = *(image->cmpts_ + cmptno);
#line 749
    rawsize += (unsigned long )(((cmpt->width_ * cmpt->height_) * (long )cmpt->prec_ + 7L) / 8L);
#line 747
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 752
  return (rawsize);
}
}
#line 755 "/root/patchweave/5/src/libjasper/base/jas_image.c"
void jas_image_delcmpt(jas_image_t *image , int cmptno ) 
{ 


  {
#line 757
  if (cmptno >= image->numcmpts_) {
#line 758
    return;
  }
  {
#line 760
  jas_image_cmpt_destroy(*(image->cmpts_ + cmptno));
  }
#line 761
  if (cmptno < image->numcmpts_) {
    {
#line 762
    memmove((void *)(image->cmpts_ + cmptno), (void const   *)(image->cmpts_ + (cmptno + 1)),
            (unsigned long )((image->numcmpts_ - 1) - cmptno) * sizeof(jas_image_cmpt_t *));
    }
  }
  {
#line 765
  (image->numcmpts_) --;
#line 767
  jas_image_setbbox(image);
  }
#line 769
  return;
}
}
#line 770 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_addcmpt(jas_image_t *image , int cmptno , jas_image_cmptparm_t *cmptparm ) 
{ 
  jas_image_cmpt_t *newcmpt ;
  int __cil_tmp6 ;

  {
#line 774
  if (cmptno < 0) {
#line 775
    cmptno = image->numcmpts_;
  }
#line 778
  if (image->numcmpts_ >= image->maxcmpts_) {
    {
#line 779
    __cil_tmp6 = jas_image_growcmpts(image, image->maxcmpts_ + 128);
    }
#line 779
    if (__cil_tmp6) {
#line 780
      return (-1);
    }
  }
  {
#line 783
  newcmpt = jas_image_cmpt_create(cmptparm->tlx, cmptparm->tly, cmptparm->hstep, cmptparm->vstep,
                                  cmptparm->width, cmptparm->height, (uint_fast16_t )cmptparm->prec,
                                  cmptparm->sgnd, (uint_fast32_t )1);
  }
#line 783
  if (! newcmpt) {
#line 787
    return (-1);
  }
#line 789
  if (cmptno < image->numcmpts_) {
    {
#line 790
    memmove((void *)(image->cmpts_ + (cmptno + 1)), (void const   *)(image->cmpts_ + cmptno),
            (unsigned long )(image->numcmpts_ - cmptno) * sizeof(jas_image_cmpt_t *));
    }
  }
  {
#line 793
  *(image->cmpts_ + cmptno) = newcmpt;
#line 794
  (image->numcmpts_) ++;
#line 796
  jas_image_setbbox(image);
  }
#line 798
  return (0);
}
}
#line 801 "/root/patchweave/5/src/libjasper/base/jas_image.c"
jas_image_fmtinfo_t *jas_image_lookupfmtbyid(int id ) 
{ 
  int i ;
  jas_image_fmtinfo_t *fmtinfo ;

  {
#line 806
  fmtinfo = jas_image_fmtinfos;
#line 806
  i = 0;
  {
#line 806
  while (1) {
    while_continue: /* CIL Label */ ;

#line 806
    if (! (i < jas_image_numfmts)) {
#line 806
      goto while_break;
    }
#line 807
    if (fmtinfo->id == id) {
#line 808
      return (fmtinfo);
    }
#line 806
    fmtinfo ++;
#line 806
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 811
  return ((jas_image_fmtinfo_t *)0);
}
}
#line 814 "/root/patchweave/5/src/libjasper/base/jas_image.c"
jas_image_fmtinfo_t *jas_image_lookupfmtbyname(char const   *name ) 
{ 
  int i ;
  jas_image_fmtinfo_t *fmtinfo ;
  int __cil_tmp4 ;

  {
#line 819
  fmtinfo = jas_image_fmtinfos;
#line 819
  i = 0;
  {
#line 819
  while (1) {
    while_continue: /* CIL Label */ ;

#line 819
    if (! (i < jas_image_numfmts)) {
#line 819
      goto while_break;
    }
    {
#line 820
    __cil_tmp4 = strcmp((char const   *)fmtinfo->name, name);
    }
#line 820
    if (! __cil_tmp4) {
#line 821
      return (fmtinfo);
    }
#line 819
    fmtinfo ++;
#line 819
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 824
  return ((jas_image_fmtinfo_t *)0);
}
}
#line 831 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static uint_fast32_t inttobits(jas_seqent_t v , int prec , int sgnd ) 
{ 
  uint_fast32_t ret ;
  long tmp ;

  {
#line 834
  if (sgnd) {
#line 834
    if (v < 0L) {
#line 834
      tmp = (long )(1 << prec) + v;
    } else {
#line 834
      tmp = v;
    }
  } else {
#line 834
    tmp = v;
  }
#line 834
  ret = (uint_fast32_t )(tmp & (long )((1 << prec) - 1));
#line 835
  return (ret);
}
}
#line 838 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static jas_seqent_t bitstoint(uint_fast32_t v , int prec , int sgnd ) 
{ 
  jas_seqent_t ret ;
  uint_fast32_t tmp ;

  {
#line 841
  v &= (unsigned long )((1 << prec) - 1);
#line 842
  if (sgnd) {
#line 842
    if (v & (unsigned long )(1 << (prec - 1))) {
#line 842
      tmp = v - (unsigned long )(1 << prec);
    } else {
#line 842
      tmp = v;
    }
  } else {
#line 842
    tmp = v;
  }
#line 842
  ret = (jas_seqent_t )tmp;
#line 843
  return (ret);
}
}
#line 846 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static void jas_image_setbbox(jas_image_t *image ) 
{ 
  jas_image_cmpt_t *cmpt ;
  int cmptno ;
  int_fast32_t x ;
  int_fast32_t y ;

  {
#line 853
  if (image->numcmpts_ > 0) {
#line 856
    cmpt = *(image->cmpts_ + 0);
#line 857
    image->tlx_ = cmpt->tlx_;
#line 858
    image->tly_ = cmpt->tly_;
#line 859
    image->brx_ = (cmpt->tlx_ + cmpt->hstep_ * (cmpt->width_ - 1L)) + 1L;
#line 860
    image->bry_ = (cmpt->tly_ + cmpt->vstep_ * (cmpt->height_ - 1L)) + 1L;
#line 861
    cmptno = 1;
    {
#line 861
    while (1) {
      while_continue: /* CIL Label */ ;

#line 861
      if (! (cmptno < image->numcmpts_)) {
#line 861
        goto while_break;
      }
#line 862
      cmpt = *(image->cmpts_ + cmptno);
#line 863
      if (image->tlx_ > cmpt->tlx_) {
#line 864
        image->tlx_ = cmpt->tlx_;
      }
#line 866
      if (image->tly_ > cmpt->tly_) {
#line 867
        image->tly_ = cmpt->tly_;
      }
#line 869
      x = (cmpt->tlx_ + cmpt->hstep_ * (cmpt->width_ - 1L)) + 1L;
#line 870
      if (image->brx_ < x) {
#line 871
        image->brx_ = x;
      }
#line 873
      y = (cmpt->tly_ + cmpt->vstep_ * (cmpt->height_ - 1L)) + 1L;
#line 874
      if (image->bry_ < y) {
#line 875
        image->bry_ = y;
      }
#line 861
      cmptno ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  } else {
#line 879
    image->tlx_ = (jas_image_coord_t )0;
#line 880
    image->tly_ = (jas_image_coord_t )0;
#line 881
    image->brx_ = (jas_image_coord_t )0;
#line 882
    image->bry_ = (jas_image_coord_t )0;
  }
#line 884
  return;
}
}
#line 886 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static int jas_image_growcmpts(jas_image_t *image , int maxcmpts ) 
{ 
  jas_image_cmpt_t **newcmpts ;
  int cmptno ;
  void *__cil_tmp5 ;
  void *__cil_tmp6 ;
  void *tmp ;

  {
#line 891
  if (! image->cmpts_) {
    {
#line 891
    __cil_tmp5 = jas_alloc2((size_t )maxcmpts, sizeof(jas_image_cmpt_t *));
#line 891
    tmp = __cil_tmp5;
    }
  } else {
    {
#line 891
    __cil_tmp6 = jas_realloc2((void *)image->cmpts_, (size_t )maxcmpts, sizeof(jas_image_cmpt_t *));
#line 891
    tmp = __cil_tmp6;
    }
  }
#line 891
  newcmpts = (jas_image_cmpt_t **)tmp;
#line 894
  if (! newcmpts) {
#line 895
    return (-1);
  }
#line 897
  image->cmpts_ = newcmpts;
#line 898
  image->maxcmpts_ = maxcmpts;
#line 899
  cmptno = image->numcmpts_;
  {
#line 899
  while (1) {
    while_continue: /* CIL Label */ ;

#line 899
    if (! (cmptno < image->maxcmpts_)) {
#line 899
      goto while_break;
    }
#line 900
    *(image->cmpts_ + cmptno) = (jas_image_cmpt_t *)0;
#line 899
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 902
  return (0);
}
}
#line 905 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_copycmpt(jas_image_t *dstimage , int dstcmptno , jas_image_t *srcimage ,
                       int srccmptno ) 
{ 
  jas_image_cmpt_t *newcmpt ;
  int __cil_tmp6 ;

  {
#line 909
  if (dstimage->numcmpts_ >= dstimage->maxcmpts_) {
    {
#line 910
    __cil_tmp6 = jas_image_growcmpts(dstimage, dstimage->maxcmpts_ + 128);
    }
#line 910
    if (__cil_tmp6) {
#line 911
      return (-1);
    }
  }
  {
#line 914
  newcmpt = jas_image_cmpt_copy(*(srcimage->cmpts_ + srccmptno));
  }
#line 914
  if (! newcmpt) {
#line 915
    return (-1);
  }
#line 917
  if (dstcmptno < dstimage->numcmpts_) {
    {
#line 918
    memmove((void *)(dstimage->cmpts_ + (dstcmptno + 1)), (void const   *)(dstimage->cmpts_ + dstcmptno),
            (unsigned long )(dstimage->numcmpts_ - dstcmptno) * sizeof(jas_image_cmpt_t *));
    }
  }
  {
#line 921
  *(dstimage->cmpts_ + dstcmptno) = newcmpt;
#line 922
  (dstimage->numcmpts_) ++;
#line 924
  jas_image_setbbox(dstimage);
  }
#line 925
  return (0);
}
}
#line 928 "/root/patchweave/5/src/libjasper/base/jas_image.c"
void jas_image_dump(jas_image_t *image , FILE *out ) 
{ 
  long buf[1024] ;
  int cmptno ;
  int n ;
  int i ;
  int width ;
  int height ;
  jas_image_cmpt_t *cmpt ;
  int tmp ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;

  {
#line 937
  cmptno = 0;
  {
#line 937
  while (1) {
    while_continue: /* CIL Label */ ;

#line 937
    if (! (cmptno < image->numcmpts_)) {
#line 937
      goto while_break;
    }
    {
#line 938
    cmpt = *(image->cmpts_ + cmptno);
#line 939
    fprintf(out, "prec=%d, sgnd=%d, cmpttype=%li\n\033\225U", cmpt->prec_, cmpt->sgnd_,
            cmpt->type_);
#line 941
    width = (int )(*(image->cmpts_ + cmptno))->width_;
#line 942
    height = (int )(*(image->cmpts_ + cmptno))->height_;
    }
#line 943
    if (16 < width) {
#line 943
      tmp = 16;
    } else {
#line 943
      tmp = width;
    }
    {
#line 943
    n = tmp;
#line 944
    __cil_tmp11 = jas_image_readcmpt2(image, cmptno, (jas_image_coord_t )0, (jas_image_coord_t )0,
                                      (jas_image_coord_t )n, (jas_image_coord_t )1,
                                      buf);
    }
#line 944
    if (__cil_tmp11) {
      {
#line 945
      abort();
      }
    }
#line 947
    i = 0;
    {
#line 947
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 947
      if (! (i < n)) {
#line 947
        goto while_break___0;
      }
      {
#line 948
      fprintf(out, " f(%d,%d)=%ld", i, 0, buf[i]);
#line 947
      i ++;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 950
    fprintf(out, "\n");
#line 951
    __cil_tmp12 = jas_image_readcmpt2(image, cmptno, (jas_image_coord_t )(width - n),
                                      (jas_image_coord_t )(height - 1), (jas_image_coord_t )n,
                                      (jas_image_coord_t )1, buf);
    }
#line 951
    if (__cil_tmp12) {
      {
#line 952
      abort();
      }
    }
#line 954
    i = 0;
    {
#line 954
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 954
      if (! (i < n)) {
#line 954
        goto while_break___1;
      }
      {
#line 955
      fprintf(out, " f(%d,%d)=%ld", (width - n) + i, height - 1, buf[i]);
#line 954
      i ++;
      }
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
    {
#line 957
    fprintf(out, "\n");
#line 937
    cmptno ++;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: ;
#line 941
  return;
}
}
#line 961 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_depalettize(jas_image_t *image , int cmptno , int numlutents , int_fast32_t *lutents ,
                          int dtype , int newcmptno ) 
{ 
  jas_image_cmptparm_t cmptparms ;
  int_fast32_t v ;
  int i ;
  int j ;
  jas_image_cmpt_t *cmpt ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
  {
#line 970
  cmpt = *(image->cmpts_ + cmptno);
#line 971
  cmptparms.tlx = cmpt->tlx_;
#line 972
  cmptparms.tly = cmpt->tly_;
#line 973
  cmptparms.hstep = cmpt->hstep_;
#line 974
  cmptparms.vstep = cmpt->vstep_;
#line 975
  cmptparms.width = cmpt->width_;
#line 976
  cmptparms.height = cmpt->height_;
#line 977
  cmptparms.prec = dtype & 127;
#line 978
  cmptparms.sgnd = (dtype >> 7) & 1;
#line 980
  __cil_tmp12 = jas_image_addcmpt(image, newcmptno, & cmptparms);
  }
#line 980
  if (__cil_tmp12) {
#line 981
    return (-1);
  }
#line 983
  if (newcmptno <= cmptno) {
#line 984
    cmptno ++;
#line 985
    cmpt = *(image->cmpts_ + cmptno);
  }
#line 988
  j = 0;
  {
#line 988
  while (1) {
    while_continue: /* CIL Label */ ;

#line 988
    if (! ((long )j < cmpt->height_)) {
#line 988
      goto while_break;
    }
#line 989
    i = 0;
    {
#line 989
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 989
      if (! ((long )i < cmpt->width_)) {
#line 989
        goto while_break___0;
      }
      {
#line 990
      __cil_tmp13 = jas_image_readcmptsample(image, cmptno, i, j);
#line 990
      v = (int_fast32_t )__cil_tmp13;
      }
#line 991
      if (v < 0L) {
#line 992
        v = (int_fast32_t )0;
      } else
#line 993
      if (v >= (long )numlutents) {
#line 994
        v = (int_fast32_t )(numlutents - 1);
      }
      {
#line 996
      jas_image_writecmptsample(image, newcmptno, i, j, *(lutents + v));
#line 989
      i ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 988
    j ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1000
  return (0);
}
}
#line 1003 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_readcmptsample(jas_image_t *image , int cmptno , int x , int y ) 
{ 
  jas_image_cmpt_t *cmpt ;
  uint_fast32_t v ;
  int k ;
  int c ;
  long __cil_tmp9 ;
  int __cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  jas_seqent_t __cil_tmp15 ;

  {
  {
#line 1010
  cmpt = *(image->cmpts_ + cmptno);
#line 1012
  __cil_tmp9 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (long )y + (long )x) * (long )cmpt->cps_,
                               0);
  }
#line 1012
  if (__cil_tmp9 < 0L) {
#line 1014
    return (-1);
  }
#line 1016
  v = (uint_fast32_t )0;
#line 1017
  k = cmpt->cps_;
  {
#line 1017
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1017
    if (! (k > 0)) {
#line 1017
      goto while_break;
    }
#line 1018
    if (! ((cmpt->stream_)->flags_ & 7)) {
#line 1018
      if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 1018
        if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 1018
          (cmpt->stream_)->flags_ |= 4;
#line 1018
          tmp___0 = -1;
        } else {
#line 1018
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 1018
        ((cmpt->stream_)->cnt_) --;
#line 1018
        if ((cmpt->stream_)->cnt_ < 0) {
          {
#line 1018
          __cil_tmp10 = jas_stream_fillbuf(cmpt->stream_, 1);
#line 1018
          tmp = __cil_tmp10;
          }
        } else {
#line 1018
          __cil_tmp11 = (cmpt->stream_)->ptr_;
#line 1018
          ((cmpt->stream_)->ptr_) ++;
#line 1018
          ((cmpt->stream_)->rwcnt_) ++;
#line 1018
          tmp = (int )*__cil_tmp11;
        }
#line 1018
        tmp___0 = tmp;
      }
#line 1018
      tmp___1 = tmp___0;
    } else {
#line 1018
      tmp___1 = -1;
    }
#line 1018
    c = tmp___1;
#line 1018
    if (c == -1) {
#line 1019
      return (-1);
    }
#line 1021
    v = (v << 8) | (unsigned long )(c & 255);
#line 1017
    k --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1023
  __cil_tmp15 = bitstoint(v, cmpt->prec_, cmpt->sgnd_);
  }
#line 1023
  return ((int )__cil_tmp15);
}
}
#line 1026 "/root/patchweave/5/src/libjasper/base/jas_image.c"
void jas_image_writecmptsample(jas_image_t *image , int cmptno , int x , int y , int_fast32_t v ) 
{ 
  jas_image_cmpt_t *cmpt ;
  uint_fast32_t t ;
  int k ;
  int c ;
  long __cil_tmp10 ;
  int __cil_tmp12 ;
  unsigned char *__cil_tmp13 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 1034
  cmpt = *(image->cmpts_ + cmptno);
#line 1036
  __cil_tmp10 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (long )y + (long )x) * (long )cmpt->cps_,
                                0);
  }
#line 1036
  if (__cil_tmp10 < 0L) {
#line 1038
    return;
  }
  {
#line 1040
  t = inttobits(v, cmpt->prec_, cmpt->sgnd_);
#line 1041
  k = cmpt->cps_;
  }
  {
#line 1041
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1041
    if (! (k > 0)) {
#line 1041
      goto while_break;
    }
#line 1042
    c = (int )((t >> 8 * (cmpt->cps_ - 1)) & 255UL);
#line 1043
    if (! ((cmpt->stream_)->flags_ & 7)) {
#line 1043
      if ((cmpt->stream_)->rwlimit_ >= 0L) {
#line 1043
        if ((cmpt->stream_)->rwcnt_ >= (cmpt->stream_)->rwlimit_) {
#line 1043
          (cmpt->stream_)->flags_ |= 4;
#line 1043
          tmp___0 = -1;
        } else {
#line 1043
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 1043
        ((cmpt->stream_)->cnt_) --;
#line 1043
        (cmpt->stream_)->bufmode_ |= 32;
#line 1043
        if ((cmpt->stream_)->cnt_ < 0) {
          {
#line 1043
          __cil_tmp12 = jas_stream_flushbuf(cmpt->stream_, (int )((unsigned char )c));
#line 1043
          tmp = __cil_tmp12;
          }
        } else {
#line 1043
          __cil_tmp13 = (cmpt->stream_)->ptr_;
#line 1043
          ((cmpt->stream_)->ptr_) ++;
#line 1043
          *__cil_tmp13 = (unsigned char )c;
#line 1043
          ((cmpt->stream_)->rwcnt_) ++;
#line 1043
          tmp = (int )*__cil_tmp13;
        }
#line 1043
        tmp___0 = tmp;
      }
#line 1043
      tmp___1 = tmp___0;
    } else {
#line 1043
      tmp___1 = -1;
    }
#line 1043
    if (tmp___1 == -1) {
#line 1044
      return;
    }
#line 1046
    t <<= 8;
#line 1041
    k --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1045
  return;
}
}
#line 1050 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_getcmptbytype(jas_image_t *image , int ctype ) 
{ 
  int cmptno ;

  {
#line 1054
  cmptno = 0;
  {
#line 1054
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1054
    if (! (cmptno < image->numcmpts_)) {
#line 1054
      goto while_break;
    }
#line 1055
    if ((*(image->cmpts_ + cmptno))->type_ == (long )ctype) {
#line 1056
      return (cmptno);
    }
#line 1054
    cmptno ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1059
  return (-1);
}
}
#line 1082 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_readcmpt2(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                        jas_image_coord_t width , jas_image_coord_t height , long *buf ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t i ;
  jas_image_coord_t j ;
  long v ;
  long *bufptr ;
  long __cil_tmp13 ;
  int __cil_tmp14 ;
  long *__cil_tmp15 ;

  {
#line 1092
  if (cmptno < 0) {
#line 1093
    goto error;
  } else
#line 1092
  if (cmptno >= image->numcmpts_) {
#line 1093
    goto error;
  }
#line 1094
  cmpt = *(image->cmpts_ + cmptno);
#line 1095
  if (x < 0L) {
#line 1098
    goto error;
  } else
#line 1095
  if (x >= cmpt->width_) {
#line 1098
    goto error;
  } else
#line 1095
  if (y < 0L) {
#line 1098
    goto error;
  } else
#line 1095
  if (y >= cmpt->height_) {
#line 1098
    goto error;
  } else
#line 1095
  if (width < 0L) {
#line 1098
    goto error;
  } else
#line 1095
  if (height < 0L) {
#line 1098
    goto error;
  } else
#line 1095
  if (x + width > cmpt->width_) {
#line 1098
    goto error;
  } else
#line 1095
  if (y + height > cmpt->height_) {
#line 1098
    goto error;
  }
#line 1100
  bufptr = buf;
#line 1101
  i = (jas_image_coord_t )0;
  {
#line 1101
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1101
    if (! (i < height)) {
#line 1101
      goto while_break;
    }
    {
#line 1102
    __cil_tmp13 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (y + i) + x) * (long )cmpt->cps_,
                                  0);
    }
#line 1102
    if (__cil_tmp13 < 0L) {
#line 1104
      goto error;
    }
#line 1105
    j = (jas_image_coord_t )0;
    {
#line 1105
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1105
      if (! (j < width)) {
#line 1105
        goto while_break___0;
      }
      {
#line 1106
      __cil_tmp14 = getint(cmpt->stream_, cmpt->sgnd_, cmpt->prec_, & v);
      }
#line 1106
      if (__cil_tmp14) {
#line 1107
        goto error;
      }
#line 1108
      __cil_tmp15 = bufptr;
#line 1108
      bufptr ++;
#line 1108
      *__cil_tmp15 = v;
#line 1105
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 1101
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1112
  return (0);
  error: 
#line 1114
  return (-1);
}
}
#line 1117 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_writecmpt2(jas_image_t *image , int cmptno , jas_image_coord_t x , jas_image_coord_t y ,
                         jas_image_coord_t width , jas_image_coord_t height , long *buf ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t i ;
  jas_image_coord_t j ;
  long v ;
  long *bufptr ;
  long __cil_tmp13 ;
  long *__cil_tmp14 ;
  int __cil_tmp15 ;

  {
#line 1127
  if (cmptno < 0) {
#line 1128
    goto error;
  } else
#line 1127
  if (cmptno >= image->numcmpts_) {
#line 1128
    goto error;
  }
#line 1129
  cmpt = *(image->cmpts_ + cmptno);
#line 1130
  if (x < 0L) {
#line 1133
    goto error;
  } else
#line 1130
  if (x >= cmpt->width_) {
#line 1133
    goto error;
  } else
#line 1130
  if (y < 0L) {
#line 1133
    goto error;
  } else
#line 1130
  if (y >= cmpt->height_) {
#line 1133
    goto error;
  } else
#line 1130
  if (width < 0L) {
#line 1133
    goto error;
  } else
#line 1130
  if (height < 0L) {
#line 1133
    goto error;
  } else
#line 1130
  if (x + width > cmpt->width_) {
#line 1133
    goto error;
  } else
#line 1130
  if (y + height > cmpt->height_) {
#line 1133
    goto error;
  }
#line 1135
  bufptr = buf;
#line 1136
  i = (jas_image_coord_t )0;
  {
#line 1136
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1136
    if (! (i < height)) {
#line 1136
      goto while_break;
    }
    {
#line 1137
    __cil_tmp13 = jas_stream_seek(cmpt->stream_, (cmpt->width_ * (y + i) + x) * (long )cmpt->cps_,
                                  0);
    }
#line 1137
    if (__cil_tmp13 < 0L) {
#line 1139
      goto error;
    }
#line 1140
    j = (jas_image_coord_t )0;
    {
#line 1140
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1140
      if (! (j < width)) {
#line 1140
        goto while_break___0;
      }
      {
#line 1141
      __cil_tmp14 = bufptr;
#line 1141
      bufptr ++;
#line 1141
      v = *__cil_tmp14;
#line 1142
      __cil_tmp15 = putint(cmpt->stream_, cmpt->sgnd_, cmpt->prec_, v);
      }
#line 1142
      if (__cil_tmp15) {
#line 1143
        goto error;
      }
#line 1140
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 1136
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1147
  return (0);
  error: 
#line 1149
  return (-1);
}
}
#line 1152 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_sampcmpt(jas_image_t *image , int cmptno , int newcmptno , jas_image_coord_t ho ,
                       jas_image_coord_t vo , jas_image_coord_t hs , jas_image_coord_t vs ,
                       int sgnd , int prec ) 
{ 
  jas_image_cmpt_t *oldcmpt ;
  jas_image_cmpt_t *newcmpt ;
  int width ;
  int height ;
  jas_image_coord_t tlx ;
  jas_image_coord_t tly ;
  jas_image_coord_t brx ;
  jas_image_coord_t bry ;
  int i ;
  int j ;
  jas_image_cmptparm_t cmptparm ;
  jas_image_coord_t ax ;
  jas_image_coord_t ay ;
  jas_image_coord_t bx ;
  jas_image_coord_t by ;
  jas_image_coord_t d0 ;
  jas_image_coord_t d1 ;
  jas_image_coord_t d2 ;
  jas_image_coord_t d3 ;
  jas_image_coord_t oldx ;
  jas_image_coord_t oldy ;
  jas_image_coord_t x ;
  jas_image_coord_t y ;
  long v ;
  jas_image_coord_t cmptbrx ;
  jas_image_coord_t cmptbry ;
  int __cil_tmp38 ;
  long __cil_tmp39 ;
  long __cil_tmp40 ;
  long __cil_tmp41 ;
  long __cil_tmp42 ;
  long __cil_tmp44 ;
  int __cil_tmp45 ;
  int __cil_tmp47 ;

  {
  {
#line 1184
  oldcmpt = *(image->cmpts_ + cmptno);
#line 1186
  jas_image_calcbbox2(image, & tlx, & tly, & brx, & bry);
#line 1187
  width = (int )(((brx - ho) + hs) / hs);
#line 1188
  height = (int )(((bry - vo) + vs) / vs);
#line 1189
  cmptparm.tlx = ho;
#line 1190
  cmptparm.tly = vo;
#line 1191
  cmptparm.hstep = hs;
#line 1192
  cmptparm.vstep = vs;
#line 1193
  cmptparm.width = (jas_image_coord_t )width;
#line 1194
  cmptparm.height = (jas_image_coord_t )height;
#line 1195
  cmptparm.prec = prec;
#line 1196
  cmptparm.sgnd = sgnd;
#line 1197
  __cil_tmp38 = jas_image_addcmpt(image, newcmptno, & cmptparm);
  }
#line 1197
  if (__cil_tmp38) {
#line 1198
    goto error;
  }
  {
#line 1199
  cmptbrx = oldcmpt->tlx_ + (oldcmpt->width_ - 1L) * oldcmpt->hstep_;
#line 1200
  cmptbry = oldcmpt->tly_ + (oldcmpt->height_ - 1L) * oldcmpt->vstep_;
#line 1201
  newcmpt = *(image->cmpts_ + newcmptno);
#line 1202
  jas_stream_rewind(newcmpt->stream_);
#line 1203
  i = 0;
  }
  {
#line 1203
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1203
    if (! (i < height)) {
#line 1203
      goto while_break;
    }
#line 1204
    y = newcmpt->tly_ + newcmpt->vstep_ * (long )i;
#line 1205
    j = 0;
    {
#line 1205
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1205
      if (! (j < width)) {
#line 1205
        goto while_break___0;
      }
      {
#line 1206
      x = newcmpt->tlx_ + newcmpt->hstep_ * (long )j;
#line 1207
      __cil_tmp39 = downtomult(x - oldcmpt->tlx_, oldcmpt->hstep_);
#line 1207
      ax = __cil_tmp39 + oldcmpt->tlx_;
#line 1208
      __cil_tmp40 = downtomult(y - oldcmpt->tly_, oldcmpt->vstep_);
#line 1208
      ay = __cil_tmp40 + oldcmpt->tly_;
#line 1209
      __cil_tmp41 = uptomult(x - oldcmpt->tlx_, oldcmpt->hstep_);
#line 1209
      bx = __cil_tmp41 + oldcmpt->tlx_;
      }
#line 1210
      if (bx > cmptbrx) {
#line 1211
        bx = cmptbrx;
      }
      {
#line 1212
      __cil_tmp42 = uptomult(y - oldcmpt->tly_, oldcmpt->vstep_);
#line 1212
      by = __cil_tmp42 + oldcmpt->tly_;
      }
#line 1213
      if (by > cmptbry) {
#line 1214
        by = cmptbry;
      }
#line 1215
      d0 = (ax - x) * (ax - x) + (ay - y) * (ay - y);
#line 1216
      d1 = (bx - x) * (bx - x) + (ay - y) * (ay - y);
#line 1217
      d2 = (bx - x) * (bx - x) + (by - y) * (by - y);
#line 1218
      d3 = (ax - x) * (ax - x) + (by - y) * (by - y);
#line 1219
      if (d0 <= d1) {
#line 1219
        if (d0 <= d2) {
#line 1219
          if (d0 <= d3) {
#line 1220
            oldx = (ax - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1221
            oldy = (ay - oldcmpt->tly_) / oldcmpt->vstep_;
          } else {
#line 1219
            goto _L___1;
          }
        } else {
#line 1219
          goto _L___1;
        }
      } else
      _L___1: 
#line 1222
      if (d1 <= d0) {
#line 1222
        if (d1 <= d2) {
#line 1222
          if (d1 <= d3) {
#line 1223
            oldx = (bx - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1224
            oldy = (ay - oldcmpt->tly_) / oldcmpt->vstep_;
          } else {
#line 1222
            goto _L;
          }
        } else {
#line 1222
          goto _L;
        }
      } else
      _L: 
#line 1225
      if (d2 <= d0) {
#line 1225
        if (d2 <= d1) {
#line 1225
          if (d1 <= d3) {
#line 1226
            oldx = (bx - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1227
            oldy = (by - oldcmpt->tly_) / oldcmpt->vstep_;
          } else {
#line 1229
            oldx = (ax - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1230
            oldy = (by - oldcmpt->tly_) / oldcmpt->vstep_;
          }
        } else {
#line 1229
          oldx = (ax - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1230
          oldy = (by - oldcmpt->tly_) / oldcmpt->vstep_;
        }
      } else {
#line 1229
        oldx = (ax - oldcmpt->tlx_) / oldcmpt->hstep_;
#line 1230
        oldy = (by - oldcmpt->tly_) / oldcmpt->vstep_;
      }
      {
#line 1234
      __cil_tmp44 = jas_stream_seek(oldcmpt->stream_, (long )oldcmpt->cps_ * (oldy * oldcmpt->width_ + oldx),
                                    0);
      }
#line 1234
      if (__cil_tmp44 < 0L) {
#line 1236
        goto error;
      }
      {
#line 1237
      __cil_tmp45 = getint(oldcmpt->stream_, oldcmpt->sgnd_, oldcmpt->prec_, & v);
      }
#line 1237
      if (__cil_tmp45) {
#line 1239
        goto error;
      }
#line 1240
      if (newcmpt->prec_ != oldcmpt->prec_) {
        {
#line 1242
        v = convert(v, oldcmpt->sgnd_, oldcmpt->prec_, newcmpt->sgnd_, newcmpt->prec_);
        }
      } else
#line 1240
      if (newcmpt->sgnd_ != oldcmpt->sgnd_) {
        {
#line 1242
        v = convert(v, oldcmpt->sgnd_, oldcmpt->prec_, newcmpt->sgnd_, newcmpt->prec_);
        }
      }
      {
#line 1245
      __cil_tmp47 = putint(newcmpt->stream_, newcmpt->sgnd_, newcmpt->prec_, v);
      }
#line 1245
      if (__cil_tmp47) {
#line 1247
        goto error;
      }
#line 1205
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
#line 1203
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 1250
  return (0);
  error: 
#line 1252
  return (-1);
}
}
#line 1255 "/root/patchweave/5/src/libjasper/base/jas_image.c"
int jas_image_ishomosamp(jas_image_t *image ) 
{ 
  jas_image_coord_t hstep ;
  jas_image_coord_t vstep ;
  int result ;
  int i ;

  {
#line 1261
  hstep = (*(image->cmpts_ + 0))->hstep_;
#line 1262
  vstep = (*(image->cmpts_ + 0))->vstep_;
#line 1263
  result = 1;
#line 1264
  i = 0;
  {
#line 1264
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1264
    if (! (i < image->numcmpts_)) {
#line 1264
      goto while_break;
    }
#line 1265
    if ((*(image->cmpts_ + i))->hstep_ != hstep) {
#line 1267
      result = 0;
#line 1268
      goto while_break;
    } else
#line 1265
    if ((*(image->cmpts_ + i))->vstep_ != vstep) {
#line 1267
      result = 0;
#line 1268
      goto while_break;
    }
#line 1264
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1271
  return (result);
}
}
#line 1275 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static void jas_image_calcbbox2(jas_image_t *image , jas_image_coord_t *tlx , jas_image_coord_t *tly ,
                                jas_image_coord_t *brx , jas_image_coord_t *bry ) 
{ 
  jas_image_cmpt_t *cmpt ;
  jas_image_coord_t tmptlx ;
  jas_image_coord_t tmptly ;
  jas_image_coord_t tmpbrx ;
  jas_image_coord_t tmpbry ;
  jas_image_coord_t t ;
  int i ;

  {
#line 1285
  if (image->numcmpts_ > 0) {
#line 1286
    cmpt = *(image->cmpts_ + 0);
#line 1287
    tmptlx = cmpt->tlx_;
#line 1288
    tmptly = cmpt->tly_;
#line 1289
    tmpbrx = cmpt->tlx_ + cmpt->hstep_ * (cmpt->width_ - 1L);
#line 1290
    tmpbry = cmpt->tly_ + cmpt->vstep_ * (cmpt->height_ - 1L);
#line 1291
    i = 0;
    {
#line 1291
    while (1) {
      while_continue: /* CIL Label */ ;

#line 1291
      if (! (i < image->numcmpts_)) {
#line 1291
        goto while_break;
      }
#line 1292
      cmpt = *(image->cmpts_ + i);
#line 1293
      if (cmpt->tlx_ < tmptlx) {
#line 1294
        tmptlx = cmpt->tlx_;
      }
#line 1295
      if (cmpt->tly_ < tmptly) {
#line 1296
        tmptly = cmpt->tly_;
      }
#line 1297
      t = cmpt->tlx_ + cmpt->hstep_ * (cmpt->width_ - 1L);
#line 1298
      if (t > tmpbrx) {
#line 1299
        tmpbrx = t;
      }
#line 1300
      t = cmpt->tly_ + cmpt->vstep_ * (cmpt->height_ - 1L);
#line 1301
      if (t > tmpbry) {
#line 1302
        tmpbry = t;
      }
#line 1291
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  } else {
#line 1305
    tmptlx = (jas_image_coord_t )0;
#line 1306
    tmptly = (jas_image_coord_t )0;
#line 1307
    tmpbrx = (jas_image_coord_t )-1;
#line 1308
    tmpbry = (jas_image_coord_t )-1;
  }
#line 1310
  *tlx = tmptlx;
#line 1311
  *tly = tmptly;
#line 1312
  *brx = tmpbrx;
#line 1313
  *bry = tmpbry;
#line 1314
  return;
}
}
#line 1316 "/root/patchweave/5/src/libjasper/base/jas_image.c"
__inline static long decode_twos_comp(unsigned long c , int prec ) 
{ 
  long result ;

  {
  {
#line 1320
  jas_eprintf("warning: support for signed data is untested\n");
#line 1322
  result = (long )((c & (unsigned long )((1 << (prec - 1)) - 1)) - (c & (unsigned long )(1 << (prec - 1))));
  }
#line 1323
  return (result);
}
}
#line 1326 "/root/patchweave/5/src/libjasper/base/jas_image.c"
__inline static unsigned long encode_twos_comp(long n , int prec ) 
{ 
  unsigned long result ;

  {
  {
#line 1330
  jas_eprintf("warning: support for signed data is untested\nU");
  }
#line 1332
  if (n < 0L) {
#line 1333
    result = (unsigned long )(- n);
#line 1334
    result = (result ^ 4294967295UL) + 1UL;
#line 1335
    result &= (unsigned long )((1 << prec) - 1);
  } else {
#line 1337
    result = (unsigned long )n;
  }
#line 1339
  return (result);
}
}
#line 1342 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static int getint(jas_stream_t *in , int sgnd , int prec , long *val ) 
{ 
  long v ;
  int n ;
  int c ;
  int __cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 1348
  n = (prec + 7) / 8;
#line 1349
  v = 0L;
  {
#line 1350
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1350
    n --;
#line 1350
    if (! (n >= 0)) {
#line 1350
      goto while_break;
    }
#line 1351
    if (! (in->flags_ & 7)) {
#line 1351
      if (in->rwlimit_ >= 0L) {
#line 1351
        if (in->rwcnt_ >= in->rwlimit_) {
#line 1351
          in->flags_ |= 4;
#line 1351
          tmp___1 = -1;
        } else {
#line 1351
          goto _L___3;
        }
      } else {
        _L___3: /* CIL Label */ 
#line 1351
        (in->cnt_) --;
#line 1351
        if (in->cnt_ < 0) {
          {
#line 1351
          __cil_tmp9 = jas_stream_fillbuf(in, 1);
#line 1351
          tmp___0 = __cil_tmp9;
          }
        } else {
#line 1351
          __cil_tmp10 = in->ptr_;
#line 1351
          (in->ptr_) ++;
#line 1351
          (in->rwcnt_) ++;
#line 1351
          tmp___0 = (int )*__cil_tmp10;
        }
#line 1351
        tmp___1 = tmp___0;
      }
#line 1351
      tmp___2 = tmp___1;
    } else {
#line 1351
      tmp___2 = -1;
    }
#line 1351
    c = tmp___2;
#line 1351
    if (c == -1) {
#line 1352
      return (-1);
    }
#line 1353
    v = (v << 8) | (long )c;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 1355
  v &= (long )((1 << prec) - 1);
#line 1356
  if (sgnd) {
    {
#line 1357
    *val = decode_twos_comp((unsigned long )v, prec);
    }
  } else {
#line 1359
    *val = v;
  }
#line 1361
  return (0);
}
}
#line 1364 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static int putint(jas_stream_t *out , int sgnd , int prec , long val ) 
{ 
  int n ;
  int c ;
  unsigned long __cil_tmp10 ;
  int __cil_tmp12 ;
  unsigned char *__cil_tmp13 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;

  {
#line 1371
  if (sgnd) {
    {
#line 1372
    __cil_tmp10 = encode_twos_comp(val, prec);
#line 1372
    val = (long )__cil_tmp10;
    }
  }
#line 1375
  val &= (long )((1 << prec) - 1);
#line 1376
  n = (prec + 7) / 8;
  {
#line 1377
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1377
    n --;
#line 1377
    if (! (n >= 0)) {
#line 1377
      goto while_break;
    }
#line 1378
    c = (int )((val >> n * 8) & 255L);
#line 1379
    if (! (out->flags_ & 7)) {
#line 1379
      if (out->rwlimit_ >= 0L) {
#line 1379
        if (out->rwcnt_ >= out->rwlimit_) {
#line 1379
          out->flags_ |= 4;
#line 1379
          tmp___6 = -1;
        } else {
#line 1379
          goto _L___3;
        }
      } else {
        _L___3: /* CIL Label */ 
#line 1379
        (out->cnt_) --;
#line 1379
        out->bufmode_ |= 32;
#line 1379
        if (out->cnt_ < 0) {
          {
#line 1379
          __cil_tmp12 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 1379
          tmp___5 = __cil_tmp12;
          }
        } else {
#line 1379
          __cil_tmp13 = out->ptr_;
#line 1379
          (out->ptr_) ++;
#line 1379
          *__cil_tmp13 = (unsigned char )c;
#line 1379
          (out->rwcnt_) ++;
#line 1379
          tmp___5 = (int )*__cil_tmp13;
        }
#line 1379
        tmp___6 = tmp___5;
      }
#line 1379
      tmp___7 = tmp___6;
    } else {
#line 1379
      tmp___7 = -1;
    }
#line 1379
    if (tmp___7 != c) {
#line 1380
      return (-1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1382
  return (0);
}
}
#line 1385 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static long convert(long val , int oldsgnd , int oldprec , int newsgnd , int newprec ) 
{ 


  {
#line 1390
  if (newprec != oldprec) {
#line 1391
    if (newprec > oldprec) {
#line 1392
      val <<= newprec - oldprec;
    } else
#line 1393
    if (oldprec > newprec) {
#line 1394
      val >>= oldprec - newprec;
    }
  }
#line 1397
  return (val);
}
}
#line 1400 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static long downtomult(long x , long y ) 
{ 


  {
#line 1403
  return ((x / y) * y);
}
}
#line 1406 "/root/patchweave/5/src/libjasper/base/jas_image.c"
static long uptomult(long x , long y ) 
{ 


  {
#line 1409
  return ((((x + y) - 1L) / y) * y);
}
}
#line 1412 "/root/patchweave/5/src/libjasper/base/jas_image.c"
jas_image_t *jas_image_chclrspc(jas_image_t *image , jas_cmprof_t *outprof , int intent ) 
{ 
  jas_image_t *inimage ;
  int minhstep ;
  int minvstep ;
  int i ;
  int j ;
  int k ;
  int n ;
  int hstep ;
  int vstep ;
  int numinauxchans ;
  int numoutauxchans ;
  int numinclrchans ;
  int numoutclrchans ;
  int prec ;
  jas_image_t *outimage ;
  int cmpttype ;
  int numoutchans ;
  jas_cmprof_t *inprof ;
  jas_cmprof_t *tmpprof ;
  jas_image_cmptparm_t cmptparm ;
  int width ;
  int height ;
  jas_cmxform_t *xform ;
  jas_cmpixmap_t inpixmap ;
  jas_cmpixmap_t outpixmap ;
  jas_cmcmptfmt_t *incmptfmts ;
  jas_cmcmptfmt_t *outcmptfmts ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  int __cil_tmp37 ;
  int __cil_tmp50 ;
  int __cil_tmp52 ;
  void *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;

  {
  {
#line 1448
  outimage = (jas_image_t *)0;
#line 1449
  xform = (jas_cmxform_t *)0;
#line 1450
  inimage = jas_image_copy(image);
  }
#line 1450
  if (! inimage) {
#line 1451
    goto error;
  }
  {
#line 1452
  image = (jas_image_t *)0;
#line 1454
  __cil_tmp32 = jas_image_ishomosamp(inimage);
  }
#line 1454
  if (! __cil_tmp32) {
#line 1455
    minhstep = (int )(*(inimage->cmpts_ + 0))->hstep_;
#line 1456
    minvstep = (int )(*(inimage->cmpts_ + 0))->vstep_;
#line 1457
    i = 1;
    {
#line 1457
    while (1) {
      while_continue: /* CIL Label */ ;

#line 1457
      if (! (i < inimage->numcmpts_)) {
#line 1457
        goto while_break;
      }
#line 1458
      hstep = (int )(*(inimage->cmpts_ + i))->hstep_;
#line 1459
      vstep = (int )(*(inimage->cmpts_ + i))->vstep_;
#line 1460
      if (hstep < minhstep) {
#line 1461
        minhstep = hstep;
      }
#line 1463
      if (vstep < minvstep) {
#line 1464
        minvstep = vstep;
      }
#line 1457
      i ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break: 
#line 1467
    n = inimage->numcmpts_;
#line 1468
    i = 0;
    {
#line 1468
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1468
      if (! (i < n)) {
#line 1468
        goto while_break___0;
      }
      {
#line 1469
      cmpttype = (int )(*(inimage->cmpts_ + i))->type_;
#line 1470
      __cil_tmp33 = jas_image_sampcmpt(inimage, i, i + 1, (jas_image_coord_t )0, (jas_image_coord_t )0,
                                       (jas_image_coord_t )minhstep, (jas_image_coord_t )minvstep,
                                       (*(inimage->cmpts_ + i))->sgnd_, (*(inimage->cmpts_ + i))->prec_);
      }
#line 1470
      if (__cil_tmp33) {
#line 1472
        goto error;
      }
      {
#line 1474
      (*(inimage->cmpts_ + (i + 1)))->type_ = (jas_image_cmpttype_t )cmpttype;
#line 1475
      jas_image_delcmpt(inimage, i);
#line 1468
      i ++;
      }
    }
    while_break___10: /* CIL Label */ ;
    }
    while_break___0: ;
  }
#line 1479
  width = (int )(*(inimage->cmpts_ + 0))->width_;
#line 1480
  height = (int )(*(inimage->cmpts_ + 0))->height_;
#line 1481
  hstep = (int )(*(inimage->cmpts_ + 0))->hstep_;
#line 1482
  vstep = (int )(*(inimage->cmpts_ + 0))->vstep_;
#line 1484
  inprof = inimage->cmprof_;
#line 1484
  if (! inprof) {
    {
#line 1485
    abort();
    }
  }
  {
#line 1487
  numinclrchans = jas_clrspc_numchans(inprof->clrspc);
#line 1488
  numinauxchans = inimage->numcmpts_ - numinclrchans;
#line 1489
  numoutclrchans = jas_clrspc_numchans(outprof->clrspc);
#line 1490
  numoutauxchans = 0;
#line 1491
  numoutchans = numoutclrchans + numoutauxchans;
#line 1492
  prec = 8;
#line 1494
  outimage = jas_image_create0();
  }
#line 1494
  if (! outimage) {
#line 1495
    goto error;
  }
#line 1499
  i = 0;
  {
#line 1499
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1499
    if (! (i < numoutclrchans)) {
#line 1499
      goto while_break___1;
    }
    {
#line 1500
    cmptparm.tlx = (jas_image_coord_t )0;
#line 1501
    cmptparm.tly = (jas_image_coord_t )0;
#line 1502
    cmptparm.hstep = (jas_image_coord_t )hstep;
#line 1503
    cmptparm.vstep = (jas_image_coord_t )vstep;
#line 1504
    cmptparm.width = (jas_image_coord_t )width;
#line 1505
    cmptparm.height = (jas_image_coord_t )height;
#line 1506
    cmptparm.prec = prec;
#line 1507
    cmptparm.sgnd = 0;
#line 1508
    __cil_tmp37 = jas_image_addcmpt(outimage, -1, & cmptparm);
    }
#line 1508
    if (__cil_tmp37) {
#line 1509
      goto error;
    }
#line 1510
    (*(outimage->cmpts_ + i))->type_ = (jas_image_cmpttype_t )(i & 32767);
#line 1499
    i ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___1: 
  {
#line 1522
  tmpprof = jas_cmprof_copy(outprof);
  }
#line 1522
  if (! tmpprof) {
#line 1523
    goto error;
  }
  {
#line 1525
  outimage->cmprof_ = tmpprof;
#line 1526
  tmpprof = (jas_cmprof_t *)0;
#line 1527
  outimage->clrspc_ = outprof->clrspc;
#line 1529
  xform = jas_cmxform_create(inprof, outprof, (jas_cmprof_t *)0, 0, intent, 0);
  }
#line 1529
  if (! xform) {
#line 1531
    goto error;
  }
  {
#line 1534
  inpixmap.numcmpts = numinclrchans;
#line 1535
  tmp___2 = jas_alloc2((size_t )numinclrchans, sizeof(jas_cmcmptfmt_t ));
#line 1535
  incmptfmts = (jas_cmcmptfmt_t *)tmp___2;
  }
#line 1535
  if (! incmptfmts) {
    {
#line 1536
    abort();
    }
  }
#line 1538
  inpixmap.cmptfmts = incmptfmts;
#line 1539
  i = 0;
  {
#line 1539
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1539
    if (! (i < numinclrchans)) {
#line 1539
      goto while_break___2;
    }
    {
#line 1540
    j = jas_image_getcmptbytype(inimage, i & 32767);
#line 1542
    tmp___3 = jas_alloc2((size_t )width, sizeof(long ));
#line 1542
    (incmptfmts + i)->buf = (long *)tmp___3;
    }
#line 1542
    if (! (incmptfmts + i)->buf) {
#line 1543
      goto error;
    }
#line 1545
    (incmptfmts + i)->prec = (*(inimage->cmpts_ + j))->prec_;
#line 1546
    (incmptfmts + i)->sgnd = (*(inimage->cmpts_ + j))->sgnd_;
#line 1547
    (incmptfmts + i)->width = width;
#line 1548
    (incmptfmts + i)->height = 1;
#line 1539
    i ++;
  }
  while_break___12: /* CIL Label */ ;
  }
  while_break___2: 
  {
#line 1551
  outpixmap.numcmpts = numoutclrchans;
#line 1552
  tmp___4 = jas_alloc2((size_t )numoutclrchans, sizeof(jas_cmcmptfmt_t ));
#line 1552
  outcmptfmts = (jas_cmcmptfmt_t *)tmp___4;
  }
#line 1552
  if (! outcmptfmts) {
    {
#line 1553
    abort();
    }
  }
#line 1555
  outpixmap.cmptfmts = outcmptfmts;
#line 1557
  i = 0;
  {
#line 1557
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1557
    if (! (i < numoutclrchans)) {
#line 1557
      goto while_break___3;
    }
    {
#line 1558
    j = jas_image_getcmptbytype(outimage, i & 32767);
#line 1560
    tmp___5 = jas_alloc2((size_t )width, sizeof(long ));
#line 1560
    (outcmptfmts + i)->buf = (long *)tmp___5;
    }
#line 1560
    if (! (outcmptfmts + i)->buf) {
#line 1561
      goto error;
    }
#line 1562
    (outcmptfmts + i)->prec = (*(outimage->cmpts_ + j))->prec_;
#line 1563
    (outcmptfmts + i)->sgnd = (*(outimage->cmpts_ + j))->sgnd_;
#line 1564
    (outcmptfmts + i)->width = width;
#line 1565
    (outcmptfmts + i)->height = 1;
#line 1557
    i ++;
  }
  while_break___13: /* CIL Label */ ;
  }
  while_break___3: 
#line 1568
  i = 0;
  {
#line 1568
  while (1) {
    while_continue___4: /* CIL Label */ ;

#line 1568
    if (! (i < height)) {
#line 1568
      goto while_break___4;
    }
#line 1569
    j = 0;
    {
#line 1569
    while (1) {
      while_continue___5: /* CIL Label */ ;

#line 1569
      if (! (j < numinclrchans)) {
#line 1569
        goto while_break___5;
      }
      {
#line 1570
      k = jas_image_getcmptbytype(inimage, j & 32767);
#line 1571
      __cil_tmp50 = jas_image_readcmpt2(inimage, k, (jas_image_coord_t )0, (jas_image_coord_t )i,
                                        (jas_image_coord_t )width, (jas_image_coord_t )1,
                                        (incmptfmts + j)->buf);
      }
#line 1571
      if (__cil_tmp50) {
#line 1573
        goto error;
      }
#line 1569
      j ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___5: 
    {
#line 1575
    jas_cmxform_apply(xform, & inpixmap, & outpixmap);
#line 1576
    j = 0;
    }
    {
#line 1576
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 1576
      if (! (j < numoutclrchans)) {
#line 1576
        goto while_break___6;
      }
      {
#line 1577
      k = jas_image_getcmptbytype(outimage, j & 32767);
#line 1578
      __cil_tmp52 = jas_image_writecmpt2(outimage, k, (jas_image_coord_t )0, (jas_image_coord_t )i,
                                         (jas_image_coord_t )width, (jas_image_coord_t )1,
                                         (outcmptfmts + j)->buf);
      }
#line 1578
      if (__cil_tmp52) {
#line 1580
        goto error;
      }
#line 1576
      j ++;
    }
    while_break___16: /* CIL Label */ ;
    }
    while_break___6: 
#line 1568
    i ++;
  }
  while_break___14: /* CIL Label */ ;
  }
  while_break___4: 
#line 1584
  i = 0;
  {
#line 1584
  while (1) {
    while_continue___7: /* CIL Label */ ;

#line 1584
    if (! (i < numoutclrchans)) {
#line 1584
      goto while_break___7;
    }
    {
#line 1585
    jas_free((void *)(outcmptfmts + i)->buf);
#line 1584
    i ++;
    }
  }
  while_break___17: /* CIL Label */ ;
  }
  while_break___7: 
  {
#line 1587
  jas_free((void *)outcmptfmts);
#line 1588
  i = 0;
  }
  {
#line 1588
  while (1) {
    while_continue___8: /* CIL Label */ ;

#line 1588
    if (! (i < numinclrchans)) {
#line 1588
      goto while_break___8;
    }
    {
#line 1589
    jas_free((void *)(incmptfmts + i)->buf);
#line 1588
    i ++;
    }
  }
  while_break___18: /* CIL Label */ ;
  }
  while_break___8: 
  {
#line 1591
  jas_free((void *)incmptfmts);
#line 1592
  jas_cmxform_destroy(xform);
#line 1593
  jas_image_destroy(inimage);
  }
#line 1601
  return (outimage);
  error: 
#line 1603
  if (xform) {
    {
#line 1604
    jas_cmxform_destroy(xform);
    }
  }
#line 1605
  if (inimage) {
    {
#line 1606
    jas_image_destroy(inimage);
    }
  }
#line 1607
  if (outimage) {
    {
#line 1608
    jas_image_destroy(outimage);
    }
  }
#line 1609
  return ((jas_image_t *)0);
}
}
#line 65 "/root/patchweave/5/src/libjasper/base/jas_iccdata.c"
unsigned char jas_iccprofdata_srgb[3144]  = 
#line 65 "/root/patchweave/5/src/libjasper/base/jas_iccdata.c"
  {      (unsigned char)0,      (unsigned char)0,      (unsigned char)12,      (unsigned char)72, 
        (unsigned char)76,      (unsigned char)105,      (unsigned char)110,      (unsigned char)111, 
        (unsigned char)2,      (unsigned char)16,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)109,      (unsigned char)110,      (unsigned char)116,      (unsigned char)114, 
        (unsigned char)82,      (unsigned char)71,      (unsigned char)66,      (unsigned char)32, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)7,      (unsigned char)206,      (unsigned char)0,      (unsigned char)2, 
        (unsigned char)0,      (unsigned char)9,      (unsigned char)0,      (unsigned char)6, 
        (unsigned char)0,      (unsigned char)49,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)97,      (unsigned char)99,      (unsigned char)115,      (unsigned char)112, 
        (unsigned char)77,      (unsigned char)83,      (unsigned char)70,      (unsigned char)84, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)73,      (unsigned char)69,      (unsigned char)67,      (unsigned char)32, 
        (unsigned char)115,      (unsigned char)82,      (unsigned char)71,      (unsigned char)66, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)246,      (unsigned char)214, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)211,      (unsigned char)45, 
        (unsigned char)72,      (unsigned char)80,      (unsigned char)32,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)17, 
        (unsigned char)99,      (unsigned char)112,      (unsigned char)114,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)80, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)51, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)132, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)108, 
        (unsigned char)119,      (unsigned char)116,      (unsigned char)112,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)240, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)98,      (unsigned char)107,      (unsigned char)112,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)4, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)114,      (unsigned char)88,      (unsigned char)89,      (unsigned char)90, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)24, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)103,      (unsigned char)88,      (unsigned char)89,      (unsigned char)90, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)44, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)98,      (unsigned char)88,      (unsigned char)89,      (unsigned char)90, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)64, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)100,      (unsigned char)109,      (unsigned char)110,      (unsigned char)100, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)84, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)112, 
        (unsigned char)100,      (unsigned char)109,      (unsigned char)100,      (unsigned char)100, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)196, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)136, 
        (unsigned char)118,      (unsigned char)117,      (unsigned char)101,      (unsigned char)100, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)3,      (unsigned char)76, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)134, 
        (unsigned char)118,      (unsigned char)105,      (unsigned char)101,      (unsigned char)119, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)3,      (unsigned char)212, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)36, 
        (unsigned char)108,      (unsigned char)117,      (unsigned char)109,      (unsigned char)105, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)3,      (unsigned char)248, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)109,      (unsigned char)101,      (unsigned char)97,      (unsigned char)115, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)12, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)36, 
        (unsigned char)116,      (unsigned char)101,      (unsigned char)99,      (unsigned char)104, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)48, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)12, 
        (unsigned char)114,      (unsigned char)84,      (unsigned char)82,      (unsigned char)67, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)60, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)8,      (unsigned char)12, 
        (unsigned char)103,      (unsigned char)84,      (unsigned char)82,      (unsigned char)67, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)60, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)8,      (unsigned char)12, 
        (unsigned char)98,      (unsigned char)84,      (unsigned char)82,      (unsigned char)67, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)60, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)8,      (unsigned char)12, 
        (unsigned char)116,      (unsigned char)101,      (unsigned char)120,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)67,      (unsigned char)111,      (unsigned char)112,      (unsigned char)121, 
        (unsigned char)114,      (unsigned char)105,      (unsigned char)103,      (unsigned char)104, 
        (unsigned char)116,      (unsigned char)32,      (unsigned char)40,      (unsigned char)99, 
        (unsigned char)41,      (unsigned char)32,      (unsigned char)49,      (unsigned char)57, 
        (unsigned char)57,      (unsigned char)56,      (unsigned char)32,      (unsigned char)72, 
        (unsigned char)101,      (unsigned char)119,      (unsigned char)108,      (unsigned char)101, 
        (unsigned char)116,      (unsigned char)116,      (unsigned char)45,      (unsigned char)80, 
        (unsigned char)97,      (unsigned char)99,      (unsigned char)107,      (unsigned char)97, 
        (unsigned char)114,      (unsigned char)100,      (unsigned char)32,      (unsigned char)67, 
        (unsigned char)111,      (unsigned char)109,      (unsigned char)112,      (unsigned char)97, 
        (unsigned char)110,      (unsigned char)121,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)18, 
        (unsigned char)115,      (unsigned char)82,      (unsigned char)71,      (unsigned char)66, 
        (unsigned char)32,      (unsigned char)73,      (unsigned char)69,      (unsigned char)67, 
        (unsigned char)54,      (unsigned char)49,      (unsigned char)57,      (unsigned char)54, 
        (unsigned char)54,      (unsigned char)45,      (unsigned char)50,      (unsigned char)46, 
        (unsigned char)49,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)18,      (unsigned char)115,      (unsigned char)82,      (unsigned char)71, 
        (unsigned char)66,      (unsigned char)32,      (unsigned char)73,      (unsigned char)69, 
        (unsigned char)67,      (unsigned char)54,      (unsigned char)49,      (unsigned char)57, 
        (unsigned char)54,      (unsigned char)54,      (unsigned char)45,      (unsigned char)50, 
        (unsigned char)46,      (unsigned char)49,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)243,      (unsigned char)81, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)22,      (unsigned char)204, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)111,      (unsigned char)162, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)56,      (unsigned char)245, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)3,      (unsigned char)144, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)98,      (unsigned char)153, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)183,      (unsigned char)133, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)24,      (unsigned char)218, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)36,      (unsigned char)160, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)15,      (unsigned char)132, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)182,      (unsigned char)207, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)22, 
        (unsigned char)73,      (unsigned char)69,      (unsigned char)67,      (unsigned char)32, 
        (unsigned char)104,      (unsigned char)116,      (unsigned char)116,      (unsigned char)112, 
        (unsigned char)58,      (unsigned char)47,      (unsigned char)47,      (unsigned char)119, 
        (unsigned char)119,      (unsigned char)119,      (unsigned char)46,      (unsigned char)105, 
        (unsigned char)101,      (unsigned char)99,      (unsigned char)46,      (unsigned char)99, 
        (unsigned char)104,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)22,      (unsigned char)73,      (unsigned char)69,      (unsigned char)67, 
        (unsigned char)32,      (unsigned char)104,      (unsigned char)116,      (unsigned char)116, 
        (unsigned char)112,      (unsigned char)58,      (unsigned char)47,      (unsigned char)47, 
        (unsigned char)119,      (unsigned char)119,      (unsigned char)119,      (unsigned char)46, 
        (unsigned char)105,      (unsigned char)101,      (unsigned char)99,      (unsigned char)46, 
        (unsigned char)99,      (unsigned char)104,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)46, 
        (unsigned char)73,      (unsigned char)69,      (unsigned char)67,      (unsigned char)32, 
        (unsigned char)54,      (unsigned char)49,      (unsigned char)57,      (unsigned char)54, 
        (unsigned char)54,      (unsigned char)45,      (unsigned char)50,      (unsigned char)46, 
        (unsigned char)49,      (unsigned char)32,      (unsigned char)68,      (unsigned char)101, 
        (unsigned char)102,      (unsigned char)97,      (unsigned char)117,      (unsigned char)108, 
        (unsigned char)116,      (unsigned char)32,      (unsigned char)82,      (unsigned char)71, 
        (unsigned char)66,      (unsigned char)32,      (unsigned char)99,      (unsigned char)111, 
        (unsigned char)108,      (unsigned char)111,      (unsigned char)117,      (unsigned char)114, 
        (unsigned char)32,      (unsigned char)115,      (unsigned char)112,      (unsigned char)97, 
        (unsigned char)99,      (unsigned char)101,      (unsigned char)32,      (unsigned char)45, 
        (unsigned char)32,      (unsigned char)115,      (unsigned char)82,      (unsigned char)71, 
        (unsigned char)66,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)46,      (unsigned char)73,      (unsigned char)69,      (unsigned char)67, 
        (unsigned char)32,      (unsigned char)54,      (unsigned char)49,      (unsigned char)57, 
        (unsigned char)54,      (unsigned char)54,      (unsigned char)45,      (unsigned char)50, 
        (unsigned char)46,      (unsigned char)49,      (unsigned char)32,      (unsigned char)68, 
        (unsigned char)101,      (unsigned char)102,      (unsigned char)97,      (unsigned char)117, 
        (unsigned char)108,      (unsigned char)116,      (unsigned char)32,      (unsigned char)82, 
        (unsigned char)71,      (unsigned char)66,      (unsigned char)32,      (unsigned char)99, 
        (unsigned char)111,      (unsigned char)108,      (unsigned char)111,      (unsigned char)117, 
        (unsigned char)114,      (unsigned char)32,      (unsigned char)115,      (unsigned char)112, 
        (unsigned char)97,      (unsigned char)99,      (unsigned char)101,      (unsigned char)32, 
        (unsigned char)45,      (unsigned char)32,      (unsigned char)115,      (unsigned char)82, 
        (unsigned char)71,      (unsigned char)66,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)44, 
        (unsigned char)82,      (unsigned char)101,      (unsigned char)102,      (unsigned char)101, 
        (unsigned char)114,      (unsigned char)101,      (unsigned char)110,      (unsigned char)99, 
        (unsigned char)101,      (unsigned char)32,      (unsigned char)86,      (unsigned char)105, 
        (unsigned char)101,      (unsigned char)119,      (unsigned char)105,      (unsigned char)110, 
        (unsigned char)103,      (unsigned char)32,      (unsigned char)67,      (unsigned char)111, 
        (unsigned char)110,      (unsigned char)100,      (unsigned char)105,      (unsigned char)116, 
        (unsigned char)105,      (unsigned char)111,      (unsigned char)110,      (unsigned char)32, 
        (unsigned char)105,      (unsigned char)110,      (unsigned char)32,      (unsigned char)73, 
        (unsigned char)69,      (unsigned char)67,      (unsigned char)54,      (unsigned char)49, 
        (unsigned char)57,      (unsigned char)54,      (unsigned char)54,      (unsigned char)45, 
        (unsigned char)50,      (unsigned char)46,      (unsigned char)49,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)44,      (unsigned char)82, 
        (unsigned char)101,      (unsigned char)102,      (unsigned char)101,      (unsigned char)114, 
        (unsigned char)101,      (unsigned char)110,      (unsigned char)99,      (unsigned char)101, 
        (unsigned char)32,      (unsigned char)86,      (unsigned char)105,      (unsigned char)101, 
        (unsigned char)119,      (unsigned char)105,      (unsigned char)110,      (unsigned char)103, 
        (unsigned char)32,      (unsigned char)67,      (unsigned char)111,      (unsigned char)110, 
        (unsigned char)100,      (unsigned char)105,      (unsigned char)116,      (unsigned char)105, 
        (unsigned char)111,      (unsigned char)110,      (unsigned char)32,      (unsigned char)105, 
        (unsigned char)110,      (unsigned char)32,      (unsigned char)73,      (unsigned char)69, 
        (unsigned char)67,      (unsigned char)54,      (unsigned char)49,      (unsigned char)57, 
        (unsigned char)54,      (unsigned char)54,      (unsigned char)45,      (unsigned char)50, 
        (unsigned char)46,      (unsigned char)49,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)118,      (unsigned char)105,      (unsigned char)101,      (unsigned char)119, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)19,      (unsigned char)164,      (unsigned char)254, 
        (unsigned char)0,      (unsigned char)20,      (unsigned char)95,      (unsigned char)46, 
        (unsigned char)0,      (unsigned char)16,      (unsigned char)207,      (unsigned char)20, 
        (unsigned char)0,      (unsigned char)3,      (unsigned char)237,      (unsigned char)204, 
        (unsigned char)0,      (unsigned char)4,      (unsigned char)19,      (unsigned char)11, 
        (unsigned char)0,      (unsigned char)3,      (unsigned char)92,      (unsigned char)158, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)76,      (unsigned char)9,      (unsigned char)86, 
        (unsigned char)0,      (unsigned char)80,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)87,      (unsigned char)31,      (unsigned char)231, 
        (unsigned char)109,      (unsigned char)101,      (unsigned char)97,      (unsigned char)115, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)2,      (unsigned char)143, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)2, 
        (unsigned char)115,      (unsigned char)105,      (unsigned char)103,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)67,      (unsigned char)82,      (unsigned char)84,      (unsigned char)32, 
        (unsigned char)99,      (unsigned char)117,      (unsigned char)114,      (unsigned char)118, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)4,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)5, 
        (unsigned char)0,      (unsigned char)10,      (unsigned char)0,      (unsigned char)15, 
        (unsigned char)0,      (unsigned char)20,      (unsigned char)0,      (unsigned char)25, 
        (unsigned char)0,      (unsigned char)30,      (unsigned char)0,      (unsigned char)35, 
        (unsigned char)0,      (unsigned char)40,      (unsigned char)0,      (unsigned char)45, 
        (unsigned char)0,      (unsigned char)50,      (unsigned char)0,      (unsigned char)55, 
        (unsigned char)0,      (unsigned char)59,      (unsigned char)0,      (unsigned char)64, 
        (unsigned char)0,      (unsigned char)69,      (unsigned char)0,      (unsigned char)74, 
        (unsigned char)0,      (unsigned char)79,      (unsigned char)0,      (unsigned char)84, 
        (unsigned char)0,      (unsigned char)89,      (unsigned char)0,      (unsigned char)94, 
        (unsigned char)0,      (unsigned char)99,      (unsigned char)0,      (unsigned char)104, 
        (unsigned char)0,      (unsigned char)109,      (unsigned char)0,      (unsigned char)114, 
        (unsigned char)0,      (unsigned char)119,      (unsigned char)0,      (unsigned char)124, 
        (unsigned char)0,      (unsigned char)129,      (unsigned char)0,      (unsigned char)134, 
        (unsigned char)0,      (unsigned char)139,      (unsigned char)0,      (unsigned char)144, 
        (unsigned char)0,      (unsigned char)149,      (unsigned char)0,      (unsigned char)154, 
        (unsigned char)0,      (unsigned char)159,      (unsigned char)0,      (unsigned char)164, 
        (unsigned char)0,      (unsigned char)169,      (unsigned char)0,      (unsigned char)174, 
        (unsigned char)0,      (unsigned char)178,      (unsigned char)0,      (unsigned char)183, 
        (unsigned char)0,      (unsigned char)188,      (unsigned char)0,      (unsigned char)193, 
        (unsigned char)0,      (unsigned char)198,      (unsigned char)0,      (unsigned char)203, 
        (unsigned char)0,      (unsigned char)208,      (unsigned char)0,      (unsigned char)213, 
        (unsigned char)0,      (unsigned char)219,      (unsigned char)0,      (unsigned char)224, 
        (unsigned char)0,      (unsigned char)229,      (unsigned char)0,      (unsigned char)235, 
        (unsigned char)0,      (unsigned char)240,      (unsigned char)0,      (unsigned char)246, 
        (unsigned char)0,      (unsigned char)251,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)7,      (unsigned char)1,      (unsigned char)13, 
        (unsigned char)1,      (unsigned char)19,      (unsigned char)1,      (unsigned char)25, 
        (unsigned char)1,      (unsigned char)31,      (unsigned char)1,      (unsigned char)37, 
        (unsigned char)1,      (unsigned char)43,      (unsigned char)1,      (unsigned char)50, 
        (unsigned char)1,      (unsigned char)56,      (unsigned char)1,      (unsigned char)62, 
        (unsigned char)1,      (unsigned char)69,      (unsigned char)1,      (unsigned char)76, 
        (unsigned char)1,      (unsigned char)82,      (unsigned char)1,      (unsigned char)89, 
        (unsigned char)1,      (unsigned char)96,      (unsigned char)1,      (unsigned char)103, 
        (unsigned char)1,      (unsigned char)110,      (unsigned char)1,      (unsigned char)117, 
        (unsigned char)1,      (unsigned char)124,      (unsigned char)1,      (unsigned char)131, 
        (unsigned char)1,      (unsigned char)139,      (unsigned char)1,      (unsigned char)146, 
        (unsigned char)1,      (unsigned char)154,      (unsigned char)1,      (unsigned char)161, 
        (unsigned char)1,      (unsigned char)169,      (unsigned char)1,      (unsigned char)177, 
        (unsigned char)1,      (unsigned char)185,      (unsigned char)1,      (unsigned char)193, 
        (unsigned char)1,      (unsigned char)201,      (unsigned char)1,      (unsigned char)209, 
        (unsigned char)1,      (unsigned char)217,      (unsigned char)1,      (unsigned char)225, 
        (unsigned char)1,      (unsigned char)233,      (unsigned char)1,      (unsigned char)242, 
        (unsigned char)1,      (unsigned char)250,      (unsigned char)2,      (unsigned char)3, 
        (unsigned char)2,      (unsigned char)12,      (unsigned char)2,      (unsigned char)20, 
        (unsigned char)2,      (unsigned char)29,      (unsigned char)2,      (unsigned char)38, 
        (unsigned char)2,      (unsigned char)47,      (unsigned char)2,      (unsigned char)56, 
        (unsigned char)2,      (unsigned char)65,      (unsigned char)2,      (unsigned char)75, 
        (unsigned char)2,      (unsigned char)84,      (unsigned char)2,      (unsigned char)93, 
        (unsigned char)2,      (unsigned char)103,      (unsigned char)2,      (unsigned char)113, 
        (unsigned char)2,      (unsigned char)122,      (unsigned char)2,      (unsigned char)132, 
        (unsigned char)2,      (unsigned char)142,      (unsigned char)2,      (unsigned char)152, 
        (unsigned char)2,      (unsigned char)162,      (unsigned char)2,      (unsigned char)172, 
        (unsigned char)2,      (unsigned char)182,      (unsigned char)2,      (unsigned char)193, 
        (unsigned char)2,      (unsigned char)203,      (unsigned char)2,      (unsigned char)213, 
        (unsigned char)2,      (unsigned char)224,      (unsigned char)2,      (unsigned char)235, 
        (unsigned char)2,      (unsigned char)245,      (unsigned char)3,      (unsigned char)0, 
        (unsigned char)3,      (unsigned char)11,      (unsigned char)3,      (unsigned char)22, 
        (unsigned char)3,      (unsigned char)33,      (unsigned char)3,      (unsigned char)45, 
        (unsigned char)3,      (unsigned char)56,      (unsigned char)3,      (unsigned char)67, 
        (unsigned char)3,      (unsigned char)79,      (unsigned char)3,      (unsigned char)90, 
        (unsigned char)3,      (unsigned char)102,      (unsigned char)3,      (unsigned char)114, 
        (unsigned char)3,      (unsigned char)126,      (unsigned char)3,      (unsigned char)138, 
        (unsigned char)3,      (unsigned char)150,      (unsigned char)3,      (unsigned char)162, 
        (unsigned char)3,      (unsigned char)174,      (unsigned char)3,      (unsigned char)186, 
        (unsigned char)3,      (unsigned char)199,      (unsigned char)3,      (unsigned char)211, 
        (unsigned char)3,      (unsigned char)224,      (unsigned char)3,      (unsigned char)236, 
        (unsigned char)3,      (unsigned char)249,      (unsigned char)4,      (unsigned char)6, 
        (unsigned char)4,      (unsigned char)19,      (unsigned char)4,      (unsigned char)32, 
        (unsigned char)4,      (unsigned char)45,      (unsigned char)4,      (unsigned char)59, 
        (unsigned char)4,      (unsigned char)72,      (unsigned char)4,      (unsigned char)85, 
        (unsigned char)4,      (unsigned char)99,      (unsigned char)4,      (unsigned char)113, 
        (unsigned char)4,      (unsigned char)126,      (unsigned char)4,      (unsigned char)140, 
        (unsigned char)4,      (unsigned char)154,      (unsigned char)4,      (unsigned char)168, 
        (unsigned char)4,      (unsigned char)182,      (unsigned char)4,      (unsigned char)196, 
        (unsigned char)4,      (unsigned char)211,      (unsigned char)4,      (unsigned char)225, 
        (unsigned char)4,      (unsigned char)240,      (unsigned char)4,      (unsigned char)254, 
        (unsigned char)5,      (unsigned char)13,      (unsigned char)5,      (unsigned char)28, 
        (unsigned char)5,      (unsigned char)43,      (unsigned char)5,      (unsigned char)58, 
        (unsigned char)5,      (unsigned char)73,      (unsigned char)5,      (unsigned char)88, 
        (unsigned char)5,      (unsigned char)103,      (unsigned char)5,      (unsigned char)119, 
        (unsigned char)5,      (unsigned char)134,      (unsigned char)5,      (unsigned char)150, 
        (unsigned char)5,      (unsigned char)166,      (unsigned char)5,      (unsigned char)181, 
        (unsigned char)5,      (unsigned char)197,      (unsigned char)5,      (unsigned char)213, 
        (unsigned char)5,      (unsigned char)229,      (unsigned char)5,      (unsigned char)246, 
        (unsigned char)6,      (unsigned char)6,      (unsigned char)6,      (unsigned char)22, 
        (unsigned char)6,      (unsigned char)39,      (unsigned char)6,      (unsigned char)55, 
        (unsigned char)6,      (unsigned char)72,      (unsigned char)6,      (unsigned char)89, 
        (unsigned char)6,      (unsigned char)106,      (unsigned char)6,      (unsigned char)123, 
        (unsigned char)6,      (unsigned char)140,      (unsigned char)6,      (unsigned char)157, 
        (unsigned char)6,      (unsigned char)175,      (unsigned char)6,      (unsigned char)192, 
        (unsigned char)6,      (unsigned char)209,      (unsigned char)6,      (unsigned char)227, 
        (unsigned char)6,      (unsigned char)245,      (unsigned char)7,      (unsigned char)7, 
        (unsigned char)7,      (unsigned char)25,      (unsigned char)7,      (unsigned char)43, 
        (unsigned char)7,      (unsigned char)61,      (unsigned char)7,      (unsigned char)79, 
        (unsigned char)7,      (unsigned char)97,      (unsigned char)7,      (unsigned char)116, 
        (unsigned char)7,      (unsigned char)134,      (unsigned char)7,      (unsigned char)153, 
        (unsigned char)7,      (unsigned char)172,      (unsigned char)7,      (unsigned char)191, 
        (unsigned char)7,      (unsigned char)210,      (unsigned char)7,      (unsigned char)229, 
        (unsigned char)7,      (unsigned char)248,      (unsigned char)8,      (unsigned char)11, 
        (unsigned char)8,      (unsigned char)31,      (unsigned char)8,      (unsigned char)50, 
        (unsigned char)8,      (unsigned char)70,      (unsigned char)8,      (unsigned char)90, 
        (unsigned char)8,      (unsigned char)110,      (unsigned char)8,      (unsigned char)130, 
        (unsigned char)8,      (unsigned char)150,      (unsigned char)8,      (unsigned char)170, 
        (unsigned char)8,      (unsigned char)190,      (unsigned char)8,      (unsigned char)210, 
        (unsigned char)8,      (unsigned char)231,      (unsigned char)8,      (unsigned char)251, 
        (unsigned char)9,      (unsigned char)16,      (unsigned char)9,      (unsigned char)37, 
        (unsigned char)9,      (unsigned char)58,      (unsigned char)9,      (unsigned char)79, 
        (unsigned char)9,      (unsigned char)100,      (unsigned char)9,      (unsigned char)121, 
        (unsigned char)9,      (unsigned char)143,      (unsigned char)9,      (unsigned char)164, 
        (unsigned char)9,      (unsigned char)186,      (unsigned char)9,      (unsigned char)207, 
        (unsigned char)9,      (unsigned char)229,      (unsigned char)9,      (unsigned char)251, 
        (unsigned char)10,      (unsigned char)17,      (unsigned char)10,      (unsigned char)39, 
        (unsigned char)10,      (unsigned char)61,      (unsigned char)10,      (unsigned char)84, 
        (unsigned char)10,      (unsigned char)106,      (unsigned char)10,      (unsigned char)129, 
        (unsigned char)10,      (unsigned char)152,      (unsigned char)10,      (unsigned char)174, 
        (unsigned char)10,      (unsigned char)197,      (unsigned char)10,      (unsigned char)220, 
        (unsigned char)10,      (unsigned char)243,      (unsigned char)11,      (unsigned char)11, 
        (unsigned char)11,      (unsigned char)34,      (unsigned char)11,      (unsigned char)57, 
        (unsigned char)11,      (unsigned char)81,      (unsigned char)11,      (unsigned char)105, 
        (unsigned char)11,      (unsigned char)128,      (unsigned char)11,      (unsigned char)152, 
        (unsigned char)11,      (unsigned char)176,      (unsigned char)11,      (unsigned char)200, 
        (unsigned char)11,      (unsigned char)225,      (unsigned char)11,      (unsigned char)249, 
        (unsigned char)12,      (unsigned char)18,      (unsigned char)12,      (unsigned char)42, 
        (unsigned char)12,      (unsigned char)67,      (unsigned char)12,      (unsigned char)92, 
        (unsigned char)12,      (unsigned char)117,      (unsigned char)12,      (unsigned char)142, 
        (unsigned char)12,      (unsigned char)167,      (unsigned char)12,      (unsigned char)192, 
        (unsigned char)12,      (unsigned char)217,      (unsigned char)12,      (unsigned char)243, 
        (unsigned char)13,      (unsigned char)13,      (unsigned char)13,      (unsigned char)38, 
        (unsigned char)13,      (unsigned char)64,      (unsigned char)13,      (unsigned char)90, 
        (unsigned char)13,      (unsigned char)116,      (unsigned char)13,      (unsigned char)142, 
        (unsigned char)13,      (unsigned char)169,      (unsigned char)13,      (unsigned char)195, 
        (unsigned char)13,      (unsigned char)222,      (unsigned char)13,      (unsigned char)248, 
        (unsigned char)14,      (unsigned char)19,      (unsigned char)14,      (unsigned char)46, 
        (unsigned char)14,      (unsigned char)73,      (unsigned char)14,      (unsigned char)100, 
        (unsigned char)14,      (unsigned char)127,      (unsigned char)14,      (unsigned char)155, 
        (unsigned char)14,      (unsigned char)182,      (unsigned char)14,      (unsigned char)210, 
        (unsigned char)14,      (unsigned char)238,      (unsigned char)15,      (unsigned char)9, 
        (unsigned char)15,      (unsigned char)37,      (unsigned char)15,      (unsigned char)65, 
        (unsigned char)15,      (unsigned char)94,      (unsigned char)15,      (unsigned char)122, 
        (unsigned char)15,      (unsigned char)150,      (unsigned char)15,      (unsigned char)179, 
        (unsigned char)15,      (unsigned char)207,      (unsigned char)15,      (unsigned char)236, 
        (unsigned char)16,      (unsigned char)9,      (unsigned char)16,      (unsigned char)38, 
        (unsigned char)16,      (unsigned char)67,      (unsigned char)16,      (unsigned char)97, 
        (unsigned char)16,      (unsigned char)126,      (unsigned char)16,      (unsigned char)155, 
        (unsigned char)16,      (unsigned char)185,      (unsigned char)16,      (unsigned char)215, 
        (unsigned char)16,      (unsigned char)245,      (unsigned char)17,      (unsigned char)19, 
        (unsigned char)17,      (unsigned char)49,      (unsigned char)17,      (unsigned char)79, 
        (unsigned char)17,      (unsigned char)109,      (unsigned char)17,      (unsigned char)140, 
        (unsigned char)17,      (unsigned char)170,      (unsigned char)17,      (unsigned char)201, 
        (unsigned char)17,      (unsigned char)232,      (unsigned char)18,      (unsigned char)7, 
        (unsigned char)18,      (unsigned char)38,      (unsigned char)18,      (unsigned char)69, 
        (unsigned char)18,      (unsigned char)100,      (unsigned char)18,      (unsigned char)132, 
        (unsigned char)18,      (unsigned char)163,      (unsigned char)18,      (unsigned char)195, 
        (unsigned char)18,      (unsigned char)227,      (unsigned char)19,      (unsigned char)3, 
        (unsigned char)19,      (unsigned char)35,      (unsigned char)19,      (unsigned char)67, 
        (unsigned char)19,      (unsigned char)99,      (unsigned char)19,      (unsigned char)131, 
        (unsigned char)19,      (unsigned char)164,      (unsigned char)19,      (unsigned char)197, 
        (unsigned char)19,      (unsigned char)229,      (unsigned char)20,      (unsigned char)6, 
        (unsigned char)20,      (unsigned char)39,      (unsigned char)20,      (unsigned char)73, 
        (unsigned char)20,      (unsigned char)106,      (unsigned char)20,      (unsigned char)139, 
        (unsigned char)20,      (unsigned char)173,      (unsigned char)20,      (unsigned char)206, 
        (unsigned char)20,      (unsigned char)240,      (unsigned char)21,      (unsigned char)18, 
        (unsigned char)21,      (unsigned char)52,      (unsigned char)21,      (unsigned char)86, 
        (unsigned char)21,      (unsigned char)120,      (unsigned char)21,      (unsigned char)155, 
        (unsigned char)21,      (unsigned char)189,      (unsigned char)21,      (unsigned char)224, 
        (unsigned char)22,      (unsigned char)3,      (unsigned char)22,      (unsigned char)38, 
        (unsigned char)22,      (unsigned char)73,      (unsigned char)22,      (unsigned char)108, 
        (unsigned char)22,      (unsigned char)143,      (unsigned char)22,      (unsigned char)178, 
        (unsigned char)22,      (unsigned char)214,      (unsigned char)22,      (unsigned char)250, 
        (unsigned char)23,      (unsigned char)29,      (unsigned char)23,      (unsigned char)65, 
        (unsigned char)23,      (unsigned char)101,      (unsigned char)23,      (unsigned char)137, 
        (unsigned char)23,      (unsigned char)174,      (unsigned char)23,      (unsigned char)210, 
        (unsigned char)23,      (unsigned char)247,      (unsigned char)24,      (unsigned char)27, 
        (unsigned char)24,      (unsigned char)64,      (unsigned char)24,      (unsigned char)101, 
        (unsigned char)24,      (unsigned char)138,      (unsigned char)24,      (unsigned char)175, 
        (unsigned char)24,      (unsigned char)213,      (unsigned char)24,      (unsigned char)250, 
        (unsigned char)25,      (unsigned char)32,      (unsigned char)25,      (unsigned char)69, 
        (unsigned char)25,      (unsigned char)107,      (unsigned char)25,      (unsigned char)145, 
        (unsigned char)25,      (unsigned char)183,      (unsigned char)25,      (unsigned char)221, 
        (unsigned char)26,      (unsigned char)4,      (unsigned char)26,      (unsigned char)42, 
        (unsigned char)26,      (unsigned char)81,      (unsigned char)26,      (unsigned char)119, 
        (unsigned char)26,      (unsigned char)158,      (unsigned char)26,      (unsigned char)197, 
        (unsigned char)26,      (unsigned char)236,      (unsigned char)27,      (unsigned char)20, 
        (unsigned char)27,      (unsigned char)59,      (unsigned char)27,      (unsigned char)99, 
        (unsigned char)27,      (unsigned char)138,      (unsigned char)27,      (unsigned char)178, 
        (unsigned char)27,      (unsigned char)218,      (unsigned char)28,      (unsigned char)2, 
        (unsigned char)28,      (unsigned char)42,      (unsigned char)28,      (unsigned char)82, 
        (unsigned char)28,      (unsigned char)123,      (unsigned char)28,      (unsigned char)163, 
        (unsigned char)28,      (unsigned char)204,      (unsigned char)28,      (unsigned char)245, 
        (unsigned char)29,      (unsigned char)30,      (unsigned char)29,      (unsigned char)71, 
        (unsigned char)29,      (unsigned char)112,      (unsigned char)29,      (unsigned char)153, 
        (unsigned char)29,      (unsigned char)195,      (unsigned char)29,      (unsigned char)236, 
        (unsigned char)30,      (unsigned char)22,      (unsigned char)30,      (unsigned char)64, 
        (unsigned char)30,      (unsigned char)106,      (unsigned char)30,      (unsigned char)148, 
        (unsigned char)30,      (unsigned char)190,      (unsigned char)30,      (unsigned char)233, 
        (unsigned char)31,      (unsigned char)19,      (unsigned char)31,      (unsigned char)62, 
        (unsigned char)31,      (unsigned char)105,      (unsigned char)31,      (unsigned char)148, 
        (unsigned char)31,      (unsigned char)191,      (unsigned char)31,      (unsigned char)234, 
        (unsigned char)32,      (unsigned char)21,      (unsigned char)32,      (unsigned char)65, 
        (unsigned char)32,      (unsigned char)108,      (unsigned char)32,      (unsigned char)152, 
        (unsigned char)32,      (unsigned char)196,      (unsigned char)32,      (unsigned char)240, 
        (unsigned char)33,      (unsigned char)28,      (unsigned char)33,      (unsigned char)72, 
        (unsigned char)33,      (unsigned char)117,      (unsigned char)33,      (unsigned char)161, 
        (unsigned char)33,      (unsigned char)206,      (unsigned char)33,      (unsigned char)251, 
        (unsigned char)34,      (unsigned char)39,      (unsigned char)34,      (unsigned char)85, 
        (unsigned char)34,      (unsigned char)130,      (unsigned char)34,      (unsigned char)175, 
        (unsigned char)34,      (unsigned char)221,      (unsigned char)35,      (unsigned char)10, 
        (unsigned char)35,      (unsigned char)56,      (unsigned char)35,      (unsigned char)102, 
        (unsigned char)35,      (unsigned char)148,      (unsigned char)35,      (unsigned char)194, 
        (unsigned char)35,      (unsigned char)240,      (unsigned char)36,      (unsigned char)31, 
        (unsigned char)36,      (unsigned char)77,      (unsigned char)36,      (unsigned char)124, 
        (unsigned char)36,      (unsigned char)171,      (unsigned char)36,      (unsigned char)218, 
        (unsigned char)37,      (unsigned char)9,      (unsigned char)37,      (unsigned char)56, 
        (unsigned char)37,      (unsigned char)104,      (unsigned char)37,      (unsigned char)151, 
        (unsigned char)37,      (unsigned char)199,      (unsigned char)37,      (unsigned char)247, 
        (unsigned char)38,      (unsigned char)39,      (unsigned char)38,      (unsigned char)87, 
        (unsigned char)38,      (unsigned char)135,      (unsigned char)38,      (unsigned char)183, 
        (unsigned char)38,      (unsigned char)232,      (unsigned char)39,      (unsigned char)24, 
        (unsigned char)39,      (unsigned char)73,      (unsigned char)39,      (unsigned char)122, 
        (unsigned char)39,      (unsigned char)171,      (unsigned char)39,      (unsigned char)220, 
        (unsigned char)40,      (unsigned char)13,      (unsigned char)40,      (unsigned char)63, 
        (unsigned char)40,      (unsigned char)113,      (unsigned char)40,      (unsigned char)162, 
        (unsigned char)40,      (unsigned char)212,      (unsigned char)41,      (unsigned char)6, 
        (unsigned char)41,      (unsigned char)56,      (unsigned char)41,      (unsigned char)107, 
        (unsigned char)41,      (unsigned char)157,      (unsigned char)41,      (unsigned char)208, 
        (unsigned char)42,      (unsigned char)2,      (unsigned char)42,      (unsigned char)53, 
        (unsigned char)42,      (unsigned char)104,      (unsigned char)42,      (unsigned char)155, 
        (unsigned char)42,      (unsigned char)207,      (unsigned char)43,      (unsigned char)2, 
        (unsigned char)43,      (unsigned char)54,      (unsigned char)43,      (unsigned char)105, 
        (unsigned char)43,      (unsigned char)157,      (unsigned char)43,      (unsigned char)209, 
        (unsigned char)44,      (unsigned char)5,      (unsigned char)44,      (unsigned char)57, 
        (unsigned char)44,      (unsigned char)110,      (unsigned char)44,      (unsigned char)162, 
        (unsigned char)44,      (unsigned char)215,      (unsigned char)45,      (unsigned char)12, 
        (unsigned char)45,      (unsigned char)65,      (unsigned char)45,      (unsigned char)118, 
        (unsigned char)45,      (unsigned char)171,      (unsigned char)45,      (unsigned char)225, 
        (unsigned char)46,      (unsigned char)22,      (unsigned char)46,      (unsigned char)76, 
        (unsigned char)46,      (unsigned char)130,      (unsigned char)46,      (unsigned char)183, 
        (unsigned char)46,      (unsigned char)238,      (unsigned char)47,      (unsigned char)36, 
        (unsigned char)47,      (unsigned char)90,      (unsigned char)47,      (unsigned char)145, 
        (unsigned char)47,      (unsigned char)199,      (unsigned char)47,      (unsigned char)254, 
        (unsigned char)48,      (unsigned char)53,      (unsigned char)48,      (unsigned char)108, 
        (unsigned char)48,      (unsigned char)164,      (unsigned char)48,      (unsigned char)219, 
        (unsigned char)49,      (unsigned char)18,      (unsigned char)49,      (unsigned char)74, 
        (unsigned char)49,      (unsigned char)130,      (unsigned char)49,      (unsigned char)186, 
        (unsigned char)49,      (unsigned char)242,      (unsigned char)50,      (unsigned char)42, 
        (unsigned char)50,      (unsigned char)99,      (unsigned char)50,      (unsigned char)155, 
        (unsigned char)50,      (unsigned char)212,      (unsigned char)51,      (unsigned char)13, 
        (unsigned char)51,      (unsigned char)70,      (unsigned char)51,      (unsigned char)127, 
        (unsigned char)51,      (unsigned char)184,      (unsigned char)51,      (unsigned char)241, 
        (unsigned char)52,      (unsigned char)43,      (unsigned char)52,      (unsigned char)101, 
        (unsigned char)52,      (unsigned char)158,      (unsigned char)52,      (unsigned char)216, 
        (unsigned char)53,      (unsigned char)19,      (unsigned char)53,      (unsigned char)77, 
        (unsigned char)53,      (unsigned char)135,      (unsigned char)53,      (unsigned char)194, 
        (unsigned char)53,      (unsigned char)253,      (unsigned char)54,      (unsigned char)55, 
        (unsigned char)54,      (unsigned char)114,      (unsigned char)54,      (unsigned char)174, 
        (unsigned char)54,      (unsigned char)233,      (unsigned char)55,      (unsigned char)36, 
        (unsigned char)55,      (unsigned char)96,      (unsigned char)55,      (unsigned char)156, 
        (unsigned char)55,      (unsigned char)215,      (unsigned char)56,      (unsigned char)20, 
        (unsigned char)56,      (unsigned char)80,      (unsigned char)56,      (unsigned char)140, 
        (unsigned char)56,      (unsigned char)200,      (unsigned char)57,      (unsigned char)5, 
        (unsigned char)57,      (unsigned char)66,      (unsigned char)57,      (unsigned char)127, 
        (unsigned char)57,      (unsigned char)188,      (unsigned char)57,      (unsigned char)249, 
        (unsigned char)58,      (unsigned char)54,      (unsigned char)58,      (unsigned char)116, 
        (unsigned char)58,      (unsigned char)178,      (unsigned char)58,      (unsigned char)239, 
        (unsigned char)59,      (unsigned char)45,      (unsigned char)59,      (unsigned char)107, 
        (unsigned char)59,      (unsigned char)170,      (unsigned char)59,      (unsigned char)232, 
        (unsigned char)60,      (unsigned char)39,      (unsigned char)60,      (unsigned char)101, 
        (unsigned char)60,      (unsigned char)164,      (unsigned char)60,      (unsigned char)227, 
        (unsigned char)61,      (unsigned char)34,      (unsigned char)61,      (unsigned char)97, 
        (unsigned char)61,      (unsigned char)161,      (unsigned char)61,      (unsigned char)224, 
        (unsigned char)62,      (unsigned char)32,      (unsigned char)62,      (unsigned char)96, 
        (unsigned char)62,      (unsigned char)160,      (unsigned char)62,      (unsigned char)224, 
        (unsigned char)63,      (unsigned char)33,      (unsigned char)63,      (unsigned char)97, 
        (unsigned char)63,      (unsigned char)162,      (unsigned char)63,      (unsigned char)226, 
        (unsigned char)64,      (unsigned char)35,      (unsigned char)64,      (unsigned char)100, 
        (unsigned char)64,      (unsigned char)166,      (unsigned char)64,      (unsigned char)231, 
        (unsigned char)65,      (unsigned char)41,      (unsigned char)65,      (unsigned char)106, 
        (unsigned char)65,      (unsigned char)172,      (unsigned char)65,      (unsigned char)238, 
        (unsigned char)66,      (unsigned char)48,      (unsigned char)66,      (unsigned char)114, 
        (unsigned char)66,      (unsigned char)181,      (unsigned char)66,      (unsigned char)247, 
        (unsigned char)67,      (unsigned char)58,      (unsigned char)67,      (unsigned char)125, 
        (unsigned char)67,      (unsigned char)192,      (unsigned char)68,      (unsigned char)3, 
        (unsigned char)68,      (unsigned char)71,      (unsigned char)68,      (unsigned char)138, 
        (unsigned char)68,      (unsigned char)206,      (unsigned char)69,      (unsigned char)18, 
        (unsigned char)69,      (unsigned char)85,      (unsigned char)69,      (unsigned char)154, 
        (unsigned char)69,      (unsigned char)222,      (unsigned char)70,      (unsigned char)34, 
        (unsigned char)70,      (unsigned char)103,      (unsigned char)70,      (unsigned char)171, 
        (unsigned char)70,      (unsigned char)240,      (unsigned char)71,      (unsigned char)53, 
        (unsigned char)71,      (unsigned char)123,      (unsigned char)71,      (unsigned char)192, 
        (unsigned char)72,      (unsigned char)5,      (unsigned char)72,      (unsigned char)75, 
        (unsigned char)72,      (unsigned char)145,      (unsigned char)72,      (unsigned char)215, 
        (unsigned char)73,      (unsigned char)29,      (unsigned char)73,      (unsigned char)99, 
        (unsigned char)73,      (unsigned char)169,      (unsigned char)73,      (unsigned char)240, 
        (unsigned char)74,      (unsigned char)55,      (unsigned char)74,      (unsigned char)125, 
        (unsigned char)74,      (unsigned char)196,      (unsigned char)75,      (unsigned char)12, 
        (unsigned char)75,      (unsigned char)83,      (unsigned char)75,      (unsigned char)154, 
        (unsigned char)75,      (unsigned char)226,      (unsigned char)76,      (unsigned char)42, 
        (unsigned char)76,      (unsigned char)114,      (unsigned char)76,      (unsigned char)186, 
        (unsigned char)77,      (unsigned char)2,      (unsigned char)77,      (unsigned char)74, 
        (unsigned char)77,      (unsigned char)147,      (unsigned char)77,      (unsigned char)220, 
        (unsigned char)78,      (unsigned char)37,      (unsigned char)78,      (unsigned char)110, 
        (unsigned char)78,      (unsigned char)183,      (unsigned char)79,      (unsigned char)0, 
        (unsigned char)79,      (unsigned char)73,      (unsigned char)79,      (unsigned char)147, 
        (unsigned char)79,      (unsigned char)221,      (unsigned char)80,      (unsigned char)39, 
        (unsigned char)80,      (unsigned char)113,      (unsigned char)80,      (unsigned char)187, 
        (unsigned char)81,      (unsigned char)6,      (unsigned char)81,      (unsigned char)80, 
        (unsigned char)81,      (unsigned char)155,      (unsigned char)81,      (unsigned char)230, 
        (unsigned char)82,      (unsigned char)49,      (unsigned char)82,      (unsigned char)124, 
        (unsigned char)82,      (unsigned char)199,      (unsigned char)83,      (unsigned char)19, 
        (unsigned char)83,      (unsigned char)95,      (unsigned char)83,      (unsigned char)170, 
        (unsigned char)83,      (unsigned char)246,      (unsigned char)84,      (unsigned char)66, 
        (unsigned char)84,      (unsigned char)143,      (unsigned char)84,      (unsigned char)219, 
        (unsigned char)85,      (unsigned char)40,      (unsigned char)85,      (unsigned char)117, 
        (unsigned char)85,      (unsigned char)194,      (unsigned char)86,      (unsigned char)15, 
        (unsigned char)86,      (unsigned char)92,      (unsigned char)86,      (unsigned char)169, 
        (unsigned char)86,      (unsigned char)247,      (unsigned char)87,      (unsigned char)68, 
        (unsigned char)87,      (unsigned char)146,      (unsigned char)87,      (unsigned char)224, 
        (unsigned char)88,      (unsigned char)47,      (unsigned char)88,      (unsigned char)125, 
        (unsigned char)88,      (unsigned char)203,      (unsigned char)89,      (unsigned char)26, 
        (unsigned char)89,      (unsigned char)105,      (unsigned char)89,      (unsigned char)184, 
        (unsigned char)90,      (unsigned char)7,      (unsigned char)90,      (unsigned char)86, 
        (unsigned char)90,      (unsigned char)166,      (unsigned char)90,      (unsigned char)245, 
        (unsigned char)91,      (unsigned char)69,      (unsigned char)91,      (unsigned char)149, 
        (unsigned char)91,      (unsigned char)229,      (unsigned char)92,      (unsigned char)53, 
        (unsigned char)92,      (unsigned char)134,      (unsigned char)92,      (unsigned char)214, 
        (unsigned char)93,      (unsigned char)39,      (unsigned char)93,      (unsigned char)120, 
        (unsigned char)93,      (unsigned char)201,      (unsigned char)94,      (unsigned char)26, 
        (unsigned char)94,      (unsigned char)108,      (unsigned char)94,      (unsigned char)189, 
        (unsigned char)95,      (unsigned char)15,      (unsigned char)95,      (unsigned char)97, 
        (unsigned char)95,      (unsigned char)179,      (unsigned char)96,      (unsigned char)5, 
        (unsigned char)96,      (unsigned char)87,      (unsigned char)96,      (unsigned char)170, 
        (unsigned char)96,      (unsigned char)252,      (unsigned char)97,      (unsigned char)79, 
        (unsigned char)97,      (unsigned char)162,      (unsigned char)97,      (unsigned char)245, 
        (unsigned char)98,      (unsigned char)73,      (unsigned char)98,      (unsigned char)156, 
        (unsigned char)98,      (unsigned char)240,      (unsigned char)99,      (unsigned char)67, 
        (unsigned char)99,      (unsigned char)151,      (unsigned char)99,      (unsigned char)235, 
        (unsigned char)100,      (unsigned char)64,      (unsigned char)100,      (unsigned char)148, 
        (unsigned char)100,      (unsigned char)233,      (unsigned char)101,      (unsigned char)61, 
        (unsigned char)101,      (unsigned char)146,      (unsigned char)101,      (unsigned char)231, 
        (unsigned char)102,      (unsigned char)61,      (unsigned char)102,      (unsigned char)146, 
        (unsigned char)102,      (unsigned char)232,      (unsigned char)103,      (unsigned char)61, 
        (unsigned char)103,      (unsigned char)147,      (unsigned char)103,      (unsigned char)233, 
        (unsigned char)104,      (unsigned char)63,      (unsigned char)104,      (unsigned char)150, 
        (unsigned char)104,      (unsigned char)236,      (unsigned char)105,      (unsigned char)67, 
        (unsigned char)105,      (unsigned char)154,      (unsigned char)105,      (unsigned char)241, 
        (unsigned char)106,      (unsigned char)72,      (unsigned char)106,      (unsigned char)159, 
        (unsigned char)106,      (unsigned char)247,      (unsigned char)107,      (unsigned char)79, 
        (unsigned char)107,      (unsigned char)167,      (unsigned char)107,      (unsigned char)255, 
        (unsigned char)108,      (unsigned char)87,      (unsigned char)108,      (unsigned char)175, 
        (unsigned char)109,      (unsigned char)8,      (unsigned char)109,      (unsigned char)96, 
        (unsigned char)109,      (unsigned char)185,      (unsigned char)110,      (unsigned char)18, 
        (unsigned char)110,      (unsigned char)107,      (unsigned char)110,      (unsigned char)196, 
        (unsigned char)111,      (unsigned char)30,      (unsigned char)111,      (unsigned char)120, 
        (unsigned char)111,      (unsigned char)209,      (unsigned char)112,      (unsigned char)43, 
        (unsigned char)112,      (unsigned char)134,      (unsigned char)112,      (unsigned char)224, 
        (unsigned char)113,      (unsigned char)58,      (unsigned char)113,      (unsigned char)149, 
        (unsigned char)113,      (unsigned char)240,      (unsigned char)114,      (unsigned char)75, 
        (unsigned char)114,      (unsigned char)166,      (unsigned char)115,      (unsigned char)1, 
        (unsigned char)115,      (unsigned char)93,      (unsigned char)115,      (unsigned char)184, 
        (unsigned char)116,      (unsigned char)20,      (unsigned char)116,      (unsigned char)112, 
        (unsigned char)116,      (unsigned char)204,      (unsigned char)117,      (unsigned char)40, 
        (unsigned char)117,      (unsigned char)133,      (unsigned char)117,      (unsigned char)225, 
        (unsigned char)118,      (unsigned char)62,      (unsigned char)118,      (unsigned char)155, 
        (unsigned char)118,      (unsigned char)248,      (unsigned char)119,      (unsigned char)86, 
        (unsigned char)119,      (unsigned char)179,      (unsigned char)120,      (unsigned char)17, 
        (unsigned char)120,      (unsigned char)110,      (unsigned char)120,      (unsigned char)204, 
        (unsigned char)121,      (unsigned char)42,      (unsigned char)121,      (unsigned char)137, 
        (unsigned char)121,      (unsigned char)231,      (unsigned char)122,      (unsigned char)70, 
        (unsigned char)122,      (unsigned char)165,      (unsigned char)123,      (unsigned char)4, 
        (unsigned char)123,      (unsigned char)99,      (unsigned char)123,      (unsigned char)194, 
        (unsigned char)124,      (unsigned char)33,      (unsigned char)124,      (unsigned char)129, 
        (unsigned char)124,      (unsigned char)225,      (unsigned char)125,      (unsigned char)65, 
        (unsigned char)125,      (unsigned char)161,      (unsigned char)126,      (unsigned char)1, 
        (unsigned char)126,      (unsigned char)98,      (unsigned char)126,      (unsigned char)194, 
        (unsigned char)127,      (unsigned char)35,      (unsigned char)127,      (unsigned char)132, 
        (unsigned char)127,      (unsigned char)229,      (unsigned char)128,      (unsigned char)71, 
        (unsigned char)128,      (unsigned char)168,      (unsigned char)129,      (unsigned char)10, 
        (unsigned char)129,      (unsigned char)107,      (unsigned char)129,      (unsigned char)205, 
        (unsigned char)130,      (unsigned char)48,      (unsigned char)130,      (unsigned char)146, 
        (unsigned char)130,      (unsigned char)244,      (unsigned char)131,      (unsigned char)87, 
        (unsigned char)131,      (unsigned char)186,      (unsigned char)132,      (unsigned char)29, 
        (unsigned char)132,      (unsigned char)128,      (unsigned char)132,      (unsigned char)227, 
        (unsigned char)133,      (unsigned char)71,      (unsigned char)133,      (unsigned char)171, 
        (unsigned char)134,      (unsigned char)14,      (unsigned char)134,      (unsigned char)114, 
        (unsigned char)134,      (unsigned char)215,      (unsigned char)135,      (unsigned char)59, 
        (unsigned char)135,      (unsigned char)159,      (unsigned char)136,      (unsigned char)4, 
        (unsigned char)136,      (unsigned char)105,      (unsigned char)136,      (unsigned char)206, 
        (unsigned char)137,      (unsigned char)51,      (unsigned char)137,      (unsigned char)153, 
        (unsigned char)137,      (unsigned char)254,      (unsigned char)138,      (unsigned char)100, 
        (unsigned char)138,      (unsigned char)202,      (unsigned char)139,      (unsigned char)48, 
        (unsigned char)139,      (unsigned char)150,      (unsigned char)139,      (unsigned char)252, 
        (unsigned char)140,      (unsigned char)99,      (unsigned char)140,      (unsigned char)202, 
        (unsigned char)141,      (unsigned char)49,      (unsigned char)141,      (unsigned char)152, 
        (unsigned char)141,      (unsigned char)255,      (unsigned char)142,      (unsigned char)102, 
        (unsigned char)142,      (unsigned char)206,      (unsigned char)143,      (unsigned char)54, 
        (unsigned char)143,      (unsigned char)158,      (unsigned char)144,      (unsigned char)6, 
        (unsigned char)144,      (unsigned char)110,      (unsigned char)144,      (unsigned char)214, 
        (unsigned char)145,      (unsigned char)63,      (unsigned char)145,      (unsigned char)168, 
        (unsigned char)146,      (unsigned char)17,      (unsigned char)146,      (unsigned char)122, 
        (unsigned char)146,      (unsigned char)227,      (unsigned char)147,      (unsigned char)77, 
        (unsigned char)147,      (unsigned char)182,      (unsigned char)148,      (unsigned char)32, 
        (unsigned char)148,      (unsigned char)138,      (unsigned char)148,      (unsigned char)244, 
        (unsigned char)149,      (unsigned char)95,      (unsigned char)149,      (unsigned char)201, 
        (unsigned char)150,      (unsigned char)52,      (unsigned char)150,      (unsigned char)159, 
        (unsigned char)151,      (unsigned char)10,      (unsigned char)151,      (unsigned char)117, 
        (unsigned char)151,      (unsigned char)224,      (unsigned char)152,      (unsigned char)76, 
        (unsigned char)152,      (unsigned char)184,      (unsigned char)153,      (unsigned char)36, 
        (unsigned char)153,      (unsigned char)144,      (unsigned char)153,      (unsigned char)252, 
        (unsigned char)154,      (unsigned char)104,      (unsigned char)154,      (unsigned char)213, 
        (unsigned char)155,      (unsigned char)66,      (unsigned char)155,      (unsigned char)175, 
        (unsigned char)156,      (unsigned char)28,      (unsigned char)156,      (unsigned char)137, 
        (unsigned char)156,      (unsigned char)247,      (unsigned char)157,      (unsigned char)100, 
        (unsigned char)157,      (unsigned char)210,      (unsigned char)158,      (unsigned char)64, 
        (unsigned char)158,      (unsigned char)174,      (unsigned char)159,      (unsigned char)29, 
        (unsigned char)159,      (unsigned char)139,      (unsigned char)159,      (unsigned char)250, 
        (unsigned char)160,      (unsigned char)105,      (unsigned char)160,      (unsigned char)216, 
        (unsigned char)161,      (unsigned char)71,      (unsigned char)161,      (unsigned char)182, 
        (unsigned char)162,      (unsigned char)38,      (unsigned char)162,      (unsigned char)150, 
        (unsigned char)163,      (unsigned char)6,      (unsigned char)163,      (unsigned char)118, 
        (unsigned char)163,      (unsigned char)230,      (unsigned char)164,      (unsigned char)86, 
        (unsigned char)164,      (unsigned char)199,      (unsigned char)165,      (unsigned char)56, 
        (unsigned char)165,      (unsigned char)169,      (unsigned char)166,      (unsigned char)26, 
        (unsigned char)166,      (unsigned char)139,      (unsigned char)166,      (unsigned char)253, 
        (unsigned char)167,      (unsigned char)110,      (unsigned char)167,      (unsigned char)224, 
        (unsigned char)168,      (unsigned char)82,      (unsigned char)168,      (unsigned char)196, 
        (unsigned char)169,      (unsigned char)55,      (unsigned char)169,      (unsigned char)169, 
        (unsigned char)170,      (unsigned char)28,      (unsigned char)170,      (unsigned char)143, 
        (unsigned char)171,      (unsigned char)2,      (unsigned char)171,      (unsigned char)117, 
        (unsigned char)171,      (unsigned char)233,      (unsigned char)172,      (unsigned char)92, 
        (unsigned char)172,      (unsigned char)208,      (unsigned char)173,      (unsigned char)68, 
        (unsigned char)173,      (unsigned char)184,      (unsigned char)174,      (unsigned char)45, 
        (unsigned char)174,      (unsigned char)161,      (unsigned char)175,      (unsigned char)22, 
        (unsigned char)175,      (unsigned char)139,      (unsigned char)176,      (unsigned char)0, 
        (unsigned char)176,      (unsigned char)117,      (unsigned char)176,      (unsigned char)234, 
        (unsigned char)177,      (unsigned char)96,      (unsigned char)177,      (unsigned char)214, 
        (unsigned char)178,      (unsigned char)75,      (unsigned char)178,      (unsigned char)194, 
        (unsigned char)179,      (unsigned char)56,      (unsigned char)179,      (unsigned char)174, 
        (unsigned char)180,      (unsigned char)37,      (unsigned char)180,      (unsigned char)156, 
        (unsigned char)181,      (unsigned char)19,      (unsigned char)181,      (unsigned char)138, 
        (unsigned char)182,      (unsigned char)1,      (unsigned char)182,      (unsigned char)121, 
        (unsigned char)182,      (unsigned char)240,      (unsigned char)183,      (unsigned char)104, 
        (unsigned char)183,      (unsigned char)224,      (unsigned char)184,      (unsigned char)89, 
        (unsigned char)184,      (unsigned char)209,      (unsigned char)185,      (unsigned char)74, 
        (unsigned char)185,      (unsigned char)194,      (unsigned char)186,      (unsigned char)59, 
        (unsigned char)186,      (unsigned char)181,      (unsigned char)187,      (unsigned char)46, 
        (unsigned char)187,      (unsigned char)167,      (unsigned char)188,      (unsigned char)33, 
        (unsigned char)188,      (unsigned char)155,      (unsigned char)189,      (unsigned char)21, 
        (unsigned char)189,      (unsigned char)143,      (unsigned char)190,      (unsigned char)10, 
        (unsigned char)190,      (unsigned char)132,      (unsigned char)190,      (unsigned char)255, 
        (unsigned char)191,      (unsigned char)122,      (unsigned char)191,      (unsigned char)245, 
        (unsigned char)192,      (unsigned char)112,      (unsigned char)192,      (unsigned char)236, 
        (unsigned char)193,      (unsigned char)103,      (unsigned char)193,      (unsigned char)227, 
        (unsigned char)194,      (unsigned char)95,      (unsigned char)194,      (unsigned char)219, 
        (unsigned char)195,      (unsigned char)88,      (unsigned char)195,      (unsigned char)212, 
        (unsigned char)196,      (unsigned char)81,      (unsigned char)196,      (unsigned char)206, 
        (unsigned char)197,      (unsigned char)75,      (unsigned char)197,      (unsigned char)200, 
        (unsigned char)198,      (unsigned char)70,      (unsigned char)198,      (unsigned char)195, 
        (unsigned char)199,      (unsigned char)65,      (unsigned char)199,      (unsigned char)191, 
        (unsigned char)200,      (unsigned char)61,      (unsigned char)200,      (unsigned char)188, 
        (unsigned char)201,      (unsigned char)58,      (unsigned char)201,      (unsigned char)185, 
        (unsigned char)202,      (unsigned char)56,      (unsigned char)202,      (unsigned char)183, 
        (unsigned char)203,      (unsigned char)54,      (unsigned char)203,      (unsigned char)182, 
        (unsigned char)204,      (unsigned char)53,      (unsigned char)204,      (unsigned char)181, 
        (unsigned char)205,      (unsigned char)53,      (unsigned char)205,      (unsigned char)181, 
        (unsigned char)206,      (unsigned char)54,      (unsigned char)206,      (unsigned char)182, 
        (unsigned char)207,      (unsigned char)55,      (unsigned char)207,      (unsigned char)184, 
        (unsigned char)208,      (unsigned char)57,      (unsigned char)208,      (unsigned char)186, 
        (unsigned char)209,      (unsigned char)60,      (unsigned char)209,      (unsigned char)190, 
        (unsigned char)210,      (unsigned char)63,      (unsigned char)210,      (unsigned char)193, 
        (unsigned char)211,      (unsigned char)68,      (unsigned char)211,      (unsigned char)198, 
        (unsigned char)212,      (unsigned char)73,      (unsigned char)212,      (unsigned char)203, 
        (unsigned char)213,      (unsigned char)78,      (unsigned char)213,      (unsigned char)209, 
        (unsigned char)214,      (unsigned char)85,      (unsigned char)214,      (unsigned char)216, 
        (unsigned char)215,      (unsigned char)92,      (unsigned char)215,      (unsigned char)224, 
        (unsigned char)216,      (unsigned char)100,      (unsigned char)216,      (unsigned char)232, 
        (unsigned char)217,      (unsigned char)108,      (unsigned char)217,      (unsigned char)241, 
        (unsigned char)218,      (unsigned char)118,      (unsigned char)218,      (unsigned char)251, 
        (unsigned char)219,      (unsigned char)128,      (unsigned char)220,      (unsigned char)5, 
        (unsigned char)220,      (unsigned char)138,      (unsigned char)221,      (unsigned char)16, 
        (unsigned char)221,      (unsigned char)150,      (unsigned char)222,      (unsigned char)28, 
        (unsigned char)222,      (unsigned char)162,      (unsigned char)223,      (unsigned char)41, 
        (unsigned char)223,      (unsigned char)175,      (unsigned char)224,      (unsigned char)54, 
        (unsigned char)224,      (unsigned char)189,      (unsigned char)225,      (unsigned char)68, 
        (unsigned char)225,      (unsigned char)204,      (unsigned char)226,      (unsigned char)83, 
        (unsigned char)226,      (unsigned char)219,      (unsigned char)227,      (unsigned char)99, 
        (unsigned char)227,      (unsigned char)235,      (unsigned char)228,      (unsigned char)115, 
        (unsigned char)228,      (unsigned char)252,      (unsigned char)229,      (unsigned char)132, 
        (unsigned char)230,      (unsigned char)13,      (unsigned char)230,      (unsigned char)150, 
        (unsigned char)231,      (unsigned char)31,      (unsigned char)231,      (unsigned char)169, 
        (unsigned char)232,      (unsigned char)50,      (unsigned char)232,      (unsigned char)188, 
        (unsigned char)233,      (unsigned char)70,      (unsigned char)233,      (unsigned char)208, 
        (unsigned char)234,      (unsigned char)91,      (unsigned char)234,      (unsigned char)229, 
        (unsigned char)235,      (unsigned char)112,      (unsigned char)235,      (unsigned char)251, 
        (unsigned char)236,      (unsigned char)134,      (unsigned char)237,      (unsigned char)17, 
        (unsigned char)237,      (unsigned char)156,      (unsigned char)238,      (unsigned char)40, 
        (unsigned char)238,      (unsigned char)180,      (unsigned char)239,      (unsigned char)64, 
        (unsigned char)239,      (unsigned char)204,      (unsigned char)240,      (unsigned char)88, 
        (unsigned char)240,      (unsigned char)229,      (unsigned char)241,      (unsigned char)114, 
        (unsigned char)241,      (unsigned char)255,      (unsigned char)242,      (unsigned char)140, 
        (unsigned char)243,      (unsigned char)25,      (unsigned char)243,      (unsigned char)167, 
        (unsigned char)244,      (unsigned char)52,      (unsigned char)244,      (unsigned char)194, 
        (unsigned char)245,      (unsigned char)80,      (unsigned char)245,      (unsigned char)222, 
        (unsigned char)246,      (unsigned char)109,      (unsigned char)246,      (unsigned char)251, 
        (unsigned char)247,      (unsigned char)138,      (unsigned char)248,      (unsigned char)25, 
        (unsigned char)248,      (unsigned char)168,      (unsigned char)249,      (unsigned char)56, 
        (unsigned char)249,      (unsigned char)199,      (unsigned char)250,      (unsigned char)87, 
        (unsigned char)250,      (unsigned char)231,      (unsigned char)251,      (unsigned char)119, 
        (unsigned char)252,      (unsigned char)7,      (unsigned char)252,      (unsigned char)152, 
        (unsigned char)253,      (unsigned char)41,      (unsigned char)253,      (unsigned char)186, 
        (unsigned char)254,      (unsigned char)75,      (unsigned char)254,      (unsigned char)220, 
        (unsigned char)255,      (unsigned char)109,      (unsigned char)255,      (unsigned char)255};
#line 462 "/root/patchweave/5/src/libjasper/base/jas_iccdata.c"
int jas_iccprofdata_srgblen  =    (int )sizeof(jas_iccprofdata_srgb);
#line 464 "/root/patchweave/5/src/libjasper/base/jas_iccdata.c"
unsigned char jas_iccprofdata_sgray[394]  = 
#line 464
  {      (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)138, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)2,      (unsigned char)32,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)115,      (unsigned char)99,      (unsigned char)110,      (unsigned char)114, 
        (unsigned char)71,      (unsigned char)82,      (unsigned char)65,      (unsigned char)89, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)7,      (unsigned char)211,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)0,      (unsigned char)31,      (unsigned char)0,      (unsigned char)13, 
        (unsigned char)0,      (unsigned char)53,      (unsigned char)0,      (unsigned char)33, 
        (unsigned char)97,      (unsigned char)99,      (unsigned char)115,      (unsigned char)112, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)75,      (unsigned char)79,      (unsigned char)68,      (unsigned char)65, 
        (unsigned char)115,      (unsigned char)71,      (unsigned char)114,      (unsigned char)121, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)246,      (unsigned char)214, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)211,      (unsigned char)45, 
        (unsigned char)74,      (unsigned char)80,      (unsigned char)69,      (unsigned char)71, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)4, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)180, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)134, 
        (unsigned char)99,      (unsigned char)112,      (unsigned char)114,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)60, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)43, 
        (unsigned char)119,      (unsigned char)116,      (unsigned char)112,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)104, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)20, 
        (unsigned char)107,      (unsigned char)84,      (unsigned char)82,      (unsigned char)67, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)124, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)14, 
        (unsigned char)100,      (unsigned char)101,      (unsigned char)115,      (unsigned char)99, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)44, 
        (unsigned char)82,      (unsigned char)101,      (unsigned char)115,      (unsigned char)116, 
        (unsigned char)114,      (unsigned char)105,      (unsigned char)99,      (unsigned char)116, 
        (unsigned char)101,      (unsigned char)100,      (unsigned char)32,      (unsigned char)73, 
        (unsigned char)67,      (unsigned char)67,      (unsigned char)32,      (unsigned char)112, 
        (unsigned char)114,      (unsigned char)111,      (unsigned char)102,      (unsigned char)105, 
        (unsigned char)108,      (unsigned char)101,      (unsigned char)32,      (unsigned char)100, 
        (unsigned char)101,      (unsigned char)115,      (unsigned char)99,      (unsigned char)114, 
        (unsigned char)105,      (unsigned char)98,      (unsigned char)105,      (unsigned char)110, 
        (unsigned char)103,      (unsigned char)32,      (unsigned char)115,      (unsigned char)82, 
        (unsigned char)71,      (unsigned char)66,      (unsigned char)45,      (unsigned char)103, 
        (unsigned char)114,      (unsigned char)101,      (unsigned char)121,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)116,      (unsigned char)101,      (unsigned char)120,      (unsigned char)116, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)67,      (unsigned char)111,      (unsigned char)112,      (unsigned char)121, 
        (unsigned char)114,      (unsigned char)105,      (unsigned char)103,      (unsigned char)104, 
        (unsigned char)116,      (unsigned char)32,      (unsigned char)50,      (unsigned char)48, 
        (unsigned char)48,      (unsigned char)51,      (unsigned char)32,      (unsigned char)115, 
        (unsigned char)82,      (unsigned char)71,      (unsigned char)66,      (unsigned char)45, 
        (unsigned char)103,      (unsigned char)114,      (unsigned char)101,      (unsigned char)121, 
        (unsigned char)32,      (unsigned char)82,      (unsigned char)101,      (unsigned char)102, 
        (unsigned char)101,      (unsigned char)114,      (unsigned char)101,      (unsigned char)110, 
        (unsigned char)99,      (unsigned char)101,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)88,      (unsigned char)89,      (unsigned char)90,      (unsigned char)32, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)243,      (unsigned char)84, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)22,      (unsigned char)207, 
        (unsigned char)99,      (unsigned char)117,      (unsigned char)114,      (unsigned char)118, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)205};
#line 517 "/root/patchweave/5/src/libjasper/base/jas_iccdata.c"
int jas_iccprofdata_sgraylen  =    (int )sizeof(jas_iccprofdata_sgray);
#line 83 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static jas_iccattrval_t *jas_iccattrval_create0(void) ;
#line 85
static int jas_iccgetuint(jas_stream_t *in , int n , unsigned long long *val ) ;
#line 86
static int jas_iccgetuint8(jas_stream_t *in , jas_iccuint8_t *val ) ;
#line 87
static int jas_iccgetuint16(jas_stream_t *in , jas_iccuint16_t *val ) ;
#line 88
static int jas_iccgetsint32(jas_stream_t *in , jas_iccsint32_t *val ) ;
#line 89
static int jas_iccgetuint32(jas_stream_t *in , jas_iccuint32_t *val ) ;
#line 90
static int jas_iccgetuint64(jas_stream_t *in , jas_iccuint64_t *val ) ;
#line 91
static int jas_iccputuint(jas_stream_t *out , int n , unsigned long long val ) ;
#line 92
static int jas_iccputsint(jas_stream_t *out , int n , long long val ) ;
#line 93
static jas_iccprof_t *jas_iccprof_create(void) ;
#line 94
static int jas_iccprof_readhdr(jas_stream_t *in , jas_icchdr_t *hdr ) ;
#line 95
static int jas_iccprof_writehdr(jas_stream_t *out , jas_icchdr_t *hdr ) ;
#line 96
static int jas_iccprof_gettagtab(jas_stream_t *in , jas_icctagtab_t *tagtab ) ;
#line 97
static void jas_iccprof_sorttagtab(jas_icctagtab_t *tagtab ) ;
#line 98
static int jas_iccattrtab_lookup(jas_iccattrtab_t *attrtab , jas_iccuint32_t name ) ;
#line 99
static jas_iccattrtab_t *jas_iccattrtab_copy(jas_iccattrtab_t *attrtab ) ;
#line 100
static jas_iccattrvalinfo_t *jas_iccattrvalinfo_lookup(jas_iccsig_t type ) ;
#line 101
static int jas_iccgettime(jas_stream_t *in , jas_icctime_t *time___0 ) ;
#line 102
static int jas_iccgetxyz(jas_stream_t *in , jas_iccxyz_t *xyz ) ;
#line 103
static int jas_icctagtabent_cmp(void const   *src , void const   *dst ) ;
#line 105
static void jas_icccurv_destroy(jas_iccattrval_t *attrval ) ;
#line 106
static int jas_icccurv_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 108
static int jas_icccurv_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 110
static int jas_icccurv_getsize(jas_iccattrval_t *attrval ) ;
#line 111
static int jas_icccurv_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 112
static void jas_icccurv_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 114
static void jas_icctxtdesc_destroy(jas_iccattrval_t *attrval ) ;
#line 115
static int jas_icctxtdesc_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 117
static int jas_icctxtdesc_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 119
static int jas_icctxtdesc_getsize(jas_iccattrval_t *attrval ) ;
#line 120
static int jas_icctxtdesc_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 121
static void jas_icctxtdesc_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 123
static void jas_icctxt_destroy(jas_iccattrval_t *attrval ) ;
#line 124
static int jas_icctxt_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 126
static int jas_icctxt_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 128
static int jas_icctxt_getsize(jas_iccattrval_t *attrval ) ;
#line 129
static int jas_icctxt_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 130
static void jas_icctxt_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 132
static int jas_iccxyz_input(jas_iccattrval_t *attrval , jas_stream_t *in , int len ) ;
#line 134
static int jas_iccxyz_getsize(jas_iccattrval_t *attrval ) ;
#line 135
static int jas_iccxyz_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 136
static void jas_iccxyz_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 138
static jas_iccattrtab_t *jas_iccattrtab_create(void) ;
#line 139
static void jas_iccattrtab_destroy(jas_iccattrtab_t *tab ) ;
#line 140
static int jas_iccattrtab_resize(jas_iccattrtab_t *tab , int maxents ) ;
#line 141
static int jas_iccattrtab_add(jas_iccattrtab_t *attrtab , int i , jas_iccuint32_t name ,
                              jas_iccattrval_t *val ) ;
#line 143
static int jas_iccattrtab_replace(jas_iccattrtab_t *attrtab , int i , jas_iccuint32_t name ,
                                  jas_iccattrval_t *val ) ;
#line 145
static void jas_iccattrtab_delete(jas_iccattrtab_t *attrtab , int i ) ;
#line 146
static long jas_iccpadtomult(long x , long y ) ;
#line 147
static int jas_iccattrtab_get(jas_iccattrtab_t *attrtab , int i , jas_iccattrname_t *name ,
                              jas_iccattrval_t **val ) ;
#line 149
static int jas_iccprof_puttagtab(jas_stream_t *out , jas_icctagtab_t *tagtab ) ;
#line 151
static void jas_icclut16_destroy(jas_iccattrval_t *attrval ) ;
#line 152
static int jas_icclut16_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 154
static int jas_icclut16_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 156
static int jas_icclut16_getsize(jas_iccattrval_t *attrval ) ;
#line 157
static int jas_icclut16_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 158
static void jas_icclut16_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 160
static void jas_icclut8_destroy(jas_iccattrval_t *attrval ) ;
#line 161
static int jas_icclut8_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) ;
#line 163
static int jas_icclut8_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) ;
#line 165
static int jas_icclut8_getsize(jas_iccattrval_t *attrval ) ;
#line 166
static int jas_icclut8_output(jas_iccattrval_t *attrval , jas_stream_t *out ) ;
#line 167
static void jas_icclut8_dump(jas_iccattrval_t *attrval , FILE *out ) ;
#line 169
static int jas_iccputtime(jas_stream_t *out , jas_icctime_t *time___0 ) ;
#line 170
static int jas_iccputxyz(jas_stream_t *out , jas_iccxyz_t *xyz ) ;
#line 172
static long jas_iccpowi(int x , int n ) ;
#line 174
static char *jas_iccsigtostr(int sig , char *buf ) ;
#line 177 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
jas_iccattrvalinfo_t jas_iccattrvalinfos[7]  = {      {(jas_iccuint32_t )1668641398, {& jas_icccurv_destroy, & jas_icccurv_copy, & jas_icccurv_input,
                                     & jas_icccurv_output, & jas_icccurv_getsize,
                                     & jas_icccurv_dump}}, 
        {(jas_iccuint32_t )1482250784, {(void (*)(struct jas_iccattrval_s * ))0, (int (*)(struct jas_iccattrval_s * ,
                                                                                       struct jas_iccattrval_s * ))0,
                                     & jas_iccxyz_input, & jas_iccxyz_output, & jas_iccxyz_getsize,
                                     & jas_iccxyz_dump}}, 
        {(jas_iccuint32_t )1684370275, {& jas_icctxtdesc_destroy, & jas_icctxtdesc_copy,
                                     & jas_icctxtdesc_input, & jas_icctxtdesc_output,
                                     & jas_icctxtdesc_getsize, & jas_icctxtdesc_dump}}, 
        {(jas_iccuint32_t )1952807028,
      {& jas_icctxt_destroy, & jas_icctxt_copy, & jas_icctxt_input, & jas_icctxt_output,
       & jas_icctxt_getsize, & jas_icctxt_dump}}, 
        {(jas_iccuint32_t )1835430961, {& jas_icclut8_destroy, & jas_icclut8_copy, & jas_icclut8_input,
                                     & jas_icclut8_output, & jas_icclut8_getsize,
                                     & jas_icclut8_dump}}, 
        {(jas_iccuint32_t )1835430962, {& jas_icclut16_destroy, & jas_icclut16_copy,
                                     & jas_icclut16_input, & jas_icclut16_output,
                                     & jas_icclut16_getsize, & jas_icclut16_dump}}, 
        {(jas_iccuint32_t )0,
      {(void (*)(struct jas_iccattrval_s * ))0, (int (*)(struct jas_iccattrval_s * ,
                                                         struct jas_iccattrval_s * ))0,
       (int (*)(struct jas_iccattrval_s * , jas_stream_t * , int  ))0, (int (*)(struct jas_iccattrval_s * ,
                                                                                jas_stream_t * ))0,
       (int (*)(struct jas_iccattrval_s * ))0, (void (*)(struct jas_iccattrval_s * ,
                                                         FILE * ))0}}};
#line 207 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static jas_iccprof_t *jas_iccprof_create(void) 
{ 
  jas_iccprof_t *prof ;
  void *tmp ;

  {
  {
#line 210
  prof = (jas_iccprof_t *)0;
#line 211
  tmp = jas_malloc(sizeof(jas_iccprof_t ));
#line 211
  prof = (jas_iccprof_t *)tmp;
  }
#line 211
  if (! prof) {
#line 212
    goto error;
  }
  {
#line 214
  prof->attrtab = jas_iccattrtab_create();
  }
#line 214
  if (! prof->attrtab) {
#line 215
    goto error;
  }
  {
#line 216
  memset((void *)(& prof->hdr), 0, sizeof(jas_icchdr_t ));
#line 217
  prof->tagtab.numents = (jas_iccuint32_t )0;
#line 218
  prof->tagtab.ents = (jas_icctagtabent_t *)0;
  }
#line 219
  return (prof);
  error: 
#line 221
  if (prof) {
    {
#line 222
    jas_iccprof_destroy(prof);
    }
  }
#line 223
  return ((jas_iccprof_t *)0);
}
}
#line 226 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
jas_iccprof_t *jas_iccprof_copy(jas_iccprof_t *prof ) 
{ 
  jas_iccprof_t *newprof ;

  {
  {
#line 229
  newprof = (jas_iccprof_t *)0;
#line 230
  newprof = jas_iccprof_create();
  }
#line 230
  if (! newprof) {
#line 231
    goto error;
  }
  {
#line 232
  newprof->hdr = prof->hdr;
#line 233
  newprof->tagtab.numents = (jas_iccuint32_t )0;
#line 234
  newprof->tagtab.ents = (jas_icctagtabent_t *)0;
#line 236
  jas_iccattrtab_destroy(newprof->attrtab);
#line 237
  newprof->attrtab = jas_iccattrtab_copy(prof->attrtab);
  }
#line 237
  if (! newprof->attrtab) {
#line 238
    goto error;
  }
#line 239
  return (newprof);
  error: 
#line 241
  if (newprof) {
    {
#line 242
    jas_iccprof_destroy(newprof);
    }
  }
#line 243
  return ((jas_iccprof_t *)0);
}
}
#line 246 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
void jas_iccprof_destroy(jas_iccprof_t *prof ) 
{ 


  {
#line 248
  if (prof->attrtab) {
    {
#line 249
    jas_iccattrtab_destroy(prof->attrtab);
    }
  }
#line 250
  if (prof->tagtab.ents) {
    {
#line 251
    jas_free((void *)prof->tagtab.ents);
    }
  }
  {
#line 252
  jas_free((void *)prof);
  }
#line 254
  return;
}
}
#line 255 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
void jas_iccprof_dump(jas_iccprof_t *prof , FILE *out ) 
{ 


  {
  {
#line 257
  jas_iccattrtab_dump(prof->attrtab, out);
  }
#line 259
  return;
}
}
#line 260 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
jas_iccprof_t *jas_iccprof_load(jas_stream_t *in ) 
{ 
  jas_iccprof_t *prof ;
  int numtags ;
  long curoff ;
  long reloff ;
  long prevoff ;
  jas_iccsig_t type ;
  jas_iccattrval_t *attrval ;
  jas_iccattrval_t *prevattrval ;
  jas_icctagtabent_t *tagtabent ;
  int i ;
  int len ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  jas_iccattrvalinfo_t *__cil_tmp21 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;

  {
  {
#line 274
  prof = (jas_iccprof_t *)0;
#line 275
  attrval = (jas_iccattrval_t *)0;
#line 277
  prof = jas_iccprof_create();
  }
#line 277
  if (! prof) {
#line 278
    goto error;
  }
  {
#line 281
  __cil_tmp14 = jas_iccprof_readhdr(in, & prof->hdr);
  }
#line 281
  if (__cil_tmp14) {
    {
#line 282
    jas_eprintf("cannot get header\n");
    }
#line 283
    goto error;
  }
  {
#line 285
  __cil_tmp15 = jas_iccprof_gettagtab(in, & prof->tagtab);
  }
#line 285
  if (__cil_tmp15) {
    {
#line 286
    jas_eprintf("cannot get tab table\n");
    }
#line 287
    goto error;
  }
  {
#line 289
  jas_iccprof_sorttagtab(& prof->tagtab);
#line 291
  numtags = (int )prof->tagtab.numents;
#line 292
  curoff = (long )(132 + 12 * numtags);
#line 293
  prevoff = 0L;
#line 294
  prevattrval = (jas_iccattrval_t *)0;
#line 295
  i = 0;
  }
  {
#line 295
  while (1) {
    while_continue___0: /* CIL Label */ ;
    while_continue: ;
#line 295
    if (! (i < numtags)) {
#line 295
      goto while_break;
    }
#line 296
    tagtabent = prof->tagtab.ents + i;
#line 297
    if (tagtabent->off == (jas_iccuint32_t )prevoff) {
#line 298
      if (prevattrval) {
        {
#line 299
        attrval = jas_iccattrval_clone(prevattrval);
        }
#line 299
        if (! attrval) {
#line 300
          goto error;
        }
        {
#line 301
        __cil_tmp17 = jas_iccprof_setattr(prof, tagtabent->tag, attrval);
        }
#line 301
        if (__cil_tmp17) {
#line 302
          goto error;
        }
        {
#line 303
        jas_iccattrval_destroy(attrval);
#line 304
        attrval = (jas_iccattrval_t *)0;
        }
      }
#line 310
      goto while_continue;
    }
#line 312
    reloff = (long )(tagtabent->off - (unsigned long )curoff);
#line 313
    if (reloff > 0L) {
      {
#line 314
      __cil_tmp18 = jas_stream_gobble(in, (int )reloff);
      }
#line 314
      if ((long )__cil_tmp18 != reloff) {
#line 315
        goto error;
      }
#line 316
      curoff += reloff;
    } else
#line 317
    if (reloff < 0L) {
      {
#line 320
      abort();
      }
    }
    {
#line 322
    prevoff = curoff;
#line 323
    __cil_tmp19 = jas_iccgetuint32(in, & type);
    }
#line 323
    if (__cil_tmp19) {
#line 324
      goto error;
    }
    {
#line 326
    __cil_tmp20 = jas_stream_gobble(in, 4);
    }
#line 326
    if (__cil_tmp20 != 4) {
#line 327
      goto error;
    }
    {
#line 329
    curoff += 8L;
#line 330
    __cil_tmp21 = jas_iccattrvalinfo_lookup(type);
    }
#line 330
    if (! __cil_tmp21) {
#line 334
      prevattrval = (jas_iccattrval_t *)0;
#line 335
      goto while_continue;
    }
    {
#line 337
    attrval = jas_iccattrval_create(type);
    }
#line 337
    if (! attrval) {
#line 338
      goto error;
    }
    {
#line 340
    len = (int )(tagtabent->len - 8UL);
#line 341
    __cil_tmp23 = (*((attrval->ops)->input))(attrval, in, len);
    }
#line 341
    if (__cil_tmp23) {
#line 342
      goto error;
    }
    {
#line 344
    curoff += (long )len;
#line 345
    __cil_tmp24 = jas_iccprof_setattr(prof, tagtabent->tag, attrval);
    }
#line 345
    if (__cil_tmp24) {
#line 346
      goto error;
    }
    {
#line 348
    prevattrval = attrval;
#line 349
    jas_iccattrval_destroy(attrval);
#line 350
    attrval = (jas_iccattrval_t *)0;
#line 295
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 353
  return (prof);
  error: 
#line 356
  if (prof) {
    {
#line 357
    jas_iccprof_destroy(prof);
    }
  }
#line 358
  if (attrval) {
    {
#line 359
    jas_iccattrval_destroy(attrval);
    }
  }
#line 360
  return ((jas_iccprof_t *)0);
}
}
#line 363 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
int jas_iccprof_save(jas_iccprof_t *prof , jas_stream_t *out ) 
{ 
  long curoff ;
  long reloff ;
  long newoff ;
  int i ;
  int j ;
  jas_icctagtabent_t *tagtabent ;
  jas_icctagtabent_t *sharedtagtabent ;
  jas_icctagtabent_t *tmptagtabent ;
  jas_iccuint32_t attrname ;
  jas_iccattrval_t *attrval ;
  jas_icctagtab_t *tagtab ;
  int __cil_tmp15 ;
  int __cil_tmp17 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  jas_iccuint32_t tmp___1 ;
  int __cil_tmp28 ;
  void *tmp___3 ;

  {
  {
#line 377
  tagtab = & prof->tagtab;
#line 378
  tmp___3 = jas_alloc2((size_t )(prof->attrtab)->numattrs, sizeof(jas_icctagtabent_t ));
#line 378
  tagtab->ents = (jas_icctagtabent_t *)tmp___3;
  }
#line 378
  if (! tagtab->ents) {
#line 380
    goto error;
  }
#line 381
  tagtab->numents = (jas_iccuint32_t )(prof->attrtab)->numattrs;
#line 382
  curoff = (long )(132UL + 12UL * tagtab->numents);
#line 383
  i = 0;
  {
#line 383
  while (1) {
    while_continue: /* CIL Label */ ;

#line 383
    if (! (i < (int )tagtab->numents)) {
#line 383
      goto while_break;
    }
    {
#line 384
    tagtabent = tagtab->ents + i;
#line 385
    __cil_tmp15 = jas_iccattrtab_get(prof->attrtab, i, & attrname, & attrval);
    }
#line 385
    if (__cil_tmp15) {
#line 386
      goto error;
    }
#line 388
    tagtabent->tag = attrname;
#line 389
    tagtabent->data = (void *)(& attrval->data);
#line 390
    sharedtagtabent = (jas_icctagtabent_t *)0;
#line 391
    j = 0;
    {
#line 391
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 391
      if (! (j < i)) {
#line 391
        goto while_break___0;
      }
#line 392
      tmptagtabent = tagtab->ents + j;
#line 393
      if ((unsigned long )tagtabent->data == (unsigned long )tmptagtabent->data) {
#line 394
        sharedtagtabent = tmptagtabent;
#line 395
        goto while_break___0;
      }
#line 391
      j ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___0: ;
#line 398
    if (sharedtagtabent) {
#line 399
      tagtabent->off = sharedtagtabent->off;
#line 400
      tagtabent->len = sharedtagtabent->len;
#line 401
      tagtabent->first = sharedtagtabent;
    } else {
      {
#line 403
      tagtabent->off = (jas_iccuint32_t )curoff;
#line 404
      __cil_tmp17 = (*((attrval->ops)->getsize))(attrval);
#line 404
      tagtabent->len = (jas_iccuint32_t )(__cil_tmp17 + 8);
#line 405
      tagtabent->first = (struct jas_icctagtabent_s *)0;
      }
#line 406
      if (i < (int )(tagtab->numents - 1UL)) {
        {
#line 407
        curoff = jas_iccpadtomult((long )((unsigned long )curoff + tagtabent->len),
                                  4L);
        }
      } else {
#line 409
        curoff = (long )((jas_iccuint32_t )curoff + tagtabent->len);
      }
    }
    {
#line 412
    jas_iccattrval_destroy(attrval);
#line 383
    i ++;
    }
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: 
  {
#line 414
  prof->hdr.size = (jas_iccuint32_t )curoff;
#line 415
  __cil_tmp19 = jas_iccprof_writehdr(out, & prof->hdr);
  }
#line 415
  if (__cil_tmp19) {
#line 416
    goto error;
  }
  {
#line 417
  __cil_tmp20 = jas_iccprof_puttagtab(out, & prof->tagtab);
  }
#line 417
  if (__cil_tmp20) {
#line 418
    goto error;
  }
#line 419
  curoff = (long )(132UL + 12UL * tagtab->numents);
#line 420
  i = 0;
  {
#line 420
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 420
    if (! (i < (int )tagtab->numents)) {
#line 420
      goto while_break___1;
    }
    {
#line 421
    tagtabent = tagtab->ents + i;
#line 423
    __cil_tmp22 = jas_iccattrtab_get(prof->attrtab, i, & attrname, & attrval);
    }
#line 423
    if (__cil_tmp22) {
#line 424
      goto error;
    }
    {
#line 425
    __cil_tmp24 = jas_stream_pad(out, 4, 0);
#line 425
    __cil_tmp23 = jas_iccputuint(out, 4, (unsigned long long )attrval->type);
    }
#line 425
    if (__cil_tmp23) {
#line 427
      goto error;
    } else
#line 425
    if (__cil_tmp24 != 4) {
#line 427
      goto error;
    }
    {
#line 428
    __cil_tmp25 = (*((attrval->ops)->output))(attrval, out);
    }
#line 428
    if (__cil_tmp25) {
#line 429
      goto error;
    }
    {
#line 430
    jas_iccattrval_destroy(attrval);
#line 431
    curoff = (long )((jas_iccuint32_t )curoff + tagtabent->len);
#line 432
    i ++;
    }
    {
#line 433
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 433
      if ((tagtab->ents + i)->first) {
#line 433
        if (! (i < (int )tagtab->numents)) {
#line 433
          goto while_break___2;
        }
      } else {
#line 433
        goto while_break___2;
      }
#line 435
      i ++;
    }
    while_break___6: /* CIL Label */ ;
    }
    while_break___2: ;
#line 436
    if (i < (int )tagtab->numents) {
#line 436
      tmp___1 = (tagtab->ents + i)->off;
    } else {
#line 436
      tmp___1 = prof->hdr.size;
    }
#line 436
    newoff = (long )tmp___1;
#line 438
    reloff = newoff - curoff;
#line 440
    if (reloff > 0L) {
      {
#line 441
      __cil_tmp28 = jas_stream_pad(out, (int )reloff, 0);
      }
#line 441
      if ((long )__cil_tmp28 != reloff) {
#line 442
        goto error;
      }
#line 443
      curoff += reloff;
    }
  }
  while_break___5: /* CIL Label */ ;
  }
  while_break___1: ;
#line 446
  return (0);
  error: 
#line 449
  return (-1);
}
}
#line 452 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccprof_writehdr(jas_stream_t *out , jas_icchdr_t *hdr ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;

  {
  {
#line 454
  __cil_tmp19 = jas_stream_pad(out, 44, 0);
#line 454
  __cil_tmp18 = jas_iccputuint(out, 4, (unsigned long long )hdr->creator);
#line 454
  __cil_tmp17 = jas_iccputxyz(out, & hdr->illum);
#line 454
  __cil_tmp16 = jas_iccputuint(out, 4, (unsigned long long )hdr->intent);
#line 454
  __cil_tmp15 = jas_iccputuint(out, 8, (unsigned long long )hdr->attr);
#line 454
  __cil_tmp14 = jas_iccputuint(out, 4, (unsigned long long )hdr->model);
#line 454
  __cil_tmp13 = jas_iccputuint(out, 4, (unsigned long long )hdr->maker);
#line 454
  __cil_tmp12 = jas_iccputuint(out, 4, (unsigned long long )hdr->flags);
#line 454
  __cil_tmp11 = jas_iccputuint(out, 4, (unsigned long long )hdr->platform);
#line 454
  __cil_tmp10 = jas_iccputuint(out, 4, (unsigned long long )hdr->magic);
#line 454
  __cil_tmp9 = jas_iccputtime(out, & hdr->ctime);
#line 454
  __cil_tmp8 = jas_iccputuint(out, 4, (unsigned long long )hdr->refcolorspc);
#line 454
  __cil_tmp7 = jas_iccputuint(out, 4, (unsigned long long )hdr->colorspc);
#line 454
  __cil_tmp6 = jas_iccputuint(out, 4, (unsigned long long )hdr->clas);
#line 454
  __cil_tmp5 = jas_iccputuint(out, 4, (unsigned long long )hdr->version);
#line 454
  __cil_tmp4 = jas_iccputuint(out, 4, (unsigned long long )hdr->cmmtype);
#line 454
  __cil_tmp3 = jas_iccputuint(out, 4, (unsigned long long )hdr->size);
  }
#line 454
  if (__cil_tmp3) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp4) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp5) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp6) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp7) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp8) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp9) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp10) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp11) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp12) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp13) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp14) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp15) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp16) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp17) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp18) {
#line 471
    return (-1);
  } else
#line 454
  if (__cil_tmp19 != 44) {
#line 471
    return (-1);
  }
#line 472
  return (0);
}
}
#line 475 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccprof_puttagtab(jas_stream_t *out , jas_icctagtab_t *tagtab ) 
{ 
  int i ;
  jas_icctagtabent_t *tagtabent ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
  {
#line 479
  __cil_tmp5 = jas_iccputuint(out, 4, (unsigned long long )tagtab->numents);
  }
#line 479
  if (__cil_tmp5) {
#line 480
    goto error;
  }
#line 481
  i = 0;
  {
#line 481
  while (1) {
    while_continue: /* CIL Label */ ;

#line 481
    if (! (i < (int )tagtab->numents)) {
#line 481
      goto while_break;
    }
    {
#line 482
    tagtabent = tagtab->ents + i;
#line 483
    __cil_tmp8 = jas_iccputuint(out, 4, (unsigned long long )tagtabent->len);
#line 483
    __cil_tmp7 = jas_iccputuint(out, 4, (unsigned long long )tagtabent->off);
#line 483
    __cil_tmp6 = jas_iccputuint(out, 4, (unsigned long long )tagtabent->tag);
    }
#line 483
    if (__cil_tmp6) {
#line 486
      goto error;
    } else
#line 483
    if (__cil_tmp7) {
#line 486
      goto error;
    } else
#line 483
    if (__cil_tmp8) {
#line 486
      goto error;
    }
#line 481
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 488
  return (0);
  error: 
#line 490
  return (-1);
}
}
#line 493 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccprof_readhdr(jas_stream_t *in , jas_icchdr_t *hdr ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;

  {
  {
#line 495
  __cil_tmp19 = jas_stream_gobble(in, 44);
#line 495
  __cil_tmp18 = jas_iccgetuint32(in, & hdr->creator);
#line 495
  __cil_tmp17 = jas_iccgetxyz(in, & hdr->illum);
#line 495
  __cil_tmp16 = jas_iccgetuint32(in, & hdr->intent);
#line 495
  __cil_tmp15 = jas_iccgetuint64(in, & hdr->attr);
#line 495
  __cil_tmp14 = jas_iccgetuint32(in, & hdr->model);
#line 495
  __cil_tmp13 = jas_iccgetuint32(in, & hdr->maker);
#line 495
  __cil_tmp12 = jas_iccgetuint32(in, & hdr->flags);
#line 495
  __cil_tmp11 = jas_iccgetuint32(in, & hdr->platform);
#line 495
  __cil_tmp10 = jas_iccgetuint32(in, & hdr->magic);
#line 495
  __cil_tmp9 = jas_iccgettime(in, & hdr->ctime);
#line 495
  __cil_tmp8 = jas_iccgetuint32(in, & hdr->refcolorspc);
#line 495
  __cil_tmp7 = jas_iccgetuint32(in, & hdr->colorspc);
#line 495
  __cil_tmp6 = jas_iccgetuint32(in, & hdr->clas);
#line 495
  __cil_tmp5 = jas_iccgetuint32(in, & hdr->version);
#line 495
  __cil_tmp4 = jas_iccgetuint32(in, & hdr->cmmtype);
#line 495
  __cil_tmp3 = jas_iccgetuint32(in, & hdr->size);
  }
#line 495
  if (__cil_tmp3) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp4) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp5) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp6) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp7) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp8) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp9) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp10) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp11) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp12) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp13) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp14) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp15) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp16) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp17) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp18) {
#line 512
    return (-1);
  } else
#line 495
  if (__cil_tmp19 != 44) {
#line 512
    return (-1);
  }
#line 513
  return (0);
}
}
#line 516 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccprof_gettagtab(jas_stream_t *in , jas_icctagtab_t *tagtab ) 
{ 
  int i ;
  jas_icctagtabent_t *tagtabent ;
  int __cil_tmp5 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  void *tmp ;

  {
#line 521
  if (tagtab->ents) {
    {
#line 522
    jas_free((void *)tagtab->ents);
#line 523
    tagtab->ents = (jas_icctagtabent_t *)0;
    }
  }
  {
#line 525
  __cil_tmp5 = jas_iccgetuint32(in, & tagtab->numents);
  }
#line 525
  if (__cil_tmp5) {
#line 526
    goto error;
  }
  {
#line 527
  tmp = jas_alloc2(tagtab->numents, sizeof(jas_icctagtabent_t ));
#line 527
  tagtab->ents = (jas_icctagtabent_t *)tmp;
  }
#line 527
  if (! tagtab->ents) {
#line 529
    goto error;
  }
#line 530
  tagtabent = tagtab->ents;
#line 531
  i = 0;
  {
#line 531
  while (1) {
    while_continue: /* CIL Label */ ;

#line 531
    if (! ((long )i < (long )tagtab->numents)) {
#line 531
      goto while_break;
    }
    {
#line 532
    __cil_tmp9 = jas_iccgetuint32(in, & tagtabent->len);
#line 532
    __cil_tmp8 = jas_iccgetuint32(in, & tagtabent->off);
#line 532
    __cil_tmp7 = jas_iccgetuint32(in, & tagtabent->tag);
    }
#line 532
    if (__cil_tmp7) {
#line 535
      goto error;
    } else
#line 532
    if (__cil_tmp8) {
#line 535
      goto error;
    } else
#line 532
    if (__cil_tmp9) {
#line 535
      goto error;
    }
#line 536
    tagtabent ++;
#line 531
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 538
  return (0);
  error: 
#line 540
  if (tagtab->ents) {
    {
#line 541
    jas_free((void *)tagtab->ents);
#line 542
    tagtab->ents = (jas_icctagtabent_t *)0;
    }
  }
#line 544
  return (-1);
}
}
#line 547 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
jas_iccattrval_t *jas_iccprof_getattr(jas_iccprof_t *prof , jas_iccattrname_t name ) 
{ 
  int i ;
  jas_iccattrval_t *attrval ;

  {
  {
#line 552
  i = jas_iccattrtab_lookup(prof->attrtab, name);
  }
#line 552
  if (i < 0) {
#line 553
    goto error;
  }
  {
#line 554
  attrval = jas_iccattrval_clone(((prof->attrtab)->attrs + i)->val);
  }
#line 554
  if (! attrval) {
#line 555
    goto error;
  }
#line 556
  return (attrval);
  error: 
#line 558
  return ((jas_iccattrval_t *)0);
}
}
#line 561 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
int jas_iccprof_setattr(jas_iccprof_t *prof , jas_iccattrname_t name , jas_iccattrval_t *val ) 
{ 
  int i ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 565
  i = jas_iccattrtab_lookup(prof->attrtab, name);
  }
#line 565
  if (i >= 0) {
#line 566
    if (val) {
      {
#line 567
      __cil_tmp6 = jas_iccattrtab_replace(prof->attrtab, i, name, val);
      }
#line 567
      if (__cil_tmp6) {
#line 568
        goto error;
      }
    } else {
      {
#line 570
      jas_iccattrtab_delete(prof->attrtab, i);
      }
    }
  } else
#line 573
  if (val) {
    {
#line 574
    __cil_tmp7 = jas_iccattrtab_add(prof->attrtab, -1, name, val);
    }
#line 574
    if (__cil_tmp7) {
#line 575
      goto error;
    }
  }
#line 580
  return (0);
  error: 
#line 582
  return (-1);
}
}
#line 585 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
int jas_iccprof_gethdr(jas_iccprof_t *prof , jas_icchdr_t *hdr ) 
{ 


  {
#line 587
  *hdr = prof->hdr;
#line 588
  return (0);
}
}
#line 591 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
int jas_iccprof_sethdr(jas_iccprof_t *prof , jas_icchdr_t *hdr ) 
{ 


  {
#line 593
  prof->hdr = *hdr;
#line 594
  return (0);
}
}
#line 597 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_iccprof_sorttagtab(jas_icctagtab_t *tagtab ) 
{ 


  {
  {
#line 599
  qsort((void *)tagtab->ents, tagtab->numents, sizeof(jas_icctagtabent_t ), & jas_icctagtabent_cmp);
  }
#line 601
  return;
}
}
#line 603 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icctagtabent_cmp(void const   *src , void const   *dst ) 
{ 
  jas_icctagtabent_t *srctagtabent ;
  jas_icctagtabent_t *dsttagtabent ;

  {
#line 605
  srctagtabent = (jas_icctagtabent_t *)src;
#line 606
  dsttagtabent = (jas_icctagtabent_t *)dst;
#line 607
  if (srctagtabent->off > dsttagtabent->off) {
#line 608
    return (1);
  } else
#line 609
  if (srctagtabent->off < dsttagtabent->off) {
#line 610
    return (-1);
  }
#line 612
  return (0);
}
}
#line 615 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static jas_iccattrvalinfo_t *jas_iccattrvalinfo_lookup(jas_iccsig_t type ) 
{ 
  jas_iccattrvalinfo_t *info ;

  {
#line 618
  info = jas_iccattrvalinfos;
#line 619
  info = jas_iccattrvalinfos;
  {
#line 619
  while (1) {
    while_continue: /* CIL Label */ ;

#line 619
    if (! info->type) {
#line 619
      goto while_break;
    }
#line 620
    if (info->type == type) {
#line 621
      return (info);
    }
#line 619
    info ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 624
  return ((jas_iccattrvalinfo_t *)0);
}
}
#line 627 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccgettime(jas_stream_t *in , jas_icctime_t *time___0 ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;

  {
  {
#line 629
  __cil_tmp8 = jas_iccgetuint16(in, & time___0->sec);
#line 629
  __cil_tmp7 = jas_iccgetuint16(in, & time___0->min);
#line 629
  __cil_tmp6 = jas_iccgetuint16(in, & time___0->hour);
#line 629
  __cil_tmp5 = jas_iccgetuint16(in, & time___0->day);
#line 629
  __cil_tmp4 = jas_iccgetuint16(in, & time___0->month);
#line 629
  __cil_tmp3 = jas_iccgetuint16(in, & time___0->year);
  }
#line 629
  if (__cil_tmp3) {
#line 635
    return (-1);
  } else
#line 629
  if (__cil_tmp4) {
#line 635
    return (-1);
  } else
#line 629
  if (__cil_tmp5) {
#line 635
    return (-1);
  } else
#line 629
  if (__cil_tmp6) {
#line 635
    return (-1);
  } else
#line 629
  if (__cil_tmp7) {
#line 635
    return (-1);
  } else
#line 629
  if (__cil_tmp8) {
#line 635
    return (-1);
  }
#line 637
  return (0);
}
}
#line 640 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccgetxyz(jas_stream_t *in , jas_iccxyz_t *xyz ) 
{ 
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;

  {
  {
#line 642
  __cil_tmp5 = jas_iccgetsint32(in, & xyz->z);
#line 642
  __cil_tmp4 = jas_iccgetsint32(in, & xyz->y);
#line 642
  __cil_tmp3 = jas_iccgetsint32(in, & xyz->x);
  }
#line 642
  if (__cil_tmp3) {
#line 645
    return (-1);
  } else
#line 642
  if (__cil_tmp4) {
#line 645
    return (-1);
  } else
#line 642
  if (__cil_tmp5) {
#line 645
    return (-1);
  }
#line 647
  return (0);
}
}
#line 650 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccputtime(jas_stream_t *out , jas_icctime_t *time___0 ) 
{ 


  {
  {
#line 652
  jas_iccputuint(out, 2, (unsigned long long )time___0->year);
#line 653
  jas_iccputuint(out, 2, (unsigned long long )time___0->month);
#line 654
  jas_iccputuint(out, 2, (unsigned long long )time___0->day);
#line 655
  jas_iccputuint(out, 2, (unsigned long long )time___0->hour);
#line 656
  jas_iccputuint(out, 2, (unsigned long long )time___0->min);
#line 657
  jas_iccputuint(out, 2, (unsigned long long )time___0->sec);
  }
#line 658
  return (0);
}
}
#line 661 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccputxyz(jas_stream_t *out , jas_iccxyz_t *xyz ) 
{ 


  {
  {
#line 663
  jas_iccputuint(out, 4, (unsigned long long )xyz->x);
#line 664
  jas_iccputuint(out, 4, (unsigned long long )xyz->y);
#line 665
  jas_iccputuint(out, 4, (unsigned long long )xyz->z);
  }
#line 666
  return (0);
}
}
#line 673 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static jas_iccattrtab_t *jas_iccattrtab_create(void) 
{ 
  jas_iccattrtab_t *tab ;
  int __cil_tmp3 ;
  void *tmp ;

  {
  {
#line 676
  tab = (jas_iccattrtab_t *)0;
#line 677
  tmp = jas_malloc(sizeof(jas_iccattrtab_t ));
#line 677
  tab = (jas_iccattrtab_t *)tmp;
  }
#line 677
  if (! tab) {
#line 678
    goto error;
  }
  {
#line 679
  tab->maxattrs = 0;
#line 680
  tab->numattrs = 0;
#line 681
  tab->attrs = (jas_iccattr_t *)0;
#line 682
  __cil_tmp3 = jas_iccattrtab_resize(tab, 32);
  }
#line 682
  if (__cil_tmp3) {
#line 683
    goto error;
  }
#line 684
  return (tab);
  error: 
#line 686
  if (tab) {
    {
#line 687
    jas_iccattrtab_destroy(tab);
    }
  }
#line 688
  return ((jas_iccattrtab_t *)0);
}
}
#line 691 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static jas_iccattrtab_t *jas_iccattrtab_copy(jas_iccattrtab_t *attrtab ) 
{ 
  jas_iccattrtab_t *newattrtab ;
  int i ;
  int __cil_tmp5 ;

  {
  {
#line 695
  newattrtab = jas_iccattrtab_create();
  }
#line 695
  if (! newattrtab) {
#line 696
    goto error;
  }
#line 697
  i = 0;
  {
#line 697
  while (1) {
    while_continue: /* CIL Label */ ;

#line 697
    if (! (i < attrtab->numattrs)) {
#line 697
      goto while_break;
    }
    {
#line 698
    __cil_tmp5 = jas_iccattrtab_add(newattrtab, i, (attrtab->attrs + i)->name, (attrtab->attrs + i)->val);
    }
#line 698
    if (__cil_tmp5) {
#line 700
      goto error;
    }
#line 697
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 702
  return (newattrtab);
  error: 
#line 704
  return ((jas_iccattrtab_t *)0);
}
}
#line 707 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_iccattrtab_destroy(jas_iccattrtab_t *tab ) 
{ 


  {
#line 709
  if (tab->attrs) {
    {
#line 710
    while (1) {
      while_continue: /* CIL Label */ ;

#line 710
      if (! (tab->numattrs > 0)) {
#line 710
        goto while_break;
      }
      {
#line 711
      jas_iccattrtab_delete(tab, 0);
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: 
    {
#line 713
    jas_free((void *)tab->attrs);
    }
  }
  {
#line 715
  jas_free((void *)tab);
  }
#line 717
  return;
}
}
#line 718 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
void jas_iccattrtab_dump(jas_iccattrtab_t *attrtab , FILE *out ) 
{ 
  int i ;
  jas_iccattr_t *attr ;
  jas_iccattrval_t *attrval ;
  jas_iccattrvalinfo_t *info ;
  char buf[16] ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
  {
#line 725
  fprintf(out, "numattrs=%d\n", attrtab->numattrs);
#line 726
  fprintf(out, "---\n");
#line 727
  i = 0;
  }
  {
#line 727
  while (1) {
    while_continue: /* CIL Label */ ;

#line 727
    if (! (i < attrtab->numattrs)) {
#line 727
      goto while_break;
    }
    {
#line 728
    attr = attrtab->attrs + i;
#line 729
    attrval = attr->val;
#line 730
    info = jas_iccattrvalinfo_lookup(attrval->type);
    }
#line 731
    if (! info) {
      {
#line 731
      abort();
      }
    }
    {
#line 732
    __cil_tmp9 = jas_iccsigtostr((int )attr->name, & buf[0]);
#line 732
    __cil_tmp10 = jas_iccsigtostr((int )attrval->type, & buf[8]);
#line 732
    fprintf(out, "attrno=%d; attrname=\"%s\"(0x%08lx); attrtype=\"%s\"(0x%08lx)\n",
            i, __cil_tmp9, attr->name, __cil_tmp10, attrval->type);
#line 739
    jas_iccattrval_dump(attrval, out);
#line 740
    fprintf(out, "---\n");
#line 727
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 731
  return;
}
}
#line 744 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_resize(jas_iccattrtab_t *tab , int maxents ) 
{ 
  jas_iccattr_t *newattrs ;
  void *__cil_tmp5 ;
  void *__cil_tmp6 ;
  void *tmp___0 ;

  {
#line 748
  if (tab->attrs) {
    {
#line 748
    __cil_tmp5 = jas_realloc2((void *)tab->attrs, (size_t )maxents, sizeof(jas_iccattr_t ));
#line 748
    tmp___0 = __cil_tmp5;
    }
  } else {
    {
#line 748
    __cil_tmp6 = jas_alloc2((size_t )maxents, sizeof(jas_iccattr_t ));
#line 748
    tmp___0 = __cil_tmp6;
    }
  }
#line 748
  newattrs = (jas_iccattr_t *)tmp___0;
#line 750
  if (! newattrs) {
#line 751
    return (-1);
  }
#line 753
  tab->attrs = newattrs;
#line 754
  tab->maxattrs = maxents;
#line 755
  return (0);
}
}
#line 758 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_add(jas_iccattrtab_t *attrtab , int i , jas_iccuint32_t name ,
                              jas_iccattrval_t *val ) 
{ 
  int n ;
  jas_iccattr_t *attr ;
  jas_iccattrval_t *tmpattrval ;
  int __cil_tmp9 ;

  {
#line 764
  tmpattrval = (jas_iccattrval_t *)0;
#line 765
  if (i < 0) {
#line 766
    i = attrtab->numattrs;
  }
#line 769
  if (attrtab->numattrs >= attrtab->maxattrs) {
    {
#line 770
    __cil_tmp9 = jas_iccattrtab_resize(attrtab, attrtab->numattrs + 32);
    }
#line 770
    if (__cil_tmp9) {
#line 771
      goto error;
    }
  }
  {
#line 774
  tmpattrval = jas_iccattrval_clone(val);
  }
#line 774
  if (! tmpattrval) {
#line 775
    goto error;
  }
#line 776
  n = attrtab->numattrs - i;
#line 777
  if (n > 0) {
    {
#line 778
    memmove((void *)(attrtab->attrs + (i + 1)), (void const   *)(attrtab->attrs + i),
            (unsigned long )n * sizeof(jas_iccattr_t ));
    }
  }
#line 780
  attr = attrtab->attrs + i;
#line 781
  attr->name = name;
#line 782
  attr->val = tmpattrval;
#line 783
  (attrtab->numattrs) ++;
#line 784
  return (0);
  error: 
#line 786
  if (tmpattrval) {
    {
#line 787
    jas_iccattrval_destroy(tmpattrval);
    }
  }
#line 788
  return (-1);
}
}
#line 791 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_replace(jas_iccattrtab_t *attrtab , int i , jas_iccuint32_t name ,
                                  jas_iccattrval_t *val ) 
{ 
  jas_iccattrval_t *newval ;
  jas_iccattr_t *attr ;

  {
  {
#line 796
  newval = jas_iccattrval_clone(val);
  }
#line 796
  if (! newval) {
#line 797
    goto error;
  }
  {
#line 798
  attr = attrtab->attrs + i;
#line 799
  jas_iccattrval_destroy(attr->val);
#line 800
  attr->name = name;
#line 801
  attr->val = newval;
  }
#line 802
  return (0);
  error: 
#line 804
  return (-1);
}
}
#line 807 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_iccattrtab_delete(jas_iccattrtab_t *attrtab , int i ) 
{ 
  int n ;

  {
  {
#line 810
  jas_iccattrval_destroy((attrtab->attrs + i)->val);
#line 811
  n = (attrtab->numattrs - i) - 1;
  }
#line 811
  if (n > 0) {
    {
#line 812
    memmove((void *)(attrtab->attrs + i), (void const   *)(attrtab->attrs + (i + 1)),
            (unsigned long )n * sizeof(jas_iccattr_t ));
    }
  }
#line 814
  (attrtab->numattrs) --;
#line 815
  return;
}
}
#line 817 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_get(jas_iccattrtab_t *attrtab , int i , jas_iccattrname_t *name ,
                              jas_iccattrval_t **val ) 
{ 
  jas_iccattr_t *attr ;

  {
#line 821
  if (i < 0) {
#line 822
    goto error;
  } else
#line 821
  if (i >= attrtab->numattrs) {
#line 822
    goto error;
  }
  {
#line 823
  attr = attrtab->attrs + i;
#line 824
  *name = attr->name;
#line 825
  *val = jas_iccattrval_clone(attr->val);
  }
#line 825
  if (! *val) {
#line 826
    goto error;
  }
#line 827
  return (0);
  error: 
#line 829
  return (-1);
}
}
#line 832 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccattrtab_lookup(jas_iccattrtab_t *attrtab , jas_iccuint32_t name ) 
{ 
  int i ;
  jas_iccattr_t *attr ;

  {
#line 837
  i = 0;
  {
#line 837
  while (1) {
    while_continue: /* CIL Label */ ;

#line 837
    if (! (i < attrtab->numattrs)) {
#line 837
      goto while_break;
    }
#line 838
    attr = attrtab->attrs + i;
#line 839
    if (attr->name == name) {
#line 840
      return (i);
    }
#line 837
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 842
  return (-1);
}
}
#line 849 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
jas_iccattrval_t *jas_iccattrval_create(jas_iccuint32_t type ) 
{ 
  jas_iccattrval_t *attrval ;
  jas_iccattrvalinfo_t *info ;

  {
  {
#line 854
  info = jas_iccattrvalinfo_lookup(type);
  }
#line 854
  if (! info) {
#line 855
    goto error;
  }
  {
#line 856
  attrval = jas_iccattrval_create0();
  }
#line 856
  if (! attrval) {
#line 857
    goto error;
  }
  {
#line 858
  attrval->ops = & info->ops;
#line 859
  attrval->type = type;
#line 860
  (attrval->refcnt) ++;
#line 861
  memset((void *)(& attrval->data), 0, sizeof(attrval->data));
  }
#line 862
  return (attrval);
  error: 
#line 864
  return ((jas_iccattrval_t *)0);
}
}
#line 867 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
jas_iccattrval_t *jas_iccattrval_clone(jas_iccattrval_t *attrval ) 
{ 


  {
#line 869
  (attrval->refcnt) ++;
#line 870
  return (attrval);
}
}
#line 873 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
void jas_iccattrval_destroy(jas_iccattrval_t *attrval ) 
{ 


  {
#line 878
  (attrval->refcnt) --;
#line 878
  if (attrval->refcnt <= 0) {
#line 879
    if ((attrval->ops)->destroy) {
      {
#line 880
      (*((attrval->ops)->destroy))(attrval);
      }
    }
    {
#line 881
    jas_free((void *)attrval);
    }
  }
#line 884
  return;
}
}
#line 885 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
void jas_iccattrval_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  char buf[8] ;
  char *__cil_tmp4 ;

  {
  {
#line 888
  jas_iccsigtostr((int )attrval->type, buf);
#line 889
  __cil_tmp4 = jas_iccsigtostr((int )attrval->type, & buf[0]);
#line 889
  fprintf(out, "refcnt = %d; type = 0x%08lx %s\n", attrval->refcnt, attrval->type,
          __cil_tmp4);
  }
#line 891
  if ((attrval->ops)->dump) {
    {
#line 892
    (*((attrval->ops)->dump))(attrval, out);
    }
  }
#line 895
  return;
}
}
#line 896 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
int jas_iccattrval_allowmodify(jas_iccattrval_t **attrvalx ) 
{ 
  jas_iccattrval_t *newattrval ;
  jas_iccattrval_t *attrval ;
  int __cil_tmp5 ;

  {
#line 899
  attrval = *attrvalx;
#line 900
  newattrval = (jas_iccattrval_t *)0;
#line 901
  if (attrval->refcnt > 1) {
    {
#line 902
    newattrval = jas_iccattrval_create0();
    }
#line 902
    if (! newattrval) {
#line 903
      goto error;
    }
#line 904
    newattrval->ops = attrval->ops;
#line 905
    newattrval->type = attrval->type;
#line 906
    (newattrval->refcnt) ++;
#line 907
    if ((newattrval->ops)->copy) {
      {
#line 908
      __cil_tmp5 = (*((newattrval->ops)->copy))(newattrval, attrval);
      }
#line 908
      if (__cil_tmp5) {
#line 909
        goto error;
      }
    } else {
      {
#line 911
      memcpy((void *)(& newattrval->data), (void const   *)(& attrval->data), sizeof(newattrval->data));
      }
    }
#line 914
    *attrvalx = newattrval;
  }
#line 916
  return (0);
  error: 
#line 918
  if (newattrval) {
    {
#line 919
    jas_free((void *)newattrval);
    }
  }
#line 921
  return (-1);
}
}
#line 924 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static jas_iccattrval_t *jas_iccattrval_create0(void) 
{ 
  jas_iccattrval_t *attrval ;
  void *tmp ;

  {
  {
#line 927
  tmp = jas_malloc(sizeof(jas_iccattrval_t ));
#line 927
  attrval = (jas_iccattrval_t *)tmp;
  }
#line 927
  if (! attrval) {
#line 928
    return ((jas_iccattrval_t *)0);
  }
  {
#line 929
  memset((void *)attrval, 0, sizeof(jas_iccattrval_t ));
#line 930
  attrval->refcnt = 0;
#line 931
  attrval->ops = (jas_iccattrvalops_t *)0;
#line 932
  attrval->type = (jas_iccsig_t )0;
  }
#line 933
  return (attrval);
}
}
#line 940 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccxyz_input(jas_iccattrval_t *attrval , jas_stream_t *in , int len ) 
{ 
  int __cil_tmp4 ;

  {
#line 943
  if (len != 12) {
    {
#line 943
    abort();
    }
  }
  {
#line 944
  __cil_tmp4 = jas_iccgetxyz(in, & attrval->data.xyz);
  }
#line 944
  return (__cil_tmp4);
}
}
#line 947 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccxyz_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_iccxyz_t *xyz ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 949
  xyz = & attrval->data.xyz;
#line 950
  __cil_tmp6 = jas_iccputuint(out, 4, (unsigned long long )xyz->z);
#line 950
  __cil_tmp5 = jas_iccputuint(out, 4, (unsigned long long )xyz->y);
#line 950
  __cil_tmp4 = jas_iccputuint(out, 4, (unsigned long long )xyz->x);
  }
#line 950
  if (__cil_tmp4) {
#line 953
    return (-1);
  } else
#line 950
  if (__cil_tmp5) {
#line 953
    return (-1);
  } else
#line 950
  if (__cil_tmp6) {
#line 953
    return (-1);
  }
#line 954
  return (0);
}
}
#line 957 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccxyz_getsize(jas_iccattrval_t *attrval ) 
{ 


  {
#line 960
  attrval = (jas_iccattrval_t *)0;
#line 962
  return (12);
}
}
#line 965 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_iccxyz_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_iccxyz_t *xyz ;

  {
  {
#line 967
  xyz = & attrval->data.xyz;
#line 968
  fprintf(out, "(%f, %f, %f)\n", (double )xyz->x / 65536., (double )xyz->y / 65536.,
          (double )xyz->z / 65536.);
  }
#line 971
  return;
}
}
#line 975 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icccurv_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icccurv_t *curv ;

  {
#line 977
  curv = & attrval->data.curv;
#line 978
  if (curv->ents) {
    {
#line 979
    jas_free((void *)curv->ents);
#line 980
    curv->ents = (jas_iccuint16_t *)0;
    }
  }
#line 983
  return;
}
}
#line 984 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icccurv_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 


  {
  {
#line 988
  attrval = (jas_iccattrval_t *)0;
#line 989
  othattrval = (jas_iccattrval_t *)0;
#line 992
  abort();
  }
#line 993
  return (-1);
}
}
#line 996 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icccurv_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  jas_icccurv_t *curv ;
  unsigned int i ;
  int __cil_tmp6 ;
  int __cil_tmp8 ;
  void *tmp ;

  {
  {
#line 999
  curv = & attrval->data.curv;
#line 1002
  curv->numents = (jas_iccuint32_t )0;
#line 1003
  curv->ents = (jas_iccuint16_t *)0;
#line 1005
  __cil_tmp6 = jas_iccgetuint32(in, & curv->numents);
  }
#line 1005
  if (__cil_tmp6) {
#line 1006
    goto error;
  }
  {
#line 1007
  tmp = jas_alloc2(curv->numents, sizeof(jas_iccuint16_t ));
#line 1007
  curv->ents = (jas_iccuint16_t *)tmp;
  }
#line 1007
  if (! curv->ents) {
#line 1008
    goto error;
  }
#line 1009
  i = 0U;
  {
#line 1009
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1009
    if (! ((unsigned long )i < curv->numents)) {
#line 1009
      goto while_break;
    }
    {
#line 1010
    __cil_tmp8 = jas_iccgetuint16(in, curv->ents + i);
    }
#line 1010
    if (__cil_tmp8) {
#line 1011
      goto error;
    }
#line 1009
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1014
  if ((int )(4UL + 2UL * curv->numents) != cnt) {
#line 1015
    goto error;
  }
#line 1016
  return (0);
  error: 
  {
#line 1019
  jas_icccurv_destroy(attrval);
  }
#line 1020
  return (-1);
}
}
#line 1023 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icccurv_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icccurv_t *curv ;

  {
#line 1025
  curv = & attrval->data.curv;
#line 1026
  return ((int )(4UL + 2UL * curv->numents));
}
}
#line 1029 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icccurv_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icccurv_t *curv ;
  unsigned int i ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 1031
  curv = & attrval->data.curv;
#line 1034
  __cil_tmp5 = jas_iccputuint(out, 4, (unsigned long long )curv->numents);
  }
#line 1034
  if (__cil_tmp5) {
#line 1035
    goto error;
  }
#line 1036
  i = 0U;
  {
#line 1036
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1036
    if (! ((unsigned long )i < curv->numents)) {
#line 1036
      goto while_break;
    }
    {
#line 1037
    __cil_tmp6 = jas_iccputuint(out, 2, (unsigned long long )*(curv->ents + i));
    }
#line 1037
    if (__cil_tmp6) {
#line 1038
      goto error;
    }
#line 1036
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1040
  return (0);
  error: 
#line 1042
  return (-1);
}
}
#line 1045 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icccurv_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  int i ;
  jas_icccurv_t *curv ;

  {
  {
#line 1048
  curv = & attrval->data.curv;
#line 1049
  fprintf(out, "number of entries = %lu\n\225U", curv->numents);
  }
#line 1050
  if (curv->numents == 1UL) {
    {
#line 1051
    fprintf(out, "gamma = %f\n\033\225U", (double )*(curv->ents + 0) / 256.);
    }
  } else {
#line 1053
    i = 0;
    {
#line 1053
    while (1) {
      while_continue: /* CIL Label */ ;

#line 1053
      if (! (i < (int )curv->numents)) {
#line 1053
        goto while_break;
      }
#line 1054
      if (i < 3) {
        {
#line 1055
        fprintf(out, "entry[%d] = %f\n", i, (double )*(curv->ents + i) / 65535.);
        }
      } else
#line 1054
      if (i >= (int )curv->numents - 3) {
        {
#line 1055
        fprintf(out, "entry[%d] = %f\n", i, (double )*(curv->ents + i) / 65535.);
        }
      }
#line 1053
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    while_break: ;
  }
#line 1058
  return;
}
}
#line 1065 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icctxtdesc_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icctxtdesc_t *txtdesc ;

  {
#line 1067
  txtdesc = & attrval->data.txtdesc;
#line 1068
  if (txtdesc->ascdata) {
    {
#line 1069
    jas_free((void *)txtdesc->ascdata);
#line 1070
    txtdesc->ascdata = (char *)0;
    }
  }
#line 1072
  if (txtdesc->ucdata) {
    {
#line 1073
    jas_free((void *)txtdesc->ucdata);
#line 1074
    txtdesc->ucdata = (unsigned char *)0;
    }
  }
#line 1077
  return;
}
}
#line 1078 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icctxtdesc_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 
  jas_icctxtdesc_t *txtdesc ;

  {
  {
#line 1081
  txtdesc = & attrval->data.txtdesc;
#line 1084
  attrval = (jas_iccattrval_t *)0;
#line 1085
  othattrval = (jas_iccattrval_t *)0;
#line 1086
  txtdesc = (jas_icctxtdesc_t *)0;
#line 1089
  abort();
  }
#line 1090
  return (-1);
}
}
#line 1093 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icctxtdesc_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  int n ;
  int c ;
  jas_icctxtdesc_t *txtdesc ;
  int __cil_tmp7 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  int __cil_tmp22 ;
  void *tmp___2 ;
  void *tmp___3 ;

  {
  {
#line 1098
  txtdesc = & attrval->data.txtdesc;
#line 1099
  txtdesc->ascdata = (char *)0;
#line 1100
  txtdesc->ucdata = (unsigned char *)0;
#line 1101
  __cil_tmp7 = jas_iccgetuint32(in, & txtdesc->asclen);
  }
#line 1101
  if (__cil_tmp7) {
#line 1102
    goto error;
  }
  {
#line 1103
  tmp___2 = jas_malloc(txtdesc->asclen);
#line 1103
  txtdesc->ascdata = (char *)tmp___2;
  }
#line 1103
  if (! txtdesc->ascdata) {
#line 1104
    goto error;
  }
  {
#line 1105
  __cil_tmp9 = jas_stream_read(in, (void *)txtdesc->ascdata, (int )txtdesc->asclen);
  }
#line 1105
  if (__cil_tmp9 != (int )txtdesc->asclen) {
#line 1107
    goto error;
  }
  {
#line 1108
  *(txtdesc->ascdata + (txtdesc->asclen - 1UL)) = (char )'\000';
#line 1109
  __cil_tmp11 = jas_iccgetuint32(in, & txtdesc->uclen);
#line 1109
  __cil_tmp10 = jas_iccgetuint32(in, & txtdesc->uclangcode);
  }
#line 1109
  if (__cil_tmp10) {
#line 1111
    goto error;
  } else
#line 1109
  if (__cil_tmp11) {
#line 1111
    goto error;
  }
  {
#line 1112
  tmp___3 = jas_alloc2(txtdesc->uclen, (size_t )2);
#line 1112
  txtdesc->ucdata = (unsigned char *)tmp___3;
  }
#line 1112
  if (! txtdesc->ucdata) {
#line 1113
    goto error;
  }
  {
#line 1114
  __cil_tmp13 = jas_stream_read(in, (void *)txtdesc->ucdata, (int )(txtdesc->uclen * 2UL));
  }
#line 1114
  if (__cil_tmp13 != (int )(txtdesc->uclen * 2UL)) {
#line 1116
    goto error;
  }
  {
#line 1117
  __cil_tmp14 = jas_iccgetuint16(in, & txtdesc->sccode);
  }
#line 1117
  if (__cil_tmp14) {
#line 1118
    goto error;
  }
#line 1119
  if (! (in->flags_ & 7)) {
#line 1119
    if (in->rwlimit_ >= 0L) {
#line 1119
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1119
        in->flags_ |= 4;
#line 1119
        tmp___0 = -1;
      } else {
#line 1119
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 1119
      (in->cnt_) --;
#line 1119
      if (in->cnt_ < 0) {
        {
#line 1119
        __cil_tmp15 = jas_stream_fillbuf(in, 1);
#line 1119
        tmp = __cil_tmp15;
        }
      } else {
#line 1119
        __cil_tmp16 = in->ptr_;
#line 1119
        (in->ptr_) ++;
#line 1119
        (in->rwcnt_) ++;
#line 1119
        tmp = (int )*__cil_tmp16;
      }
#line 1119
      tmp___0 = tmp;
    }
#line 1119
    tmp___1 = tmp___0;
  } else {
#line 1119
    tmp___1 = -1;
  }
#line 1119
  c = tmp___1;
#line 1119
  if (c == -1) {
#line 1120
    goto error;
  }
  {
#line 1121
  txtdesc->maclen = (jas_iccuint8_t )c;
#line 1122
  __cil_tmp20 = jas_stream_read(in, (void *)(txtdesc->macdata), 67);
  }
#line 1122
  if (__cil_tmp20 != 67) {
#line 1123
    goto error;
  }
  {
#line 1124
  __cil_tmp21 = strlen((char const   *)txtdesc->ascdata);
#line 1124
  txtdesc->asclen = __cil_tmp21 + 1UL;
#line 1127
  n = (int )(((txtdesc->asclen + txtdesc->uclen * 2UL) + 15UL) + 67UL);
  }
#line 1128
  if (n > cnt) {
#line 1129
    return (-1);
  }
#line 1131
  if (n < cnt) {
    {
#line 1132
    __cil_tmp22 = jas_stream_gobble(in, cnt - n);
    }
#line 1132
    if (__cil_tmp22 != cnt - n) {
#line 1133
      goto error;
    }
  }
#line 1139
  return (0);
  error: 
  {
#line 1141
  jas_icctxtdesc_destroy(attrval);
  }
#line 1142
  return (-1);
}
}
#line 1145 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icctxtdesc_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icctxtdesc_t *txtdesc ;
  unsigned long __cil_tmp3 ;

  {
  {
#line 1147
  txtdesc = & attrval->data.txtdesc;
#line 1148
  __cil_tmp3 = strlen((char const   *)txtdesc->ascdata);
  }
#line 1148
  return ((int )((((__cil_tmp3 + 1UL) + txtdesc->uclen * 2UL) + 15UL) + 67UL));
}
}
#line 1152 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icctxtdesc_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icctxtdesc_t *txtdesc ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned char *__cil_tmp16 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;

  {
#line 1154
  txtdesc = & attrval->data.txtdesc;
#line 1155
  if (! (out->flags_ & 7)) {
#line 1155
    if (out->rwlimit_ >= 0L) {
#line 1155
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1155
        out->flags_ |= 4;
#line 1155
        tmp___3 = -1;
      } else {
#line 1155
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 1155
      (out->cnt_) --;
#line 1155
      out->bufmode_ |= 32;
#line 1155
      if (out->cnt_ < 0) {
        {
#line 1155
        __cil_tmp15 = jas_stream_flushbuf(out, (int )txtdesc->maclen);
#line 1155
        tmp___2 = __cil_tmp15;
        }
      } else {
#line 1155
        __cil_tmp16 = out->ptr_;
#line 1155
        (out->ptr_) ++;
#line 1155
        *__cil_tmp16 = txtdesc->maclen;
#line 1155
        (out->rwcnt_) ++;
#line 1155
        tmp___2 = (int )*__cil_tmp16;
      }
#line 1155
      tmp___3 = tmp___2;
    }
#line 1155
    tmp___4 = tmp___3;
  } else {
#line 1155
    tmp___4 = -1;
  }
  {
#line 1155
  __cil_tmp14 = jas_iccputuint(out, 2, (unsigned long long )txtdesc->sccode);
#line 1155
  __cil_tmp13 = jas_stream_write(out, (void const   *)txtdesc->ucdata, (int )(txtdesc->uclen * 2UL));
#line 1155
  __cil_tmp12 = jas_iccputuint(out, 4, (unsigned long long )txtdesc->uclen);
#line 1155
  __cil_tmp11 = jas_iccputuint(out, 4, (unsigned long long )txtdesc->uclangcode);
  }
#line 1155
  if (! (out->flags_ & 7)) {
#line 1155
    if (out->rwlimit_ >= 0L) {
#line 1155
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1155
        out->flags_ |= 4;
#line 1155
        tmp___0 = -1;
      } else {
#line 1155
        goto _L___4;
      }
    } else {
      _L___4: /* CIL Label */ 
#line 1155
      (out->cnt_) --;
#line 1155
      out->bufmode_ |= 32;
#line 1155
      if (out->cnt_ < 0) {
        {
#line 1155
        __cil_tmp6 = jas_stream_flushbuf(out, 0);
#line 1155
        tmp = __cil_tmp6;
        }
      } else {
#line 1155
        __cil_tmp7 = out->ptr_;
#line 1155
        (out->ptr_) ++;
#line 1155
        *__cil_tmp7 = (unsigned char)0;
#line 1155
        (out->rwcnt_) ++;
#line 1155
        tmp = (int )*__cil_tmp7;
      }
#line 1155
      tmp___0 = tmp;
    }
#line 1155
    tmp___1 = tmp___0;
  } else {
#line 1155
    tmp___1 = -1;
  }
  {
#line 1155
  __cil_tmp5 = jas_stream_puts(out, (char const   *)txtdesc->ascdata);
#line 1155
  __cil_tmp4 = jas_iccputuint(out, 4, (unsigned long long )txtdesc->asclen);
  }
#line 1155
  if (__cil_tmp4) {
#line 1163
    goto error;
  } else
#line 1155
  if (__cil_tmp5) {
#line 1163
    goto error;
  } else
#line 1155
  if (tmp___1 == -1) {
#line 1163
    goto error;
  } else
#line 1155
  if (__cil_tmp11) {
#line 1163
    goto error;
  } else
#line 1155
  if (__cil_tmp12) {
#line 1163
    goto error;
  } else
#line 1155
  if (__cil_tmp13 != (int )(txtdesc->uclen * 2UL)) {
#line 1163
    goto error;
  } else
#line 1155
  if (__cil_tmp14) {
#line 1163
    goto error;
  } else
#line 1155
  if (tmp___4 == -1) {
#line 1163
    goto error;
  }
#line 1164
  if ((int )txtdesc->maclen > 0) {
    {
#line 1165
    __cil_tmp20 = jas_stream_write(out, (void const   *)(txtdesc->macdata), 67);
    }
#line 1165
    if (__cil_tmp20 != 67) {
#line 1166
      goto error;
    }
  } else {
    {
#line 1168
    __cil_tmp21 = jas_stream_pad(out, 67, 0);
    }
#line 1168
    if (__cil_tmp21 != 67) {
#line 1169
      goto error;
    }
  }
#line 1171
  return (0);
  error: 
#line 1173
  return (-1);
}
}
#line 1176 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icctxtdesc_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_icctxtdesc_t *txtdesc ;

  {
  {
#line 1178
  txtdesc = & attrval->data.txtdesc;
#line 1179
  fprintf(out, "ascii = \"%s\"\nU", txtdesc->ascdata);
#line 1180
  fprintf(out, "uclangcode = %lu; uclen = %lu\n", txtdesc->uclangcode, txtdesc->uclen);
#line 1182
  fprintf(out, "sccode = %lu\n\265\321\033\225U", txtdesc->sccode);
#line 1183
  fprintf(out, "maclen = %d\n\225U", (int )txtdesc->maclen);
  }
#line 1185
  return;
}
}
#line 1190 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icctxt_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icctxt_t *txt ;

  {
#line 1192
  txt = & attrval->data.txt;
#line 1193
  if (txt->string) {
    {
#line 1194
    jas_free((void *)txt->string);
#line 1195
    txt->string = (char *)0;
    }
  }
#line 1198
  return;
}
}
#line 1199 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icctxt_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 
  jas_icctxt_t *txt ;
  jas_icctxt_t *othtxt ;

  {
  {
#line 1202
  txt = & attrval->data.txt;
#line 1203
  othtxt = & othattrval->data.txt;
#line 1204
  txt->string = jas_strdup((char const   *)othtxt->string);
  }
#line 1204
  if (! txt->string) {
#line 1205
    return (-1);
  }
#line 1206
  return (0);
}
}
#line 1209 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icctxt_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  jas_icctxt_t *txt ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  void *tmp ;

  {
  {
#line 1212
  txt = & attrval->data.txt;
#line 1213
  txt->string = (char *)0;
#line 1214
  tmp = jas_malloc((size_t )cnt);
#line 1214
  txt->string = (char *)tmp;
  }
#line 1214
  if (! txt->string) {
#line 1215
    goto error;
  }
  {
#line 1216
  __cil_tmp6 = jas_stream_read(in, (void *)txt->string, cnt);
  }
#line 1216
  if (__cil_tmp6 != cnt) {
#line 1217
    goto error;
  }
  {
#line 1218
  *(txt->string + (cnt - 1)) = (char )'\000';
#line 1219
  __cil_tmp7 = strlen((char const   *)txt->string);
  }
#line 1219
  if ((int )__cil_tmp7 + 1 != cnt) {
#line 1220
    goto error;
  }
#line 1221
  return (0);
  error: 
  {
#line 1223
  jas_icctxt_destroy(attrval);
  }
#line 1224
  return (-1);
}
}
#line 1227 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icctxt_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icctxt_t *txt ;
  unsigned long __cil_tmp3 ;

  {
  {
#line 1229
  txt = & attrval->data.txt;
#line 1230
  __cil_tmp3 = strlen((char const   *)txt->string);
  }
#line 1230
  return ((int )(__cil_tmp3 + 1UL));
}
}
#line 1233 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icctxt_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icctxt_t *txt ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned char *__cil_tmp6 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1235
  txt = & attrval->data.txt;
#line 1236
  if (! (out->flags_ & 7)) {
#line 1236
    if (out->rwlimit_ >= 0L) {
#line 1236
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1236
        out->flags_ |= 4;
#line 1236
        tmp___0 = -1;
      } else {
#line 1236
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 1236
      (out->cnt_) --;
#line 1236
      out->bufmode_ |= 32;
#line 1236
      if (out->cnt_ < 0) {
        {
#line 1236
        __cil_tmp5 = jas_stream_flushbuf(out, 0);
#line 1236
        tmp = __cil_tmp5;
        }
      } else {
#line 1236
        __cil_tmp6 = out->ptr_;
#line 1236
        (out->ptr_) ++;
#line 1236
        *__cil_tmp6 = (unsigned char)0;
#line 1236
        (out->rwcnt_) ++;
#line 1236
        tmp = (int )*__cil_tmp6;
      }
#line 1236
      tmp___0 = tmp;
    }
#line 1236
    tmp___1 = tmp___0;
  } else {
#line 1236
    tmp___1 = -1;
  }
  {
#line 1236
  __cil_tmp4 = jas_stream_puts(out, (char const   *)txt->string);
  }
#line 1236
  if (__cil_tmp4) {
#line 1238
    return (-1);
  } else
#line 1236
  if (tmp___1 == -1) {
#line 1238
    return (-1);
  }
#line 1239
  return (0);
}
}
#line 1242 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icctxt_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_icctxt_t *txt ;

  {
  {
#line 1244
  txt = & attrval->data.txt;
#line 1245
  fprintf(out, "string = \"%s\"\n", txt->string);
  }
#line 1247
  return;
}
}
#line 1252 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icclut8_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icclut8_t *lut8 ;

  {
#line 1254
  lut8 = & attrval->data.lut8;
#line 1255
  if (lut8->clut) {
    {
#line 1256
    jas_free((void *)lut8->clut);
#line 1257
    lut8->clut = (jas_iccuint8_t *)0;
    }
  }
#line 1259
  if (lut8->intabs) {
    {
#line 1260
    jas_free((void *)lut8->intabs);
#line 1261
    lut8->intabs = (jas_iccuint8_t **)0;
    }
  }
#line 1263
  if (lut8->intabsbuf) {
    {
#line 1264
    jas_free((void *)lut8->intabsbuf);
#line 1265
    lut8->intabsbuf = (jas_iccuint8_t *)0;
    }
  }
#line 1267
  if (lut8->outtabs) {
    {
#line 1268
    jas_free((void *)lut8->outtabs);
#line 1269
    lut8->outtabs = (jas_iccuint8_t **)0;
    }
  }
#line 1271
  if (lut8->outtabsbuf) {
    {
#line 1272
    jas_free((void *)lut8->outtabsbuf);
#line 1273
    lut8->outtabsbuf = (jas_iccuint8_t *)0;
    }
  }
#line 1276
  return;
}
}
#line 1277 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icclut8_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 
  jas_icclut8_t *lut8 ;

  {
  {
#line 1280
  lut8 = & attrval->data.lut8;
#line 1282
  attrval = (jas_iccattrval_t *)0;
#line 1283
  othattrval = (jas_iccattrval_t *)0;
#line 1284
  lut8 = (jas_icclut8_t *)0;
#line 1285
  abort();
  }
#line 1286
  return (-1);
}
}
#line 1289 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icclut8_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  int i ;
  int j ;
  int clutsize ;
  jas_icclut8_t *lut8 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  unsigned char *__cil_tmp12 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  long __cil_tmp19 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  long __cil_tmp28 ;
  void *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;

  {
#line 1295
  lut8 = & attrval->data.lut8;
#line 1296
  lut8->clut = (jas_iccuint8_t *)0;
#line 1297
  lut8->intabs = (jas_iccuint8_t **)0;
#line 1298
  lut8->intabsbuf = (jas_iccuint8_t *)0;
#line 1299
  lut8->outtabs = (jas_iccuint8_t **)0;
#line 1300
  lut8->outtabsbuf = (jas_iccuint8_t *)0;
#line 1301
  if (! (in->flags_ & 7)) {
#line 1301
    if (in->rwlimit_ >= 0L) {
#line 1301
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1301
        in->flags_ |= 4;
#line 1301
        tmp___0 = -1;
      } else {
#line 1301
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 1301
      (in->cnt_) --;
#line 1301
      if (in->cnt_ < 0) {
        {
#line 1301
        __cil_tmp11 = jas_stream_fillbuf(in, 1);
#line 1301
        tmp = __cil_tmp11;
        }
      } else {
#line 1301
        __cil_tmp12 = in->ptr_;
#line 1301
        (in->ptr_) ++;
#line 1301
        (in->rwcnt_) ++;
#line 1301
        tmp = (int )*__cil_tmp12;
      }
#line 1301
      tmp___0 = tmp;
    }
#line 1301
    tmp___1 = tmp___0;
  } else {
#line 1301
    tmp___1 = -1;
  }
  {
#line 1301
  __cil_tmp10 = jas_iccgetuint8(in, & lut8->clutlen);
#line 1301
  __cil_tmp9 = jas_iccgetuint8(in, & lut8->numoutchans);
#line 1301
  __cil_tmp8 = jas_iccgetuint8(in, & lut8->numinchans);
  }
#line 1301
  if (__cil_tmp8) {
#line 1305
    goto error;
  } else
#line 1301
  if (__cil_tmp9) {
#line 1305
    goto error;
  } else
#line 1301
  if (__cil_tmp10) {
#line 1305
    goto error;
  } else
#line 1301
  if (tmp___1 == -1) {
#line 1305
    goto error;
  }
#line 1306
  i = 0;
  {
#line 1306
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1306
    if (! (i < 3)) {
#line 1306
      goto while_break;
    }
#line 1307
    j = 0;
    {
#line 1307
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1307
      if (! (j < 3)) {
#line 1307
        goto while_break___0;
      }
      {
#line 1308
      __cil_tmp16 = jas_iccgetsint32(in, & lut8->e[i][j]);
      }
#line 1308
      if (__cil_tmp16) {
#line 1309
        goto error;
      }
#line 1307
      j ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___0: 
#line 1306
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1312
  __cil_tmp18 = jas_iccgetuint16(in, & lut8->numouttabents);
#line 1312
  __cil_tmp17 = jas_iccgetuint16(in, & lut8->numintabents);
  }
#line 1312
  if (__cil_tmp17) {
#line 1314
    goto error;
  } else
#line 1312
  if (__cil_tmp18) {
#line 1314
    goto error;
  }
  {
#line 1315
  __cil_tmp19 = jas_iccpowi((int )lut8->clutlen, (int )lut8->numinchans);
#line 1315
  clutsize = (int )(__cil_tmp19 * (long )lut8->numoutchans);
#line 1316
  tmp___2 = jas_alloc2((size_t )lut8->numinchans, sizeof(jas_iccuint8_t *));
#line 1316
  lut8->intabs = (jas_iccuint8_t **)tmp___2;
#line 1316
  tmp___3 = jas_alloc3((size_t )lut8->numinchans, lut8->numintabents, sizeof(jas_iccuint8_t ));
#line 1316
  lut8->intabsbuf = (jas_iccuint8_t *)tmp___3;
#line 1316
  tmp___4 = jas_alloc2((size_t )clutsize, sizeof(jas_iccuint8_t ));
#line 1316
  lut8->clut = (jas_iccuint8_t *)tmp___4;
  }
#line 1316
  if (! lut8->clut) {
#line 1321
    goto error;
  } else
#line 1316
  if (! lut8->intabsbuf) {
#line 1321
    goto error;
  } else
#line 1316
  if (! lut8->intabs) {
#line 1321
    goto error;
  }
#line 1322
  i = 0;
  {
#line 1322
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1322
    if (! (i < (int )lut8->numinchans)) {
#line 1322
      goto while_break___1;
    }
#line 1323
    *(lut8->intabs + i) = lut8->intabsbuf + (unsigned long )i * lut8->numintabents;
#line 1322
    i ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___1: 
  {
#line 1324
  tmp___5 = jas_alloc2((size_t )lut8->numoutchans, sizeof(jas_iccuint8_t *));
#line 1324
  lut8->outtabs = (jas_iccuint8_t **)tmp___5;
#line 1324
  tmp___6 = jas_alloc3((size_t )lut8->numoutchans, lut8->numouttabents, sizeof(jas_iccuint8_t ));
#line 1324
  lut8->outtabsbuf = (jas_iccuint8_t *)tmp___6;
  }
#line 1324
  if (! lut8->outtabsbuf) {
#line 1328
    goto error;
  } else
#line 1324
  if (! lut8->outtabs) {
#line 1328
    goto error;
  }
#line 1329
  i = 0;
  {
#line 1329
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1329
    if (! (i < (int )lut8->numoutchans)) {
#line 1329
      goto while_break___2;
    }
#line 1330
    *(lut8->outtabs + i) = lut8->outtabsbuf + (unsigned long )i * lut8->numouttabents;
#line 1329
    i ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___2: 
#line 1331
  i = 0;
  {
#line 1331
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1331
    if (! (i < (int )lut8->numinchans)) {
#line 1331
      goto while_break___3;
    }
#line 1332
    j = 0;
    {
#line 1332
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 1332
      if (! (j < (int )lut8->numintabents)) {
#line 1332
        goto while_break___4;
      }
      {
#line 1333
      __cil_tmp25 = jas_iccgetuint8(in, *(lut8->intabs + i) + j);
      }
#line 1333
      if (__cil_tmp25) {
#line 1334
        goto error;
      }
#line 1332
      j ++;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___4: 
#line 1331
    i ++;
  }
  while_break___12: /* CIL Label */ ;
  }
  while_break___3: 
#line 1337
  i = 0;
  {
#line 1337
  while (1) {
    while_continue___5: /* CIL Label */ ;

#line 1337
    if (! (i < (int )lut8->numoutchans)) {
#line 1337
      goto while_break___5;
    }
#line 1338
    j = 0;
    {
#line 1338
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 1338
      if (! (j < (int )lut8->numouttabents)) {
#line 1338
        goto while_break___6;
      }
      {
#line 1339
      __cil_tmp26 = jas_iccgetuint8(in, *(lut8->outtabs + i) + j);
      }
#line 1339
      if (__cil_tmp26) {
#line 1340
        goto error;
      }
#line 1338
      j ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___6: 
#line 1337
    i ++;
  }
  while_break___14: /* CIL Label */ ;
  }
  while_break___5: 
#line 1343
  i = 0;
  {
#line 1343
  while (1) {
    while_continue___7: /* CIL Label */ ;

#line 1343
    if (! (i < clutsize)) {
#line 1343
      goto while_break___7;
    }
    {
#line 1344
    __cil_tmp27 = jas_iccgetuint8(in, lut8->clut + i);
    }
#line 1344
    if (__cil_tmp27) {
#line 1345
      goto error;
    }
#line 1343
    i ++;
  }
  while_break___16: /* CIL Label */ ;
  }
  while_break___7: 
  {
#line 1347
  __cil_tmp28 = jas_iccpowi((int )lut8->clutlen, (int )lut8->numinchans);
  }
#line 1347
  if ((int )(((44UL + (unsigned long )lut8->numinchans * lut8->numintabents) + (unsigned long )lut8->numoutchans * lut8->numouttabents) + (unsigned long )(__cil_tmp28 * (long )lut8->numoutchans)) != cnt) {
#line 1351
    goto error;
  }
#line 1352
  return (0);
  error: 
  {
#line 1354
  jas_icclut8_destroy(attrval);
  }
#line 1355
  return (-1);
}
}
#line 1358 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icclut8_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icclut8_t *lut8 ;
  long __cil_tmp3 ;

  {
  {
#line 1360
  lut8 = & attrval->data.lut8;
#line 1361
  __cil_tmp3 = jas_iccpowi((int )lut8->clutlen, (int )lut8->numinchans);
  }
#line 1361
  return ((int )(((44UL + (unsigned long )lut8->numinchans * lut8->numintabents) + (unsigned long )lut8->numoutchans * lut8->numouttabents) + (unsigned long )(__cil_tmp3 * (long )lut8->numoutchans)));
}
}
#line 1366 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icclut8_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icclut8_t *lut8 ;
  int i ;
  int j ;
  int n ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp12 ;
  unsigned char *__cil_tmp13 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp17 ;
  unsigned char *__cil_tmp18 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp22 ;
  unsigned char *__cil_tmp23 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  long __cil_tmp32 ;
  int __cil_tmp33 ;

  {
#line 1368
  lut8 = & attrval->data.lut8;
#line 1372
  lut8->clut = (jas_iccuint8_t *)0;
#line 1373
  lut8->intabs = (jas_iccuint8_t **)0;
#line 1374
  lut8->intabsbuf = (jas_iccuint8_t *)0;
#line 1375
  lut8->outtabs = (jas_iccuint8_t **)0;
#line 1376
  lut8->outtabsbuf = (jas_iccuint8_t *)0;
#line 1377
  if (! (out->flags_ & 7)) {
#line 1377
    if (out->rwlimit_ >= 0L) {
#line 1377
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1377
        out->flags_ |= 4;
#line 1377
        tmp___9 = -1;
      } else {
#line 1377
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 1377
      (out->cnt_) --;
#line 1377
      out->bufmode_ |= 32;
#line 1377
      if (out->cnt_ < 0) {
        {
#line 1377
        __cil_tmp22 = jas_stream_flushbuf(out, 0);
#line 1377
        tmp___8 = __cil_tmp22;
        }
      } else {
#line 1377
        __cil_tmp23 = out->ptr_;
#line 1377
        (out->ptr_) ++;
#line 1377
        *__cil_tmp23 = (unsigned char)0;
#line 1377
        (out->rwcnt_) ++;
#line 1377
        tmp___8 = (int )*__cil_tmp23;
      }
#line 1377
      tmp___9 = tmp___8;
    }
#line 1377
    tmp___10 = tmp___9;
  } else {
#line 1377
    tmp___10 = -1;
  }
#line 1377
  if (! (out->flags_ & 7)) {
#line 1377
    if (out->rwlimit_ >= 0L) {
#line 1377
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1377
        out->flags_ |= 4;
#line 1377
        tmp___6 = -1;
      } else {
#line 1377
        goto _L___4;
      }
    } else {
      _L___4: /* CIL Label */ 
#line 1377
      (out->cnt_) --;
#line 1377
      out->bufmode_ |= 32;
#line 1377
      if (out->cnt_ < 0) {
        {
#line 1377
        __cil_tmp17 = jas_stream_flushbuf(out, (int )lut8->clutlen);
#line 1377
        tmp___5 = __cil_tmp17;
        }
      } else {
#line 1377
        __cil_tmp18 = out->ptr_;
#line 1377
        (out->ptr_) ++;
#line 1377
        *__cil_tmp18 = lut8->clutlen;
#line 1377
        (out->rwcnt_) ++;
#line 1377
        tmp___5 = (int )*__cil_tmp18;
      }
#line 1377
      tmp___6 = tmp___5;
    }
#line 1377
    tmp___7 = tmp___6;
  } else {
#line 1377
    tmp___7 = -1;
  }
#line 1377
  if (! (out->flags_ & 7)) {
#line 1377
    if (out->rwlimit_ >= 0L) {
#line 1377
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1377
        out->flags_ |= 4;
#line 1377
        tmp___3 = -1;
      } else {
#line 1377
        goto _L___5;
      }
    } else {
      _L___5: /* CIL Label */ 
#line 1377
      (out->cnt_) --;
#line 1377
      out->bufmode_ |= 32;
#line 1377
      if (out->cnt_ < 0) {
        {
#line 1377
        __cil_tmp12 = jas_stream_flushbuf(out, (int )lut8->numoutchans);
#line 1377
        tmp___2 = __cil_tmp12;
        }
      } else {
#line 1377
        __cil_tmp13 = out->ptr_;
#line 1377
        (out->ptr_) ++;
#line 1377
        *__cil_tmp13 = lut8->numoutchans;
#line 1377
        (out->rwcnt_) ++;
#line 1377
        tmp___2 = (int )*__cil_tmp13;
      }
#line 1377
      tmp___3 = tmp___2;
    }
#line 1377
    tmp___4 = tmp___3;
  } else {
#line 1377
    tmp___4 = -1;
  }
#line 1377
  if (! (out->flags_ & 7)) {
#line 1377
    if (out->rwlimit_ >= 0L) {
#line 1377
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1377
        out->flags_ |= 4;
#line 1377
        tmp___0 = -1;
      } else {
#line 1377
        goto _L___6;
      }
    } else {
      _L___6: /* CIL Label */ 
#line 1377
      (out->cnt_) --;
#line 1377
      out->bufmode_ |= 32;
#line 1377
      if (out->cnt_ < 0) {
        {
#line 1377
        __cil_tmp7 = jas_stream_flushbuf(out, (int )lut8->numinchans);
#line 1377
        tmp = __cil_tmp7;
        }
      } else {
#line 1377
        __cil_tmp8 = out->ptr_;
#line 1377
        (out->ptr_) ++;
#line 1377
        *__cil_tmp8 = lut8->numinchans;
#line 1377
        (out->rwcnt_) ++;
#line 1377
        tmp = (int )*__cil_tmp8;
      }
#line 1377
      tmp___0 = tmp;
    }
#line 1377
    tmp___1 = tmp___0;
  } else {
#line 1377
    tmp___1 = -1;
  }
#line 1377
  if (tmp___1 == -1) {
#line 1381
    goto error;
  } else
#line 1377
  if (tmp___4 == -1) {
#line 1381
    goto error;
  } else
#line 1377
  if (tmp___7 == -1) {
#line 1381
    goto error;
  } else
#line 1377
  if (tmp___10 == -1) {
#line 1381
    goto error;
  }
#line 1382
  i = 0;
  {
#line 1382
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1382
    if (! (i < 3)) {
#line 1382
      goto while_break;
    }
#line 1383
    j = 0;
    {
#line 1383
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1383
      if (! (j < 3)) {
#line 1383
        goto while_break___0;
      }
      {
#line 1384
      __cil_tmp27 = jas_iccputsint(out, 4, (long long )lut8->e[i][j]);
      }
#line 1384
      if (__cil_tmp27) {
#line 1385
        goto error;
      }
#line 1383
      j ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: 
#line 1382
    i ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1388
  __cil_tmp29 = jas_iccputuint(out, 2, (unsigned long long )lut8->numouttabents);
#line 1388
  __cil_tmp28 = jas_iccputuint(out, 2, (unsigned long long )lut8->numintabents);
  }
#line 1388
  if (__cil_tmp28) {
#line 1390
    goto error;
  } else
#line 1388
  if (__cil_tmp29) {
#line 1390
    goto error;
  }
#line 1391
  n = (int )((unsigned long )lut8->numinchans * lut8->numintabents);
#line 1392
  i = 0;
  {
#line 1392
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1392
    if (! (i < n)) {
#line 1392
      goto while_break___1;
    }
    {
#line 1393
    __cil_tmp30 = jas_iccputuint(out, 1, (unsigned long long )*(lut8->intabsbuf + i));
    }
#line 1393
    if (__cil_tmp30) {
#line 1394
      goto error;
    }
#line 1392
    i ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___1: 
#line 1396
  n = (int )((unsigned long )lut8->numoutchans * lut8->numouttabents);
#line 1397
  i = 0;
  {
#line 1397
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1397
    if (! (i < n)) {
#line 1397
      goto while_break___2;
    }
    {
#line 1398
    __cil_tmp31 = jas_iccputuint(out, 1, (unsigned long long )*(lut8->outtabsbuf + i));
    }
#line 1398
    if (__cil_tmp31) {
#line 1399
      goto error;
    }
#line 1397
    i ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___2: 
  {
#line 1401
  __cil_tmp32 = jas_iccpowi((int )lut8->clutlen, (int )lut8->numinchans);
#line 1401
  n = (int )(__cil_tmp32 * (long )lut8->numoutchans);
#line 1402
  i = 0;
  }
  {
#line 1402
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1402
    if (! (i < n)) {
#line 1402
      goto while_break___3;
    }
    {
#line 1403
    __cil_tmp33 = jas_iccputuint(out, 1, (unsigned long long )*(lut8->clut + i));
    }
#line 1403
    if (__cil_tmp33) {
#line 1404
      goto error;
    }
#line 1402
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___3: ;
#line 1406
  return (0);
  error: 
#line 1408
  return (-1);
}
}
#line 1411 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icclut8_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_icclut8_t *lut8 ;
  int i ;
  int j ;

  {
  {
#line 1413
  lut8 = & attrval->data.lut8;
#line 1416
  fprintf(out, "numinchans=%d, numoutchans=%d, clutlen=%d\n\322\033\225U", (int )lut8->numinchans,
          (int )lut8->numoutchans, (int )lut8->clutlen);
#line 1418
  i = 0;
  }
  {
#line 1418
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1418
    if (! (i < 3)) {
#line 1418
      goto while_break;
    }
#line 1419
    j = 0;
    {
#line 1419
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1419
      if (! (j < 3)) {
#line 1419
        goto while_break___0;
      }
      {
#line 1420
      fprintf(out, "e[%d][%d]=%f U", i, j, (double )lut8->e[i][j] / 65536.);
#line 1419
      j ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 1422
    fprintf(out, "\n");
#line 1418
    i ++;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1424
  fprintf(out, "numintabents=%lu, numouttabents=%lu\n", lut8->numintabents, lut8->numouttabents);
  }
#line 1426
  return;
}
}
#line 1432 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icclut16_destroy(jas_iccattrval_t *attrval ) 
{ 
  jas_icclut16_t *lut16 ;

  {
#line 1434
  lut16 = & attrval->data.lut16;
#line 1435
  if (lut16->clut) {
    {
#line 1436
    jas_free((void *)lut16->clut);
#line 1437
    lut16->clut = (jas_iccuint16_t *)0;
    }
  }
#line 1439
  if (lut16->intabs) {
    {
#line 1440
    jas_free((void *)lut16->intabs);
#line 1441
    lut16->intabs = (jas_iccuint16_t **)0;
    }
  }
#line 1443
  if (lut16->intabsbuf) {
    {
#line 1444
    jas_free((void *)lut16->intabsbuf);
#line 1445
    lut16->intabsbuf = (jas_iccuint16_t *)0;
    }
  }
#line 1447
  if (lut16->outtabs) {
    {
#line 1448
    jas_free((void *)lut16->outtabs);
#line 1449
    lut16->outtabs = (jas_iccuint16_t **)0;
    }
  }
#line 1451
  if (lut16->outtabsbuf) {
    {
#line 1452
    jas_free((void *)lut16->outtabsbuf);
#line 1453
    lut16->outtabsbuf = (jas_iccuint16_t *)0;
    }
  }
#line 1456
  return;
}
}
#line 1457 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icclut16_copy(jas_iccattrval_t *attrval , jas_iccattrval_t *othattrval ) 
{ 


  {
  {
#line 1461
  attrval = (jas_iccattrval_t *)0;
#line 1462
  othattrval = (jas_iccattrval_t *)0;
#line 1464
  abort();
  }
#line 1465
  return (-1);
}
}
#line 1468 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icclut16_input(jas_iccattrval_t *attrval , jas_stream_t *in , int cnt ) 
{ 
  int i ;
  int j ;
  int clutsize ;
  jas_icclut16_t *lut16 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  unsigned char *__cil_tmp12 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  long __cil_tmp19 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  long __cil_tmp28 ;
  void *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;

  {
#line 1474
  lut16 = & attrval->data.lut16;
#line 1475
  lut16->clut = (jas_iccuint16_t *)0;
#line 1476
  lut16->intabs = (jas_iccuint16_t **)0;
#line 1477
  lut16->intabsbuf = (jas_iccuint16_t *)0;
#line 1478
  lut16->outtabs = (jas_iccuint16_t **)0;
#line 1479
  lut16->outtabsbuf = (jas_iccuint16_t *)0;
#line 1480
  if (! (in->flags_ & 7)) {
#line 1480
    if (in->rwlimit_ >= 0L) {
#line 1480
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1480
        in->flags_ |= 4;
#line 1480
        tmp___0 = -1;
      } else {
#line 1480
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 1480
      (in->cnt_) --;
#line 1480
      if (in->cnt_ < 0) {
        {
#line 1480
        __cil_tmp11 = jas_stream_fillbuf(in, 1);
#line 1480
        tmp = __cil_tmp11;
        }
      } else {
#line 1480
        __cil_tmp12 = in->ptr_;
#line 1480
        (in->ptr_) ++;
#line 1480
        (in->rwcnt_) ++;
#line 1480
        tmp = (int )*__cil_tmp12;
      }
#line 1480
      tmp___0 = tmp;
    }
#line 1480
    tmp___1 = tmp___0;
  } else {
#line 1480
    tmp___1 = -1;
  }
  {
#line 1480
  __cil_tmp10 = jas_iccgetuint8(in, & lut16->clutlen);
#line 1480
  __cil_tmp9 = jas_iccgetuint8(in, & lut16->numoutchans);
#line 1480
  __cil_tmp8 = jas_iccgetuint8(in, & lut16->numinchans);
  }
#line 1480
  if (__cil_tmp8) {
#line 1484
    goto error;
  } else
#line 1480
  if (__cil_tmp9) {
#line 1484
    goto error;
  } else
#line 1480
  if (__cil_tmp10) {
#line 1484
    goto error;
  } else
#line 1480
  if (tmp___1 == -1) {
#line 1484
    goto error;
  }
#line 1485
  i = 0;
  {
#line 1485
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1485
    if (! (i < 3)) {
#line 1485
      goto while_break;
    }
#line 1486
    j = 0;
    {
#line 1486
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1486
      if (! (j < 3)) {
#line 1486
        goto while_break___0;
      }
      {
#line 1487
      __cil_tmp16 = jas_iccgetsint32(in, & lut16->e[i][j]);
      }
#line 1487
      if (__cil_tmp16) {
#line 1488
        goto error;
      }
#line 1486
      j ++;
    }
    while_break___9: /* CIL Label */ ;
    }
    while_break___0: 
#line 1485
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1491
  __cil_tmp18 = jas_iccgetuint16(in, & lut16->numouttabents);
#line 1491
  __cil_tmp17 = jas_iccgetuint16(in, & lut16->numintabents);
  }
#line 1491
  if (__cil_tmp17) {
#line 1493
    goto error;
  } else
#line 1491
  if (__cil_tmp18) {
#line 1493
    goto error;
  }
  {
#line 1494
  __cil_tmp19 = jas_iccpowi((int )lut16->clutlen, (int )lut16->numinchans);
#line 1494
  clutsize = (int )(__cil_tmp19 * (long )lut16->numoutchans);
#line 1495
  tmp___2 = jas_alloc2((size_t )lut16->numinchans, sizeof(jas_iccuint16_t *));
#line 1495
  lut16->intabs = (jas_iccuint16_t **)tmp___2;
#line 1495
  tmp___3 = jas_alloc3((size_t )lut16->numinchans, lut16->numintabents, sizeof(jas_iccuint16_t ));
#line 1495
  lut16->intabsbuf = (jas_iccuint16_t *)tmp___3;
#line 1495
  tmp___4 = jas_alloc2((size_t )clutsize, sizeof(jas_iccuint16_t ));
#line 1495
  lut16->clut = (jas_iccuint16_t *)tmp___4;
  }
#line 1495
  if (! lut16->clut) {
#line 1500
    goto error;
  } else
#line 1495
  if (! lut16->intabsbuf) {
#line 1500
    goto error;
  } else
#line 1495
  if (! lut16->intabs) {
#line 1500
    goto error;
  }
#line 1501
  i = 0;
  {
#line 1501
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1501
    if (! (i < (int )lut16->numinchans)) {
#line 1501
      goto while_break___1;
    }
#line 1502
    *(lut16->intabs + i) = lut16->intabsbuf + (unsigned long )i * lut16->numintabents;
#line 1501
    i ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___1: 
  {
#line 1503
  tmp___5 = jas_alloc2((size_t )lut16->numoutchans, sizeof(jas_iccuint16_t *));
#line 1503
  lut16->outtabs = (jas_iccuint16_t **)tmp___5;
#line 1503
  tmp___6 = jas_alloc3((size_t )lut16->numoutchans, lut16->numouttabents, sizeof(jas_iccuint16_t ));
#line 1503
  lut16->outtabsbuf = (jas_iccuint16_t *)tmp___6;
  }
#line 1503
  if (! lut16->outtabsbuf) {
#line 1507
    goto error;
  } else
#line 1503
  if (! lut16->outtabs) {
#line 1507
    goto error;
  }
#line 1508
  i = 0;
  {
#line 1508
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1508
    if (! (i < (int )lut16->numoutchans)) {
#line 1508
      goto while_break___2;
    }
#line 1509
    *(lut16->outtabs + i) = lut16->outtabsbuf + (unsigned long )i * lut16->numouttabents;
#line 1508
    i ++;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___2: 
#line 1510
  i = 0;
  {
#line 1510
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1510
    if (! (i < (int )lut16->numinchans)) {
#line 1510
      goto while_break___3;
    }
#line 1511
    j = 0;
    {
#line 1511
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 1511
      if (! (j < (int )lut16->numintabents)) {
#line 1511
        goto while_break___4;
      }
      {
#line 1512
      __cil_tmp25 = jas_iccgetuint16(in, *(lut16->intabs + i) + j);
      }
#line 1512
      if (__cil_tmp25) {
#line 1513
        goto error;
      }
#line 1511
      j ++;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___4: 
#line 1510
    i ++;
  }
  while_break___12: /* CIL Label */ ;
  }
  while_break___3: 
#line 1516
  i = 0;
  {
#line 1516
  while (1) {
    while_continue___5: /* CIL Label */ ;

#line 1516
    if (! (i < (int )lut16->numoutchans)) {
#line 1516
      goto while_break___5;
    }
#line 1517
    j = 0;
    {
#line 1517
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 1517
      if (! (j < (int )lut16->numouttabents)) {
#line 1517
        goto while_break___6;
      }
      {
#line 1518
      __cil_tmp26 = jas_iccgetuint16(in, *(lut16->outtabs + i) + j);
      }
#line 1518
      if (__cil_tmp26) {
#line 1519
        goto error;
      }
#line 1517
      j ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___6: 
#line 1516
    i ++;
  }
  while_break___14: /* CIL Label */ ;
  }
  while_break___5: 
#line 1522
  i = 0;
  {
#line 1522
  while (1) {
    while_continue___7: /* CIL Label */ ;

#line 1522
    if (! (i < clutsize)) {
#line 1522
      goto while_break___7;
    }
    {
#line 1523
    __cil_tmp27 = jas_iccgetuint16(in, lut16->clut + i);
    }
#line 1523
    if (__cil_tmp27) {
#line 1524
      goto error;
    }
#line 1522
    i ++;
  }
  while_break___16: /* CIL Label */ ;
  }
  while_break___7: 
  {
#line 1526
  __cil_tmp28 = jas_iccpowi((int )lut16->clutlen, (int )lut16->numinchans);
  }
#line 1526
  if ((int )(44UL + 2UL * (((unsigned long )lut16->numinchans * lut16->numintabents + (unsigned long )lut16->numoutchans * lut16->numouttabents) + (unsigned long )(__cil_tmp28 * (long )lut16->numoutchans))) != cnt) {
#line 1530
    goto error;
  }
#line 1531
  return (0);
  error: 
  {
#line 1533
  jas_icclut16_destroy(attrval);
  }
#line 1534
  return (-1);
}
}
#line 1537 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icclut16_getsize(jas_iccattrval_t *attrval ) 
{ 
  jas_icclut16_t *lut16 ;
  long __cil_tmp3 ;

  {
  {
#line 1539
  lut16 = & attrval->data.lut16;
#line 1540
  __cil_tmp3 = jas_iccpowi((int )lut16->clutlen, (int )lut16->numinchans);
  }
#line 1540
  return ((int )(44UL + 2UL * (((unsigned long )lut16->numinchans * lut16->numintabents + (unsigned long )lut16->numoutchans * lut16->numouttabents) + (unsigned long )(__cil_tmp3 * (long )lut16->numoutchans))));
}
}
#line 1545 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_icclut16_output(jas_iccattrval_t *attrval , jas_stream_t *out ) 
{ 
  jas_icclut16_t *lut16 ;
  int i ;
  int j ;
  int n ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp12 ;
  unsigned char *__cil_tmp13 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp17 ;
  unsigned char *__cil_tmp18 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int __cil_tmp22 ;
  unsigned char *__cil_tmp23 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  long __cil_tmp32 ;
  int __cil_tmp33 ;

  {
#line 1547
  lut16 = & attrval->data.lut16;
#line 1551
  if (! (out->flags_ & 7)) {
#line 1551
    if (out->rwlimit_ >= 0L) {
#line 1551
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1551
        out->flags_ |= 4;
#line 1551
        tmp___9 = -1;
      } else {
#line 1551
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 1551
      (out->cnt_) --;
#line 1551
      out->bufmode_ |= 32;
#line 1551
      if (out->cnt_ < 0) {
        {
#line 1551
        __cil_tmp22 = jas_stream_flushbuf(out, 0);
#line 1551
        tmp___8 = __cil_tmp22;
        }
      } else {
#line 1551
        __cil_tmp23 = out->ptr_;
#line 1551
        (out->ptr_) ++;
#line 1551
        *__cil_tmp23 = (unsigned char)0;
#line 1551
        (out->rwcnt_) ++;
#line 1551
        tmp___8 = (int )*__cil_tmp23;
      }
#line 1551
      tmp___9 = tmp___8;
    }
#line 1551
    tmp___10 = tmp___9;
  } else {
#line 1551
    tmp___10 = -1;
  }
#line 1551
  if (! (out->flags_ & 7)) {
#line 1551
    if (out->rwlimit_ >= 0L) {
#line 1551
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1551
        out->flags_ |= 4;
#line 1551
        tmp___6 = -1;
      } else {
#line 1551
        goto _L___4;
      }
    } else {
      _L___4: /* CIL Label */ 
#line 1551
      (out->cnt_) --;
#line 1551
      out->bufmode_ |= 32;
#line 1551
      if (out->cnt_ < 0) {
        {
#line 1551
        __cil_tmp17 = jas_stream_flushbuf(out, (int )lut16->clutlen);
#line 1551
        tmp___5 = __cil_tmp17;
        }
      } else {
#line 1551
        __cil_tmp18 = out->ptr_;
#line 1551
        (out->ptr_) ++;
#line 1551
        *__cil_tmp18 = lut16->clutlen;
#line 1551
        (out->rwcnt_) ++;
#line 1551
        tmp___5 = (int )*__cil_tmp18;
      }
#line 1551
      tmp___6 = tmp___5;
    }
#line 1551
    tmp___7 = tmp___6;
  } else {
#line 1551
    tmp___7 = -1;
  }
#line 1551
  if (! (out->flags_ & 7)) {
#line 1551
    if (out->rwlimit_ >= 0L) {
#line 1551
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1551
        out->flags_ |= 4;
#line 1551
        tmp___3 = -1;
      } else {
#line 1551
        goto _L___5;
      }
    } else {
      _L___5: /* CIL Label */ 
#line 1551
      (out->cnt_) --;
#line 1551
      out->bufmode_ |= 32;
#line 1551
      if (out->cnt_ < 0) {
        {
#line 1551
        __cil_tmp12 = jas_stream_flushbuf(out, (int )lut16->numoutchans);
#line 1551
        tmp___2 = __cil_tmp12;
        }
      } else {
#line 1551
        __cil_tmp13 = out->ptr_;
#line 1551
        (out->ptr_) ++;
#line 1551
        *__cil_tmp13 = lut16->numoutchans;
#line 1551
        (out->rwcnt_) ++;
#line 1551
        tmp___2 = (int )*__cil_tmp13;
      }
#line 1551
      tmp___3 = tmp___2;
    }
#line 1551
    tmp___4 = tmp___3;
  } else {
#line 1551
    tmp___4 = -1;
  }
#line 1551
  if (! (out->flags_ & 7)) {
#line 1551
    if (out->rwlimit_ >= 0L) {
#line 1551
      if (out->rwcnt_ >= out->rwlimit_) {
#line 1551
        out->flags_ |= 4;
#line 1551
        tmp___0 = -1;
      } else {
#line 1551
        goto _L___6;
      }
    } else {
      _L___6: /* CIL Label */ 
#line 1551
      (out->cnt_) --;
#line 1551
      out->bufmode_ |= 32;
#line 1551
      if (out->cnt_ < 0) {
        {
#line 1551
        __cil_tmp7 = jas_stream_flushbuf(out, (int )lut16->numinchans);
#line 1551
        tmp = __cil_tmp7;
        }
      } else {
#line 1551
        __cil_tmp8 = out->ptr_;
#line 1551
        (out->ptr_) ++;
#line 1551
        *__cil_tmp8 = lut16->numinchans;
#line 1551
        (out->rwcnt_) ++;
#line 1551
        tmp = (int )*__cil_tmp8;
      }
#line 1551
      tmp___0 = tmp;
    }
#line 1551
    tmp___1 = tmp___0;
  } else {
#line 1551
    tmp___1 = -1;
  }
#line 1551
  if (tmp___1 == -1) {
#line 1555
    goto error;
  } else
#line 1551
  if (tmp___4 == -1) {
#line 1555
    goto error;
  } else
#line 1551
  if (tmp___7 == -1) {
#line 1555
    goto error;
  } else
#line 1551
  if (tmp___10 == -1) {
#line 1555
    goto error;
  }
#line 1556
  i = 0;
  {
#line 1556
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1556
    if (! (i < 3)) {
#line 1556
      goto while_break;
    }
#line 1557
    j = 0;
    {
#line 1557
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1557
      if (! (j < 3)) {
#line 1557
        goto while_break___0;
      }
      {
#line 1558
      __cil_tmp27 = jas_iccputsint(out, 4, (long long )lut16->e[i][j]);
      }
#line 1558
      if (__cil_tmp27) {
#line 1559
        goto error;
      }
#line 1557
      j ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___0: 
#line 1556
    i ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1562
  __cil_tmp29 = jas_iccputuint(out, 2, (unsigned long long )lut16->numouttabents);
#line 1562
  __cil_tmp28 = jas_iccputuint(out, 2, (unsigned long long )lut16->numintabents);
  }
#line 1562
  if (__cil_tmp28) {
#line 1564
    goto error;
  } else
#line 1562
  if (__cil_tmp29) {
#line 1564
    goto error;
  }
#line 1565
  n = (int )((unsigned long )lut16->numinchans * lut16->numintabents);
#line 1566
  i = 0;
  {
#line 1566
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 1566
    if (! (i < n)) {
#line 1566
      goto while_break___1;
    }
    {
#line 1567
    __cil_tmp30 = jas_iccputuint(out, 2, (unsigned long long )*(lut16->intabsbuf + i));
    }
#line 1567
    if (__cil_tmp30) {
#line 1568
      goto error;
    }
#line 1566
    i ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  while_break___1: 
#line 1570
  n = (int )((unsigned long )lut16->numoutchans * lut16->numouttabents);
#line 1571
  i = 0;
  {
#line 1571
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 1571
    if (! (i < n)) {
#line 1571
      goto while_break___2;
    }
    {
#line 1572
    __cil_tmp31 = jas_iccputuint(out, 2, (unsigned long long )*(lut16->outtabsbuf + i));
    }
#line 1572
    if (__cil_tmp31) {
#line 1573
      goto error;
    }
#line 1571
    i ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  while_break___2: 
  {
#line 1575
  __cil_tmp32 = jas_iccpowi((int )lut16->clutlen, (int )lut16->numinchans);
#line 1575
  n = (int )(__cil_tmp32 * (long )lut16->numoutchans);
#line 1576
  i = 0;
  }
  {
#line 1576
  while (1) {
    while_continue___3: /* CIL Label */ ;

#line 1576
    if (! (i < n)) {
#line 1576
      goto while_break___3;
    }
    {
#line 1577
    __cil_tmp33 = jas_iccputuint(out, 2, (unsigned long long )*(lut16->clut + i));
    }
#line 1577
    if (__cil_tmp33) {
#line 1578
      goto error;
    }
#line 1576
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break___3: ;
#line 1580
  return (0);
  error: 
#line 1582
  return (-1);
}
}
#line 1585 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static void jas_icclut16_dump(jas_iccattrval_t *attrval , FILE *out ) 
{ 
  jas_icclut16_t *lut16 ;
  int i ;
  int j ;

  {
  {
#line 1587
  lut16 = & attrval->data.lut16;
#line 1590
  fprintf(out, "numinchans=%d, numoutchans=%d, clutlen=%d\n\323\033\225U", (int )lut16->numinchans,
          (int )lut16->numoutchans, (int )lut16->clutlen);
#line 1592
  i = 0;
  }
  {
#line 1592
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1592
    if (! (i < 3)) {
#line 1592
      goto while_break;
    }
#line 1593
    j = 0;
    {
#line 1593
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 1593
      if (! (j < 3)) {
#line 1593
        goto while_break___0;
      }
      {
#line 1594
      fprintf(out, "e[%d][%d]=%f ", i, j, (double )lut16->e[i][j] / 65536.);
#line 1593
      j ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 1596
    fprintf(out, "\n");
#line 1592
    i ++;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1598
  fprintf(out, "numintabents=%lu, numouttabents=%lu\n\225U", lut16->numintabents,
          lut16->numouttabents);
  }
#line 1601
  return;
}
}
#line 1606 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint(jas_stream_t *in , int n , unsigned long long *val ) 
{ 
  int i ;
  int c ;
  unsigned long long v ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1611
  v = 0ULL;
#line 1612
  i = n;
  {
#line 1612
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1612
    if (! (i > 0)) {
#line 1612
      goto while_break;
    }
#line 1613
    if (! (in->flags_ & 7)) {
#line 1613
      if (in->rwlimit_ >= 0L) {
#line 1613
        if (in->rwcnt_ >= in->rwlimit_) {
#line 1613
          in->flags_ |= 4;
#line 1613
          tmp___0 = -1;
        } else {
#line 1613
          goto _L___3;
        }
      } else {
        _L___3: /* CIL Label */ 
#line 1613
        (in->cnt_) --;
#line 1613
        if (in->cnt_ < 0) {
          {
#line 1613
          __cil_tmp7 = jas_stream_fillbuf(in, 1);
#line 1613
          tmp = __cil_tmp7;
          }
        } else {
#line 1613
          __cil_tmp8 = in->ptr_;
#line 1613
          (in->ptr_) ++;
#line 1613
          (in->rwcnt_) ++;
#line 1613
          tmp = (int )*__cil_tmp8;
        }
#line 1613
        tmp___0 = tmp;
      }
#line 1613
      tmp___1 = tmp___0;
    } else {
#line 1613
      tmp___1 = -1;
    }
#line 1613
    c = tmp___1;
#line 1613
    if (c == -1) {
#line 1614
      return (-1);
    }
#line 1615
    v = (v << 8) | (unsigned long long )c;
#line 1612
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 1617
  *val = v;
#line 1618
  return (0);
}
}
#line 1621 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint8(jas_stream_t *in , jas_iccuint8_t *val ) 
{ 
  int c ;
  int __cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1624
  if (! (in->flags_ & 7)) {
#line 1624
    if (in->rwlimit_ >= 0L) {
#line 1624
      if (in->rwcnt_ >= in->rwlimit_) {
#line 1624
        in->flags_ |= 4;
#line 1624
        tmp___0 = -1;
      } else {
#line 1624
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
#line 1624
      (in->cnt_) --;
#line 1624
      if (in->cnt_ < 0) {
        {
#line 1624
        __cil_tmp4 = jas_stream_fillbuf(in, 1);
#line 1624
        tmp = __cil_tmp4;
        }
      } else {
#line 1624
        __cil_tmp5 = in->ptr_;
#line 1624
        (in->ptr_) ++;
#line 1624
        (in->rwcnt_) ++;
#line 1624
        tmp = (int )*__cil_tmp5;
      }
#line 1624
      tmp___0 = tmp;
    }
#line 1624
    tmp___1 = tmp___0;
  } else {
#line 1624
    tmp___1 = -1;
  }
#line 1624
  c = tmp___1;
#line 1624
  if (c == -1) {
#line 1625
    return (-1);
  }
#line 1626
  *val = (jas_iccuint8_t )c;
#line 1627
  return (0);
}
}
#line 1630 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint16(jas_stream_t *in , jas_iccuint16_t *val ) 
{ 
  unsigned long long tmp ;
  int __cil_tmp4 ;

  {
  {
#line 1633
  __cil_tmp4 = jas_iccgetuint(in, 2, & tmp);
  }
#line 1633
  if (__cil_tmp4) {
#line 1634
    return (-1);
  }
#line 1635
  *val = (jas_iccuint16_t )tmp;
#line 1636
  return (0);
}
}
#line 1639 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccgetsint32(jas_stream_t *in , jas_iccsint32_t *val ) 
{ 
  unsigned long long tmp ;
  int __cil_tmp4 ;
  long long tmp___8 ;

  {
  {
#line 1642
  __cil_tmp4 = jas_iccgetuint(in, 4, & tmp);
  }
#line 1642
  if (__cil_tmp4) {
#line 1643
    return (-1);
  }
#line 1644
  if (tmp & 2147483648ULL) {
#line 1644
    tmp___8 = - ((long long )((~ tmp & 2147483647ULL) + 1ULL));
  } else {
#line 1644
    tmp___8 = (long long )tmp;
  }
#line 1644
  *val = (jas_iccsint32_t )tmp___8;
#line 1646
  return (0);
}
}
#line 1649 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint32(jas_stream_t *in , jas_iccuint32_t *val ) 
{ 
  unsigned long long tmp ;
  int __cil_tmp4 ;

  {
  {
#line 1652
  __cil_tmp4 = jas_iccgetuint(in, 4, & tmp);
  }
#line 1652
  if (__cil_tmp4) {
#line 1653
    return (-1);
  }
#line 1654
  *val = (jas_iccuint32_t )tmp;
#line 1655
  return (0);
}
}
#line 1658 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccgetuint64(jas_stream_t *in , jas_iccuint64_t *val ) 
{ 
  unsigned long long tmp ;
  int __cil_tmp4 ;

  {
  {
#line 1661
  __cil_tmp4 = jas_iccgetuint(in, 8, & tmp);
  }
#line 1661
  if (__cil_tmp4) {
#line 1662
    return (-1);
  }
#line 1663
  *val = (jas_iccuint64_t )tmp;
#line 1664
  return (0);
}
}
#line 1667 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccputuint(jas_stream_t *out , int n , unsigned long long val ) 
{ 
  int i ;
  int c ;
  int __cil_tmp6 ;
  unsigned char *__cil_tmp7 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1671
  i = n;
  {
#line 1671
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1671
    if (! (i > 0)) {
#line 1671
      goto while_break;
    }
#line 1672
    c = (int )((val >> 8 * (i - 1)) & 255ULL);
#line 1673
    if (! (out->flags_ & 7)) {
#line 1673
      if (out->rwlimit_ >= 0L) {
#line 1673
        if (out->rwcnt_ >= out->rwlimit_) {
#line 1673
          out->flags_ |= 4;
#line 1673
          tmp___0 = -1;
        } else {
#line 1673
          goto _L___3;
        }
      } else {
        _L___3: /* CIL Label */ 
#line 1673
        (out->cnt_) --;
#line 1673
        out->bufmode_ |= 32;
#line 1673
        if (out->cnt_ < 0) {
          {
#line 1673
          __cil_tmp6 = jas_stream_flushbuf(out, (int )((unsigned char )c));
#line 1673
          tmp = __cil_tmp6;
          }
        } else {
#line 1673
          __cil_tmp7 = out->ptr_;
#line 1673
          (out->ptr_) ++;
#line 1673
          *__cil_tmp7 = (unsigned char )c;
#line 1673
          (out->rwcnt_) ++;
#line 1673
          tmp = (int )*__cil_tmp7;
        }
#line 1673
        tmp___0 = tmp;
      }
#line 1673
      tmp___1 = tmp___0;
    } else {
#line 1673
      tmp___1 = -1;
    }
#line 1673
    if (tmp___1 == -1) {
#line 1674
      return (-1);
    }
#line 1671
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1676
  return (0);
}
}
#line 1679 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static int jas_iccputsint(jas_stream_t *out , int n , long long val ) 
{ 
  unsigned long long tmp ;
  long long tmp___9 ;
  int __cil_tmp6 ;

  {
#line 1682
  if (val < 0LL) {
    {
#line 1682
    abort();
#line 1682
    tmp___9 = 0LL;
    }
  } else {
#line 1682
    tmp___9 = val;
  }
  {
#line 1682
  tmp = (unsigned long long )tmp___9;
#line 1683
  __cil_tmp6 = jas_iccputuint(out, n, tmp);
  }
#line 1683
  return (__cil_tmp6);
}
}
#line 1690 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static char *jas_iccsigtostr(int sig , char *buf ) 
{ 
  int n ;
  int c ;
  char *bufptr ;
  unsigned short const   **__cil_tmp6 ;
  unsigned short const   **__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 1695
  bufptr = buf;
#line 1696
  n = 4;
  {
#line 1696
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1696
    if (! (n > 0)) {
#line 1696
      goto while_break;
    }
    {
#line 1697
    c = (sig >> 24) & 255;
#line 1698
    __cil_tmp7 = __ctype_b_loc();
#line 1698
    __cil_tmp6 = __ctype_b_loc();
    }
#line 1698
    if ((int )*(*__cil_tmp6 + c) & 1024) {
#line 1699
      __cil_tmp8 = bufptr;
#line 1699
      bufptr ++;
#line 1699
      *__cil_tmp8 = (char )c;
    } else
#line 1698
    if ((int )*(*__cil_tmp7 + c) & 2048) {
#line 1699
      __cil_tmp8 = bufptr;
#line 1699
      bufptr ++;
#line 1699
      *__cil_tmp8 = (char )c;
    }
#line 1701
    sig <<= 8;
#line 1696
    n --;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
#line 1703
  *bufptr = (char )'\000';
#line 1704
  return (buf);
}
}
#line 1707 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static long jas_iccpadtomult(long x , long y ) 
{ 


  {
#line 1709
  return ((((x + y) - 1L) / y) * y);
}
}
#line 1712 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
static long jas_iccpowi(int x , int n ) 
{ 
  long y ;

  {
#line 1715
  y = 1L;
  {
#line 1716
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1716
    n --;
#line 1716
    if (! (n >= 0)) {
#line 1716
      goto while_break;
    }
#line 1717
    y *= (long )x;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 1718
  return (y);
}
}
#line 1722 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
jas_iccprof_t *jas_iccprof_createfrombuf(unsigned char *buf , int len ) 
{ 
  jas_stream_t *in ;
  jas_iccprof_t *prof ;

  {
  {
#line 1726
  in = jas_stream_memopen((char *)buf, len);
  }
#line 1726
  if (! in) {
#line 1727
    goto error;
  }
  {
#line 1728
  prof = jas_iccprof_load(in);
  }
#line 1728
  if (! prof) {
#line 1729
    goto error;
  }
  {
#line 1730
  jas_stream_close(in);
  }
#line 1731
  return (prof);
  error: 
#line 1733
  if (in) {
    {
#line 1734
    jas_stream_close(in);
    }
  }
#line 1735
  return ((jas_iccprof_t *)0);
}
}
#line 1738 "/root/patchweave/5/src/libjasper/base/jas_icc.c"
jas_iccprof_t *jas_iccprof_createfromclrspc(int clrspc ) 
{ 
  jas_iccprof_t *prof ;

  {
#line 1742
  if (clrspc == ((4 << 8) | 1)) {
#line 1742
    goto case_exp;
  }
#line 1746
  if (clrspc == ((3 << 8) | 1)) {
#line 1746
    goto case_exp___0;
  }
#line 1750
  goto switch_default;
  case_exp: 
  {
#line 1743
  prof = jas_iccprof_createfrombuf(jas_iccprofdata_srgb, jas_iccprofdata_srgblen);
  }
#line 1745
  goto switch_break;
  case_exp___0: 
  {
#line 1747
  prof = jas_iccprof_createfrombuf(jas_iccprofdata_sgray, jas_iccprofdata_sgraylen);
  }
#line 1749
  goto switch_break;
  switch_default: 
#line 1751
  prof = (jas_iccprof_t *)0;
#line 1752
  goto switch_break;
  switch_break: ;
#line 1754
  return (prof);
}
}
#line 113 "/root/patchweave/5/src/libjasper/include/jasper/jas_getopt.h"
int jas_optind ;
#line 116
char *jas_optarg ;
#line 119
int jas_opterr ;
#line 126
int jas_getopt(int argc , char **argv , jas_opt_t *opts___0 ) ;
#line 85 "/root/patchweave/5/src/libjasper/base/jas_getopt.c"
int jas_optind  =    0;
#line 86 "/root/patchweave/5/src/libjasper/base/jas_getopt.c"
int jas_opterr  =    1;
#line 87 "/root/patchweave/5/src/libjasper/base/jas_getopt.c"
char *jas_optarg  =    (char *)0;
#line 93 "/root/patchweave/5/src/libjasper/base/jas_getopt.c"
static jas_opt_t *jas_optlookup(jas_opt_t *opts___0 , char *name ) 
{ 
  jas_opt_t *opt ;
  int __cil_tmp4 ;

  {
#line 97
  opt = opts___0;
  {
#line 97
  while (1) {
    while_continue: /* CIL Label */ ;

#line 97
    if (opt->name) {
#line 97
      if (! (opt->id >= 0)) {
#line 97
        goto while_break;
      }
    } else {
#line 97
      goto while_break;
    }
    {
#line 98
    __cil_tmp4 = strcmp((char const   *)opt->name, (char const   *)name);
    }
#line 98
    if (! __cil_tmp4) {
#line 99
      return (opt);
    }
#line 97
    opt ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 102
  return ((jas_opt_t *)0);
}
}
#line 105 "/root/patchweave/5/src/libjasper/base/jas_getopt.c"
int jas_getopt(int argc , char **argv , jas_opt_t *opts___0 ) 
{ 
  char *cp ;
  int id ;
  int hasarg ;
  jas_opt_t *opt ;
  char *s ;
  int tmp ;
  unsigned long __cil_tmp11 ;

  {
#line 113
  if (! jas_optind) {
#line 114
    if (1 < argc) {
#line 114
      tmp = 1;
    } else {
#line 114
      tmp = argc;
    }
#line 114
    jas_optind = tmp;
  }
  {
#line 116
  while (1) {
    while_continue: /* CIL Label */ ;

#line 116
    if (! (jas_optind < argc)) {
#line 116
      goto while_break;
    }
#line 117
    cp = *(argv + jas_optind);
#line 117
    s = cp;
#line 118
    if ((int )*cp == 45) {
#line 120
      jas_optind ++;
#line 121
      cp ++;
#line 121
      if ((int )*cp == 45) {
#line 123
        cp ++;
#line 124
        if ((int )*cp == 0) {
#line 126
          return (-1);
        }
        {
#line 128
        opt = jas_optlookup(opts___0, cp);
        }
#line 128
        if (! opt) {
#line 129
          if (jas_opterr) {
            {
#line 130
            jas_eprintf("unknown long option %s\n", s);
            }
          }
#line 132
          return ('?');
        }
#line 134
        hasarg = (opt->flags & 1) != 0;
#line 135
        id = opt->id;
      } else {
        {
#line 138
        opt = jas_optlookup(opts___0, cp);
#line 138
        __cil_tmp11 = strlen((char const   *)cp);
        }
#line 138
        if (! opt) {
          _L: 
#line 140
          if (jas_opterr) {
            {
#line 141
            jas_eprintf("unknown short option %s\n\230\001", s);
            }
          }
#line 143
          return ('?');
        } else
#line 138
        if (__cil_tmp11 != 1UL) {
#line 138
          goto _L;
        }
#line 145
        hasarg = (opt->flags & 1) != 0;
#line 146
        id = opt->id;
      }
#line 148
      if (hasarg) {
#line 150
        if (jas_optind >= argc) {
#line 151
          if (jas_opterr) {
            {
#line 152
            jas_eprintf("missing argument for option %s\n", s);
            }
          }
#line 154
          return ('?');
        }
#line 156
        jas_optarg = *(argv + jas_optind);
#line 157
        jas_optind ++;
      } else {
#line 160
        jas_optarg = (char *)0;
      }
#line 162
      return (id);
    } else {
#line 165
      return (-1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 168
  return (-1);
}
}
#line 76 "/root/patchweave/5/src/libjasper/base/jas_debug.c"
static int jas_dbglevel  =    0;
#line 84 "/root/patchweave/5/src/libjasper/base/jas_debug.c"
int jas_setdbglevel(int dbglevel ) 
{ 
  int olddbglevel ;

  {
#line 89
  olddbglevel = jas_dbglevel;
#line 92
  jas_dbglevel = dbglevel;
#line 95
  return (olddbglevel);
}
}
#line 99 "/root/patchweave/5/src/libjasper/base/jas_debug.c"
int jas_getdbglevel(void) 
{ 


  {
#line 101
  return (jas_dbglevel);
}
}
#line 109 "/root/patchweave/5/src/libjasper/base/jas_debug.c"
int jas_eprintf(char const   *fmt  , ...) 
{ 
  int ret ;
  va_list ap ;

  {
  {
#line 114
  __builtin_va_start((__builtin_va_list )((void *)ap), fmt);
#line 115
  ret = vfprintf(stderr, fmt, (__gnuc_va_list )((void *)ap));
#line 116
  __builtin_va_end((__builtin_va_list )((void *)ap));
  }
#line 117
  return (ret);
}
}
#line 121 "/root/patchweave/5/src/libjasper/base/jas_debug.c"
int jas_memdump(FILE *out , void *data , size_t len ) 
{ 
  size_t i ;
  size_t j ;
  unsigned char *dp ;

  {
#line 126
  dp = (unsigned char *)data;
#line 127
  i = (size_t )0;
  {
#line 127
  while (1) {
    while_continue: /* CIL Label */ ;

#line 127
    if (! (i < len)) {
#line 127
      goto while_break;
    }
    {
#line 128
    fprintf(out, "%04zx:\377\377\230\001", i);
#line 129
    j = (size_t )0;
    }
    {
#line 129
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 129
      if (! (j < 16UL)) {
#line 129
        goto while_break___0;
      }
#line 130
      if (i + j < len) {
        {
#line 131
        fprintf(out, " %02xU", (int )*(dp + (i + j)));
        }
      }
#line 129
      j ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: 
    {
#line 134
    fprintf(out, "\n");
#line 127
    i += 16UL;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  while_break: ;
#line 136
  return (0);
}
}
#line 145 "/root/patchweave/5/src/libjasper/base/jas_debug.c"
static char message[382]  ;
#line 143 "/root/patchweave/5/src/libjasper/base/jas_debug.c"
void jas_deprecated(char const   *s ) 
{ 


  {
  {
#line 145
  strcpy(message, "WARNING!!! WARNING!!! WARNING!!! WARNING!!! WARNING!!! WARNING!!!\nWARNING!!! WARNING!!! WARNING!!! WARNING!!! WARNING!!! WARNING!!!\nWARNING!!! WARNING!!! WARNING!!! WARNING!!! WARNING!!! WARNING!!!\nYOUR CODE IS RELYING ON DEPRECATED FUNCTIONALTIY IN THE JASPER LIBRARY.\nTHIS FUNCTIONALITY WILL BE REMOVED IN THE NEAR FUTURE.\nPLEASE FIX THIS PROBLEM BEFORE YOUR CODE STOPS WORKING!\n");
#line 153
  jas_eprintf("%s", message);
#line 154
  jas_eprintf("The specific problem is as follows:\n%s\n", s);
  }
#line 156
  return;
}
}
#line 80 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmprof_t *jas_cmprof_create(void) ;
#line 81
static void jas_cmshapmatlut_cleanup(jas_cmshapmatlut_t *lut ) ;
#line 82
static jas_cmreal_t jas_cmshapmatlut_lookup(jas_cmshapmatlut_t *lut , jas_cmreal_t x ) ;
#line 84
static void jas_cmpxform_destroy(jas_cmpxform_t *pxform ) ;
#line 85
static jas_cmpxform_t *jas_cmpxform_copy(jas_cmpxform_t *pxform ) ;
#line 87
static void jas_cmshapmat_destroy(jas_cmpxform_t *pxform ) ;
#line 88
static int jas_cmshapmat_apply(jas_cmpxform_t *pxform , jas_cmreal_t *in , jas_cmreal_t *out ,
                               int cnt ) ;
#line 91
static int jas_cmputint(long **bufptr , int sgnd , int prec , long val ) ;
#line 92
static int jas_cmgetint(long **bufptr , int sgnd , int prec , long *val ) ;
#line 93
static int jas_cmpxformseq_append(jas_cmpxformseq_t *pxformseq , jas_cmpxformseq_t *othpxformseq ) ;
#line 95
static int jas_cmpxformseq_appendcnvt(jas_cmpxformseq_t *pxformseq , int dstclrspc ,
                                      int srcclrspc ) ;
#line 97
static int jas_cmpxformseq_resize(jas_cmpxformseq_t *pxformseq , int n ) ;
#line 99
static int mono(jas_iccprof_t *iccprof , int op , jas_cmpxformseq_t **retpxformseq ) ;
#line 100
static int triclr(jas_iccprof_t *iccprof , int op , jas_cmpxformseq_t **retpxformseq ) ;
#line 102
static void jas_cmpxformseq_destroy(jas_cmpxformseq_t *pxformseq ) ;
#line 103
static int jas_cmpxformseq_delete(jas_cmpxformseq_t *pxformseq , int i ) ;
#line 104
static jas_cmpxformseq_t *jas_cmpxformseq_create(void) ;
#line 105
static jas_cmpxformseq_t *jas_cmpxformseq_copy(jas_cmpxformseq_t *pxformseq ) ;
#line 106
static int jas_cmshapmat_invmat(jas_cmreal_t (*out)[4] , jas_cmreal_t (*in)[4] ) ;
#line 107
static int jas_cmpxformseq_insertpxform(jas_cmpxformseq_t *pxformseq , int i , jas_cmpxform_t *pxform ) ;
#line 132
static int icctoclrspc(int iccclrspc , int refflag ) ;
#line 133
static jas_cmpxform_t *jas_cmpxform_create0(void) ;
#line 134
static jas_cmpxform_t *jas_cmpxform_createshapmat(void) ;
#line 135
static void jas_cmshapmatlut_init(jas_cmshapmatlut_t *lut ) ;
#line 136
static int jas_cmshapmatlut_set(jas_cmshapmatlut_t *lut , jas_icccurv_t *curv ) ;
#line 138 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmpxformops_t shapmat_ops  =    {& jas_cmshapmat_destroy, & jas_cmshapmat_apply, (void (*)(struct jas_cmpxform_s * ))0};
#line 139
static jas_cmprof_t *jas_cmprof_createsycc(void) ;
#line 145 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
jas_cmprof_t *jas_cmprof_createfromclrspc(int clrspc ) 
{ 
  jas_iccprof_t *iccprof ;
  jas_cmprof_t *prof ;

  {
#line 150
  iccprof = (jas_iccprof_t *)0;
#line 151
  prof = (jas_cmprof_t *)0;
#line 153
  if (clrspc == ((5 << 8) | 1)) {
#line 153
    goto case_exp;
  }
#line 157
  goto switch_default;
  case_exp: 
  {
#line 154
  prof = jas_cmprof_createsycc();
  }
#line 154
  if (! prof) {
#line 155
    goto error;
  }
#line 156
  goto switch_break;
  switch_default: 
  {
#line 158
  iccprof = jas_iccprof_createfromclrspc(clrspc);
  }
#line 158
  if (! iccprof) {
#line 159
    goto error;
  }
  {
#line 160
  prof = jas_cmprof_createfromiccprof(iccprof);
  }
#line 160
  if (! prof) {
#line 161
    goto error;
  }
  {
#line 162
  jas_iccprof_destroy(iccprof);
#line 163
  iccprof = (jas_iccprof_t *)0;
  }
#line 164
  if (! (! (clrspc & 255))) {
#line 165
    prof->clrspc = clrspc;
  }
#line 166
  goto switch_break;
  switch_break: ;
#line 168
  return (prof);
  error: 
#line 170
  if (iccprof) {
    {
#line 171
    jas_iccprof_destroy(iccprof);
    }
  }
#line 172
  return ((jas_cmprof_t *)0);
}
}
#line 175 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmprof_t *jas_cmprof_createsycc(void) 
{ 
  jas_cmprof_t *prof ;
  jas_cmpxform_t *fwdpxform ;
  jas_cmpxform_t *revpxform ;
  jas_cmshapmat_t *fwdshapmat ;
  jas_cmshapmat_t *revshapmat ;
  int i ;
  int j ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;

  {
  {
#line 185
  prof = jas_cmprof_createfromclrspc((4 << 8) | 1);
  }
#line 185
  if (! prof) {
#line 186
    goto error;
  }
  {
#line 187
  prof->clrspc = (5 << 8) | 1;
#line 190
  fwdpxform = jas_cmpxform_createshapmat();
  }
#line 190
  if (! fwdpxform) {
#line 191
    goto error;
  }
  {
#line 192
  fwdpxform->numinchans = 3;
#line 193
  fwdpxform->numoutchans = 3;
#line 194
  fwdshapmat = & fwdpxform->data.shapmat;
#line 195
  fwdshapmat->mono = 0;
#line 196
  fwdshapmat->order = 0;
#line 197
  fwdshapmat->useluts = 0;
#line 198
  fwdshapmat->usemat = 1;
#line 199
  fwdshapmat->mat[0][0] = 1.;
#line 200
  fwdshapmat->mat[0][1] = 0.;
#line 201
  fwdshapmat->mat[0][2] = 1.402;
#line 202
  fwdshapmat->mat[1][0] = 1.;
#line 203
  fwdshapmat->mat[1][1] = - 0.34413;
#line 204
  fwdshapmat->mat[1][2] = - 0.71414;
#line 205
  fwdshapmat->mat[2][0] = 1.;
#line 206
  fwdshapmat->mat[2][1] = 1.77200000001;
#line 207
  fwdshapmat->mat[2][2] = 0.;
#line 208
  fwdshapmat->mat[0][3] = - 0.5 * 1.402;
#line 209
  fwdshapmat->mat[1][3] = - 0.5 * (- 0.34413 - 0.71414);
#line 210
  fwdshapmat->mat[2][3] = - 0.5 * 1.77200000001;
#line 211
  revpxform = jas_cmpxform_createshapmat();
  }
#line 211
  if (! revpxform) {
#line 212
    goto error;
  }
  {
#line 213
  revpxform->numinchans = 3;
#line 214
  revpxform->numoutchans = 3;
#line 215
  revshapmat = & revpxform->data.shapmat;
#line 216
  revshapmat->mono = 0;
#line 217
  revshapmat->order = 1;
#line 218
  revshapmat->useluts = 0;
#line 219
  revshapmat->usemat = 1;
#line 220
  jas_cmshapmat_invmat((jas_cmreal_t (*)[4])(revshapmat->mat), (jas_cmreal_t (*)[4])(fwdshapmat->mat));
#line 222
  i = 0;
  }
  {
#line 222
  while (1) {
    while_continue: /* CIL Label */ ;

#line 222
    if (! (i < 4)) {
#line 222
      goto while_break;
    }
#line 223
    j = i;
#line 224
    if (prof->pxformseqs[j]) {
      {
#line 225
      __cil_tmp13 = jas_cmpxformseq_insertpxform(prof->pxformseqs[j], 0, fwdpxform);
      }
#line 225
      if (__cil_tmp13) {
#line 227
        goto error;
      }
    }
#line 229
    j = 4 + i;
#line 230
    if (prof->pxformseqs[j]) {
      {
#line 231
      __cil_tmp14 = jas_cmpxformseq_insertpxform(prof->pxformseqs[j], -1, revpxform);
      }
#line 231
      if (__cil_tmp14) {
#line 233
        goto error;
      }
    }
#line 222
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 237
  jas_cmpxform_destroy(fwdpxform);
#line 238
  jas_cmpxform_destroy(revpxform);
  }
#line 239
  return (prof);
  error: 
#line 241
  return ((jas_cmprof_t *)0);
}
}
#line 244 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
jas_cmprof_t *jas_cmprof_createfromiccprof(jas_iccprof_t *iccprof ) 
{ 
  jas_cmprof_t *prof ;
  jas_icchdr_t icchdr ;
  jas_cmpxformseq_t *fwdpxformseq ;
  jas_cmpxformseq_t *revpxformseq ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;

  {
  {
#line 251
  prof = (jas_cmprof_t *)0;
#line 252
  fwdpxformseq = (jas_cmpxformseq_t *)0;
#line 253
  revpxformseq = (jas_cmpxformseq_t *)0;
#line 255
  prof = jas_cmprof_create();
  }
#line 255
  if (! prof) {
#line 256
    goto error;
  }
  {
#line 257
  jas_iccprof_gethdr(iccprof, & icchdr);
#line 258
  prof->iccprof = jas_iccprof_copy(iccprof);
  }
#line 258
  if (! prof->iccprof) {
#line 259
    goto error;
  }
  {
#line 260
  prof->clrspc = icctoclrspc((int )icchdr.colorspc, 0);
#line 261
  prof->refclrspc = icctoclrspc((int )icchdr.refcolorspc, 1);
#line 262
  prof->numchans = jas_clrspc_numchans(prof->clrspc);
#line 263
  prof->numrefchans = jas_clrspc_numchans(prof->refclrspc);
  }
#line 265
  if (prof->numchans == 1) {
    {
#line 266
    __cil_tmp12 = mono(prof->iccprof, 0, & fwdpxformseq);
    }
#line 266
    if (__cil_tmp12) {
#line 267
      goto error;
    }
    {
#line 268
    __cil_tmp13 = mono(prof->iccprof, 1, & revpxformseq);
    }
#line 268
    if (__cil_tmp13) {
#line 269
      goto error;
    }
  } else
#line 270
  if (prof->numchans == 3) {
    {
#line 271
    __cil_tmp14 = triclr(prof->iccprof, 0, & fwdpxformseq);
    }
#line 271
    if (__cil_tmp14) {
#line 272
      goto error;
    }
    {
#line 273
    __cil_tmp15 = triclr(prof->iccprof, 1, & revpxformseq);
    }
#line 273
    if (__cil_tmp15) {
#line 274
      goto error;
    }
  }
#line 276
  prof->pxformseqs[0] = fwdpxformseq;
#line 277
  prof->pxformseqs[4] = revpxformseq;
#line 296
  return (prof);
  error: 
#line 299
  if (fwdpxformseq) {
    {
#line 300
    jas_cmpxformseq_destroy(fwdpxformseq);
    }
  }
#line 302
  if (revpxformseq) {
    {
#line 303
    jas_cmpxformseq_destroy(revpxformseq);
    }
  }
#line 305
  if (prof) {
    {
#line 306
    jas_cmprof_destroy(prof);
    }
  }
#line 309
  return ((jas_cmprof_t *)0);
}
}
#line 312 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmprof_t *jas_cmprof_create(void) 
{ 
  int i ;
  jas_cmprof_t *prof ;
  void *tmp ;

  {
  {
#line 316
  tmp = jas_malloc(sizeof(jas_cmprof_t ));
#line 316
  prof = (jas_cmprof_t *)tmp;
  }
#line 316
  if (! prof) {
#line 317
    return ((jas_cmprof_t *)0);
  }
  {
#line 318
  memset((void *)prof, 0, sizeof(jas_cmprof_t ));
#line 319
  prof->iccprof = (jas_iccprof_t *)0;
#line 320
  i = 0;
  }
  {
#line 320
  while (1) {
    while_continue: /* CIL Label */ ;

#line 320
    if (! (i < 13)) {
#line 320
      goto while_break;
    }
#line 321
    prof->pxformseqs[i] = (jas_cmpxformseq_t *)0;
#line 320
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 322
  return (prof);
}
}
#line 325 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
void jas_cmprof_destroy(jas_cmprof_t *prof ) 
{ 
  int i ;

  {
#line 328
  i = 0;
  {
#line 328
  while (1) {
    while_continue: /* CIL Label */ ;

#line 328
    if (! (i < 13)) {
#line 328
      goto while_break;
    }
#line 329
    if (prof->pxformseqs[i]) {
      {
#line 330
      jas_cmpxformseq_destroy(prof->pxformseqs[i]);
#line 331
      prof->pxformseqs[i] = (jas_cmpxformseq_t *)0;
      }
    }
#line 328
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 334
  if (prof->iccprof) {
    {
#line 335
    jas_iccprof_destroy(prof->iccprof);
    }
  }
  {
#line 336
  jas_free((void *)prof);
  }
#line 338
  return;
}
}
#line 339 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
jas_cmprof_t *jas_cmprof_copy(jas_cmprof_t *prof ) 
{ 
  jas_cmprof_t *newprof ;
  int i ;

  {
  {
#line 344
  newprof = jas_cmprof_create();
  }
#line 344
  if (! newprof) {
#line 345
    goto error;
  }
  {
#line 346
  newprof->clrspc = prof->clrspc;
#line 347
  newprof->numchans = prof->numchans;
#line 348
  newprof->refclrspc = prof->refclrspc;
#line 349
  newprof->numrefchans = prof->numrefchans;
#line 350
  newprof->iccprof = jas_iccprof_copy(prof->iccprof);
#line 351
  i = 0;
  }
  {
#line 351
  while (1) {
    while_continue: /* CIL Label */ ;

#line 351
    if (! (i < 13)) {
#line 351
      goto while_break;
    }
#line 352
    if (prof->pxformseqs[i]) {
      {
#line 353
      newprof->pxformseqs[i] = jas_cmpxformseq_copy(prof->pxformseqs[i]);
      }
#line 353
      if (! newprof->pxformseqs[i]) {
#line 354
        goto error;
      }
    }
#line 351
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 357
  return (newprof);
  error: 
#line 359
  if (newprof) {
    {
#line 360
    jas_cmprof_destroy(newprof);
    }
  }
#line 361
  return ((jas_cmprof_t *)0);
}
}
#line 368 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
jas_cmxform_t *jas_cmxform_create(jas_cmprof_t *inprof , jas_cmprof_t *outprof , jas_cmprof_t *prfprof ,
                                  int op , int intent , int optimize ) 
{ 
  jas_cmxform_t *xform ;
  jas_cmpxformseq_t *inpxformseq ;
  jas_cmpxformseq_t *outpxformseq ;
  jas_cmpxformseq_t *altoutpxformseq ;
  jas_cmpxformseq_t *prfpxformseq ;
  int prfintent ;
  jas_cmpxformseq_t *tmp ;
  jas_cmpxformseq_t *tmp___0 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  jas_cmpxformseq_t *tmp___1 ;
  jas_cmpxformseq_t *tmp___2 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  jas_cmpxformseq_t *tmp___4 ;
  jas_cmpxformseq_t *tmp___5 ;
  jas_cmpxformseq_t *tmp___6 ;
  jas_cmpxformseq_t *tmp___7 ;
  jas_cmpxformseq_t *tmp___8 ;
  int __cil_tmp35 ;
  int __cil_tmp36 ;
  int __cil_tmp37 ;
  int __cil_tmp38 ;
  int __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  jas_cmpxformseq_t *tmp___9 ;
  int __cil_tmp45 ;
  int __cil_tmp46 ;
  int __cil_tmp47 ;
  void *tmp___10 ;

  {
  {
#line 379
  optimize = 0;
#line 381
  prfintent = intent;
#line 383
  tmp___10 = jas_malloc(sizeof(jas_cmxform_t ));
#line 383
  xform = (jas_cmxform_t *)tmp___10;
  }
#line 383
  if (! xform) {
#line 384
    goto error;
  }
  {
#line 385
  xform->pxformseq = jas_cmpxformseq_create();
  }
#line 385
  if (! xform->pxformseq) {
#line 386
    goto error;
  }
#line 389
  if (op == 0) {
#line 389
    goto case_0;
  }
#line 402
  if (op == 1) {
#line 402
    goto case_1;
  }
#line 448
  if (op == 3) {
#line 448
    goto case_3;
  }
#line 388
  goto switch_break;
  case_0: 
#line 390
  if (inprof->pxformseqs[intent]) {
#line 390
    tmp = inprof->pxformseqs[intent];
  } else {
#line 390
    tmp = inprof->pxformseqs[0];
  }
#line 390
  inpxformseq = tmp;
#line 391
  if (outprof->pxformseqs[4 + intent]) {
#line 391
    tmp___0 = outprof->pxformseqs[4 + intent];
  } else {
#line 391
    tmp___0 = outprof->pxformseqs[4];
  }
#line 391
  outpxformseq = tmp___0;
#line 392
  if (! inpxformseq) {
#line 393
    goto error;
  } else
#line 392
  if (! outpxformseq) {
#line 393
    goto error;
  }
  {
#line 394
  __cil_tmp19 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
#line 394
  __cil_tmp18 = jas_cmpxformseq_appendcnvt(xform->pxformseq, inprof->refclrspc, outprof->refclrspc);
#line 394
  __cil_tmp17 = jas_cmpxformseq_append(xform->pxformseq, inpxformseq);
  }
#line 394
  if (__cil_tmp17) {
#line 398
    goto error;
  } else
#line 394
  if (__cil_tmp18) {
#line 398
    goto error;
  } else
#line 394
  if (__cil_tmp19) {
#line 398
    goto error;
  }
  {
#line 399
  xform->numinchans = jas_clrspc_numchans(inprof->clrspc);
#line 400
  xform->numoutchans = jas_clrspc_numchans(outprof->clrspc);
  }
#line 401
  goto switch_break;
  case_1: 
#line 403
  if (outprof->pxformseqs[intent]) {
#line 403
    tmp___1 = outprof->pxformseqs[intent];
  } else {
#line 403
    tmp___1 = outprof->pxformseqs[0];
  }
#line 403
  outpxformseq = tmp___1;
#line 404
  if (inprof->pxformseqs[4 + intent]) {
#line 404
    tmp___2 = inprof->pxformseqs[4 + intent];
  } else {
#line 404
    tmp___2 = inprof->pxformseqs[4];
  }
#line 404
  inpxformseq = tmp___2;
#line 405
  if (! outpxformseq) {
#line 406
    goto error;
  } else
#line 405
  if (! inpxformseq) {
#line 406
    goto error;
  }
  {
#line 407
  __cil_tmp26 = jas_cmpxformseq_append(xform->pxformseq, inpxformseq);
#line 407
  __cil_tmp25 = jas_cmpxformseq_appendcnvt(xform->pxformseq, outprof->refclrspc, inprof->refclrspc);
#line 407
  __cil_tmp24 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
  }
#line 407
  if (__cil_tmp24) {
#line 411
    goto error;
  } else
#line 407
  if (__cil_tmp25) {
#line 411
    goto error;
  } else
#line 407
  if (__cil_tmp26) {
#line 411
    goto error;
  }
  {
#line 412
  xform->numinchans = jas_clrspc_numchans(outprof->clrspc);
#line 413
  xform->numoutchans = jas_clrspc_numchans(inprof->clrspc);
  }
#line 414
  goto switch_break;
#line 417
  if (inprof->pxformseqs[intent]) {
#line 417
    tmp___4 = inprof->pxformseqs[intent];
  } else {
#line 417
    tmp___4 = inprof->pxformseqs[0];
  }
#line 417
  inpxformseq = tmp___4;
#line 418
  if (prfprof->pxformseqs[prfintent]) {
#line 418
    tmp___5 = prfprof->pxformseqs[prfintent];
  } else {
#line 418
    tmp___5 = prfprof->pxformseqs[0];
  }
#line 418
  prfpxformseq = tmp___5;
#line 419
  if (! inpxformseq) {
#line 420
    goto error;
  } else
#line 419
  if (! prfpxformseq) {
#line 420
    goto error;
  }
#line 421
  if (outprof->pxformseqs[8 + intent]) {
#line 421
    tmp___6 = outprof->pxformseqs[8 + intent];
  } else {
#line 421
    tmp___6 = outprof->pxformseqs[8];
  }
#line 421
  outpxformseq = tmp___6;
#line 422
  altoutpxformseq = (jas_cmpxformseq_t *)0;
#line 423
  if (! outpxformseq) {
#line 424
    if (outprof->pxformseqs[4 + intent]) {
#line 424
      tmp___7 = outprof->pxformseqs[4 + intent];
    } else {
#line 424
      tmp___7 = outprof->pxformseqs[4];
    }
#line 424
    outpxformseq = tmp___7;
#line 425
    if (outprof->pxformseqs[intent]) {
#line 425
      tmp___8 = outprof->pxformseqs[intent];
    } else {
#line 425
      tmp___8 = outprof->pxformseqs[0];
    }
#line 425
    altoutpxformseq = tmp___8;
#line 426
    if (! outpxformseq) {
#line 427
      goto error;
    } else
#line 426
    if (! altoutpxformseq) {
#line 427
      goto error;
    }
  }
  {
#line 429
  __cil_tmp36 = jas_cmpxformseq_appendcnvt(xform->pxformseq, inprof->refclrspc, outprof->refclrspc);
#line 429
  __cil_tmp35 = jas_cmpxformseq_append(xform->pxformseq, inpxformseq);
  }
#line 429
  if (__cil_tmp35) {
#line 432
    goto error;
  } else
#line 429
  if (__cil_tmp36) {
#line 432
    goto error;
  }
#line 433
  if (altoutpxformseq) {
    {
#line 434
    __cil_tmp38 = jas_cmpxformseq_append(xform->pxformseq, altoutpxformseq);
#line 434
    __cil_tmp37 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
    }
#line 434
    if (__cil_tmp37) {
#line 436
      goto error;
    } else
#line 434
    if (__cil_tmp38) {
#line 436
      goto error;
    }
  } else {
    {
#line 438
    __cil_tmp39 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
    }
#line 438
    if (__cil_tmp39) {
#line 439
      goto error;
    }
  }
  {
#line 441
  __cil_tmp41 = jas_cmpxformseq_append(xform->pxformseq, prfpxformseq);
#line 441
  __cil_tmp40 = jas_cmpxformseq_appendcnvt(xform->pxformseq, outprof->refclrspc, inprof->refclrspc);
  }
#line 441
  if (__cil_tmp40) {
#line 444
    goto error;
  } else
#line 441
  if (__cil_tmp41) {
#line 444
    goto error;
  }
  {
#line 445
  xform->numinchans = jas_clrspc_numchans(inprof->clrspc);
#line 446
  xform->numoutchans = jas_clrspc_numchans(prfprof->clrspc);
  }
#line 447
  goto switch_break;
  case_3: 
#line 449
  if (inprof->pxformseqs[intent]) {
#line 449
    tmp___9 = inprof->pxformseqs[intent];
  } else {
#line 449
    tmp___9 = inprof->pxformseqs[0];
  }
#line 449
  inpxformseq = tmp___9;
#line 450
  outpxformseq = outprof->pxformseqs[12];
#line 451
  if (! inpxformseq) {
#line 452
    goto error;
  } else
#line 451
  if (! outpxformseq) {
#line 452
    goto error;
  }
  {
#line 453
  __cil_tmp47 = jas_cmpxformseq_append(xform->pxformseq, outpxformseq);
#line 453
  __cil_tmp46 = jas_cmpxformseq_appendcnvt(xform->pxformseq, inprof->refclrspc, outprof->refclrspc);
#line 453
  __cil_tmp45 = jas_cmpxformseq_append(xform->pxformseq, inpxformseq);
  }
#line 453
  if (__cil_tmp45) {
#line 457
    goto error;
  } else
#line 453
  if (__cil_tmp46) {
#line 457
    goto error;
  } else
#line 453
  if (__cil_tmp47) {
#line 457
    goto error;
  }
  {
#line 458
  xform->numinchans = jas_clrspc_numchans(inprof->clrspc);
#line 459
  xform->numoutchans = 1;
  }
#line 460
  goto switch_break;
  switch_break: ;
#line 462
  return (xform);
  error: 
#line 464
  if (xform) {
    {
#line 465
    jas_cmxform_destroy(xform);
    }
  }
#line 466
  return ((jas_cmxform_t *)0);
}
}
#line 470 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
int jas_cmxform_apply(jas_cmxform_t *xform , jas_cmpixmap_t *in , jas_cmpixmap_t *out ) 
{ 
  jas_cmcmptfmt_t *fmt ;
  jas_cmreal_t buf[2][2048] ;
  jas_cmpxformseq_t *pxformseq ;
  int i ;
  int j ;
  int width ;
  int height ;
  int total ;
  int n ;
  jas_cmreal_t *inbuf ;
  jas_cmreal_t *outbuf ;
  jas_cmpxform_t *pxform ;
  long *dataptr ;
  int maxchans ;
  int bufmax ;
  int m ;
  int bias ;
  jas_cmreal_t scale ;
  long v ;
  jas_cmreal_t *bufptr ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp27 ;
  jas_cmreal_t *tmp___2 ;
  int __cil_tmp29 ;
  int tmp___3 ;
  int __cil_tmp31 ;

  {
#line 493
  if (xform->numinchans > in->numcmpts) {
#line 494
    goto error;
  } else
#line 493
  if (xform->numoutchans > out->numcmpts) {
#line 494
    goto error;
  }
#line 496
  fmt = in->cmptfmts + 0;
#line 497
  width = fmt->width;
#line 498
  height = fmt->height;
#line 499
  i = 1;
  {
#line 499
  while (1) {
    while_continue: /* CIL Label */ ;

#line 499
    if (! (i < xform->numinchans)) {
#line 499
      goto while_break;
    }
#line 500
    fmt = in->cmptfmts + i;
#line 501
    if (fmt->width != width) {
#line 502
      goto error;
    } else
#line 501
    if (fmt->height != height) {
#line 502
      goto error;
    }
#line 499
    i ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  while_break: 
#line 505
  i = 0;
  {
#line 505
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 505
    if (! (i < xform->numoutchans)) {
#line 505
      goto while_break___0;
    }
#line 506
    fmt = out->cmptfmts + i;
#line 507
    if (fmt->width != width) {
#line 508
      goto error;
    } else
#line 507
    if (fmt->height != height) {
#line 508
      goto error;
    }
#line 505
    i ++;
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break___0: 
#line 512
  maxchans = 0;
#line 513
  pxformseq = xform->pxformseq;
#line 514
  i = 0;
  {
#line 514
  while (1) {
    while_continue___1: /* CIL Label */ ;

#line 514
    if (! (i < pxformseq->numpxforms)) {
#line 514
      goto while_break___1;
    }
#line 515
    pxform = *(pxformseq->pxforms + i);
#line 516
    if (pxform->numinchans > maxchans) {
#line 517
      maxchans = pxform->numinchans;
    }
#line 519
    if (pxform->numoutchans > maxchans) {
#line 520
      maxchans = pxform->numoutchans;
    }
#line 514
    i ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___1: 
#line 523
  bufmax = 2048 / maxchans;
#line 526
  total = width * height;
#line 527
  n = 0;
  {
#line 528
  while (1) {
    while_continue___2: /* CIL Label */ ;

#line 528
    if (! (n < total)) {
#line 528
      goto while_break___2;
    }
#line 530
    inbuf = & buf[0][0];
#line 531
    if (total - n < bufmax) {
#line 531
      tmp___0 = total - n;
    } else {
#line 531
      tmp___0 = bufmax;
    }
#line 531
    m = tmp___0;
#line 533
    i = 0;
    {
#line 533
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 533
      if (! (i < xform->numinchans)) {
#line 533
        goto while_break___3;
      }
#line 534
      fmt = in->cmptfmts + i;
#line 535
      scale = (double )((1 << fmt->prec) - 1);
#line 536
      if (fmt->sgnd) {
#line 536
        tmp___1 = 1 << (fmt->prec - 1);
      } else {
#line 536
        tmp___1 = 0;
      }
#line 536
      bias = tmp___1;
#line 537
      dataptr = fmt->buf + n;
#line 538
      bufptr = inbuf + i;
#line 539
      j = 0;
      {
#line 539
      while (1) {
        while_continue___4: /* CIL Label */ ;

#line 539
        if (! (j < m)) {
#line 539
          goto while_break___4;
        }
        {
#line 540
        __cil_tmp27 = jas_cmgetint(& dataptr, fmt->sgnd, fmt->prec, & v);
        }
#line 540
        if (__cil_tmp27) {
#line 541
          goto error;
        }
#line 542
        *bufptr = (double )(v - (long )bias) / scale;
#line 543
        bufptr += xform->numinchans;
#line 539
        j ++;
      }
      while_break___13: /* CIL Label */ ;
      }
      while_break___4: 
#line 533
      i ++;
    }
    while_break___12: /* CIL Label */ ;
    }
    while_break___3: 
#line 547
    inbuf = & buf[0][0];
#line 548
    outbuf = inbuf;
#line 549
    i = 0;
    {
#line 549
    while (1) {
      while_continue___5: /* CIL Label */ ;

#line 549
      if (! (i < pxformseq->numpxforms)) {
#line 549
        goto while_break___5;
      }
#line 550
      pxform = *(pxformseq->pxforms + i);
#line 551
      if (pxform->numoutchans > pxform->numinchans) {
#line 552
        if ((unsigned long )inbuf == (unsigned long )(& buf[0][0])) {
#line 552
          tmp___2 = & buf[1][0];
        } else {
#line 552
          tmp___2 = & buf[0][0];
        }
#line 552
        outbuf = tmp___2;
      } else {
#line 554
        outbuf = inbuf;
      }
      {
#line 556
      __cil_tmp29 = (*((pxform->ops)->apply))(pxform, inbuf, outbuf, m);
      }
#line 556
      if (__cil_tmp29) {
#line 557
        goto error;
      }
#line 558
      inbuf = outbuf;
#line 549
      i ++;
    }
    while_break___14: /* CIL Label */ ;
    }
    while_break___5: 
#line 561
    i = 0;
    {
#line 561
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 561
      if (! (i < xform->numoutchans)) {
#line 561
        goto while_break___6;
      }
#line 562
      fmt = out->cmptfmts + i;
#line 563
      scale = (double )((1 << fmt->prec) - 1);
#line 564
      if (fmt->sgnd) {
#line 564
        tmp___3 = 1 << (fmt->prec - 1);
      } else {
#line 564
        tmp___3 = 0;
      }
#line 564
      bias = tmp___3;
#line 565
      bufptr = outbuf + i;
#line 566
      dataptr = fmt->buf + n;
#line 567
      j = 0;
      {
#line 567
      while (1) {
        while_continue___7: /* CIL Label */ ;

#line 567
        if (! (j < m)) {
#line 567
          goto while_break___7;
        }
        {
#line 568
        v = (long )(*bufptr * scale + (double )bias);
#line 569
        bufptr += xform->numoutchans;
#line 570
        __cil_tmp31 = jas_cmputint(& dataptr, fmt->sgnd, fmt->prec, v);
        }
#line 570
        if (__cil_tmp31) {
#line 571
          goto error;
        }
#line 567
        j ++;
      }
      while_break___16: /* CIL Label */ ;
      }
      while_break___7: 
#line 561
      i ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___6: 
#line 575
    n += m;
  }
  while_break___11: /* CIL Label */ ;
  }
  while_break___2: ;
#line 578
  return (0);
  error: 
#line 580
  return (-1);
}
}
#line 583 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
void jas_cmxform_destroy(jas_cmxform_t *xform ) 
{ 


  {
#line 585
  if (xform->pxformseq) {
    {
#line 586
    jas_cmpxformseq_destroy(xform->pxformseq);
    }
  }
  {
#line 587
  jas_free((void *)xform);
  }
#line 589
  return;
}
}
#line 594 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmpxformseq_t *jas_cmpxformseq_create(void) 
{ 
  jas_cmpxformseq_t *pxformseq ;
  int __cil_tmp3 ;
  void *tmp ;

  {
  {
#line 597
  pxformseq = (jas_cmpxformseq_t *)0;
#line 598
  tmp = jas_malloc(sizeof(jas_cmpxformseq_t ));
#line 598
  pxformseq = (jas_cmpxformseq_t *)tmp;
  }
#line 598
  if (! pxformseq) {
#line 599
    goto error;
  }
  {
#line 600
  pxformseq->pxforms = (jas_cmpxform_t **)0;
#line 601
  pxformseq->numpxforms = 0;
#line 602
  pxformseq->maxpxforms = 0;
#line 603
  __cil_tmp3 = jas_cmpxformseq_resize(pxformseq, 16);
  }
#line 603
  if (__cil_tmp3) {
#line 604
    goto error;
  }
#line 605
  return (pxformseq);
  error: 
#line 607
  if (pxformseq) {
    {
#line 608
    jas_cmpxformseq_destroy(pxformseq);
    }
  }
#line 609
  return ((jas_cmpxformseq_t *)0);
}
}
#line 612 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmpxformseq_t *jas_cmpxformseq_copy(jas_cmpxformseq_t *pxformseq ) 
{ 
  jas_cmpxformseq_t *newpxformseq ;
  int __cil_tmp4 ;

  {
  {
#line 616
  newpxformseq = jas_cmpxformseq_create();
  }
#line 616
  if (! newpxformseq) {
#line 617
    goto error;
  }
  {
#line 618
  __cil_tmp4 = jas_cmpxformseq_append(newpxformseq, pxformseq);
  }
#line 618
  if (__cil_tmp4) {
#line 619
    goto error;
  }
#line 620
  return (newpxformseq);
  error: 
#line 622
  if (newpxformseq) {
    {
#line 623
    jas_cmpxformseq_destroy(newpxformseq);
    }
  }
#line 624
  return ((jas_cmpxformseq_t *)0);
}
}
#line 627 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static void jas_cmpxformseq_destroy(jas_cmpxformseq_t *pxformseq ) 
{ 


  {
  {
#line 629
  while (1) {
    while_continue: /* CIL Label */ ;

#line 629
    if (! (pxformseq->numpxforms > 0)) {
#line 629
      goto while_break;
    }
    {
#line 630
    jas_cmpxformseq_delete(pxformseq, pxformseq->numpxforms - 1);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 631
  if (pxformseq->pxforms) {
    {
#line 632
    jas_free((void *)pxformseq->pxforms);
    }
  }
  {
#line 633
  jas_free((void *)pxformseq);
  }
#line 635
  return;
}
}
#line 636 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_delete(jas_cmpxformseq_t *pxformseq , int i ) 
{ 


  {
#line 639
  if (i != pxformseq->numpxforms - 1) {
    {
#line 640
    abort();
    }
  }
  {
#line 641
  jas_cmpxform_destroy(*(pxformseq->pxforms + i));
#line 642
  *(pxformseq->pxforms + i) = (jas_cmpxform_t *)0;
#line 643
  (pxformseq->numpxforms) --;
  }
#line 644
  return (0);
}
}
#line 647 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_appendcnvt(jas_cmpxformseq_t *pxformseq , int dstclrspc ,
                                      int srcclrspc ) 
{ 


  {
#line 650
  if (dstclrspc == srcclrspc) {
#line 651
    return (0);
  }
  {
#line 652
  abort();
#line 654
  pxformseq = (jas_cmpxformseq_t *)0;
  }
#line 655
  return (-1);
}
}
#line 658 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_insertpxform(jas_cmpxformseq_t *pxformseq , int i , jas_cmpxform_t *pxform ) 
{ 
  jas_cmpxform_t *tmppxform ;
  int n ;
  int __cil_tmp7 ;

  {
#line 663
  if (i < 0) {
#line 664
    i = pxformseq->numpxforms;
  }
#line 666
  if (pxformseq->numpxforms >= pxformseq->maxpxforms) {
    {
#line 667
    __cil_tmp7 = jas_cmpxformseq_resize(pxformseq, pxformseq->numpxforms + 16);
    }
#line 667
    if (__cil_tmp7) {
#line 669
      goto error;
    }
  }
  {
#line 672
  tmppxform = jas_cmpxform_copy(pxform);
  }
#line 672
  if (! tmppxform) {
#line 673
    goto error;
  }
#line 674
  n = pxformseq->numpxforms - i;
#line 675
  if (n > 0) {
    {
#line 676
    memmove((void *)(pxformseq->pxforms + (i + 1)), (void const   *)(pxformseq->pxforms + i),
            (unsigned long )n * sizeof(jas_cmpxform_t *));
    }
  }
#line 679
  *(pxformseq->pxforms + i) = tmppxform;
#line 680
  (pxformseq->numpxforms) ++;
#line 681
  return (0);
  error: 
#line 683
  return (-1);
}
}
#line 686 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_append(jas_cmpxformseq_t *pxformseq , jas_cmpxformseq_t *othpxformseq ) 
{ 
  int n ;
  int i ;
  jas_cmpxform_t *pxform ;
  jas_cmpxform_t *othpxform ;
  int __cil_tmp7 ;

  {
#line 693
  n = pxformseq->numpxforms + othpxformseq->numpxforms;
#line 694
  if (n > pxformseq->maxpxforms) {
    {
#line 695
    __cil_tmp7 = jas_cmpxformseq_resize(pxformseq, n);
    }
#line 695
    if (__cil_tmp7) {
#line 696
      goto error;
    }
  }
#line 698
  i = 0;
  {
#line 698
  while (1) {
    while_continue: /* CIL Label */ ;

#line 698
    if (! (i < othpxformseq->numpxforms)) {
#line 698
      goto while_break;
    }
    {
#line 699
    othpxform = *(othpxformseq->pxforms + i);
#line 700
    pxform = jas_cmpxform_copy(othpxform);
    }
#line 700
    if (! pxform) {
#line 701
      goto error;
    }
#line 702
    *(pxformseq->pxforms + pxformseq->numpxforms) = pxform;
#line 703
    (pxformseq->numpxforms) ++;
#line 698
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 705
  return (0);
  error: 
#line 707
  return (-1);
}
}
#line 710 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmpxformseq_resize(jas_cmpxformseq_t *pxformseq , int n ) 
{ 
  jas_cmpxform_t **p ;
  void *__cil_tmp5 ;
  void *__cil_tmp6 ;
  void *tmp___0 ;

  {
#line 714
  if (! pxformseq->pxforms) {
    {
#line 714
    __cil_tmp5 = jas_alloc2((size_t )n, sizeof(jas_cmpxform_t *));
#line 714
    tmp___0 = __cil_tmp5;
    }
  } else {
    {
#line 714
    __cil_tmp6 = jas_realloc2((void *)pxformseq->pxforms, (size_t )n, sizeof(jas_cmpxform_t *));
#line 714
    tmp___0 = __cil_tmp6;
    }
  }
#line 714
  p = (jas_cmpxform_t **)tmp___0;
#line 716
  if (! p) {
#line 717
    return (-1);
  }
#line 719
  pxformseq->pxforms = p;
#line 720
  pxformseq->maxpxforms = n;
#line 721
  return (0);
}
}
#line 728 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmpxform_t *jas_cmpxform_create0(void) 
{ 
  jas_cmpxform_t *pxform ;
  void *tmp ;

  {
  {
#line 731
  tmp = jas_malloc(sizeof(jas_cmpxform_t ));
#line 731
  pxform = (jas_cmpxform_t *)tmp;
  }
#line 731
  if (! pxform) {
#line 732
    return ((jas_cmpxform_t *)0);
  }
  {
#line 733
  memset((void *)pxform, 0, sizeof(jas_cmpxform_t ));
#line 734
  pxform->refcnt = 0;
#line 735
  pxform->ops = (jas_cmpxformops_t *)0;
  }
#line 736
  return (pxform);
}
}
#line 739 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static void jas_cmpxform_destroy(jas_cmpxform_t *pxform ) 
{ 


  {
#line 741
  (pxform->refcnt) --;
#line 741
  if (pxform->refcnt <= 0) {
    {
#line 742
    (*((pxform->ops)->destroy))(pxform);
#line 743
    jas_free((void *)pxform);
    }
  }
#line 746
  return;
}
}
#line 747 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmpxform_t *jas_cmpxform_copy(jas_cmpxform_t *pxform ) 
{ 


  {
#line 749
  (pxform->refcnt) ++;
#line 750
  return (pxform);
}
}
#line 757 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmpxform_t *jas_cmpxform_createshapmat(void) 
{ 
  int i ;
  int j ;
  jas_cmpxform_t *pxform ;
  jas_cmshapmat_t *shapmat ;

  {
  {
#line 763
  pxform = jas_cmpxform_create0();
  }
#line 763
  if (! pxform) {
#line 764
    return ((jas_cmpxform_t *)0);
  }
#line 765
  pxform->ops = & shapmat_ops;
#line 766
  shapmat = & pxform->data.shapmat;
#line 767
  shapmat->mono = 0;
#line 768
  shapmat->order = 0;
#line 769
  shapmat->useluts = 0;
#line 770
  shapmat->usemat = 0;
#line 771
  i = 0;
  {
#line 771
  while (1) {
    while_continue: /* CIL Label */ ;

#line 771
    if (! (i < 3)) {
#line 771
      goto while_break;
    }
    {
#line 772
    jas_cmshapmatlut_init(& shapmat->luts[i]);
#line 771
    i ++;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  while_break: 
#line 773
  i = 0;
  {
#line 773
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 773
    if (! (i < 3)) {
#line 773
      goto while_break___0;
    }
#line 774
    j = 0;
    {
#line 774
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 774
      if (! (j < 4)) {
#line 774
        goto while_break___1;
      }
#line 775
      shapmat->mat[i][j] = 0.;
#line 774
      j ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: 
#line 773
    i ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break___0: 
#line 777
  (pxform->refcnt) ++;
#line 778
  return (pxform);
}
}
#line 781 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static void jas_cmshapmat_destroy(jas_cmpxform_t *pxform ) 
{ 
  jas_cmshapmat_t *shapmat ;
  int i ;

  {
#line 783
  shapmat = & pxform->data.shapmat;
#line 785
  i = 0;
  {
#line 785
  while (1) {
    while_continue: /* CIL Label */ ;

#line 785
    if (! (i < 3)) {
#line 785
      goto while_break;
    }
    {
#line 786
    jas_cmshapmatlut_cleanup(& shapmat->luts[i]);
#line 785
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: ;
#line 789
  return;
}
}
#line 789 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmshapmat_apply(jas_cmpxform_t *pxform , jas_cmreal_t *in , jas_cmreal_t *out ,
                               int cnt ) 
{ 
  jas_cmshapmat_t *shapmat ;
  jas_cmreal_t *src ;
  jas_cmreal_t *dst ;
  jas_cmreal_t a0 ;
  jas_cmreal_t a1 ;
  jas_cmreal_t a2 ;
  jas_cmreal_t b0 ;
  jas_cmreal_t b1 ;
  jas_cmreal_t b2 ;
  jas_cmreal_t *__cil_tmp14 ;
  jas_cmreal_t *__cil_tmp15 ;
  jas_cmreal_t *__cil_tmp16 ;
  jas_cmreal_t *__cil_tmp23 ;
  jas_cmreal_t *__cil_tmp24 ;
  jas_cmreal_t *__cil_tmp25 ;
  jas_cmreal_t *__cil_tmp26 ;
  jas_cmreal_t *__cil_tmp28 ;
  jas_cmreal_t *__cil_tmp29 ;
  jas_cmreal_t *__cil_tmp30 ;
  jas_cmreal_t *__cil_tmp32 ;
  jas_cmreal_t *__cil_tmp36 ;

  {
#line 792
  shapmat = & pxform->data.shapmat;
#line 801
  src = in;
#line 802
  dst = out;
#line 803
  if (! shapmat->mono) {
    {
#line 804
    while (1) {
      while_continue: /* CIL Label */ ;
#line 804
      cnt --;
#line 804
      if (! (cnt >= 0)) {
#line 804
        goto while_break;
      }
#line 805
      __cil_tmp14 = src;
#line 805
      src ++;
#line 805
      a0 = *__cil_tmp14;
#line 806
      __cil_tmp15 = src;
#line 806
      src ++;
#line 806
      a1 = *__cil_tmp15;
#line 807
      __cil_tmp16 = src;
#line 807
      src ++;
#line 807
      a2 = *__cil_tmp16;
#line 808
      if (! shapmat->order) {
#line 808
        if (shapmat->useluts) {
          {
#line 809
          a0 = jas_cmshapmatlut_lookup(& shapmat->luts[0], a0);
#line 810
          a1 = jas_cmshapmatlut_lookup(& shapmat->luts[1], a1);
#line 811
          a2 = jas_cmshapmatlut_lookup(& shapmat->luts[2], a2);
          }
        }
      }
#line 813
      if (shapmat->usemat) {
#line 814
        b0 = ((shapmat->mat[0][0] * a0 + shapmat->mat[0][1] * a1) + shapmat->mat[0][2] * a2) + shapmat->mat[0][3];
#line 818
        b1 = ((shapmat->mat[1][0] * a0 + shapmat->mat[1][1] * a1) + shapmat->mat[1][2] * a2) + shapmat->mat[1][3];
#line 822
        b2 = ((shapmat->mat[2][0] * a0 + shapmat->mat[2][1] * a1) + shapmat->mat[2][2] * a2) + shapmat->mat[2][3];
#line 826
        a0 = b0;
#line 827
        a1 = b1;
#line 828
        a2 = b2;
      }
#line 830
      if (shapmat->order) {
#line 830
        if (shapmat->useluts) {
          {
#line 831
          a0 = jas_cmshapmatlut_lookup(& shapmat->luts[0], a0);
#line 832
          a1 = jas_cmshapmatlut_lookup(& shapmat->luts[1], a1);
#line 833
          a2 = jas_cmshapmatlut_lookup(& shapmat->luts[2], a2);
          }
        }
      }
#line 835
      __cil_tmp23 = dst;
#line 835
      dst ++;
#line 835
      *__cil_tmp23 = a0;
#line 836
      __cil_tmp24 = dst;
#line 836
      dst ++;
#line 836
      *__cil_tmp24 = a1;
#line 837
      __cil_tmp25 = dst;
#line 837
      dst ++;
#line 837
      *__cil_tmp25 = a2;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break: ;
  } else
#line 840
  if (! shapmat->order) {
    {
#line 841
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 841
      cnt --;
#line 841
      if (! (cnt >= 0)) {
#line 841
        goto while_break___0;
      }
#line 842
      __cil_tmp26 = src;
#line 842
      src ++;
#line 842
      a0 = *__cil_tmp26;
#line 843
      if (shapmat->useluts) {
        {
#line 844
        a0 = jas_cmshapmatlut_lookup(& shapmat->luts[0], a0);
        }
      }
#line 845
      a2 = a0 * shapmat->mat[2][0];
#line 846
      a1 = a0 * shapmat->mat[1][0];
#line 847
      a0 *= shapmat->mat[0][0];
#line 848
      __cil_tmp28 = dst;
#line 848
      dst ++;
#line 848
      *__cil_tmp28 = a0;
#line 849
      __cil_tmp29 = dst;
#line 849
      dst ++;
#line 849
      *__cil_tmp29 = a1;
#line 850
      __cil_tmp30 = dst;
#line 850
      dst ++;
#line 850
      *__cil_tmp30 = a2;
    }
    while_break___3: /* CIL Label */ ;
    }
    while_break___0: ;
  } else {
    {
#line 854
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 854
      cnt --;
#line 854
      if (! (cnt >= 0)) {
#line 854
        goto while_break___1;
      }
#line 855
      __cil_tmp32 = src;
#line 855
      src ++;
#line 855
      a0 = *__cil_tmp32;
#line 856
      src ++;
#line 857
      src ++;
#line 858
      a0 *= shapmat->mat[0][0];
#line 859
      if (shapmat->useluts) {
        {
#line 860
        a0 = jas_cmshapmatlut_lookup(& shapmat->luts[0], a0);
        }
      }
#line 861
      __cil_tmp36 = dst;
#line 861
      dst ++;
#line 861
      *__cil_tmp36 = a0;
    }
    while_break___4: /* CIL Label */ ;
    }
    while_break___1: ;
  }
#line 866
  return (0);
}
}
#line 869 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static void jas_cmshapmatlut_init(jas_cmshapmatlut_t *lut ) 
{ 


  {
#line 871
  lut->data = (jas_cmreal_t *)0;
#line 872
  lut->size = 0;
#line 873
  return;
}
}
#line 875 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static void jas_cmshapmatlut_cleanup(jas_cmshapmatlut_t *lut ) 
{ 


  {
#line 877
  if (lut->data) {
    {
#line 878
    jas_free((void *)lut->data);
#line 879
    lut->data = (jas_cmreal_t *)0;
    }
  }
#line 881
  lut->size = 0;
#line 882
  return;
}
}
#line 884 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static double gammafn(double x , double gamma___0 ) 
{ 
  double __cil_tmp3 ;

  {
#line 886
  if (x == 0.) {
#line 887
    return (0.);
  }
  {
#line 888
  __cil_tmp3 = pow(x, gamma___0);
  }
#line 888
  return (__cil_tmp3);
}
}
#line 891 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmshapmatlut_set(jas_cmshapmatlut_t *lut , jas_icccurv_t *curv ) 
{ 
  jas_cmreal_t gamma___10 ;
  int i ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 895
  gamma___10 = (jas_cmreal_t )0;
#line 896
  jas_cmshapmatlut_cleanup(lut);
  }
#line 897
  if (curv->numents == 0UL) {
    {
#line 898
    lut->size = 2;
#line 899
    tmp = jas_alloc2((size_t )lut->size, sizeof(jas_cmreal_t ));
#line 899
    lut->data = (jas_cmreal_t *)tmp;
    }
#line 899
    if (! lut->data) {
#line 900
      goto error;
    }
#line 901
    *(lut->data + 0) = 0.;
#line 902
    *(lut->data + 1) = 1.;
  } else
#line 903
  if (curv->numents == 1UL) {
    {
#line 904
    lut->size = 256;
#line 905
    tmp___0 = jas_alloc2((size_t )lut->size, sizeof(jas_cmreal_t ));
#line 905
    lut->data = (jas_cmreal_t *)tmp___0;
    }
#line 905
    if (! lut->data) {
#line 906
      goto error;
    }
#line 907
    gamma___10 = (double )*(curv->ents + 0) / 256.;
#line 908
    i = 0;
    {
#line 908
    while (1) {
      while_continue: /* CIL Label */ ;

#line 908
      if (! (i < lut->size)) {
#line 908
        goto while_break;
      }
      {
#line 909
      *(lut->data + i) = gammafn((double )i / (double )(lut->size - 1), gamma___10);
#line 908
      i ++;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    while_break: ;
  } else {
    {
#line 912
    lut->size = (int )curv->numents;
#line 913
    tmp___1 = jas_alloc2((size_t )lut->size, sizeof(jas_cmreal_t ));
#line 913
    lut->data = (jas_cmreal_t *)tmp___1;
    }
#line 913
    if (! lut->data) {
#line 914
      goto error;
    }
#line 915
    i = 0;
    {
#line 915
    while (1) {
      while_continue___0: /* CIL Label */ ;

#line 915
      if (! (i < lut->size)) {
#line 915
        goto while_break___0;
      }
#line 916
      *(lut->data + i) = (double )*(curv->ents + i) / 65535.;
#line 915
      i ++;
    }
    while_break___2: /* CIL Label */ ;
    }
    while_break___0: ;
  }
#line 919
  return (0);
  error: 
#line 921
  return (-1);
}
}
#line 924 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static jas_cmreal_t jas_cmshapmatlut_lookup(jas_cmshapmatlut_t *lut , jas_cmreal_t x ) 
{ 
  jas_cmreal_t t ;
  int lo ;
  int hi ;
  double __cil_tmp6 ;
  double __cil_tmp7 ;

  {
  {
#line 929
  t = x * (double )(lut->size - 1);
#line 930
  __cil_tmp6 = floor(t);
#line 930
  lo = (int )__cil_tmp6;
  }
#line 931
  if (lo < 0) {
#line 932
    return (*(lut->data + 0));
  }
  {
#line 933
  __cil_tmp7 = ceil(t);
#line 933
  hi = (int )__cil_tmp7;
  }
#line 934
  if (hi >= lut->size) {
#line 935
    return (*(lut->data + (lut->size - 1)));
  }
#line 936
  return (*(lut->data + lo) + (t - (double )lo) * (*(lut->data + hi) - *(lut->data + lo)));
}
}
#line 939 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmshapmatlut_invert(jas_cmshapmatlut_t *invlut , jas_cmshapmatlut_t *lut ,
                                   int n ) 
{ 
  int i ;
  int j ;
  int k ;
  jas_cmreal_t ax ;
  jas_cmreal_t ay ;
  jas_cmreal_t bx ;
  jas_cmreal_t by ;
  jas_cmreal_t sx ;
  jas_cmreal_t sy ;
  void *tmp___1 ;

  {
#line 952
  if (invlut->data) {
    {
#line 953
    jas_free((void *)invlut->data);
#line 954
    invlut->data = (jas_cmreal_t *)0;
    }
  }
#line 957
  i = 1;
  {
#line 957
  while (1) {
    while_continue: /* CIL Label */ ;

#line 957
    if (! (i < lut->size)) {
#line 957
      goto while_break;
    }
#line 958
    if (*(lut->data + (i - 1)) > *(lut->data + i)) {
#line 960
      return (-1);
    }
#line 957
    i ++;
  }
  while_break___3: /* CIL Label */ ;
  }
  while_break: 
  {
#line 963
  tmp___1 = jas_alloc2((size_t )n, sizeof(jas_cmreal_t ));
#line 963
  invlut->data = (jas_cmreal_t *)tmp___1;
  }
#line 963
  if (! invlut->data) {
#line 964
    return (-1);
  }
#line 965
  invlut->size = n;
#line 966
  i = 0;
  {
#line 966
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 966
    if (! (i < invlut->size)) {
#line 966
      goto while_break___0;
    }
#line 967
    sy = (double )i / (double )(invlut->size - 1);
#line 968
    sx = 1.;
#line 969
    j = 0;
    {
#line 969
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 969
      if (! (j < lut->size)) {
#line 969
        goto while_break___1;
      }
#line 970
      ay = *(lut->data + j);
#line 971
      if (sy == ay) {
#line 972
        k = j + 1;
        {
#line 972
        while (1) {
          while_continue___2: /* CIL Label */ ;

#line 972
          if (! (k < lut->size)) {
#line 972
            goto while_break___2;
          }
#line 973
          by = *(lut->data + k);
#line 974
          if (by != sy) {
#line 975
            goto while_break___2;
          }
#line 972
          k ++;
        }
        while_break___6: /* CIL Label */ ;
        }
        while_break___2: ;
#line 980
        if (k < lut->size) {
#line 981
          k --;
#line 982
          ax = (double )j / (double )(lut->size - 1);
#line 983
          bx = (double )k / (double )(lut->size - 1);
#line 984
          sx = (ax + bx) / 2.;
        }
#line 986
        goto while_break___1;
      }
#line 988
      if (j < lut->size - 1) {
#line 989
        by = *(lut->data + (j + 1));
#line 990
        if (sy > ay) {
#line 990
          if (sy < by) {
#line 991
            ax = (double )j / (double )(lut->size - 1);
#line 992
            bx = ((double )j + (double )1) / (double )(lut->size - 1);
#line 993
            sx = ax + ((sy - ay) / (by - ay)) * (bx - ax);
#line 995
            goto while_break___1;
          }
        }
      }
#line 969
      j ++;
    }
    while_break___5: /* CIL Label */ ;
    }
    while_break___1: 
#line 999
    *(invlut->data + i) = sx;
#line 966
    i ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  while_break___0: ;
#line 1007
  return (0);
}
}
#line 1010 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmshapmat_invmat(jas_cmreal_t (*out)[4] , jas_cmreal_t (*in)[4] ) 
{ 
  jas_cmreal_t d ;
  jas_cmreal_t tmp ;

  {
#line 1013
  d = ((*(in + 0))[0] * ((*(in + 1))[1] * (*(in + 2))[2] - (*(in + 1))[2] * (*(in + 2))[1]) - (*(in + 0))[1] * ((*(in + 1))[0] * (*(in + 2))[2] - (*(in + 1))[2] * (*(in + 2))[0])) + (*(in + 0))[2] * ((*(in + 1))[0] * (*(in + 2))[1] - (*(in + 1))[1] * (*(in + 2))[0]);
#line 1019
  if (d >= (double )0) {
#line 1019
    tmp = d;
  } else {
#line 1019
    tmp = - d;
  }
#line 1019
  if (tmp < 1e-06) {
#line 1020
    return (-1);
  }
#line 1021
  (*(out + 0))[0] = ((*(in + 1))[1] * (*(in + 2))[2] - (*(in + 1))[2] * (*(in + 2))[1]) / d;
#line 1022
  (*(out + 1))[0] = - ((*(in + 1))[0] * (*(in + 2))[2] - (*(in + 1))[2] * (*(in + 2))[0]) / d;
#line 1023
  (*(out + 2))[0] = ((*(in + 1))[0] * (*(in + 2))[1] - (*(in + 1))[1] * (*(in + 2))[0]) / d;
#line 1024
  (*(out + 0))[1] = - ((*(in + 0))[1] * (*(in + 2))[2] - (*(in + 0))[2] * (*(in + 2))[1]) / d;
#line 1025
  (*(out + 1))[1] = ((*(in + 0))[0] * (*(in + 2))[2] - (*(in + 0))[2] * (*(in + 2))[0]) / d;
#line 1026
  (*(out + 2))[1] = - ((*(in + 0))[0] * (*(in + 2))[1] - (*(in + 0))[1] * (*(in + 2))[0]) / d;
#line 1027
  (*(out + 0))[2] = ((*(in + 0))[1] * (*(in + 1))[2] - (*(in + 0))[2] * (*(in + 1))[1]) / d;
#line 1028
  (*(out + 1))[2] = - ((*(in + 0))[0] * (*(in + 1))[2] - (*(in + 1))[0] * (*(in + 0))[2]) / d;
#line 1029
  (*(out + 2))[2] = ((*(in + 0))[0] * (*(in + 1))[1] - (*(in + 0))[1] * (*(in + 1))[0]) / d;
#line 1030
  (*(out + 0))[3] = - (*(in + 0))[3];
#line 1031
  (*(out + 1))[3] = - (*(in + 1))[3];
#line 1032
  (*(out + 2))[3] = - (*(in + 2))[3];
#line 1043
  return (0);
}
}
#line 1050 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int icctoclrspc(int iccclrspc , int refflag ) 
{ 


  {
#line 1052
  if (refflag) {
#line 1054
    if (iccclrspc == 1482250784) {
#line 1054
      goto case_1482250784;
    }
#line 1056
    if (iccclrspc == 1281450528) {
#line 1056
      goto case_1281450528;
    }
#line 1058
    goto switch_default;
    case_1482250784: 
#line 1055
    return ((1 << 8) | 1);
    case_1281450528: 
#line 1057
    return ((2 << 8) | 1);
    switch_default: 
    {
#line 1059
    abort();
    }
#line 1060
    goto switch_break;
    switch_break: ;
  } else {
#line 1064
    if (iccclrspc == 1497588338) {
#line 1064
      goto case_1497588338;
    }
#line 1066
    if (iccclrspc == 1380401696) {
#line 1066
      goto case_1380401696;
    }
#line 1068
    if (iccclrspc == 1196573017) {
#line 1068
      goto case_1196573017;
    }
#line 1070
    goto switch_default___0;
    case_1497588338: 
#line 1065
    return (5 << 8);
    case_1380401696: 
#line 1067
    return (4 << 8);
    case_1196573017: 
#line 1069
    return (3 << 8);
    switch_default___0: 
    {
#line 1071
    abort();
    }
#line 1072
    goto switch_break___0;
    switch_break___0: ;
  }
#line 1076
  return (0);
}
}
#line 1077 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int mono(jas_iccprof_t *iccprof , int op , jas_cmpxformseq_t **retpxformseq ) 
{ 
  jas_iccattrval_t *graytrc ;
  jas_cmshapmat_t *shapmat ;
  jas_cmpxform_t *pxform ;
  jas_cmpxformseq_t *pxformseq ;
  jas_cmshapmatlut_t lut ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;

  {
  {
#line 1085
  jas_cmshapmatlut_init(& lut);
#line 1086
  graytrc = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1800688195);
  }
#line 1086
  if (! graytrc) {
#line 1088
    goto error;
  } else
#line 1086
  if (graytrc->type != 1668641398UL) {
#line 1088
    goto error;
  }
  {
#line 1089
  pxform = jas_cmpxform_createshapmat();
  }
#line 1089
  if (! pxform) {
#line 1090
    goto error;
  }
  {
#line 1091
  shapmat = & pxform->data.shapmat;
#line 1092
  pxformseq = jas_cmpxformseq_create();
  }
#line 1092
  if (! pxformseq) {
#line 1093
    goto error;
  }
  {
#line 1094
  __cil_tmp12 = jas_cmpxformseq_insertpxform(pxformseq, -1, pxform);
  }
#line 1094
  if (__cil_tmp12) {
#line 1095
    goto error;
  }
#line 1097
  pxform->numinchans = 1;
#line 1098
  pxform->numoutchans = 3;
#line 1100
  shapmat->mono = 1;
#line 1101
  shapmat->useluts = 1;
#line 1102
  shapmat->usemat = 1;
#line 1103
  if (! op) {
    {
#line 1104
    shapmat->order = 0;
#line 1105
    shapmat->mat[0][0] = 0.9642;
#line 1106
    shapmat->mat[1][0] = 1.;
#line 1107
    shapmat->mat[2][0] = 0.8249;
#line 1108
    __cil_tmp13 = jas_cmshapmatlut_set(& shapmat->luts[0], & graytrc->data.curv);
    }
#line 1108
    if (__cil_tmp13) {
#line 1109
      goto error;
    }
  } else {
    {
#line 1111
    shapmat->order = 1;
#line 1112
    shapmat->mat[0][0] = 1. / 0.9642;
#line 1113
    shapmat->mat[1][0] = 1.;
#line 1114
    shapmat->mat[2][0] = 1. / 0.8249;
#line 1115
    jas_cmshapmatlut_init(& lut);
#line 1116
    __cil_tmp14 = jas_cmshapmatlut_set(& lut, & graytrc->data.curv);
    }
#line 1116
    if (__cil_tmp14) {
#line 1117
      goto error;
    }
    {
#line 1118
    __cil_tmp15 = jas_cmshapmatlut_invert(& shapmat->luts[0], & lut, lut.size);
    }
#line 1118
    if (__cil_tmp15) {
#line 1119
      goto error;
    }
    {
#line 1120
    jas_cmshapmatlut_cleanup(& lut);
    }
  }
  {
#line 1122
  jas_iccattrval_destroy(graytrc);
#line 1123
  jas_cmpxform_destroy(pxform);
#line 1124
  *retpxformseq = pxformseq;
  }
#line 1125
  return (0);
  error: 
#line 1127
  return (-1);
}
}
#line 1130 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int triclr(jas_iccprof_t *iccprof , int op , jas_cmpxformseq_t **retpxformseq ) 
{ 
  int i ;
  jas_iccattrval_t *trcs[3] ;
  jas_iccattrval_t *cols[3] ;
  jas_cmshapmat_t *shapmat ;
  jas_cmpxform_t *pxform ;
  jas_cmpxformseq_t *pxformseq ;
  jas_cmreal_t mat[3][4] ;
  jas_cmshapmatlut_t lut ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;

  {
#line 1141
  pxform = (jas_cmpxform_t *)0;
#line 1142
  pxformseq = (jas_cmpxformseq_t *)0;
#line 1143
  i = 0;
  {
#line 1143
  while (1) {
    while_continue: /* CIL Label */ ;

#line 1143
    if (! (i < 3)) {
#line 1143
      goto while_break;
    }
#line 1144
    trcs[i] = (jas_iccattrval_t *)0;
#line 1145
    cols[i] = (jas_iccattrval_t *)0;
#line 1143
    i ++;
  }
  while_break___9: /* CIL Label */ ;
  }
  while_break: 
  {
#line 1147
  jas_cmshapmatlut_init(& lut);
#line 1149
  cols[2] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1649957210);
#line 1149
  cols[1] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1733843290);
#line 1149
  cols[0] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1918392666);
#line 1149
  trcs[2] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1649693251);
#line 1149
  trcs[1] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1733579331);
#line 1149
  trcs[0] = jas_iccprof_getattr(iccprof, (jas_iccattrname_t )1918128707);
  }
#line 1149
  if (! trcs[0]) {
#line 1155
    goto error;
  } else
#line 1149
  if (! trcs[1]) {
#line 1155
    goto error;
  } else
#line 1149
  if (! trcs[2]) {
#line 1155
    goto error;
  } else
#line 1149
  if (! cols[0]) {
#line 1155
    goto error;
  } else
#line 1149
  if (! cols[1]) {
#line 1155
    goto error;
  } else
#line 1149
  if (! cols[2]) {
#line 1155
    goto error;
  }
#line 1156
  i = 0;
  {
#line 1156
  while (1) {
    while_continue___0: /* CIL Label */ ;

#line 1156
    if (! (i < 3)) {
#line 1156
      goto while_break___0;
    }
#line 1157
    if ((trcs[i])->type != 1668641398UL) {
#line 1159
      goto error;
    } else
#line 1157
    if ((cols[i])->type != 1482250784UL) {
#line 1159
      goto error;
    }
#line 1156
    i ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  while_break___0: 
  {
#line 1161
  pxform = jas_cmpxform_createshapmat();
  }
#line 1161
  if (! pxform) {
#line 1162
    goto error;
  }
  {
#line 1163
  pxform->numinchans = 3;
#line 1164
  pxform->numoutchans = 3;
#line 1165
  shapmat = & pxform->data.shapmat;
#line 1166
  pxformseq = jas_cmpxformseq_create();
  }
#line 1166
  if (! pxformseq) {
#line 1167
    goto error;
  }
  {
#line 1168
  __cil_tmp20 = jas_cmpxformseq_insertpxform(pxformseq, -1, pxform);
  }
#line 1168
  if (__cil_tmp20) {
#line 1169
    goto error;
  }
#line 1170
  shapmat->mono = 0;
#line 1171
  shapmat->useluts = 1;
#line 1172
  shapmat->usemat = 1;
#line 1173
  if (! op) {
#line 1174
    shapmat->order = 0;
#line 1175
    i = 0;
    {
#line 1175
    while (1) {
      while_continue___1: /* CIL Label */ ;

#line 1175
      if (! (i < 3)) {
#line 1175
        goto while_break___1;
      }
#line 1176
      shapmat->mat[0][i] = (double )(cols[i])->data.xyz.x / 65536.;
#line 1177
      shapmat->mat[1][i] = (double )(cols[i])->data.xyz.y / 65536.;
#line 1178
      shapmat->mat[2][i] = (double )(cols[i])->data.xyz.z / 65536.;
#line 1175
      i ++;
    }
    while_break___11: /* CIL Label */ ;
    }
    while_break___1: 
#line 1180
    i = 0;
    {
#line 1180
    while (1) {
      while_continue___2: /* CIL Label */ ;

#line 1180
      if (! (i < 3)) {
#line 1180
        goto while_break___2;
      }
#line 1181
      shapmat->mat[i][3] = 0.;
#line 1180
      i ++;
    }
    while_break___12: /* CIL Label */ ;
    }
    while_break___2: 
#line 1182
    i = 0;
    {
#line 1182
    while (1) {
      while_continue___3: /* CIL Label */ ;

#line 1182
      if (! (i < 3)) {
#line 1182
        goto while_break___3;
      }
      {
#line 1183
      __cil_tmp21 = jas_cmshapmatlut_set(& shapmat->luts[i], & (trcs[i])->data.curv);
      }
#line 1183
      if (__cil_tmp21) {
#line 1184
        goto error;
      }
#line 1182
      i ++;
    }
    while_break___13: /* CIL Label */ ;
    }
    while_break___3: ;
  } else {
#line 1187
    shapmat->order = 1;
#line 1188
    i = 0;
    {
#line 1188
    while (1) {
      while_continue___4: /* CIL Label */ ;

#line 1188
      if (! (i < 3)) {
#line 1188
        goto while_break___4;
      }
#line 1189
      mat[0][i] = (double )(cols[i])->data.xyz.x / 65536.;
#line 1190
      mat[1][i] = (double )(cols[i])->data.xyz.y / 65536.;
#line 1191
      mat[2][i] = (double )(cols[i])->data.xyz.z / 65536.;
#line 1188
      i ++;
    }
    while_break___14: /* CIL Label */ ;
    }
    while_break___4: 
#line 1193
    i = 0;
    {
#line 1193
    while (1) {
      while_continue___5: /* CIL Label */ ;

#line 1193
      if (! (i < 3)) {
#line 1193
        goto while_break___5;
      }
#line 1194
      mat[i][3] = 0.;
#line 1193
      i ++;
    }
    while_break___15: /* CIL Label */ ;
    }
    while_break___5: 
    {
#line 1195
    __cil_tmp22 = jas_cmshapmat_invmat((jas_cmreal_t (*)[4])(shapmat->mat), (jas_cmreal_t (*)[4])(mat));
    }
#line 1195
    if (__cil_tmp22) {
#line 1196
      goto error;
    }
#line 1197
    i = 0;
    {
#line 1197
    while (1) {
      while_continue___6: /* CIL Label */ ;

#line 1197
      if (! (i < 3)) {
#line 1197
        goto while_break___6;
      }
      {
#line 1198
      jas_cmshapmatlut_init(& lut);
#line 1199
      __cil_tmp23 = jas_cmshapmatlut_set(& lut, & (trcs[i])->data.curv);
      }
#line 1199
      if (__cil_tmp23) {
#line 1200
        goto error;
      }
      {
#line 1201
      __cil_tmp24 = jas_cmshapmatlut_invert(& shapmat->luts[i], & lut, lut.size);
      }
#line 1201
      if (__cil_tmp24) {
#line 1202
        goto error;
      }
      {
#line 1203
      jas_cmshapmatlut_cleanup(& lut);
#line 1197
      i ++;
      }
    }
    while_break___16: /* CIL Label */ ;
    }
    while_break___6: ;
  }
#line 1206
  i = 0;
  {
#line 1206
  while (1) {
    while_continue___7: /* CIL Label */ ;

#line 1206
    if (! (i < 3)) {
#line 1206
      goto while_break___7;
    }
    {
#line 1207
    jas_iccattrval_destroy(trcs[i]);
#line 1208
    jas_iccattrval_destroy(cols[i]);
#line 1206
    i ++;
    }
  }
  while_break___17: /* CIL Label */ ;
  }
  while_break___7: 
  {
#line 1210
  jas_cmpxform_destroy(pxform);
#line 1211
  *retpxformseq = pxformseq;
  }
#line 1212
  return (0);
  error: 
#line 1216
  i = 0;
  {
#line 1216
  while (1) {
    while_continue___8: /* CIL Label */ ;

#line 1216
    if (! (i < 3)) {
#line 1216
      goto while_break___8;
    }
#line 1217
    if (trcs[i]) {
      {
#line 1218
      jas_iccattrval_destroy(trcs[i]);
      }
    }
#line 1220
    if (cols[i]) {
      {
#line 1221
      jas_iccattrval_destroy(cols[i]);
      }
    }
#line 1216
    i ++;
  }
  while_break___18: /* CIL Label */ ;
  }
  while_break___8: ;
#line 1224
  if (pxformseq) {
    {
#line 1225
    jas_cmpxformseq_destroy(pxformseq);
    }
  }
#line 1227
  if (pxform) {
    {
#line 1228
    jas_cmpxform_destroy(pxform);
    }
  }
#line 1231
  return (-1);
}
}
#line 1234 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmgetint(long **bufptr , int sgnd , int prec , long *val ) 
{ 
  long v ;
  int m ;

  {
#line 1238
  v = *(*bufptr);
#line 1239
  if (sgnd) {
#line 1240
    m = 1 << (prec - 1);
#line 1241
    if (v < (long )(- m)) {
#line 1242
      return (-1);
    } else
#line 1241
    if (v >= (long )m) {
#line 1242
      return (-1);
    }
  } else
#line 1244
  if (v < 0L) {
#line 1245
    return (-1);
  } else
#line 1244
  if (v >= (long )(1 << prec)) {
#line 1245
    return (-1);
  }
#line 1247
  (*bufptr) ++;
#line 1248
  *val = v;
#line 1249
  return (0);
}
}
#line 1252 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
static int jas_cmputint(long **bufptr , int sgnd , int prec , long val ) 
{ 
  int m ;

  {
#line 1255
  if (sgnd) {
#line 1256
    m = 1 << (prec - 1);
#line 1257
    if (val < (long )(- m)) {
#line 1258
      return (-1);
    } else
#line 1257
    if (val >= (long )m) {
#line 1258
      return (-1);
    }
  } else
#line 1260
  if (val < 0L) {
#line 1261
    return (-1);
  } else
#line 1260
  if (val >= (long )(1 << prec)) {
#line 1261
    return (-1);
  }
#line 1263
  *(*bufptr) = val;
#line 1264
  (*bufptr) ++;
#line 1265
  return (0);
}
}
#line 1268 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
int jas_clrspc_numchans(int clrspc ) 
{ 


  {
#line 1274
  if (clrspc >> 8 == 5) {
#line 1274
    goto case_5;
  }
#line 1274
  if (clrspc >> 8 == 4) {
#line 1274
    goto case_5;
  }
#line 1274
  if (clrspc >> 8 == 2) {
#line 1274
    goto case_5;
  }
#line 1274
  if (clrspc >> 8 == 1) {
#line 1274
    goto case_5;
  }
#line 1277
  if (clrspc >> 8 == 3) {
#line 1277
    goto case_3;
  }
#line 1280
  goto switch_default;
  case_5: 
#line 1275
  return (3);
#line 1276
  goto switch_break;
  case_3: 
#line 1278
  return (1);
#line 1279
  goto switch_break;
  switch_default: 
  {
#line 1281
  abort();
  }
#line 1282
  goto switch_break;
  switch_break: ;
#line 1285
  return (0);
}
}
#line 1286 "/root/patchweave/5/src/libjasper/base/jas_cm.c"
jas_iccprof_t *jas_iccprof_createfromcmprof(jas_cmprof_t *prof ) 
{ 
  jas_iccprof_t *__cil_tmp2 ;

  {
  {
#line 1288
  __cil_tmp2 = jas_iccprof_copy(prof->iccprof);
  }
#line 1288
  return (__cil_tmp2);
}
}
#line 100 "/root/patchweave/5/src/appl/imginfo.c"
static void usage(void) ;
#line 101
static void cmdinfo(void) ;
#line 107 "/root/patchweave/5/src/appl/imginfo.c"
static jas_opt_t opts[9]  = 
#line 107
  {      {0, (char *)"help", 0}, 
        {1, (char *)"version", 0}, 
        {2, (char *)"verbose", 0}, 
        {3, (char *)"f", 1}, 
        {4, (char *)"debug-level", 1}, 
        {5, (char *)"max-samples", 1}, 
        {7, (char *)"decoder-option", 1}, 
        {7, (char *)"o", 1}, 
        {-1, (char *)0, 0}};
#line 122 "/root/patchweave/5/src/appl/imginfo.c"
static char *cmdname  =    (char *)0;
#line 128 "/root/patchweave/5/src/appl/imginfo.c"
int main(int argc , char **argv ) 
{ 
  int fmtid ;
  int id ;
  char *infile ;
  jas_stream_t *instream ;
  jas_image_t *image ;
  int width ;
  int height ;
  int depth ;
  int numcmpts ;
  int verbose ;
  char *fmtname ;
  int debug ;
  size_t max_mem ;
  size_t max_samples ;
  int max_samples_valid ;
  char optstr[32] ;
  char dec_opt_spec[256] ;
  int __cil_tmp20 ;
  unsigned long long __cil_tmp23 ;
  unsigned long long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp30 ;
  uint_fast32_t __cil_tmp33 ;

  {
  {
#line 148
  __cil_tmp20 = jas_init();
  }
#line 148
  if (__cil_tmp20) {
    {
#line 149
    abort();
    }
  }
#line 152
  cmdname = *(argv + 0);
#line 154
  max_samples = (size_t )0;
#line 155
  max_samples_valid = 0;
#line 156
  infile = (char *)0;
#line 157
  verbose = 0;
#line 158
  debug = 0;
#line 162
  dec_opt_spec[0] = (char )'\000';
  {
#line 165
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 165
    id = jas_getopt(argc, argv, opts);
    }
#line 165
    if (! (id >= 0)) {
#line 165
      goto while_break;
    }
#line 167
    if (id == 2) {
#line 167
      goto case_2;
    }
#line 170
    if (id == 1) {
#line 170
      goto case_1;
    }
#line 174
    if (id == 4) {
#line 174
      goto case_4;
    }
#line 177
    if (id == 3) {
#line 177
      goto case_3;
    }
#line 180
    if (id == 5) {
#line 180
      goto case_5;
    }
#line 184
    if (id == 6) {
#line 184
      goto case_6;
    }
#line 187
    if (id == 7) {
#line 187
      goto case_7;
    }
#line 196
    goto switch_default;
    case_2: 
#line 168
    verbose = 1;
#line 169
    goto switch_break;
    case_1: 
    {
#line 171
    printf("%s\n", "2.0.12");
#line 172
    exit(0);
    }
#line 173
    goto switch_break;
    case_4: 
    {
#line 175
    debug = atoi((char const   *)jas_optarg);
    }
#line 176
    goto switch_break;
    case_3: 
#line 178
    infile = jas_optarg;
#line 179
    goto switch_break;
    case_5: 
    {
#line 181
    __cil_tmp23 = strtoull((char const   *)jas_optarg, (char **)0, 10);
#line 181
    max_samples = (size_t )__cil_tmp23;
#line 182
    max_samples_valid = 1;
    }
#line 183
    goto switch_break;
    case_6: 
    {
#line 185
    __cil_tmp24 = strtoull((char const   *)jas_optarg, (char **)0, 10);
#line 185
    max_mem = (size_t )__cil_tmp24;
    }
#line 186
    goto switch_break;
    case_7: 
#line 188
    if ((int )dec_opt_spec[0] != 0) {
      {
#line 189
      __cil_tmp25 = strlen((char const   *)(dec_opt_spec));
#line 189
      strncat(dec_opt_spec, " ", (sizeof(dec_opt_spec) - 1UL) - __cil_tmp25);
      }
    }
    {
#line 192
    __cil_tmp26 = strlen((char const   *)(dec_opt_spec));
#line 192
    strncat(dec_opt_spec, (char const   *)jas_optarg, (sizeof(dec_opt_spec) - 1UL) - __cil_tmp26);
    }
#line 194
    goto switch_break;
    switch_default: 
    {
#line 197
    usage();
    }
#line 198
    goto switch_break;
    switch_break: ;
  }
  while_break___0: /* CIL Label */ ;
  }
  while_break: 
  {
#line 202
  jas_setdbglevel(debug);
  }
#line 208
  if (infile) {
    {
#line 210
    instream = jas_stream_fopen((char const   *)infile, "rb");
    }
#line 210
    if (! instream) {
      {
#line 211
      fprintf(stderr, "cannot open input image file %s\n\230\001", infile);
#line 212
      exit(1);
      }
    }
  } else {
    {
#line 216
    instream = jas_stream_fdopen(0, "rb");
    }
#line 216
    if (! instream) {
      {
#line 217
      fprintf(stderr, "cannot open standard input\n");
#line 218
      exit(1);
      }
    }
  }
  {
#line 222
  fmtid = jas_image_getfmt(instream);
  }
#line 222
  if (fmtid < 0) {
    {
#line 223
    fprintf(stderr, "unknown image format\n");
    }
  }
#line 226
  optstr[0] = (char )'\000';
#line 227
  if (max_samples_valid) {
    {
#line 229
    snprintf(optstr, sizeof(optstr), "max_samples=%-zu\230\001", max_samples);
#line 233
    __cil_tmp30 = strlen((char const   *)(dec_opt_spec));
#line 233
    strncat(dec_opt_spec, (char const   *)(optstr), (sizeof(dec_opt_spec) - 1UL) - __cil_tmp30);
    }
  }
  {
#line 238
  image = jas_image_decode(instream, fmtid, (char const   *)(dec_opt_spec));
  }
#line 238
  if (! image) {
    {
#line 239
    jas_stream_close(instream);
#line 240
    fprintf(stderr, "cannot load image\n");
    }
#line 241
    return (1);
  }
  {
#line 245
  jas_stream_close(instream);
#line 247
  fmtname = jas_image_fmttostr(fmtid);
  }
#line 247
  if (! fmtname) {
    {
#line 248
    jas_eprintf("format name lookup failed\n");
    }
#line 249
    return (1);
  }
#line 252
  numcmpts = image->numcmpts_;
#line 252
  if (! numcmpts) {
    {
#line 253
    fprintf(stderr, "warning: image has no components\n");
    }
  }
#line 255
  if (numcmpts) {
#line 256
    width = (int )(*(image->cmpts_ + 0))->width_;
#line 257
    height = (int )(*(image->cmpts_ + 0))->height_;
#line 258
    depth = (*(image->cmpts_ + 0))->prec_;
  } else {
#line 260
    width = 0;
#line 261
    height = 0;
#line 262
    depth = 0;
  }
  {
#line 264
  __cil_tmp33 = jas_image_rawsize(image);
#line 264
  printf("%s %d %d %d %d %ld\n", fmtname, numcmpts, width, height, depth, (long )__cil_tmp33);
#line 267
  jas_image_destroy(image);
#line 268
  jas_image_clearfmts();
  }
#line 270
  return (0);
}
}
#line 277 "/root/patchweave/5/src/appl/imginfo.c"
static void cmdinfo(void) 
{ 


  {
  {
#line 279
  fprintf(stderr, "Image Information Utility (Version %s).\n\323\001 ", "2.0.12");
#line 281
  fprintf(stderr, "Copyright (c) 2001 Michael David Adams.\nAll rights reserved.\n");
  }
#line 283
  return;
}
}
#line 287 "/root/patchweave/5/src/appl/imginfo.c"
static void usage(void) 
{ 


  {
  {
#line 289
  cmdinfo();
#line 290
  fprintf(stderr, "usage:\n");
#line 291
  fprintf(stderr, "%s ", cmdname);
#line 292
  fprintf(stderr, "[-f image_file]\n\220");
#line 293
  exit(1);
  }
}
}
