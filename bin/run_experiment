#!/usr/bin/env python3
import os, sys

FILE_PATH = os.path.dirname(os.path.realpath(__file__))
RQ1-2_EXPERIMENT_PATH=os.path.join(FILE_PATH, 'RQ1', 'experiment.sh')
RQ3_EXPERIMENT_PATH=os.path.join(FILE_PATH, 'RQ2', 'run.py')

RQ1-2_CMD=['bash', RQ1-2_EXPERIMENT_PATH, 'patchweave']
RQ3_CMD=['python3', RQ3_EXPERIMENT_PATH]

VALID_ARGS = ['RQ1-2', 'RQ3', '1', '1-2', '2', '3']

def print_help(args):
    parsed_args = ' '.join(args)
    print('Invalid arguments: ' + parsed_args + '!!!\n')
    print('Usage: ./run_experiment <experiment_name>')
    print('experiment_name: RQ1-2 or RQ3')

if __name__ == '__main__':
    if len(sys.argv) != 2 or sys.argv[1] not in VALID_ARGS:
        print('Usage: ./run_experiment <experiment_name>')
        print('experiment_name: {}'.format(' or '.join(VALID_ARGS)))
        sys.exit(1)
    experiment_name = sys.argv[1]
    if experiment_name in ['RQ1-2', '1', '1-2', '2']:
        os.execvp(RQ1-2_CMD[0], RQ1-2_CMD[:2])
    elif experiment_name in ['RQ3', '3']:
        os.execvp(RQ3_CMD[0], RQ3_CMD[:2])

